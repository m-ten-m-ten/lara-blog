/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/@firstandthird/toc/dist/toc.js":
/*!*****************************************************!*\
  !*** ./node_modules/@firstandthird/toc/dist/toc.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var domassist__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! domassist */ "./node_modules/domassist/dist/domassist.js");
/* harmony import */ var scroll_triggers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! scroll-triggers */ "./node_modules/scroll-triggers/dist/scroll-triggers.js");
/* harmony import */ var smooth_scroller__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! smooth-scroller */ "./node_modules/smooth-scroller/dist/smooth-scroller.js");




function init(el) {
  if (!el) {
    el = Object(domassist__WEBPACK_IMPORTED_MODULE_0__["find"])('[data-toc]');
    el.forEach(function (e) {
      return init(e);
    });
    return;
  }

  if (!el) {
    return;
  }

  var container = el.dataset.tocContainer ? Object(domassist__WEBPACK_IMPORTED_MODULE_0__["findOne"])(el.dataset.tocContainer) || document.body : document.body;
  var selectors = el.dataset.toc.split(',').map(function (s) {
    return s.trim();
  });
  var tocItems = [];
  var offset = el.dataset.tocOffset ? parseInt(el.dataset.tocOffset, 10) : 1;
  var i = 1; // Building dict

  selectors.forEach(function (selector) {
    var items = Object(domassist__WEBPACK_IMPORTED_MODULE_0__["find"])(selector, container);
    items.forEach(function (item) {
      // Keep the id if already there
      var index = item.id || "toc-" + i++;
      var text = item.dataset.tocTitle ? item.dataset.tocTitle.trim() : item.textContent.trim();
      var sanitizedClassName = selector.replace(/((:+[\w-\d]*)|[^A-z0-9-\s])/g, ' ').replace(/\s{2,}/g, ' ').trim();
      var className = "toc-" + sanitizedClassName; // Set it if none

      if (item.id !== index) {
        item.id = index;
      }

      tocItems.push({
        index: index,
        text: text,
        className: className
      });
    });
  });
  var html = '<ul>';
  var triggerOptions = []; // Building markup

  tocItems.forEach(function (item, j) {
    var nextEl = tocItems[j + 1];
    var options = {
      el: ".toc-li-" + j,
      fixed: 'true',
      start: "#" + item.index,
      position: 'top',
      positionEnd: 'top',
      className: 'toc-visible'
    };
    html += "\n<li class=\"toc-li-" + j + " " + item.className + "\"><a href=\"#" + item.index + "\">" + item.text + "</a></li>";

    if (nextEl) {
      options.end = "#" + nextEl.index;
    }

    triggerOptions.push(options);
  });
  html += '</ul>';
  el.innerHTML = html;
  var tocs = Object(domassist__WEBPACK_IMPORTED_MODULE_0__["find"])('li', el);
  var anchors = Object(domassist__WEBPACK_IMPORTED_MODULE_0__["find"])('a', el); // Setting up scroll triggers and smooth scroll

  Object(scroll_triggers__WEBPACK_IMPORTED_MODULE_1__["default"])(triggerOptions);
  Object(smooth_scroller__WEBPACK_IMPORTED_MODULE_2__["init"])(anchors, offset); // Pause scroll triggers while smoothscrolling

  Object(domassist__WEBPACK_IMPORTED_MODULE_0__["on"])(document.body, 'smoothscroll:start', function () {
    Object(domassist__WEBPACK_IMPORTED_MODULE_0__["fire"])(tocs, 'scrolltriggers:pause');
  });
  Object(domassist__WEBPACK_IMPORTED_MODULE_0__["on"])(document.body, 'smoothscroll:end', function () {
    Object(domassist__WEBPACK_IMPORTED_MODULE_0__["fire"])(tocs, 'scrolltriggers:resume');
    Object(domassist__WEBPACK_IMPORTED_MODULE_0__["fire"])(window, 'scroll');
  });

  if (window.location.hash) {
    anchors.some(function (anchor) {
      var found = anchor.getAttribute('href') === window.location.hash;

      if (found) {
        setTimeout(function () {
          var element = Object(domassist__WEBPACK_IMPORTED_MODULE_0__["findOne"])(window.location.hash);

          if (element) {
            // Silent scroll to element
            Object(smooth_scroller__WEBPACK_IMPORTED_MODULE_2__["scroll"])(element, null, offset, true);
          }
        });
      }

      return found;
    });
  }
}
Object(domassist__WEBPACK_IMPORTED_MODULE_0__["ready"])(init);

/* harmony default export */ __webpack_exports__["default"] = (init);
//# sourceMappingURL=toc.js.map


/***/ }),

/***/ "./node_modules/attrobj/dist/attrobj.js":
/*!**********************************************!*\
  !*** ./node_modules/attrobj/dist/attrobj.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* global window */
function attrobj (key, el) {
  var values = {};
  Object.keys(el.dataset).forEach(function (data) {
    if (data.match(new RegExp("^" + key)) && data !== key) {
      var optionName = data.replace(key, '');
      var isGlobal = false;

      if (optionName.match(/^Global/)) {
        optionName = optionName.replace('Global', '');
        isGlobal = true;
      }

      optionName = "" + optionName[0].toLowerCase() + optionName.slice(1);

      if (isGlobal) {
        values[optionName] = window[el.dataset[data]];
      } else {
        values[optionName] = el.dataset[data];
      }

      if (typeof values[optionName] === 'undefined' || values[optionName] === '') {
        values[optionName] = true;
      }
    }
  });
  return values;
}

/* harmony default export */ __webpack_exports__["default"] = (attrobj);
//# sourceMappingURL=attrobj.js.map


/***/ }),

/***/ "./node_modules/domassist/dist/domassist.js":
/*!**************************************************!*\
  !*** ./node_modules/domassist/dist/domassist.js ***!
  \**************************************************/
/*! exports provided: default, addAttrs, addClass, append, closest, delegate, find, findOne, fire, hasClass, hide, hover, html, isTouch, isWindow, matches, modify, off, on, once, prefixedTransform, ready, remove, removeClass, scrollableContainer, show, styles, toArray, toggleClass */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addAttrs", function() { return addAttrs; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addClass", function() { return addClass; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "append", function() { return append; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "closest", function() { return closest; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "delegate", function() { return delegate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "find", function() { return find; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "findOne", function() { return findOne; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fire", function() { return fire; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hasClass", function() { return hasClass; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hide", function() { return hide; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hover", function() { return hover; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "html", function() { return html; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isTouch", function() { return isTouch; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isWindow", function() { return isWindow; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "matches", function() { return matches; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "modify", function() { return modify; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "off", function() { return off; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "on", function() { return on; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "once", function() { return once; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "prefixedTransform", function() { return prefixedTransform; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ready", function() { return ready; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "remove", function() { return remove; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "removeClass", function() { return removeClass; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "scrollableContainer", function() { return getScrollableContainer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "show", function() { return show; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "styles", function() { return styles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toArray", function() { return toArray; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toggleClass", function() { return toggleClass; });
function isWindow(obj) {
  return obj != null && obj === obj.window;
}

function find(selector, context) {
  if (context === void 0) {
    context = null;
  }

  if (selector instanceof HTMLElement || selector instanceof Node || isWindow(selector)) {
    return [selector];
  } else if (selector instanceof NodeList) {
    return [].slice.call(selector);
  } else if (typeof selector === 'string') {
    var startElement = context ? find(context)[0] : document;
    return [].slice.call(startElement.querySelectorAll(selector));
  }

  return [];
}

function addClass(selector, cls) {
  if (Array.isArray(selector)) {
    return selector.forEach(function (item) {
      return addClass(item, cls);
    });
  }

  var els = find(selector);

  if (els.length) {
    var clsArray = [].concat(cls);
    els.forEach(function (el) {
      clsArray.forEach(function (item) {
        el.classList.add(item);
      });
    });
    return els;
  }
}

function on(selector, event, cb, capture) {
  if (capture === void 0) {
    capture = false;
  }

  if (Array.isArray(selector)) {
    selector.forEach(function (item) {
      return on(item, event, cb, capture);
    });
    return;
  }

  var data = {
    cb: cb,
    capture: capture
  };

  if (!window._domassistevents) {
    window._domassistevents = {};
  }

  window._domassistevents["_" + event] = data;
  var el = find(selector);

  if (el.length) {
    el.forEach(function (item) {
      item.addEventListener(event, cb, capture);
    });
  }
}

function matches(el, selector) {
  var proto = Element.prototype;
  var match = false;
  var prefixes = ['matches', 'matchesSelector', 'webkitMatchesSelector', 'mozMatchesSelector', 'msMatchesSelector', 'oMatchesSelector'];
  prefixes.forEach(function (prefix) {
    if (proto.hasOwnProperty(prefix)) {
      match = proto[prefix];
    }
  });

  if (match) {
    return el ? match.call(el, selector) : null;
  }
}

function closest(el, selector) {
  do {
    if (matches(el, selector)) {
      return el;
    }

    el = el.parentElement || el.parentNode;
  } while (el !== null && el.nodeType === 1);

  return null;
}

function delegate(el, event, selector, cb, capture) {
  if (capture === void 0) {
    capture = false;
  }

  on(el, event, function (e) {
    if (e.target && closest(e.target, selector)) {
      return cb(e);
    }
  }, capture);
}

function findOne(selector, el) {
  var found = find(selector, el);

  if (found.length) {
    return found[0];
  }

  return null;
}

// Check for the usage of native support for CustomEvents which is lacking
// completely on IE.
//

function canIuseNativeCustom() {
  try {
    var p = new CustomEvent('t', {
      detail: {
        a: 'b'
      }
    });
    return p.type === 't' && p.detail.a === 'b';
  } catch (e) {
    return false;
  }
} // Lousy polyfill for the Custom Event constructor for IE.


var IECustomEvent = function CustomEvent(type, params) {
  var e = document.createEvent('CustomEvent');

  if (params) {
    e.initCustomEvent(type, params.bubbles, params.cancelable, params.detail);
  } else {
    e.initCustomEvent(type, false, false, undefined);
  }

  return e;
};

var DomassistCustomEvent = false;

function fire(selector, type, params) {
  if (params === void 0) {
    params = {};
  }

  if (Array.isArray(selector)) {
    return selector.forEach(function (item) {
      return fire(item, type, params);
    });
  }

  if (!DomassistCustomEvent) {
    DomassistCustomEvent = canIuseNativeCustom() ? CustomEvent : IECustomEvent;
  }

  var els = find(selector);

  if (els.length) {
    if (params.bubbles !== false) {
      params.bubbles = true;
    }

    els.forEach(function (el) {
      var event = new DomassistCustomEvent(type, params);
      el.dispatchEvent(event);
    });
    return els;
  }
}

function hasClass(selector, cls) {
  var el = findOne(selector);

  if (!el) {
    return false;
  }

  return el.classList.contains(cls);
}

function hide(selector) {
  if (Array.isArray(selector)) {
    selector.forEach(function (item) {
      return hide(item);
    });
  }

  var els = find(selector);

  if (els.length) {
    els.forEach(function (el) {
      var currentDisplay = window.getComputedStyle(el).getPropertyValue('display');

      if (currentDisplay !== 'none') {
        el.dataset._currentDisplay = currentDisplay;
        el.style.display = 'none';
      }
    });
  }
}

function hover(el, enter, exit) {
  on(el, 'mouseenter', enter);
  on(el, 'mouseleave', exit);
}

function off(selector, event) {
  if (Array.isArray(selector)) {
    selector.forEach(function (item) {
      return off(item, event);
    });
  }

  if (!window._domassistevents) {
    window._domassistevents = {};
  }

  var data = window._domassistevents["_" + event];

  if (!data) {
    return;
  }

  var el = find(selector);

  if (el.length) {
    el.forEach(function (item) {
      item.removeEventListener(event, data.cb, data.capture);
    });
  }
}

function once(el, event, run, capture) {
  if (capture === void 0) {
    capture = false;
  }

  on(el, event, function (e) {
    off(el, event);
    run(e);
  }, capture);
}

var transform = null;
function prefixedTransform() {
  if (transform) {
    return transform;
  }

  var testEl = document.createElement('div');

  if (testEl.style.transform === null) {
    var vendors = ['Webkit', 'webkit', 'Moz', 'ms'];
    var property = null;

    for (var i = 0, len = vendors.length; i < len && !property; i++) {
      var tProperty = vendors[i] + "Transform";

      if (typeof testEl.style[tProperty] !== 'undefined') {
        property = tProperty;
      }
    }

    transform = property;
  } else {
    transform = 'transform';
  }

  return transform;
}

function removeClass(selector, cls) {
  if (Array.isArray(selector)) {
    return selector.forEach(function (item) {
      return removeClass(item, cls);
    });
  }

  var els = find(selector);

  if (els.length) {
    var clsArray = [].concat(cls);
    els.forEach(function (el) {
      clsArray.forEach(function (item) {
        el.classList.remove(item);
      });
    });
    return els;
  }
}

var SCROLLABLE_CONTAINER;

function getScrollableContainer() {
  if (SCROLLABLE_CONTAINER) {
    return SCROLLABLE_CONTAINER;
  }

  var documentElement = window.document.documentElement;
  var scrollableContainer;
  documentElement.scrollTop = 1;

  if (documentElement.scrollTop === 1) {
    documentElement.scrollTop = 0;
    scrollableContainer = documentElement;
  } else {
    scrollableContainer = document.body;
  }

  SCROLLABLE_CONTAINER = scrollableContainer;
  return scrollableContainer;
}

function show(selector) {
  if (Array.isArray(selector)) {
    selector.forEach(function (item) {
      return show(item);
    });
  }

  var els = find(selector);

  if (els.length) {
    els.forEach(function (el) {
      el.style.display = el.dataset._currentDisplay || 'block';
    });
  }
}

function toggleClass(selector, cls) {
  if (Array.isArray(selector)) {
    return selector.forEach(function (item) {
      return toggleClass(item, cls);
    });
  }

  var els = find(selector);

  if (els.length) {
    var clsArray = [].concat(cls);
    els.forEach(function (el) {
      clsArray.forEach(function (item) {
        el.classList.toggle(item);
      });
    });
    return els;
  }
}

var setupReady = function setupReady(callbacks) {
  return function (callback) {
    callbacks.push(callback);

    function execute() {
      while (callbacks.length) {
        var fn = callbacks.shift();

        if (typeof fn === 'function') {
          fn();
        }
      }
    }

    function loaded() {
      document.removeEventListener('DOMContentLoaded', loaded);
      execute();
    }

    setTimeout(function () {
      if (document.readyState !== 'loading') {
        return execute();
      }
    }, 0);
    document.addEventListener('DOMContentLoaded', loaded);
  };
};

var ready = setupReady([]);

function styles(selector, css) {
  if (Array.isArray(selector)) {
    selector.forEach(function (item) {
      return styles(item, css);
    });
  }

  var els = find(selector);

  if (els.length) {
    els.forEach(function (el) {
      Object.keys(css).forEach(function (key) {
        el.style[key] = css[key];
      });
    });
  }
}

function addAttrs(selector, attrs) {
  if (Array.isArray(selector)) {
    return selector.forEach(function (item) {
      return addAttrs(item, attrs);
    });
  }

  var els = find(selector);

  if (els.length) {
    els.forEach(function (item) {
      Object.keys(attrs).forEach(function (attr) {
        if (attr in item) {
          item[attr] = attrs[attr];
        } else {
          item.dataset[attr] = attrs[attr];
        }
      });
    });
  }

  return els;
}

function html(selector, value) {
  if (Array.isArray(selector)) {
    selector.forEach(function (item) {
      return html(item, value);
    });
  }

  var el = find(selector);

  if (el.length) {
    var length = el.length;

    for (var i = 0; i < length; i += 1) {
      el[i].innerHTML = value;
    }
  }
}

/* global DocumentTouch */
function isTouch() {
  return 'ontouchstart' in window || window.DocumentTouch && document instanceof DocumentTouch;
}

function bindEvents(el, events) {
  Object.keys(events).forEach(function (event) {
    on(el, event, events[event]);
  });
}

function modify(selector, params) {
  if (Array.isArray(selector)) {
    selector.forEach(function (item) {
      return modify(item, params);
    });
  }

  var modules = {
    addClass: addClass,
    removeClass: removeClass,
    html: html,
    events: on,
    styles: styles
  };
  var els = find(selector);

  if (els.length) {
    els.forEach(function (el) {
      Object.keys(params).forEach(function (param, index) {
        if (param in modules) {
          if (param === 'events') {
            bindEvents(el, params[param]);
          }

          modules[param](el, params[param]);
        }
      });
    });
  }
}

function append(selector, value) {
  if (Array.isArray(selector)) {
    return selector.forEach(function (item) {
      return append(item, value);
    });
  }

  var els = find(selector);

  if (els.length) {
    els.forEach(function (el) {
      if (typeof value === 'string') {
        el.insertAdjacentHTML('beforeend', value);
      } else {
        el.appendChild(value);
      }
    });
  }
}

function toArray(value) {
  if (!value) {
    return [];
  }

  if (Array.isArray(value)) {
    return value;
  }

  if (value instanceof Node) {
    return [value];
  }

  return [].slice.call(value);
}

function remove(selector, context) {
  if (Array.isArray(selector)) {
    return selector.forEach(function (item) {
      return remove(item, context);
    });
  }

  var els = find(selector, context);

  if (els.length) {
    els.forEach(function (el) {
      if (el.prototype && el.prototype.remove) {
        el.remove();
      } else if (el.parentNode) {
        el.parentNode.removeChild(el);
      }
    });
  }
}

var domassist_default = {
  addClass: addClass,
  delegate: delegate,
  find: find,
  findOne: findOne,
  fire: fire,
  hasClass: hasClass,
  hide: hide,
  hover: hover,
  isWindow: isWindow,
  off: off,
  on: on,
  once: once,
  prefixedTransform: prefixedTransform,
  removeClass: removeClass,
  scrollableContainer: getScrollableContainer,
  show: show,
  matches: matches,
  toggleClass: toggleClass,
  closest: closest,
  ready: ready,
  styles: styles,
  addAttrs: addAttrs,
  html: html,
  isTouch: isTouch,
  modify: modify,
  append: append,
  toArray: toArray,
  remove: remove
};

/* harmony default export */ __webpack_exports__["default"] = (domassist_default);

//# sourceMappingURL=domassist.js.map


/***/ }),

/***/ "./node_modules/jquery/dist/jquery.js":
/*!********************************************!*\
  !*** ./node_modules/jquery/dist/jquery.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery JavaScript Library v3.4.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2019-05-01T21:04Z
 */
( function( global, factory ) {

	"use strict";

	if (  true && typeof module.exports === "object" ) {

		// For CommonJS and CommonJS-like environments where a proper `window`
		// is present, execute the factory and get jQuery.
		// For environments that do not have a `window` with a `document`
		// (such as Node.js), expose a factory as module.exports.
		// This accentuates the need for the creation of a real `window`.
		// e.g. var jQuery = require("jquery")(window);
		// See ticket #14549 for more info.
		module.exports = global.document ?
			factory( global, true ) :
			function( w ) {
				if ( !w.document ) {
					throw new Error( "jQuery requires a window with a document" );
				}
				return factory( w );
			};
	} else {
		factory( global );
	}

// Pass this if window is not defined yet
} )( typeof window !== "undefined" ? window : this, function( window, noGlobal ) {

// Edge <= 12 - 13+, Firefox <=18 - 45+, IE 10 - 11, Safari 5.1 - 9+, iOS 6 - 9.1
// throw exceptions when non-strict code (e.g., ASP.NET 4.5) accesses strict mode
// arguments.callee.caller (trac-13335). But as of jQuery 3.0 (2016), strict mode should be common
// enough that all such attempts are guarded in a try block.
"use strict";

var arr = [];

var document = window.document;

var getProto = Object.getPrototypeOf;

var slice = arr.slice;

var concat = arr.concat;

var push = arr.push;

var indexOf = arr.indexOf;

var class2type = {};

var toString = class2type.toString;

var hasOwn = class2type.hasOwnProperty;

var fnToString = hasOwn.toString;

var ObjectFunctionString = fnToString.call( Object );

var support = {};

var isFunction = function isFunction( obj ) {

      // Support: Chrome <=57, Firefox <=52
      // In some browsers, typeof returns "function" for HTML <object> elements
      // (i.e., `typeof document.createElement( "object" ) === "function"`).
      // We don't want to classify *any* DOM node as a function.
      return typeof obj === "function" && typeof obj.nodeType !== "number";
  };


var isWindow = function isWindow( obj ) {
		return obj != null && obj === obj.window;
	};




	var preservedScriptAttributes = {
		type: true,
		src: true,
		nonce: true,
		noModule: true
	};

	function DOMEval( code, node, doc ) {
		doc = doc || document;

		var i, val,
			script = doc.createElement( "script" );

		script.text = code;
		if ( node ) {
			for ( i in preservedScriptAttributes ) {

				// Support: Firefox 64+, Edge 18+
				// Some browsers don't support the "nonce" property on scripts.
				// On the other hand, just using `getAttribute` is not enough as
				// the `nonce` attribute is reset to an empty string whenever it
				// becomes browsing-context connected.
				// See https://github.com/whatwg/html/issues/2369
				// See https://html.spec.whatwg.org/#nonce-attributes
				// The `node.getAttribute` check was added for the sake of
				// `jQuery.globalEval` so that it can fake a nonce-containing node
				// via an object.
				val = node[ i ] || node.getAttribute && node.getAttribute( i );
				if ( val ) {
					script.setAttribute( i, val );
				}
			}
		}
		doc.head.appendChild( script ).parentNode.removeChild( script );
	}


function toType( obj ) {
	if ( obj == null ) {
		return obj + "";
	}

	// Support: Android <=2.3 only (functionish RegExp)
	return typeof obj === "object" || typeof obj === "function" ?
		class2type[ toString.call( obj ) ] || "object" :
		typeof obj;
}
/* global Symbol */
// Defining this global in .eslintrc.json would create a danger of using the global
// unguarded in another place, it seems safer to define global only for this module



var
	version = "3.4.1",

	// Define a local copy of jQuery
	jQuery = function( selector, context ) {

		// The jQuery object is actually just the init constructor 'enhanced'
		// Need init if jQuery is called (just allow error to be thrown if not included)
		return new jQuery.fn.init( selector, context );
	},

	// Support: Android <=4.0 only
	// Make sure we trim BOM and NBSP
	rtrim = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;

jQuery.fn = jQuery.prototype = {

	// The current version of jQuery being used
	jquery: version,

	constructor: jQuery,

	// The default length of a jQuery object is 0
	length: 0,

	toArray: function() {
		return slice.call( this );
	},

	// Get the Nth element in the matched element set OR
	// Get the whole matched element set as a clean array
	get: function( num ) {

		// Return all the elements in a clean array
		if ( num == null ) {
			return slice.call( this );
		}

		// Return just the one element from the set
		return num < 0 ? this[ num + this.length ] : this[ num ];
	},

	// Take an array of elements and push it onto the stack
	// (returning the new matched element set)
	pushStack: function( elems ) {

		// Build a new jQuery matched element set
		var ret = jQuery.merge( this.constructor(), elems );

		// Add the old object onto the stack (as a reference)
		ret.prevObject = this;

		// Return the newly-formed element set
		return ret;
	},

	// Execute a callback for every element in the matched set.
	each: function( callback ) {
		return jQuery.each( this, callback );
	},

	map: function( callback ) {
		return this.pushStack( jQuery.map( this, function( elem, i ) {
			return callback.call( elem, i, elem );
		} ) );
	},

	slice: function() {
		return this.pushStack( slice.apply( this, arguments ) );
	},

	first: function() {
		return this.eq( 0 );
	},

	last: function() {
		return this.eq( -1 );
	},

	eq: function( i ) {
		var len = this.length,
			j = +i + ( i < 0 ? len : 0 );
		return this.pushStack( j >= 0 && j < len ? [ this[ j ] ] : [] );
	},

	end: function() {
		return this.prevObject || this.constructor();
	},

	// For internal use only.
	// Behaves like an Array's method, not like a jQuery method.
	push: push,
	sort: arr.sort,
	splice: arr.splice
};

jQuery.extend = jQuery.fn.extend = function() {
	var options, name, src, copy, copyIsArray, clone,
		target = arguments[ 0 ] || {},
		i = 1,
		length = arguments.length,
		deep = false;

	// Handle a deep copy situation
	if ( typeof target === "boolean" ) {
		deep = target;

		// Skip the boolean and the target
		target = arguments[ i ] || {};
		i++;
	}

	// Handle case when target is a string or something (possible in deep copy)
	if ( typeof target !== "object" && !isFunction( target ) ) {
		target = {};
	}

	// Extend jQuery itself if only one argument is passed
	if ( i === length ) {
		target = this;
		i--;
	}

	for ( ; i < length; i++ ) {

		// Only deal with non-null/undefined values
		if ( ( options = arguments[ i ] ) != null ) {

			// Extend the base object
			for ( name in options ) {
				copy = options[ name ];

				// Prevent Object.prototype pollution
				// Prevent never-ending loop
				if ( name === "__proto__" || target === copy ) {
					continue;
				}

				// Recurse if we're merging plain objects or arrays
				if ( deep && copy && ( jQuery.isPlainObject( copy ) ||
					( copyIsArray = Array.isArray( copy ) ) ) ) {
					src = target[ name ];

					// Ensure proper type for the source value
					if ( copyIsArray && !Array.isArray( src ) ) {
						clone = [];
					} else if ( !copyIsArray && !jQuery.isPlainObject( src ) ) {
						clone = {};
					} else {
						clone = src;
					}
					copyIsArray = false;

					// Never move original objects, clone them
					target[ name ] = jQuery.extend( deep, clone, copy );

				// Don't bring in undefined values
				} else if ( copy !== undefined ) {
					target[ name ] = copy;
				}
			}
		}
	}

	// Return the modified object
	return target;
};

jQuery.extend( {

	// Unique for each copy of jQuery on the page
	expando: "jQuery" + ( version + Math.random() ).replace( /\D/g, "" ),

	// Assume jQuery is ready without the ready module
	isReady: true,

	error: function( msg ) {
		throw new Error( msg );
	},

	noop: function() {},

	isPlainObject: function( obj ) {
		var proto, Ctor;

		// Detect obvious negatives
		// Use toString instead of jQuery.type to catch host objects
		if ( !obj || toString.call( obj ) !== "[object Object]" ) {
			return false;
		}

		proto = getProto( obj );

		// Objects with no prototype (e.g., `Object.create( null )`) are plain
		if ( !proto ) {
			return true;
		}

		// Objects with prototype are plain iff they were constructed by a global Object function
		Ctor = hasOwn.call( proto, "constructor" ) && proto.constructor;
		return typeof Ctor === "function" && fnToString.call( Ctor ) === ObjectFunctionString;
	},

	isEmptyObject: function( obj ) {
		var name;

		for ( name in obj ) {
			return false;
		}
		return true;
	},

	// Evaluates a script in a global context
	globalEval: function( code, options ) {
		DOMEval( code, { nonce: options && options.nonce } );
	},

	each: function( obj, callback ) {
		var length, i = 0;

		if ( isArrayLike( obj ) ) {
			length = obj.length;
			for ( ; i < length; i++ ) {
				if ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {
					break;
				}
			}
		} else {
			for ( i in obj ) {
				if ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {
					break;
				}
			}
		}

		return obj;
	},

	// Support: Android <=4.0 only
	trim: function( text ) {
		return text == null ?
			"" :
			( text + "" ).replace( rtrim, "" );
	},

	// results is for internal usage only
	makeArray: function( arr, results ) {
		var ret = results || [];

		if ( arr != null ) {
			if ( isArrayLike( Object( arr ) ) ) {
				jQuery.merge( ret,
					typeof arr === "string" ?
					[ arr ] : arr
				);
			} else {
				push.call( ret, arr );
			}
		}

		return ret;
	},

	inArray: function( elem, arr, i ) {
		return arr == null ? -1 : indexOf.call( arr, elem, i );
	},

	// Support: Android <=4.0 only, PhantomJS 1 only
	// push.apply(_, arraylike) throws on ancient WebKit
	merge: function( first, second ) {
		var len = +second.length,
			j = 0,
			i = first.length;

		for ( ; j < len; j++ ) {
			first[ i++ ] = second[ j ];
		}

		first.length = i;

		return first;
	},

	grep: function( elems, callback, invert ) {
		var callbackInverse,
			matches = [],
			i = 0,
			length = elems.length,
			callbackExpect = !invert;

		// Go through the array, only saving the items
		// that pass the validator function
		for ( ; i < length; i++ ) {
			callbackInverse = !callback( elems[ i ], i );
			if ( callbackInverse !== callbackExpect ) {
				matches.push( elems[ i ] );
			}
		}

		return matches;
	},

	// arg is for internal usage only
	map: function( elems, callback, arg ) {
		var length, value,
			i = 0,
			ret = [];

		// Go through the array, translating each of the items to their new values
		if ( isArrayLike( elems ) ) {
			length = elems.length;
			for ( ; i < length; i++ ) {
				value = callback( elems[ i ], i, arg );

				if ( value != null ) {
					ret.push( value );
				}
			}

		// Go through every key on the object,
		} else {
			for ( i in elems ) {
				value = callback( elems[ i ], i, arg );

				if ( value != null ) {
					ret.push( value );
				}
			}
		}

		// Flatten any nested arrays
		return concat.apply( [], ret );
	},

	// A global GUID counter for objects
	guid: 1,

	// jQuery.support is not used in Core but other projects attach their
	// properties to it so it needs to exist.
	support: support
} );

if ( typeof Symbol === "function" ) {
	jQuery.fn[ Symbol.iterator ] = arr[ Symbol.iterator ];
}

// Populate the class2type map
jQuery.each( "Boolean Number String Function Array Date RegExp Object Error Symbol".split( " " ),
function( i, name ) {
	class2type[ "[object " + name + "]" ] = name.toLowerCase();
} );

function isArrayLike( obj ) {

	// Support: real iOS 8.2 only (not reproducible in simulator)
	// `in` check used to prevent JIT error (gh-2145)
	// hasOwn isn't used here due to false negatives
	// regarding Nodelist length in IE
	var length = !!obj && "length" in obj && obj.length,
		type = toType( obj );

	if ( isFunction( obj ) || isWindow( obj ) ) {
		return false;
	}

	return type === "array" || length === 0 ||
		typeof length === "number" && length > 0 && ( length - 1 ) in obj;
}
var Sizzle =
/*!
 * Sizzle CSS Selector Engine v2.3.4
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2019-04-08
 */
(function( window ) {

var i,
	support,
	Expr,
	getText,
	isXML,
	tokenize,
	compile,
	select,
	outermostContext,
	sortInput,
	hasDuplicate,

	// Local document vars
	setDocument,
	document,
	docElem,
	documentIsHTML,
	rbuggyQSA,
	rbuggyMatches,
	matches,
	contains,

	// Instance-specific data
	expando = "sizzle" + 1 * new Date(),
	preferredDoc = window.document,
	dirruns = 0,
	done = 0,
	classCache = createCache(),
	tokenCache = createCache(),
	compilerCache = createCache(),
	nonnativeSelectorCache = createCache(),
	sortOrder = function( a, b ) {
		if ( a === b ) {
			hasDuplicate = true;
		}
		return 0;
	},

	// Instance methods
	hasOwn = ({}).hasOwnProperty,
	arr = [],
	pop = arr.pop,
	push_native = arr.push,
	push = arr.push,
	slice = arr.slice,
	// Use a stripped-down indexOf as it's faster than native
	// https://jsperf.com/thor-indexof-vs-for/5
	indexOf = function( list, elem ) {
		var i = 0,
			len = list.length;
		for ( ; i < len; i++ ) {
			if ( list[i] === elem ) {
				return i;
			}
		}
		return -1;
	},

	booleans = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",

	// Regular expressions

	// http://www.w3.org/TR/css3-selectors/#whitespace
	whitespace = "[\\x20\\t\\r\\n\\f]",

	// http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier
	identifier = "(?:\\\\.|[\\w-]|[^\0-\\xa0])+",

	// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors
	attributes = "\\[" + whitespace + "*(" + identifier + ")(?:" + whitespace +
		// Operator (capture 2)
		"*([*^$|!~]?=)" + whitespace +
		// "Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]"
		"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + identifier + "))|)" + whitespace +
		"*\\]",

	pseudos = ":(" + identifier + ")(?:\\((" +
		// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:
		// 1. quoted (capture 3; capture 4 or capture 5)
		"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|" +
		// 2. simple (capture 6)
		"((?:\\\\.|[^\\\\()[\\]]|" + attributes + ")*)|" +
		// 3. anything else (capture 2)
		".*" +
		")\\)|)",

	// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter
	rwhitespace = new RegExp( whitespace + "+", "g" ),
	rtrim = new RegExp( "^" + whitespace + "+|((?:^|[^\\\\])(?:\\\\.)*)" + whitespace + "+$", "g" ),

	rcomma = new RegExp( "^" + whitespace + "*," + whitespace + "*" ),
	rcombinators = new RegExp( "^" + whitespace + "*([>+~]|" + whitespace + ")" + whitespace + "*" ),
	rdescend = new RegExp( whitespace + "|>" ),

	rpseudo = new RegExp( pseudos ),
	ridentifier = new RegExp( "^" + identifier + "$" ),

	matchExpr = {
		"ID": new RegExp( "^#(" + identifier + ")" ),
		"CLASS": new RegExp( "^\\.(" + identifier + ")" ),
		"TAG": new RegExp( "^(" + identifier + "|[*])" ),
		"ATTR": new RegExp( "^" + attributes ),
		"PSEUDO": new RegExp( "^" + pseudos ),
		"CHILD": new RegExp( "^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + whitespace +
			"*(even|odd|(([+-]|)(\\d*)n|)" + whitespace + "*(?:([+-]|)" + whitespace +
			"*(\\d+)|))" + whitespace + "*\\)|)", "i" ),
		"bool": new RegExp( "^(?:" + booleans + ")$", "i" ),
		// For use in libraries implementing .is()
		// We use this for POS matching in `select`
		"needsContext": new RegExp( "^" + whitespace + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" +
			whitespace + "*((?:-\\d)?\\d*)" + whitespace + "*\\)|)(?=[^-]|$)", "i" )
	},

	rhtml = /HTML$/i,
	rinputs = /^(?:input|select|textarea|button)$/i,
	rheader = /^h\d$/i,

	rnative = /^[^{]+\{\s*\[native \w/,

	// Easily-parseable/retrievable ID or TAG or CLASS selectors
	rquickExpr = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,

	rsibling = /[+~]/,

	// CSS escapes
	// http://www.w3.org/TR/CSS21/syndata.html#escaped-characters
	runescape = new RegExp( "\\\\([\\da-f]{1,6}" + whitespace + "?|(" + whitespace + ")|.)", "ig" ),
	funescape = function( _, escaped, escapedWhitespace ) {
		var high = "0x" + escaped - 0x10000;
		// NaN means non-codepoint
		// Support: Firefox<24
		// Workaround erroneous numeric interpretation of +"0x"
		return high !== high || escapedWhitespace ?
			escaped :
			high < 0 ?
				// BMP codepoint
				String.fromCharCode( high + 0x10000 ) :
				// Supplemental Plane codepoint (surrogate pair)
				String.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );
	},

	// CSS string/identifier serialization
	// https://drafts.csswg.org/cssom/#common-serializing-idioms
	rcssescape = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,
	fcssescape = function( ch, asCodePoint ) {
		if ( asCodePoint ) {

			// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER
			if ( ch === "\0" ) {
				return "\uFFFD";
			}

			// Control characters and (dependent upon position) numbers get escaped as code points
			return ch.slice( 0, -1 ) + "\\" + ch.charCodeAt( ch.length - 1 ).toString( 16 ) + " ";
		}

		// Other potentially-special ASCII characters get backslash-escaped
		return "\\" + ch;
	},

	// Used for iframes
	// See setDocument()
	// Removing the function wrapper causes a "Permission Denied"
	// error in IE
	unloadHandler = function() {
		setDocument();
	},

	inDisabledFieldset = addCombinator(
		function( elem ) {
			return elem.disabled === true && elem.nodeName.toLowerCase() === "fieldset";
		},
		{ dir: "parentNode", next: "legend" }
	);

// Optimize for push.apply( _, NodeList )
try {
	push.apply(
		(arr = slice.call( preferredDoc.childNodes )),
		preferredDoc.childNodes
	);
	// Support: Android<4.0
	// Detect silently failing push.apply
	arr[ preferredDoc.childNodes.length ].nodeType;
} catch ( e ) {
	push = { apply: arr.length ?

		// Leverage slice if possible
		function( target, els ) {
			push_native.apply( target, slice.call(els) );
		} :

		// Support: IE<9
		// Otherwise append directly
		function( target, els ) {
			var j = target.length,
				i = 0;
			// Can't trust NodeList.length
			while ( (target[j++] = els[i++]) ) {}
			target.length = j - 1;
		}
	};
}

function Sizzle( selector, context, results, seed ) {
	var m, i, elem, nid, match, groups, newSelector,
		newContext = context && context.ownerDocument,

		// nodeType defaults to 9, since context defaults to document
		nodeType = context ? context.nodeType : 9;

	results = results || [];

	// Return early from calls with invalid selector or context
	if ( typeof selector !== "string" || !selector ||
		nodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {

		return results;
	}

	// Try to shortcut find operations (as opposed to filters) in HTML documents
	if ( !seed ) {

		if ( ( context ? context.ownerDocument || context : preferredDoc ) !== document ) {
			setDocument( context );
		}
		context = context || document;

		if ( documentIsHTML ) {

			// If the selector is sufficiently simple, try using a "get*By*" DOM method
			// (excepting DocumentFragment context, where the methods don't exist)
			if ( nodeType !== 11 && (match = rquickExpr.exec( selector )) ) {

				// ID selector
				if ( (m = match[1]) ) {

					// Document context
					if ( nodeType === 9 ) {
						if ( (elem = context.getElementById( m )) ) {

							// Support: IE, Opera, Webkit
							// TODO: identify versions
							// getElementById can match elements by name instead of ID
							if ( elem.id === m ) {
								results.push( elem );
								return results;
							}
						} else {
							return results;
						}

					// Element context
					} else {

						// Support: IE, Opera, Webkit
						// TODO: identify versions
						// getElementById can match elements by name instead of ID
						if ( newContext && (elem = newContext.getElementById( m )) &&
							contains( context, elem ) &&
							elem.id === m ) {

							results.push( elem );
							return results;
						}
					}

				// Type selector
				} else if ( match[2] ) {
					push.apply( results, context.getElementsByTagName( selector ) );
					return results;

				// Class selector
				} else if ( (m = match[3]) && support.getElementsByClassName &&
					context.getElementsByClassName ) {

					push.apply( results, context.getElementsByClassName( m ) );
					return results;
				}
			}

			// Take advantage of querySelectorAll
			if ( support.qsa &&
				!nonnativeSelectorCache[ selector + " " ] &&
				(!rbuggyQSA || !rbuggyQSA.test( selector )) &&

				// Support: IE 8 only
				// Exclude object elements
				(nodeType !== 1 || context.nodeName.toLowerCase() !== "object") ) {

				newSelector = selector;
				newContext = context;

				// qSA considers elements outside a scoping root when evaluating child or
				// descendant combinators, which is not what we want.
				// In such cases, we work around the behavior by prefixing every selector in the
				// list with an ID selector referencing the scope context.
				// Thanks to Andrew Dupont for this technique.
				if ( nodeType === 1 && rdescend.test( selector ) ) {

					// Capture the context ID, setting it first if necessary
					if ( (nid = context.getAttribute( "id" )) ) {
						nid = nid.replace( rcssescape, fcssescape );
					} else {
						context.setAttribute( "id", (nid = expando) );
					}

					// Prefix every selector in the list
					groups = tokenize( selector );
					i = groups.length;
					while ( i-- ) {
						groups[i] = "#" + nid + " " + toSelector( groups[i] );
					}
					newSelector = groups.join( "," );

					// Expand context for sibling selectors
					newContext = rsibling.test( selector ) && testContext( context.parentNode ) ||
						context;
				}

				try {
					push.apply( results,
						newContext.querySelectorAll( newSelector )
					);
					return results;
				} catch ( qsaError ) {
					nonnativeSelectorCache( selector, true );
				} finally {
					if ( nid === expando ) {
						context.removeAttribute( "id" );
					}
				}
			}
		}
	}

	// All others
	return select( selector.replace( rtrim, "$1" ), context, results, seed );
}

/**
 * Create key-value caches of limited size
 * @returns {function(string, object)} Returns the Object data after storing it on itself with
 *	property name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)
 *	deleting the oldest entry
 */
function createCache() {
	var keys = [];

	function cache( key, value ) {
		// Use (key + " ") to avoid collision with native prototype properties (see Issue #157)
		if ( keys.push( key + " " ) > Expr.cacheLength ) {
			// Only keep the most recent entries
			delete cache[ keys.shift() ];
		}
		return (cache[ key + " " ] = value);
	}
	return cache;
}

/**
 * Mark a function for special use by Sizzle
 * @param {Function} fn The function to mark
 */
function markFunction( fn ) {
	fn[ expando ] = true;
	return fn;
}

/**
 * Support testing using an element
 * @param {Function} fn Passed the created element and returns a boolean result
 */
function assert( fn ) {
	var el = document.createElement("fieldset");

	try {
		return !!fn( el );
	} catch (e) {
		return false;
	} finally {
		// Remove from its parent by default
		if ( el.parentNode ) {
			el.parentNode.removeChild( el );
		}
		// release memory in IE
		el = null;
	}
}

/**
 * Adds the same handler for all of the specified attrs
 * @param {String} attrs Pipe-separated list of attributes
 * @param {Function} handler The method that will be applied
 */
function addHandle( attrs, handler ) {
	var arr = attrs.split("|"),
		i = arr.length;

	while ( i-- ) {
		Expr.attrHandle[ arr[i] ] = handler;
	}
}

/**
 * Checks document order of two siblings
 * @param {Element} a
 * @param {Element} b
 * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b
 */
function siblingCheck( a, b ) {
	var cur = b && a,
		diff = cur && a.nodeType === 1 && b.nodeType === 1 &&
			a.sourceIndex - b.sourceIndex;

	// Use IE sourceIndex if available on both nodes
	if ( diff ) {
		return diff;
	}

	// Check if b follows a
	if ( cur ) {
		while ( (cur = cur.nextSibling) ) {
			if ( cur === b ) {
				return -1;
			}
		}
	}

	return a ? 1 : -1;
}

/**
 * Returns a function to use in pseudos for input types
 * @param {String} type
 */
function createInputPseudo( type ) {
	return function( elem ) {
		var name = elem.nodeName.toLowerCase();
		return name === "input" && elem.type === type;
	};
}

/**
 * Returns a function to use in pseudos for buttons
 * @param {String} type
 */
function createButtonPseudo( type ) {
	return function( elem ) {
		var name = elem.nodeName.toLowerCase();
		return (name === "input" || name === "button") && elem.type === type;
	};
}

/**
 * Returns a function to use in pseudos for :enabled/:disabled
 * @param {Boolean} disabled true for :disabled; false for :enabled
 */
function createDisabledPseudo( disabled ) {

	// Known :disabled false positives: fieldset[disabled] > legend:nth-of-type(n+2) :can-disable
	return function( elem ) {

		// Only certain elements can match :enabled or :disabled
		// https://html.spec.whatwg.org/multipage/scripting.html#selector-enabled
		// https://html.spec.whatwg.org/multipage/scripting.html#selector-disabled
		if ( "form" in elem ) {

			// Check for inherited disabledness on relevant non-disabled elements:
			// * listed form-associated elements in a disabled fieldset
			//   https://html.spec.whatwg.org/multipage/forms.html#category-listed
			//   https://html.spec.whatwg.org/multipage/forms.html#concept-fe-disabled
			// * option elements in a disabled optgroup
			//   https://html.spec.whatwg.org/multipage/forms.html#concept-option-disabled
			// All such elements have a "form" property.
			if ( elem.parentNode && elem.disabled === false ) {

				// Option elements defer to a parent optgroup if present
				if ( "label" in elem ) {
					if ( "label" in elem.parentNode ) {
						return elem.parentNode.disabled === disabled;
					} else {
						return elem.disabled === disabled;
					}
				}

				// Support: IE 6 - 11
				// Use the isDisabled shortcut property to check for disabled fieldset ancestors
				return elem.isDisabled === disabled ||

					// Where there is no isDisabled, check manually
					/* jshint -W018 */
					elem.isDisabled !== !disabled &&
						inDisabledFieldset( elem ) === disabled;
			}

			return elem.disabled === disabled;

		// Try to winnow out elements that can't be disabled before trusting the disabled property.
		// Some victims get caught in our net (label, legend, menu, track), but it shouldn't
		// even exist on them, let alone have a boolean value.
		} else if ( "label" in elem ) {
			return elem.disabled === disabled;
		}

		// Remaining elements are neither :enabled nor :disabled
		return false;
	};
}

/**
 * Returns a function to use in pseudos for positionals
 * @param {Function} fn
 */
function createPositionalPseudo( fn ) {
	return markFunction(function( argument ) {
		argument = +argument;
		return markFunction(function( seed, matches ) {
			var j,
				matchIndexes = fn( [], seed.length, argument ),
				i = matchIndexes.length;

			// Match elements found at the specified indexes
			while ( i-- ) {
				if ( seed[ (j = matchIndexes[i]) ] ) {
					seed[j] = !(matches[j] = seed[j]);
				}
			}
		});
	});
}

/**
 * Checks a node for validity as a Sizzle context
 * @param {Element|Object=} context
 * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value
 */
function testContext( context ) {
	return context && typeof context.getElementsByTagName !== "undefined" && context;
}

// Expose support vars for convenience
support = Sizzle.support = {};

/**
 * Detects XML nodes
 * @param {Element|Object} elem An element or a document
 * @returns {Boolean} True iff elem is a non-HTML XML node
 */
isXML = Sizzle.isXML = function( elem ) {
	var namespace = elem.namespaceURI,
		docElem = (elem.ownerDocument || elem).documentElement;

	// Support: IE <=8
	// Assume HTML when documentElement doesn't yet exist, such as inside loading iframes
	// https://bugs.jquery.com/ticket/4833
	return !rhtml.test( namespace || docElem && docElem.nodeName || "HTML" );
};

/**
 * Sets document-related variables once based on the current document
 * @param {Element|Object} [doc] An element or document object to use to set the document
 * @returns {Object} Returns the current document
 */
setDocument = Sizzle.setDocument = function( node ) {
	var hasCompare, subWindow,
		doc = node ? node.ownerDocument || node : preferredDoc;

	// Return early if doc is invalid or already selected
	if ( doc === document || doc.nodeType !== 9 || !doc.documentElement ) {
		return document;
	}

	// Update global variables
	document = doc;
	docElem = document.documentElement;
	documentIsHTML = !isXML( document );

	// Support: IE 9-11, Edge
	// Accessing iframe documents after unload throws "permission denied" errors (jQuery #13936)
	if ( preferredDoc !== document &&
		(subWindow = document.defaultView) && subWindow.top !== subWindow ) {

		// Support: IE 11, Edge
		if ( subWindow.addEventListener ) {
			subWindow.addEventListener( "unload", unloadHandler, false );

		// Support: IE 9 - 10 only
		} else if ( subWindow.attachEvent ) {
			subWindow.attachEvent( "onunload", unloadHandler );
		}
	}

	/* Attributes
	---------------------------------------------------------------------- */

	// Support: IE<8
	// Verify that getAttribute really returns attributes and not properties
	// (excepting IE8 booleans)
	support.attributes = assert(function( el ) {
		el.className = "i";
		return !el.getAttribute("className");
	});

	/* getElement(s)By*
	---------------------------------------------------------------------- */

	// Check if getElementsByTagName("*") returns only elements
	support.getElementsByTagName = assert(function( el ) {
		el.appendChild( document.createComment("") );
		return !el.getElementsByTagName("*").length;
	});

	// Support: IE<9
	support.getElementsByClassName = rnative.test( document.getElementsByClassName );

	// Support: IE<10
	// Check if getElementById returns elements by name
	// The broken getElementById methods don't pick up programmatically-set names,
	// so use a roundabout getElementsByName test
	support.getById = assert(function( el ) {
		docElem.appendChild( el ).id = expando;
		return !document.getElementsByName || !document.getElementsByName( expando ).length;
	});

	// ID filter and find
	if ( support.getById ) {
		Expr.filter["ID"] = function( id ) {
			var attrId = id.replace( runescape, funescape );
			return function( elem ) {
				return elem.getAttribute("id") === attrId;
			};
		};
		Expr.find["ID"] = function( id, context ) {
			if ( typeof context.getElementById !== "undefined" && documentIsHTML ) {
				var elem = context.getElementById( id );
				return elem ? [ elem ] : [];
			}
		};
	} else {
		Expr.filter["ID"] =  function( id ) {
			var attrId = id.replace( runescape, funescape );
			return function( elem ) {
				var node = typeof elem.getAttributeNode !== "undefined" &&
					elem.getAttributeNode("id");
				return node && node.value === attrId;
			};
		};

		// Support: IE 6 - 7 only
		// getElementById is not reliable as a find shortcut
		Expr.find["ID"] = function( id, context ) {
			if ( typeof context.getElementById !== "undefined" && documentIsHTML ) {
				var node, i, elems,
					elem = context.getElementById( id );

				if ( elem ) {

					// Verify the id attribute
					node = elem.getAttributeNode("id");
					if ( node && node.value === id ) {
						return [ elem ];
					}

					// Fall back on getElementsByName
					elems = context.getElementsByName( id );
					i = 0;
					while ( (elem = elems[i++]) ) {
						node = elem.getAttributeNode("id");
						if ( node && node.value === id ) {
							return [ elem ];
						}
					}
				}

				return [];
			}
		};
	}

	// Tag
	Expr.find["TAG"] = support.getElementsByTagName ?
		function( tag, context ) {
			if ( typeof context.getElementsByTagName !== "undefined" ) {
				return context.getElementsByTagName( tag );

			// DocumentFragment nodes don't have gEBTN
			} else if ( support.qsa ) {
				return context.querySelectorAll( tag );
			}
		} :

		function( tag, context ) {
			var elem,
				tmp = [],
				i = 0,
				// By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too
				results = context.getElementsByTagName( tag );

			// Filter out possible comments
			if ( tag === "*" ) {
				while ( (elem = results[i++]) ) {
					if ( elem.nodeType === 1 ) {
						tmp.push( elem );
					}
				}

				return tmp;
			}
			return results;
		};

	// Class
	Expr.find["CLASS"] = support.getElementsByClassName && function( className, context ) {
		if ( typeof context.getElementsByClassName !== "undefined" && documentIsHTML ) {
			return context.getElementsByClassName( className );
		}
	};

	/* QSA/matchesSelector
	---------------------------------------------------------------------- */

	// QSA and matchesSelector support

	// matchesSelector(:active) reports false when true (IE9/Opera 11.5)
	rbuggyMatches = [];

	// qSa(:focus) reports false when true (Chrome 21)
	// We allow this because of a bug in IE8/9 that throws an error
	// whenever `document.activeElement` is accessed on an iframe
	// So, we allow :focus to pass through QSA all the time to avoid the IE error
	// See https://bugs.jquery.com/ticket/13378
	rbuggyQSA = [];

	if ( (support.qsa = rnative.test( document.querySelectorAll )) ) {
		// Build QSA regex
		// Regex strategy adopted from Diego Perini
		assert(function( el ) {
			// Select is set to empty string on purpose
			// This is to test IE's treatment of not explicitly
			// setting a boolean content attribute,
			// since its presence should be enough
			// https://bugs.jquery.com/ticket/12359
			docElem.appendChild( el ).innerHTML = "<a id='" + expando + "'></a>" +
				"<select id='" + expando + "-\r\\' msallowcapture=''>" +
				"<option selected=''></option></select>";

			// Support: IE8, Opera 11-12.16
			// Nothing should be selected when empty strings follow ^= or $= or *=
			// The test attribute must be unknown in Opera but "safe" for WinRT
			// https://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section
			if ( el.querySelectorAll("[msallowcapture^='']").length ) {
				rbuggyQSA.push( "[*^$]=" + whitespace + "*(?:''|\"\")" );
			}

			// Support: IE8
			// Boolean attributes and "value" are not treated correctly
			if ( !el.querySelectorAll("[selected]").length ) {
				rbuggyQSA.push( "\\[" + whitespace + "*(?:value|" + booleans + ")" );
			}

			// Support: Chrome<29, Android<4.4, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.8+
			if ( !el.querySelectorAll( "[id~=" + expando + "-]" ).length ) {
				rbuggyQSA.push("~=");
			}

			// Webkit/Opera - :checked should return selected option elements
			// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
			// IE8 throws error here and will not see later tests
			if ( !el.querySelectorAll(":checked").length ) {
				rbuggyQSA.push(":checked");
			}

			// Support: Safari 8+, iOS 8+
			// https://bugs.webkit.org/show_bug.cgi?id=136851
			// In-page `selector#id sibling-combinator selector` fails
			if ( !el.querySelectorAll( "a#" + expando + "+*" ).length ) {
				rbuggyQSA.push(".#.+[+~]");
			}
		});

		assert(function( el ) {
			el.innerHTML = "<a href='' disabled='disabled'></a>" +
				"<select disabled='disabled'><option/></select>";

			// Support: Windows 8 Native Apps
			// The type and name attributes are restricted during .innerHTML assignment
			var input = document.createElement("input");
			input.setAttribute( "type", "hidden" );
			el.appendChild( input ).setAttribute( "name", "D" );

			// Support: IE8
			// Enforce case-sensitivity of name attribute
			if ( el.querySelectorAll("[name=d]").length ) {
				rbuggyQSA.push( "name" + whitespace + "*[*^$|!~]?=" );
			}

			// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)
			// IE8 throws error here and will not see later tests
			if ( el.querySelectorAll(":enabled").length !== 2 ) {
				rbuggyQSA.push( ":enabled", ":disabled" );
			}

			// Support: IE9-11+
			// IE's :disabled selector does not pick up the children of disabled fieldsets
			docElem.appendChild( el ).disabled = true;
			if ( el.querySelectorAll(":disabled").length !== 2 ) {
				rbuggyQSA.push( ":enabled", ":disabled" );
			}

			// Opera 10-11 does not throw on post-comma invalid pseudos
			el.querySelectorAll("*,:x");
			rbuggyQSA.push(",.*:");
		});
	}

	if ( (support.matchesSelector = rnative.test( (matches = docElem.matches ||
		docElem.webkitMatchesSelector ||
		docElem.mozMatchesSelector ||
		docElem.oMatchesSelector ||
		docElem.msMatchesSelector) )) ) {

		assert(function( el ) {
			// Check to see if it's possible to do matchesSelector
			// on a disconnected node (IE 9)
			support.disconnectedMatch = matches.call( el, "*" );

			// This should fail with an exception
			// Gecko does not error, returns false instead
			matches.call( el, "[s!='']:x" );
			rbuggyMatches.push( "!=", pseudos );
		});
	}

	rbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join("|") );
	rbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join("|") );

	/* Contains
	---------------------------------------------------------------------- */
	hasCompare = rnative.test( docElem.compareDocumentPosition );

	// Element contains another
	// Purposefully self-exclusive
	// As in, an element does not contain itself
	contains = hasCompare || rnative.test( docElem.contains ) ?
		function( a, b ) {
			var adown = a.nodeType === 9 ? a.documentElement : a,
				bup = b && b.parentNode;
			return a === bup || !!( bup && bup.nodeType === 1 && (
				adown.contains ?
					adown.contains( bup ) :
					a.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16
			));
		} :
		function( a, b ) {
			if ( b ) {
				while ( (b = b.parentNode) ) {
					if ( b === a ) {
						return true;
					}
				}
			}
			return false;
		};

	/* Sorting
	---------------------------------------------------------------------- */

	// Document order sorting
	sortOrder = hasCompare ?
	function( a, b ) {

		// Flag for duplicate removal
		if ( a === b ) {
			hasDuplicate = true;
			return 0;
		}

		// Sort on method existence if only one input has compareDocumentPosition
		var compare = !a.compareDocumentPosition - !b.compareDocumentPosition;
		if ( compare ) {
			return compare;
		}

		// Calculate position if both inputs belong to the same document
		compare = ( a.ownerDocument || a ) === ( b.ownerDocument || b ) ?
			a.compareDocumentPosition( b ) :

			// Otherwise we know they are disconnected
			1;

		// Disconnected nodes
		if ( compare & 1 ||
			(!support.sortDetached && b.compareDocumentPosition( a ) === compare) ) {

			// Choose the first element that is related to our preferred document
			if ( a === document || a.ownerDocument === preferredDoc && contains(preferredDoc, a) ) {
				return -1;
			}
			if ( b === document || b.ownerDocument === preferredDoc && contains(preferredDoc, b) ) {
				return 1;
			}

			// Maintain original order
			return sortInput ?
				( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :
				0;
		}

		return compare & 4 ? -1 : 1;
	} :
	function( a, b ) {
		// Exit early if the nodes are identical
		if ( a === b ) {
			hasDuplicate = true;
			return 0;
		}

		var cur,
			i = 0,
			aup = a.parentNode,
			bup = b.parentNode,
			ap = [ a ],
			bp = [ b ];

		// Parentless nodes are either documents or disconnected
		if ( !aup || !bup ) {
			return a === document ? -1 :
				b === document ? 1 :
				aup ? -1 :
				bup ? 1 :
				sortInput ?
				( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :
				0;

		// If the nodes are siblings, we can do a quick check
		} else if ( aup === bup ) {
			return siblingCheck( a, b );
		}

		// Otherwise we need full lists of their ancestors for comparison
		cur = a;
		while ( (cur = cur.parentNode) ) {
			ap.unshift( cur );
		}
		cur = b;
		while ( (cur = cur.parentNode) ) {
			bp.unshift( cur );
		}

		// Walk down the tree looking for a discrepancy
		while ( ap[i] === bp[i] ) {
			i++;
		}

		return i ?
			// Do a sibling check if the nodes have a common ancestor
			siblingCheck( ap[i], bp[i] ) :

			// Otherwise nodes in our document sort first
			ap[i] === preferredDoc ? -1 :
			bp[i] === preferredDoc ? 1 :
			0;
	};

	return document;
};

Sizzle.matches = function( expr, elements ) {
	return Sizzle( expr, null, null, elements );
};

Sizzle.matchesSelector = function( elem, expr ) {
	// Set document vars if needed
	if ( ( elem.ownerDocument || elem ) !== document ) {
		setDocument( elem );
	}

	if ( support.matchesSelector && documentIsHTML &&
		!nonnativeSelectorCache[ expr + " " ] &&
		( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&
		( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {

		try {
			var ret = matches.call( elem, expr );

			// IE 9's matchesSelector returns false on disconnected nodes
			if ( ret || support.disconnectedMatch ||
					// As well, disconnected nodes are said to be in a document
					// fragment in IE 9
					elem.document && elem.document.nodeType !== 11 ) {
				return ret;
			}
		} catch (e) {
			nonnativeSelectorCache( expr, true );
		}
	}

	return Sizzle( expr, document, null, [ elem ] ).length > 0;
};

Sizzle.contains = function( context, elem ) {
	// Set document vars if needed
	if ( ( context.ownerDocument || context ) !== document ) {
		setDocument( context );
	}
	return contains( context, elem );
};

Sizzle.attr = function( elem, name ) {
	// Set document vars if needed
	if ( ( elem.ownerDocument || elem ) !== document ) {
		setDocument( elem );
	}

	var fn = Expr.attrHandle[ name.toLowerCase() ],
		// Don't get fooled by Object.prototype properties (jQuery #13807)
		val = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?
			fn( elem, name, !documentIsHTML ) :
			undefined;

	return val !== undefined ?
		val :
		support.attributes || !documentIsHTML ?
			elem.getAttribute( name ) :
			(val = elem.getAttributeNode(name)) && val.specified ?
				val.value :
				null;
};

Sizzle.escape = function( sel ) {
	return (sel + "").replace( rcssescape, fcssescape );
};

Sizzle.error = function( msg ) {
	throw new Error( "Syntax error, unrecognized expression: " + msg );
};

/**
 * Document sorting and removing duplicates
 * @param {ArrayLike} results
 */
Sizzle.uniqueSort = function( results ) {
	var elem,
		duplicates = [],
		j = 0,
		i = 0;

	// Unless we *know* we can detect duplicates, assume their presence
	hasDuplicate = !support.detectDuplicates;
	sortInput = !support.sortStable && results.slice( 0 );
	results.sort( sortOrder );

	if ( hasDuplicate ) {
		while ( (elem = results[i++]) ) {
			if ( elem === results[ i ] ) {
				j = duplicates.push( i );
			}
		}
		while ( j-- ) {
			results.splice( duplicates[ j ], 1 );
		}
	}

	// Clear input after sorting to release objects
	// See https://github.com/jquery/sizzle/pull/225
	sortInput = null;

	return results;
};

/**
 * Utility function for retrieving the text value of an array of DOM nodes
 * @param {Array|Element} elem
 */
getText = Sizzle.getText = function( elem ) {
	var node,
		ret = "",
		i = 0,
		nodeType = elem.nodeType;

	if ( !nodeType ) {
		// If no nodeType, this is expected to be an array
		while ( (node = elem[i++]) ) {
			// Do not traverse comment nodes
			ret += getText( node );
		}
	} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {
		// Use textContent for elements
		// innerText usage removed for consistency of new lines (jQuery #11153)
		if ( typeof elem.textContent === "string" ) {
			return elem.textContent;
		} else {
			// Traverse its children
			for ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {
				ret += getText( elem );
			}
		}
	} else if ( nodeType === 3 || nodeType === 4 ) {
		return elem.nodeValue;
	}
	// Do not include comment or processing instruction nodes

	return ret;
};

Expr = Sizzle.selectors = {

	// Can be adjusted by the user
	cacheLength: 50,

	createPseudo: markFunction,

	match: matchExpr,

	attrHandle: {},

	find: {},

	relative: {
		">": { dir: "parentNode", first: true },
		" ": { dir: "parentNode" },
		"+": { dir: "previousSibling", first: true },
		"~": { dir: "previousSibling" }
	},

	preFilter: {
		"ATTR": function( match ) {
			match[1] = match[1].replace( runescape, funescape );

			// Move the given value to match[3] whether quoted or unquoted
			match[3] = ( match[3] || match[4] || match[5] || "" ).replace( runescape, funescape );

			if ( match[2] === "~=" ) {
				match[3] = " " + match[3] + " ";
			}

			return match.slice( 0, 4 );
		},

		"CHILD": function( match ) {
			/* matches from matchExpr["CHILD"]
				1 type (only|nth|...)
				2 what (child|of-type)
				3 argument (even|odd|\d*|\d*n([+-]\d+)?|...)
				4 xn-component of xn+y argument ([+-]?\d*n|)
				5 sign of xn-component
				6 x of xn-component
				7 sign of y-component
				8 y of y-component
			*/
			match[1] = match[1].toLowerCase();

			if ( match[1].slice( 0, 3 ) === "nth" ) {
				// nth-* requires argument
				if ( !match[3] ) {
					Sizzle.error( match[0] );
				}

				// numeric x and y parameters for Expr.filter.CHILD
				// remember that false/true cast respectively to 0/1
				match[4] = +( match[4] ? match[5] + (match[6] || 1) : 2 * ( match[3] === "even" || match[3] === "odd" ) );
				match[5] = +( ( match[7] + match[8] ) || match[3] === "odd" );

			// other types prohibit arguments
			} else if ( match[3] ) {
				Sizzle.error( match[0] );
			}

			return match;
		},

		"PSEUDO": function( match ) {
			var excess,
				unquoted = !match[6] && match[2];

			if ( matchExpr["CHILD"].test( match[0] ) ) {
				return null;
			}

			// Accept quoted arguments as-is
			if ( match[3] ) {
				match[2] = match[4] || match[5] || "";

			// Strip excess characters from unquoted arguments
			} else if ( unquoted && rpseudo.test( unquoted ) &&
				// Get excess from tokenize (recursively)
				(excess = tokenize( unquoted, true )) &&
				// advance to the next closing parenthesis
				(excess = unquoted.indexOf( ")", unquoted.length - excess ) - unquoted.length) ) {

				// excess is a negative index
				match[0] = match[0].slice( 0, excess );
				match[2] = unquoted.slice( 0, excess );
			}

			// Return only captures needed by the pseudo filter method (type and argument)
			return match.slice( 0, 3 );
		}
	},

	filter: {

		"TAG": function( nodeNameSelector ) {
			var nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();
			return nodeNameSelector === "*" ?
				function() { return true; } :
				function( elem ) {
					return elem.nodeName && elem.nodeName.toLowerCase() === nodeName;
				};
		},

		"CLASS": function( className ) {
			var pattern = classCache[ className + " " ];

			return pattern ||
				(pattern = new RegExp( "(^|" + whitespace + ")" + className + "(" + whitespace + "|$)" )) &&
				classCache( className, function( elem ) {
					return pattern.test( typeof elem.className === "string" && elem.className || typeof elem.getAttribute !== "undefined" && elem.getAttribute("class") || "" );
				});
		},

		"ATTR": function( name, operator, check ) {
			return function( elem ) {
				var result = Sizzle.attr( elem, name );

				if ( result == null ) {
					return operator === "!=";
				}
				if ( !operator ) {
					return true;
				}

				result += "";

				return operator === "=" ? result === check :
					operator === "!=" ? result !== check :
					operator === "^=" ? check && result.indexOf( check ) === 0 :
					operator === "*=" ? check && result.indexOf( check ) > -1 :
					operator === "$=" ? check && result.slice( -check.length ) === check :
					operator === "~=" ? ( " " + result.replace( rwhitespace, " " ) + " " ).indexOf( check ) > -1 :
					operator === "|=" ? result === check || result.slice( 0, check.length + 1 ) === check + "-" :
					false;
			};
		},

		"CHILD": function( type, what, argument, first, last ) {
			var simple = type.slice( 0, 3 ) !== "nth",
				forward = type.slice( -4 ) !== "last",
				ofType = what === "of-type";

			return first === 1 && last === 0 ?

				// Shortcut for :nth-*(n)
				function( elem ) {
					return !!elem.parentNode;
				} :

				function( elem, context, xml ) {
					var cache, uniqueCache, outerCache, node, nodeIndex, start,
						dir = simple !== forward ? "nextSibling" : "previousSibling",
						parent = elem.parentNode,
						name = ofType && elem.nodeName.toLowerCase(),
						useCache = !xml && !ofType,
						diff = false;

					if ( parent ) {

						// :(first|last|only)-(child|of-type)
						if ( simple ) {
							while ( dir ) {
								node = elem;
								while ( (node = node[ dir ]) ) {
									if ( ofType ?
										node.nodeName.toLowerCase() === name :
										node.nodeType === 1 ) {

										return false;
									}
								}
								// Reverse direction for :only-* (if we haven't yet done so)
								start = dir = type === "only" && !start && "nextSibling";
							}
							return true;
						}

						start = [ forward ? parent.firstChild : parent.lastChild ];

						// non-xml :nth-child(...) stores cache data on `parent`
						if ( forward && useCache ) {

							// Seek `elem` from a previously-cached index

							// ...in a gzip-friendly way
							node = parent;
							outerCache = node[ expando ] || (node[ expando ] = {});

							// Support: IE <9 only
							// Defend against cloned attroperties (jQuery gh-1709)
							uniqueCache = outerCache[ node.uniqueID ] ||
								(outerCache[ node.uniqueID ] = {});

							cache = uniqueCache[ type ] || [];
							nodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];
							diff = nodeIndex && cache[ 2 ];
							node = nodeIndex && parent.childNodes[ nodeIndex ];

							while ( (node = ++nodeIndex && node && node[ dir ] ||

								// Fallback to seeking `elem` from the start
								(diff = nodeIndex = 0) || start.pop()) ) {

								// When found, cache indexes on `parent` and break
								if ( node.nodeType === 1 && ++diff && node === elem ) {
									uniqueCache[ type ] = [ dirruns, nodeIndex, diff ];
									break;
								}
							}

						} else {
							// Use previously-cached element index if available
							if ( useCache ) {
								// ...in a gzip-friendly way
								node = elem;
								outerCache = node[ expando ] || (node[ expando ] = {});

								// Support: IE <9 only
								// Defend against cloned attroperties (jQuery gh-1709)
								uniqueCache = outerCache[ node.uniqueID ] ||
									(outerCache[ node.uniqueID ] = {});

								cache = uniqueCache[ type ] || [];
								nodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];
								diff = nodeIndex;
							}

							// xml :nth-child(...)
							// or :nth-last-child(...) or :nth(-last)?-of-type(...)
							if ( diff === false ) {
								// Use the same loop as above to seek `elem` from the start
								while ( (node = ++nodeIndex && node && node[ dir ] ||
									(diff = nodeIndex = 0) || start.pop()) ) {

									if ( ( ofType ?
										node.nodeName.toLowerCase() === name :
										node.nodeType === 1 ) &&
										++diff ) {

										// Cache the index of each encountered element
										if ( useCache ) {
											outerCache = node[ expando ] || (node[ expando ] = {});

											// Support: IE <9 only
											// Defend against cloned attroperties (jQuery gh-1709)
											uniqueCache = outerCache[ node.uniqueID ] ||
												(outerCache[ node.uniqueID ] = {});

											uniqueCache[ type ] = [ dirruns, diff ];
										}

										if ( node === elem ) {
											break;
										}
									}
								}
							}
						}

						// Incorporate the offset, then check against cycle size
						diff -= last;
						return diff === first || ( diff % first === 0 && diff / first >= 0 );
					}
				};
		},

		"PSEUDO": function( pseudo, argument ) {
			// pseudo-class names are case-insensitive
			// http://www.w3.org/TR/selectors/#pseudo-classes
			// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters
			// Remember that setFilters inherits from pseudos
			var args,
				fn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||
					Sizzle.error( "unsupported pseudo: " + pseudo );

			// The user may use createPseudo to indicate that
			// arguments are needed to create the filter function
			// just as Sizzle does
			if ( fn[ expando ] ) {
				return fn( argument );
			}

			// But maintain support for old signatures
			if ( fn.length > 1 ) {
				args = [ pseudo, pseudo, "", argument ];
				return Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?
					markFunction(function( seed, matches ) {
						var idx,
							matched = fn( seed, argument ),
							i = matched.length;
						while ( i-- ) {
							idx = indexOf( seed, matched[i] );
							seed[ idx ] = !( matches[ idx ] = matched[i] );
						}
					}) :
					function( elem ) {
						return fn( elem, 0, args );
					};
			}

			return fn;
		}
	},

	pseudos: {
		// Potentially complex pseudos
		"not": markFunction(function( selector ) {
			// Trim the selector passed to compile
			// to avoid treating leading and trailing
			// spaces as combinators
			var input = [],
				results = [],
				matcher = compile( selector.replace( rtrim, "$1" ) );

			return matcher[ expando ] ?
				markFunction(function( seed, matches, context, xml ) {
					var elem,
						unmatched = matcher( seed, null, xml, [] ),
						i = seed.length;

					// Match elements unmatched by `matcher`
					while ( i-- ) {
						if ( (elem = unmatched[i]) ) {
							seed[i] = !(matches[i] = elem);
						}
					}
				}) :
				function( elem, context, xml ) {
					input[0] = elem;
					matcher( input, null, xml, results );
					// Don't keep the element (issue #299)
					input[0] = null;
					return !results.pop();
				};
		}),

		"has": markFunction(function( selector ) {
			return function( elem ) {
				return Sizzle( selector, elem ).length > 0;
			};
		}),

		"contains": markFunction(function( text ) {
			text = text.replace( runescape, funescape );
			return function( elem ) {
				return ( elem.textContent || getText( elem ) ).indexOf( text ) > -1;
			};
		}),

		// "Whether an element is represented by a :lang() selector
		// is based solely on the element's language value
		// being equal to the identifier C,
		// or beginning with the identifier C immediately followed by "-".
		// The matching of C against the element's language value is performed case-insensitively.
		// The identifier C does not have to be a valid language name."
		// http://www.w3.org/TR/selectors/#lang-pseudo
		"lang": markFunction( function( lang ) {
			// lang value must be a valid identifier
			if ( !ridentifier.test(lang || "") ) {
				Sizzle.error( "unsupported lang: " + lang );
			}
			lang = lang.replace( runescape, funescape ).toLowerCase();
			return function( elem ) {
				var elemLang;
				do {
					if ( (elemLang = documentIsHTML ?
						elem.lang :
						elem.getAttribute("xml:lang") || elem.getAttribute("lang")) ) {

						elemLang = elemLang.toLowerCase();
						return elemLang === lang || elemLang.indexOf( lang + "-" ) === 0;
					}
				} while ( (elem = elem.parentNode) && elem.nodeType === 1 );
				return false;
			};
		}),

		// Miscellaneous
		"target": function( elem ) {
			var hash = window.location && window.location.hash;
			return hash && hash.slice( 1 ) === elem.id;
		},

		"root": function( elem ) {
			return elem === docElem;
		},

		"focus": function( elem ) {
			return elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);
		},

		// Boolean properties
		"enabled": createDisabledPseudo( false ),
		"disabled": createDisabledPseudo( true ),

		"checked": function( elem ) {
			// In CSS3, :checked should return both checked and selected elements
			// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
			var nodeName = elem.nodeName.toLowerCase();
			return (nodeName === "input" && !!elem.checked) || (nodeName === "option" && !!elem.selected);
		},

		"selected": function( elem ) {
			// Accessing this property makes selected-by-default
			// options in Safari work properly
			if ( elem.parentNode ) {
				elem.parentNode.selectedIndex;
			}

			return elem.selected === true;
		},

		// Contents
		"empty": function( elem ) {
			// http://www.w3.org/TR/selectors/#empty-pseudo
			// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),
			//   but not by others (comment: 8; processing instruction: 7; etc.)
			// nodeType < 6 works because attributes (2) do not appear as children
			for ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {
				if ( elem.nodeType < 6 ) {
					return false;
				}
			}
			return true;
		},

		"parent": function( elem ) {
			return !Expr.pseudos["empty"]( elem );
		},

		// Element/input types
		"header": function( elem ) {
			return rheader.test( elem.nodeName );
		},

		"input": function( elem ) {
			return rinputs.test( elem.nodeName );
		},

		"button": function( elem ) {
			var name = elem.nodeName.toLowerCase();
			return name === "input" && elem.type === "button" || name === "button";
		},

		"text": function( elem ) {
			var attr;
			return elem.nodeName.toLowerCase() === "input" &&
				elem.type === "text" &&

				// Support: IE<8
				// New HTML5 attribute values (e.g., "search") appear with elem.type === "text"
				( (attr = elem.getAttribute("type")) == null || attr.toLowerCase() === "text" );
		},

		// Position-in-collection
		"first": createPositionalPseudo(function() {
			return [ 0 ];
		}),

		"last": createPositionalPseudo(function( matchIndexes, length ) {
			return [ length - 1 ];
		}),

		"eq": createPositionalPseudo(function( matchIndexes, length, argument ) {
			return [ argument < 0 ? argument + length : argument ];
		}),

		"even": createPositionalPseudo(function( matchIndexes, length ) {
			var i = 0;
			for ( ; i < length; i += 2 ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		}),

		"odd": createPositionalPseudo(function( matchIndexes, length ) {
			var i = 1;
			for ( ; i < length; i += 2 ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		}),

		"lt": createPositionalPseudo(function( matchIndexes, length, argument ) {
			var i = argument < 0 ?
				argument + length :
				argument > length ?
					length :
					argument;
			for ( ; --i >= 0; ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		}),

		"gt": createPositionalPseudo(function( matchIndexes, length, argument ) {
			var i = argument < 0 ? argument + length : argument;
			for ( ; ++i < length; ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		})
	}
};

Expr.pseudos["nth"] = Expr.pseudos["eq"];

// Add button/input type pseudos
for ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {
	Expr.pseudos[ i ] = createInputPseudo( i );
}
for ( i in { submit: true, reset: true } ) {
	Expr.pseudos[ i ] = createButtonPseudo( i );
}

// Easy API for creating new setFilters
function setFilters() {}
setFilters.prototype = Expr.filters = Expr.pseudos;
Expr.setFilters = new setFilters();

tokenize = Sizzle.tokenize = function( selector, parseOnly ) {
	var matched, match, tokens, type,
		soFar, groups, preFilters,
		cached = tokenCache[ selector + " " ];

	if ( cached ) {
		return parseOnly ? 0 : cached.slice( 0 );
	}

	soFar = selector;
	groups = [];
	preFilters = Expr.preFilter;

	while ( soFar ) {

		// Comma and first run
		if ( !matched || (match = rcomma.exec( soFar )) ) {
			if ( match ) {
				// Don't consume trailing commas as valid
				soFar = soFar.slice( match[0].length ) || soFar;
			}
			groups.push( (tokens = []) );
		}

		matched = false;

		// Combinators
		if ( (match = rcombinators.exec( soFar )) ) {
			matched = match.shift();
			tokens.push({
				value: matched,
				// Cast descendant combinators to space
				type: match[0].replace( rtrim, " " )
			});
			soFar = soFar.slice( matched.length );
		}

		// Filters
		for ( type in Expr.filter ) {
			if ( (match = matchExpr[ type ].exec( soFar )) && (!preFilters[ type ] ||
				(match = preFilters[ type ]( match ))) ) {
				matched = match.shift();
				tokens.push({
					value: matched,
					type: type,
					matches: match
				});
				soFar = soFar.slice( matched.length );
			}
		}

		if ( !matched ) {
			break;
		}
	}

	// Return the length of the invalid excess
	// if we're just parsing
	// Otherwise, throw an error or return tokens
	return parseOnly ?
		soFar.length :
		soFar ?
			Sizzle.error( selector ) :
			// Cache the tokens
			tokenCache( selector, groups ).slice( 0 );
};

function toSelector( tokens ) {
	var i = 0,
		len = tokens.length,
		selector = "";
	for ( ; i < len; i++ ) {
		selector += tokens[i].value;
	}
	return selector;
}

function addCombinator( matcher, combinator, base ) {
	var dir = combinator.dir,
		skip = combinator.next,
		key = skip || dir,
		checkNonElements = base && key === "parentNode",
		doneName = done++;

	return combinator.first ?
		// Check against closest ancestor/preceding element
		function( elem, context, xml ) {
			while ( (elem = elem[ dir ]) ) {
				if ( elem.nodeType === 1 || checkNonElements ) {
					return matcher( elem, context, xml );
				}
			}
			return false;
		} :

		// Check against all ancestor/preceding elements
		function( elem, context, xml ) {
			var oldCache, uniqueCache, outerCache,
				newCache = [ dirruns, doneName ];

			// We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching
			if ( xml ) {
				while ( (elem = elem[ dir ]) ) {
					if ( elem.nodeType === 1 || checkNonElements ) {
						if ( matcher( elem, context, xml ) ) {
							return true;
						}
					}
				}
			} else {
				while ( (elem = elem[ dir ]) ) {
					if ( elem.nodeType === 1 || checkNonElements ) {
						outerCache = elem[ expando ] || (elem[ expando ] = {});

						// Support: IE <9 only
						// Defend against cloned attroperties (jQuery gh-1709)
						uniqueCache = outerCache[ elem.uniqueID ] || (outerCache[ elem.uniqueID ] = {});

						if ( skip && skip === elem.nodeName.toLowerCase() ) {
							elem = elem[ dir ] || elem;
						} else if ( (oldCache = uniqueCache[ key ]) &&
							oldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {

							// Assign to newCache so results back-propagate to previous elements
							return (newCache[ 2 ] = oldCache[ 2 ]);
						} else {
							// Reuse newcache so results back-propagate to previous elements
							uniqueCache[ key ] = newCache;

							// A match means we're done; a fail means we have to keep checking
							if ( (newCache[ 2 ] = matcher( elem, context, xml )) ) {
								return true;
							}
						}
					}
				}
			}
			return false;
		};
}

function elementMatcher( matchers ) {
	return matchers.length > 1 ?
		function( elem, context, xml ) {
			var i = matchers.length;
			while ( i-- ) {
				if ( !matchers[i]( elem, context, xml ) ) {
					return false;
				}
			}
			return true;
		} :
		matchers[0];
}

function multipleContexts( selector, contexts, results ) {
	var i = 0,
		len = contexts.length;
	for ( ; i < len; i++ ) {
		Sizzle( selector, contexts[i], results );
	}
	return results;
}

function condense( unmatched, map, filter, context, xml ) {
	var elem,
		newUnmatched = [],
		i = 0,
		len = unmatched.length,
		mapped = map != null;

	for ( ; i < len; i++ ) {
		if ( (elem = unmatched[i]) ) {
			if ( !filter || filter( elem, context, xml ) ) {
				newUnmatched.push( elem );
				if ( mapped ) {
					map.push( i );
				}
			}
		}
	}

	return newUnmatched;
}

function setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {
	if ( postFilter && !postFilter[ expando ] ) {
		postFilter = setMatcher( postFilter );
	}
	if ( postFinder && !postFinder[ expando ] ) {
		postFinder = setMatcher( postFinder, postSelector );
	}
	return markFunction(function( seed, results, context, xml ) {
		var temp, i, elem,
			preMap = [],
			postMap = [],
			preexisting = results.length,

			// Get initial elements from seed or context
			elems = seed || multipleContexts( selector || "*", context.nodeType ? [ context ] : context, [] ),

			// Prefilter to get matcher input, preserving a map for seed-results synchronization
			matcherIn = preFilter && ( seed || !selector ) ?
				condense( elems, preMap, preFilter, context, xml ) :
				elems,

			matcherOut = matcher ?
				// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,
				postFinder || ( seed ? preFilter : preexisting || postFilter ) ?

					// ...intermediate processing is necessary
					[] :

					// ...otherwise use results directly
					results :
				matcherIn;

		// Find primary matches
		if ( matcher ) {
			matcher( matcherIn, matcherOut, context, xml );
		}

		// Apply postFilter
		if ( postFilter ) {
			temp = condense( matcherOut, postMap );
			postFilter( temp, [], context, xml );

			// Un-match failing elements by moving them back to matcherIn
			i = temp.length;
			while ( i-- ) {
				if ( (elem = temp[i]) ) {
					matcherOut[ postMap[i] ] = !(matcherIn[ postMap[i] ] = elem);
				}
			}
		}

		if ( seed ) {
			if ( postFinder || preFilter ) {
				if ( postFinder ) {
					// Get the final matcherOut by condensing this intermediate into postFinder contexts
					temp = [];
					i = matcherOut.length;
					while ( i-- ) {
						if ( (elem = matcherOut[i]) ) {
							// Restore matcherIn since elem is not yet a final match
							temp.push( (matcherIn[i] = elem) );
						}
					}
					postFinder( null, (matcherOut = []), temp, xml );
				}

				// Move matched elements from seed to results to keep them synchronized
				i = matcherOut.length;
				while ( i-- ) {
					if ( (elem = matcherOut[i]) &&
						(temp = postFinder ? indexOf( seed, elem ) : preMap[i]) > -1 ) {

						seed[temp] = !(results[temp] = elem);
					}
				}
			}

		// Add elements to results, through postFinder if defined
		} else {
			matcherOut = condense(
				matcherOut === results ?
					matcherOut.splice( preexisting, matcherOut.length ) :
					matcherOut
			);
			if ( postFinder ) {
				postFinder( null, results, matcherOut, xml );
			} else {
				push.apply( results, matcherOut );
			}
		}
	});
}

function matcherFromTokens( tokens ) {
	var checkContext, matcher, j,
		len = tokens.length,
		leadingRelative = Expr.relative[ tokens[0].type ],
		implicitRelative = leadingRelative || Expr.relative[" "],
		i = leadingRelative ? 1 : 0,

		// The foundational matcher ensures that elements are reachable from top-level context(s)
		matchContext = addCombinator( function( elem ) {
			return elem === checkContext;
		}, implicitRelative, true ),
		matchAnyContext = addCombinator( function( elem ) {
			return indexOf( checkContext, elem ) > -1;
		}, implicitRelative, true ),
		matchers = [ function( elem, context, xml ) {
			var ret = ( !leadingRelative && ( xml || context !== outermostContext ) ) || (
				(checkContext = context).nodeType ?
					matchContext( elem, context, xml ) :
					matchAnyContext( elem, context, xml ) );
			// Avoid hanging onto element (issue #299)
			checkContext = null;
			return ret;
		} ];

	for ( ; i < len; i++ ) {
		if ( (matcher = Expr.relative[ tokens[i].type ]) ) {
			matchers = [ addCombinator(elementMatcher( matchers ), matcher) ];
		} else {
			matcher = Expr.filter[ tokens[i].type ].apply( null, tokens[i].matches );

			// Return special upon seeing a positional matcher
			if ( matcher[ expando ] ) {
				// Find the next relative operator (if any) for proper handling
				j = ++i;
				for ( ; j < len; j++ ) {
					if ( Expr.relative[ tokens[j].type ] ) {
						break;
					}
				}
				return setMatcher(
					i > 1 && elementMatcher( matchers ),
					i > 1 && toSelector(
						// If the preceding token was a descendant combinator, insert an implicit any-element `*`
						tokens.slice( 0, i - 1 ).concat({ value: tokens[ i - 2 ].type === " " ? "*" : "" })
					).replace( rtrim, "$1" ),
					matcher,
					i < j && matcherFromTokens( tokens.slice( i, j ) ),
					j < len && matcherFromTokens( (tokens = tokens.slice( j )) ),
					j < len && toSelector( tokens )
				);
			}
			matchers.push( matcher );
		}
	}

	return elementMatcher( matchers );
}

function matcherFromGroupMatchers( elementMatchers, setMatchers ) {
	var bySet = setMatchers.length > 0,
		byElement = elementMatchers.length > 0,
		superMatcher = function( seed, context, xml, results, outermost ) {
			var elem, j, matcher,
				matchedCount = 0,
				i = "0",
				unmatched = seed && [],
				setMatched = [],
				contextBackup = outermostContext,
				// We must always have either seed elements or outermost context
				elems = seed || byElement && Expr.find["TAG"]( "*", outermost ),
				// Use integer dirruns iff this is the outermost matcher
				dirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.random() || 0.1),
				len = elems.length;

			if ( outermost ) {
				outermostContext = context === document || context || outermost;
			}

			// Add elements passing elementMatchers directly to results
			// Support: IE<9, Safari
			// Tolerate NodeList properties (IE: "length"; Safari: <number>) matching elements by id
			for ( ; i !== len && (elem = elems[i]) != null; i++ ) {
				if ( byElement && elem ) {
					j = 0;
					if ( !context && elem.ownerDocument !== document ) {
						setDocument( elem );
						xml = !documentIsHTML;
					}
					while ( (matcher = elementMatchers[j++]) ) {
						if ( matcher( elem, context || document, xml) ) {
							results.push( elem );
							break;
						}
					}
					if ( outermost ) {
						dirruns = dirrunsUnique;
					}
				}

				// Track unmatched elements for set filters
				if ( bySet ) {
					// They will have gone through all possible matchers
					if ( (elem = !matcher && elem) ) {
						matchedCount--;
					}

					// Lengthen the array for every element, matched or not
					if ( seed ) {
						unmatched.push( elem );
					}
				}
			}

			// `i` is now the count of elements visited above, and adding it to `matchedCount`
			// makes the latter nonnegative.
			matchedCount += i;

			// Apply set filters to unmatched elements
			// NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`
			// equals `i`), unless we didn't visit _any_ elements in the above loop because we have
			// no element matchers and no seed.
			// Incrementing an initially-string "0" `i` allows `i` to remain a string only in that
			// case, which will result in a "00" `matchedCount` that differs from `i` but is also
			// numerically zero.
			if ( bySet && i !== matchedCount ) {
				j = 0;
				while ( (matcher = setMatchers[j++]) ) {
					matcher( unmatched, setMatched, context, xml );
				}

				if ( seed ) {
					// Reintegrate element matches to eliminate the need for sorting
					if ( matchedCount > 0 ) {
						while ( i-- ) {
							if ( !(unmatched[i] || setMatched[i]) ) {
								setMatched[i] = pop.call( results );
							}
						}
					}

					// Discard index placeholder values to get only actual matches
					setMatched = condense( setMatched );
				}

				// Add matches to results
				push.apply( results, setMatched );

				// Seedless set matches succeeding multiple successful matchers stipulate sorting
				if ( outermost && !seed && setMatched.length > 0 &&
					( matchedCount + setMatchers.length ) > 1 ) {

					Sizzle.uniqueSort( results );
				}
			}

			// Override manipulation of globals by nested matchers
			if ( outermost ) {
				dirruns = dirrunsUnique;
				outermostContext = contextBackup;
			}

			return unmatched;
		};

	return bySet ?
		markFunction( superMatcher ) :
		superMatcher;
}

compile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {
	var i,
		setMatchers = [],
		elementMatchers = [],
		cached = compilerCache[ selector + " " ];

	if ( !cached ) {
		// Generate a function of recursive functions that can be used to check each element
		if ( !match ) {
			match = tokenize( selector );
		}
		i = match.length;
		while ( i-- ) {
			cached = matcherFromTokens( match[i] );
			if ( cached[ expando ] ) {
				setMatchers.push( cached );
			} else {
				elementMatchers.push( cached );
			}
		}

		// Cache the compiled function
		cached = compilerCache( selector, matcherFromGroupMatchers( elementMatchers, setMatchers ) );

		// Save selector and tokenization
		cached.selector = selector;
	}
	return cached;
};

/**
 * A low-level selection function that works with Sizzle's compiled
 *  selector functions
 * @param {String|Function} selector A selector or a pre-compiled
 *  selector function built with Sizzle.compile
 * @param {Element} context
 * @param {Array} [results]
 * @param {Array} [seed] A set of elements to match against
 */
select = Sizzle.select = function( selector, context, results, seed ) {
	var i, tokens, token, type, find,
		compiled = typeof selector === "function" && selector,
		match = !seed && tokenize( (selector = compiled.selector || selector) );

	results = results || [];

	// Try to minimize operations if there is only one selector in the list and no seed
	// (the latter of which guarantees us context)
	if ( match.length === 1 ) {

		// Reduce context if the leading compound selector is an ID
		tokens = match[0] = match[0].slice( 0 );
		if ( tokens.length > 2 && (token = tokens[0]).type === "ID" &&
				context.nodeType === 9 && documentIsHTML && Expr.relative[ tokens[1].type ] ) {

			context = ( Expr.find["ID"]( token.matches[0].replace(runescape, funescape), context ) || [] )[0];
			if ( !context ) {
				return results;

			// Precompiled matchers will still verify ancestry, so step up a level
			} else if ( compiled ) {
				context = context.parentNode;
			}

			selector = selector.slice( tokens.shift().value.length );
		}

		// Fetch a seed set for right-to-left matching
		i = matchExpr["needsContext"].test( selector ) ? 0 : tokens.length;
		while ( i-- ) {
			token = tokens[i];

			// Abort if we hit a combinator
			if ( Expr.relative[ (type = token.type) ] ) {
				break;
			}
			if ( (find = Expr.find[ type ]) ) {
				// Search, expanding context for leading sibling combinators
				if ( (seed = find(
					token.matches[0].replace( runescape, funescape ),
					rsibling.test( tokens[0].type ) && testContext( context.parentNode ) || context
				)) ) {

					// If seed is empty or no tokens remain, we can return early
					tokens.splice( i, 1 );
					selector = seed.length && toSelector( tokens );
					if ( !selector ) {
						push.apply( results, seed );
						return results;
					}

					break;
				}
			}
		}
	}

	// Compile and execute a filtering function if one is not provided
	// Provide `match` to avoid retokenization if we modified the selector above
	( compiled || compile( selector, match ) )(
		seed,
		context,
		!documentIsHTML,
		results,
		!context || rsibling.test( selector ) && testContext( context.parentNode ) || context
	);
	return results;
};

// One-time assignments

// Sort stability
support.sortStable = expando.split("").sort( sortOrder ).join("") === expando;

// Support: Chrome 14-35+
// Always assume duplicates if they aren't passed to the comparison function
support.detectDuplicates = !!hasDuplicate;

// Initialize against the default document
setDocument();

// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)
// Detached nodes confoundingly follow *each other*
support.sortDetached = assert(function( el ) {
	// Should return 1, but returns 4 (following)
	return el.compareDocumentPosition( document.createElement("fieldset") ) & 1;
});

// Support: IE<8
// Prevent attribute/property "interpolation"
// https://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx
if ( !assert(function( el ) {
	el.innerHTML = "<a href='#'></a>";
	return el.firstChild.getAttribute("href") === "#" ;
}) ) {
	addHandle( "type|href|height|width", function( elem, name, isXML ) {
		if ( !isXML ) {
			return elem.getAttribute( name, name.toLowerCase() === "type" ? 1 : 2 );
		}
	});
}

// Support: IE<9
// Use defaultValue in place of getAttribute("value")
if ( !support.attributes || !assert(function( el ) {
	el.innerHTML = "<input/>";
	el.firstChild.setAttribute( "value", "" );
	return el.firstChild.getAttribute( "value" ) === "";
}) ) {
	addHandle( "value", function( elem, name, isXML ) {
		if ( !isXML && elem.nodeName.toLowerCase() === "input" ) {
			return elem.defaultValue;
		}
	});
}

// Support: IE<9
// Use getAttributeNode to fetch booleans when getAttribute lies
if ( !assert(function( el ) {
	return el.getAttribute("disabled") == null;
}) ) {
	addHandle( booleans, function( elem, name, isXML ) {
		var val;
		if ( !isXML ) {
			return elem[ name ] === true ? name.toLowerCase() :
					(val = elem.getAttributeNode( name )) && val.specified ?
					val.value :
				null;
		}
	});
}

return Sizzle;

})( window );



jQuery.find = Sizzle;
jQuery.expr = Sizzle.selectors;

// Deprecated
jQuery.expr[ ":" ] = jQuery.expr.pseudos;
jQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort;
jQuery.text = Sizzle.getText;
jQuery.isXMLDoc = Sizzle.isXML;
jQuery.contains = Sizzle.contains;
jQuery.escapeSelector = Sizzle.escape;




var dir = function( elem, dir, until ) {
	var matched = [],
		truncate = until !== undefined;

	while ( ( elem = elem[ dir ] ) && elem.nodeType !== 9 ) {
		if ( elem.nodeType === 1 ) {
			if ( truncate && jQuery( elem ).is( until ) ) {
				break;
			}
			matched.push( elem );
		}
	}
	return matched;
};


var siblings = function( n, elem ) {
	var matched = [];

	for ( ; n; n = n.nextSibling ) {
		if ( n.nodeType === 1 && n !== elem ) {
			matched.push( n );
		}
	}

	return matched;
};


var rneedsContext = jQuery.expr.match.needsContext;



function nodeName( elem, name ) {

  return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();

};
var rsingleTag = ( /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i );



// Implement the identical functionality for filter and not
function winnow( elements, qualifier, not ) {
	if ( isFunction( qualifier ) ) {
		return jQuery.grep( elements, function( elem, i ) {
			return !!qualifier.call( elem, i, elem ) !== not;
		} );
	}

	// Single element
	if ( qualifier.nodeType ) {
		return jQuery.grep( elements, function( elem ) {
			return ( elem === qualifier ) !== not;
		} );
	}

	// Arraylike of elements (jQuery, arguments, Array)
	if ( typeof qualifier !== "string" ) {
		return jQuery.grep( elements, function( elem ) {
			return ( indexOf.call( qualifier, elem ) > -1 ) !== not;
		} );
	}

	// Filtered directly for both simple and complex selectors
	return jQuery.filter( qualifier, elements, not );
}

jQuery.filter = function( expr, elems, not ) {
	var elem = elems[ 0 ];

	if ( not ) {
		expr = ":not(" + expr + ")";
	}

	if ( elems.length === 1 && elem.nodeType === 1 ) {
		return jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [];
	}

	return jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {
		return elem.nodeType === 1;
	} ) );
};

jQuery.fn.extend( {
	find: function( selector ) {
		var i, ret,
			len = this.length,
			self = this;

		if ( typeof selector !== "string" ) {
			return this.pushStack( jQuery( selector ).filter( function() {
				for ( i = 0; i < len; i++ ) {
					if ( jQuery.contains( self[ i ], this ) ) {
						return true;
					}
				}
			} ) );
		}

		ret = this.pushStack( [] );

		for ( i = 0; i < len; i++ ) {
			jQuery.find( selector, self[ i ], ret );
		}

		return len > 1 ? jQuery.uniqueSort( ret ) : ret;
	},
	filter: function( selector ) {
		return this.pushStack( winnow( this, selector || [], false ) );
	},
	not: function( selector ) {
		return this.pushStack( winnow( this, selector || [], true ) );
	},
	is: function( selector ) {
		return !!winnow(
			this,

			// If this is a positional/relative selector, check membership in the returned set
			// so $("p:first").is("p:last") won't return true for a doc with two "p".
			typeof selector === "string" && rneedsContext.test( selector ) ?
				jQuery( selector ) :
				selector || [],
			false
		).length;
	}
} );


// Initialize a jQuery object


// A central reference to the root jQuery(document)
var rootjQuery,

	// A simple way to check for HTML strings
	// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)
	// Strict HTML recognition (#11290: must start with <)
	// Shortcut simple #id case for speed
	rquickExpr = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,

	init = jQuery.fn.init = function( selector, context, root ) {
		var match, elem;

		// HANDLE: $(""), $(null), $(undefined), $(false)
		if ( !selector ) {
			return this;
		}

		// Method init() accepts an alternate rootjQuery
		// so migrate can support jQuery.sub (gh-2101)
		root = root || rootjQuery;

		// Handle HTML strings
		if ( typeof selector === "string" ) {
			if ( selector[ 0 ] === "<" &&
				selector[ selector.length - 1 ] === ">" &&
				selector.length >= 3 ) {

				// Assume that strings that start and end with <> are HTML and skip the regex check
				match = [ null, selector, null ];

			} else {
				match = rquickExpr.exec( selector );
			}

			// Match html or make sure no context is specified for #id
			if ( match && ( match[ 1 ] || !context ) ) {

				// HANDLE: $(html) -> $(array)
				if ( match[ 1 ] ) {
					context = context instanceof jQuery ? context[ 0 ] : context;

					// Option to run scripts is true for back-compat
					// Intentionally let the error be thrown if parseHTML is not present
					jQuery.merge( this, jQuery.parseHTML(
						match[ 1 ],
						context && context.nodeType ? context.ownerDocument || context : document,
						true
					) );

					// HANDLE: $(html, props)
					if ( rsingleTag.test( match[ 1 ] ) && jQuery.isPlainObject( context ) ) {
						for ( match in context ) {

							// Properties of context are called as methods if possible
							if ( isFunction( this[ match ] ) ) {
								this[ match ]( context[ match ] );

							// ...and otherwise set as attributes
							} else {
								this.attr( match, context[ match ] );
							}
						}
					}

					return this;

				// HANDLE: $(#id)
				} else {
					elem = document.getElementById( match[ 2 ] );

					if ( elem ) {

						// Inject the element directly into the jQuery object
						this[ 0 ] = elem;
						this.length = 1;
					}
					return this;
				}

			// HANDLE: $(expr, $(...))
			} else if ( !context || context.jquery ) {
				return ( context || root ).find( selector );

			// HANDLE: $(expr, context)
			// (which is just equivalent to: $(context).find(expr)
			} else {
				return this.constructor( context ).find( selector );
			}

		// HANDLE: $(DOMElement)
		} else if ( selector.nodeType ) {
			this[ 0 ] = selector;
			this.length = 1;
			return this;

		// HANDLE: $(function)
		// Shortcut for document ready
		} else if ( isFunction( selector ) ) {
			return root.ready !== undefined ?
				root.ready( selector ) :

				// Execute immediately if ready is not present
				selector( jQuery );
		}

		return jQuery.makeArray( selector, this );
	};

// Give the init function the jQuery prototype for later instantiation
init.prototype = jQuery.fn;

// Initialize central reference
rootjQuery = jQuery( document );


var rparentsprev = /^(?:parents|prev(?:Until|All))/,

	// Methods guaranteed to produce a unique set when starting from a unique set
	guaranteedUnique = {
		children: true,
		contents: true,
		next: true,
		prev: true
	};

jQuery.fn.extend( {
	has: function( target ) {
		var targets = jQuery( target, this ),
			l = targets.length;

		return this.filter( function() {
			var i = 0;
			for ( ; i < l; i++ ) {
				if ( jQuery.contains( this, targets[ i ] ) ) {
					return true;
				}
			}
		} );
	},

	closest: function( selectors, context ) {
		var cur,
			i = 0,
			l = this.length,
			matched = [],
			targets = typeof selectors !== "string" && jQuery( selectors );

		// Positional selectors never match, since there's no _selection_ context
		if ( !rneedsContext.test( selectors ) ) {
			for ( ; i < l; i++ ) {
				for ( cur = this[ i ]; cur && cur !== context; cur = cur.parentNode ) {

					// Always skip document fragments
					if ( cur.nodeType < 11 && ( targets ?
						targets.index( cur ) > -1 :

						// Don't pass non-elements to Sizzle
						cur.nodeType === 1 &&
							jQuery.find.matchesSelector( cur, selectors ) ) ) {

						matched.push( cur );
						break;
					}
				}
			}
		}

		return this.pushStack( matched.length > 1 ? jQuery.uniqueSort( matched ) : matched );
	},

	// Determine the position of an element within the set
	index: function( elem ) {

		// No argument, return index in parent
		if ( !elem ) {
			return ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;
		}

		// Index in selector
		if ( typeof elem === "string" ) {
			return indexOf.call( jQuery( elem ), this[ 0 ] );
		}

		// Locate the position of the desired element
		return indexOf.call( this,

			// If it receives a jQuery object, the first element is used
			elem.jquery ? elem[ 0 ] : elem
		);
	},

	add: function( selector, context ) {
		return this.pushStack(
			jQuery.uniqueSort(
				jQuery.merge( this.get(), jQuery( selector, context ) )
			)
		);
	},

	addBack: function( selector ) {
		return this.add( selector == null ?
			this.prevObject : this.prevObject.filter( selector )
		);
	}
} );

function sibling( cur, dir ) {
	while ( ( cur = cur[ dir ] ) && cur.nodeType !== 1 ) {}
	return cur;
}

jQuery.each( {
	parent: function( elem ) {
		var parent = elem.parentNode;
		return parent && parent.nodeType !== 11 ? parent : null;
	},
	parents: function( elem ) {
		return dir( elem, "parentNode" );
	},
	parentsUntil: function( elem, i, until ) {
		return dir( elem, "parentNode", until );
	},
	next: function( elem ) {
		return sibling( elem, "nextSibling" );
	},
	prev: function( elem ) {
		return sibling( elem, "previousSibling" );
	},
	nextAll: function( elem ) {
		return dir( elem, "nextSibling" );
	},
	prevAll: function( elem ) {
		return dir( elem, "previousSibling" );
	},
	nextUntil: function( elem, i, until ) {
		return dir( elem, "nextSibling", until );
	},
	prevUntil: function( elem, i, until ) {
		return dir( elem, "previousSibling", until );
	},
	siblings: function( elem ) {
		return siblings( ( elem.parentNode || {} ).firstChild, elem );
	},
	children: function( elem ) {
		return siblings( elem.firstChild );
	},
	contents: function( elem ) {
		if ( typeof elem.contentDocument !== "undefined" ) {
			return elem.contentDocument;
		}

		// Support: IE 9 - 11 only, iOS 7 only, Android Browser <=4.3 only
		// Treat the template element as a regular one in browsers that
		// don't support it.
		if ( nodeName( elem, "template" ) ) {
			elem = elem.content || elem;
		}

		return jQuery.merge( [], elem.childNodes );
	}
}, function( name, fn ) {
	jQuery.fn[ name ] = function( until, selector ) {
		var matched = jQuery.map( this, fn, until );

		if ( name.slice( -5 ) !== "Until" ) {
			selector = until;
		}

		if ( selector && typeof selector === "string" ) {
			matched = jQuery.filter( selector, matched );
		}

		if ( this.length > 1 ) {

			// Remove duplicates
			if ( !guaranteedUnique[ name ] ) {
				jQuery.uniqueSort( matched );
			}

			// Reverse order for parents* and prev-derivatives
			if ( rparentsprev.test( name ) ) {
				matched.reverse();
			}
		}

		return this.pushStack( matched );
	};
} );
var rnothtmlwhite = ( /[^\x20\t\r\n\f]+/g );



// Convert String-formatted options into Object-formatted ones
function createOptions( options ) {
	var object = {};
	jQuery.each( options.match( rnothtmlwhite ) || [], function( _, flag ) {
		object[ flag ] = true;
	} );
	return object;
}

/*
 * Create a callback list using the following parameters:
 *
 *	options: an optional list of space-separated options that will change how
 *			the callback list behaves or a more traditional option object
 *
 * By default a callback list will act like an event callback list and can be
 * "fired" multiple times.
 *
 * Possible options:
 *
 *	once:			will ensure the callback list can only be fired once (like a Deferred)
 *
 *	memory:			will keep track of previous values and will call any callback added
 *					after the list has been fired right away with the latest "memorized"
 *					values (like a Deferred)
 *
 *	unique:			will ensure a callback can only be added once (no duplicate in the list)
 *
 *	stopOnFalse:	interrupt callings when a callback returns false
 *
 */
jQuery.Callbacks = function( options ) {

	// Convert options from String-formatted to Object-formatted if needed
	// (we check in cache first)
	options = typeof options === "string" ?
		createOptions( options ) :
		jQuery.extend( {}, options );

	var // Flag to know if list is currently firing
		firing,

		// Last fire value for non-forgettable lists
		memory,

		// Flag to know if list was already fired
		fired,

		// Flag to prevent firing
		locked,

		// Actual callback list
		list = [],

		// Queue of execution data for repeatable lists
		queue = [],

		// Index of currently firing callback (modified by add/remove as needed)
		firingIndex = -1,

		// Fire callbacks
		fire = function() {

			// Enforce single-firing
			locked = locked || options.once;

			// Execute callbacks for all pending executions,
			// respecting firingIndex overrides and runtime changes
			fired = firing = true;
			for ( ; queue.length; firingIndex = -1 ) {
				memory = queue.shift();
				while ( ++firingIndex < list.length ) {

					// Run callback and check for early termination
					if ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &&
						options.stopOnFalse ) {

						// Jump to end and forget the data so .add doesn't re-fire
						firingIndex = list.length;
						memory = false;
					}
				}
			}

			// Forget the data if we're done with it
			if ( !options.memory ) {
				memory = false;
			}

			firing = false;

			// Clean up if we're done firing for good
			if ( locked ) {

				// Keep an empty list if we have data for future add calls
				if ( memory ) {
					list = [];

				// Otherwise, this object is spent
				} else {
					list = "";
				}
			}
		},

		// Actual Callbacks object
		self = {

			// Add a callback or a collection of callbacks to the list
			add: function() {
				if ( list ) {

					// If we have memory from a past run, we should fire after adding
					if ( memory && !firing ) {
						firingIndex = list.length - 1;
						queue.push( memory );
					}

					( function add( args ) {
						jQuery.each( args, function( _, arg ) {
							if ( isFunction( arg ) ) {
								if ( !options.unique || !self.has( arg ) ) {
									list.push( arg );
								}
							} else if ( arg && arg.length && toType( arg ) !== "string" ) {

								// Inspect recursively
								add( arg );
							}
						} );
					} )( arguments );

					if ( memory && !firing ) {
						fire();
					}
				}
				return this;
			},

			// Remove a callback from the list
			remove: function() {
				jQuery.each( arguments, function( _, arg ) {
					var index;
					while ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {
						list.splice( index, 1 );

						// Handle firing indexes
						if ( index <= firingIndex ) {
							firingIndex--;
						}
					}
				} );
				return this;
			},

			// Check if a given callback is in the list.
			// If no argument is given, return whether or not list has callbacks attached.
			has: function( fn ) {
				return fn ?
					jQuery.inArray( fn, list ) > -1 :
					list.length > 0;
			},

			// Remove all callbacks from the list
			empty: function() {
				if ( list ) {
					list = [];
				}
				return this;
			},

			// Disable .fire and .add
			// Abort any current/pending executions
			// Clear all callbacks and values
			disable: function() {
				locked = queue = [];
				list = memory = "";
				return this;
			},
			disabled: function() {
				return !list;
			},

			// Disable .fire
			// Also disable .add unless we have memory (since it would have no effect)
			// Abort any pending executions
			lock: function() {
				locked = queue = [];
				if ( !memory && !firing ) {
					list = memory = "";
				}
				return this;
			},
			locked: function() {
				return !!locked;
			},

			// Call all callbacks with the given context and arguments
			fireWith: function( context, args ) {
				if ( !locked ) {
					args = args || [];
					args = [ context, args.slice ? args.slice() : args ];
					queue.push( args );
					if ( !firing ) {
						fire();
					}
				}
				return this;
			},

			// Call all the callbacks with the given arguments
			fire: function() {
				self.fireWith( this, arguments );
				return this;
			},

			// To know if the callbacks have already been called at least once
			fired: function() {
				return !!fired;
			}
		};

	return self;
};


function Identity( v ) {
	return v;
}
function Thrower( ex ) {
	throw ex;
}

function adoptValue( value, resolve, reject, noValue ) {
	var method;

	try {

		// Check for promise aspect first to privilege synchronous behavior
		if ( value && isFunction( ( method = value.promise ) ) ) {
			method.call( value ).done( resolve ).fail( reject );

		// Other thenables
		} else if ( value && isFunction( ( method = value.then ) ) ) {
			method.call( value, resolve, reject );

		// Other non-thenables
		} else {

			// Control `resolve` arguments by letting Array#slice cast boolean `noValue` to integer:
			// * false: [ value ].slice( 0 ) => resolve( value )
			// * true: [ value ].slice( 1 ) => resolve()
			resolve.apply( undefined, [ value ].slice( noValue ) );
		}

	// For Promises/A+, convert exceptions into rejections
	// Since jQuery.when doesn't unwrap thenables, we can skip the extra checks appearing in
	// Deferred#then to conditionally suppress rejection.
	} catch ( value ) {

		// Support: Android 4.0 only
		// Strict mode functions invoked without .call/.apply get global-object context
		reject.apply( undefined, [ value ] );
	}
}

jQuery.extend( {

	Deferred: function( func ) {
		var tuples = [

				// action, add listener, callbacks,
				// ... .then handlers, argument index, [final state]
				[ "notify", "progress", jQuery.Callbacks( "memory" ),
					jQuery.Callbacks( "memory" ), 2 ],
				[ "resolve", "done", jQuery.Callbacks( "once memory" ),
					jQuery.Callbacks( "once memory" ), 0, "resolved" ],
				[ "reject", "fail", jQuery.Callbacks( "once memory" ),
					jQuery.Callbacks( "once memory" ), 1, "rejected" ]
			],
			state = "pending",
			promise = {
				state: function() {
					return state;
				},
				always: function() {
					deferred.done( arguments ).fail( arguments );
					return this;
				},
				"catch": function( fn ) {
					return promise.then( null, fn );
				},

				// Keep pipe for back-compat
				pipe: function( /* fnDone, fnFail, fnProgress */ ) {
					var fns = arguments;

					return jQuery.Deferred( function( newDefer ) {
						jQuery.each( tuples, function( i, tuple ) {

							// Map tuples (progress, done, fail) to arguments (done, fail, progress)
							var fn = isFunction( fns[ tuple[ 4 ] ] ) && fns[ tuple[ 4 ] ];

							// deferred.progress(function() { bind to newDefer or newDefer.notify })
							// deferred.done(function() { bind to newDefer or newDefer.resolve })
							// deferred.fail(function() { bind to newDefer or newDefer.reject })
							deferred[ tuple[ 1 ] ]( function() {
								var returned = fn && fn.apply( this, arguments );
								if ( returned && isFunction( returned.promise ) ) {
									returned.promise()
										.progress( newDefer.notify )
										.done( newDefer.resolve )
										.fail( newDefer.reject );
								} else {
									newDefer[ tuple[ 0 ] + "With" ](
										this,
										fn ? [ returned ] : arguments
									);
								}
							} );
						} );
						fns = null;
					} ).promise();
				},
				then: function( onFulfilled, onRejected, onProgress ) {
					var maxDepth = 0;
					function resolve( depth, deferred, handler, special ) {
						return function() {
							var that = this,
								args = arguments,
								mightThrow = function() {
									var returned, then;

									// Support: Promises/A+ section 2.3.3.3.3
									// https://promisesaplus.com/#point-59
									// Ignore double-resolution attempts
									if ( depth < maxDepth ) {
										return;
									}

									returned = handler.apply( that, args );

									// Support: Promises/A+ section 2.3.1
									// https://promisesaplus.com/#point-48
									if ( returned === deferred.promise() ) {
										throw new TypeError( "Thenable self-resolution" );
									}

									// Support: Promises/A+ sections 2.3.3.1, 3.5
									// https://promisesaplus.com/#point-54
									// https://promisesaplus.com/#point-75
									// Retrieve `then` only once
									then = returned &&

										// Support: Promises/A+ section 2.3.4
										// https://promisesaplus.com/#point-64
										// Only check objects and functions for thenability
										( typeof returned === "object" ||
											typeof returned === "function" ) &&
										returned.then;

									// Handle a returned thenable
									if ( isFunction( then ) ) {

										// Special processors (notify) just wait for resolution
										if ( special ) {
											then.call(
												returned,
												resolve( maxDepth, deferred, Identity, special ),
												resolve( maxDepth, deferred, Thrower, special )
											);

										// Normal processors (resolve) also hook into progress
										} else {

											// ...and disregard older resolution values
											maxDepth++;

											then.call(
												returned,
												resolve( maxDepth, deferred, Identity, special ),
												resolve( maxDepth, deferred, Thrower, special ),
												resolve( maxDepth, deferred, Identity,
													deferred.notifyWith )
											);
										}

									// Handle all other returned values
									} else {

										// Only substitute handlers pass on context
										// and multiple values (non-spec behavior)
										if ( handler !== Identity ) {
											that = undefined;
											args = [ returned ];
										}

										// Process the value(s)
										// Default process is resolve
										( special || deferred.resolveWith )( that, args );
									}
								},

								// Only normal processors (resolve) catch and reject exceptions
								process = special ?
									mightThrow :
									function() {
										try {
											mightThrow();
										} catch ( e ) {

											if ( jQuery.Deferred.exceptionHook ) {
												jQuery.Deferred.exceptionHook( e,
													process.stackTrace );
											}

											// Support: Promises/A+ section 2.3.3.3.4.1
											// https://promisesaplus.com/#point-61
											// Ignore post-resolution exceptions
											if ( depth + 1 >= maxDepth ) {

												// Only substitute handlers pass on context
												// and multiple values (non-spec behavior)
												if ( handler !== Thrower ) {
													that = undefined;
													args = [ e ];
												}

												deferred.rejectWith( that, args );
											}
										}
									};

							// Support: Promises/A+ section 2.3.3.3.1
							// https://promisesaplus.com/#point-57
							// Re-resolve promises immediately to dodge false rejection from
							// subsequent errors
							if ( depth ) {
								process();
							} else {

								// Call an optional hook to record the stack, in case of exception
								// since it's otherwise lost when execution goes async
								if ( jQuery.Deferred.getStackHook ) {
									process.stackTrace = jQuery.Deferred.getStackHook();
								}
								window.setTimeout( process );
							}
						};
					}

					return jQuery.Deferred( function( newDefer ) {

						// progress_handlers.add( ... )
						tuples[ 0 ][ 3 ].add(
							resolve(
								0,
								newDefer,
								isFunction( onProgress ) ?
									onProgress :
									Identity,
								newDefer.notifyWith
							)
						);

						// fulfilled_handlers.add( ... )
						tuples[ 1 ][ 3 ].add(
							resolve(
								0,
								newDefer,
								isFunction( onFulfilled ) ?
									onFulfilled :
									Identity
							)
						);

						// rejected_handlers.add( ... )
						tuples[ 2 ][ 3 ].add(
							resolve(
								0,
								newDefer,
								isFunction( onRejected ) ?
									onRejected :
									Thrower
							)
						);
					} ).promise();
				},

				// Get a promise for this deferred
				// If obj is provided, the promise aspect is added to the object
				promise: function( obj ) {
					return obj != null ? jQuery.extend( obj, promise ) : promise;
				}
			},
			deferred = {};

		// Add list-specific methods
		jQuery.each( tuples, function( i, tuple ) {
			var list = tuple[ 2 ],
				stateString = tuple[ 5 ];

			// promise.progress = list.add
			// promise.done = list.add
			// promise.fail = list.add
			promise[ tuple[ 1 ] ] = list.add;

			// Handle state
			if ( stateString ) {
				list.add(
					function() {

						// state = "resolved" (i.e., fulfilled)
						// state = "rejected"
						state = stateString;
					},

					// rejected_callbacks.disable
					// fulfilled_callbacks.disable
					tuples[ 3 - i ][ 2 ].disable,

					// rejected_handlers.disable
					// fulfilled_handlers.disable
					tuples[ 3 - i ][ 3 ].disable,

					// progress_callbacks.lock
					tuples[ 0 ][ 2 ].lock,

					// progress_handlers.lock
					tuples[ 0 ][ 3 ].lock
				);
			}

			// progress_handlers.fire
			// fulfilled_handlers.fire
			// rejected_handlers.fire
			list.add( tuple[ 3 ].fire );

			// deferred.notify = function() { deferred.notifyWith(...) }
			// deferred.resolve = function() { deferred.resolveWith(...) }
			// deferred.reject = function() { deferred.rejectWith(...) }
			deferred[ tuple[ 0 ] ] = function() {
				deferred[ tuple[ 0 ] + "With" ]( this === deferred ? undefined : this, arguments );
				return this;
			};

			// deferred.notifyWith = list.fireWith
			// deferred.resolveWith = list.fireWith
			// deferred.rejectWith = list.fireWith
			deferred[ tuple[ 0 ] + "With" ] = list.fireWith;
		} );

		// Make the deferred a promise
		promise.promise( deferred );

		// Call given func if any
		if ( func ) {
			func.call( deferred, deferred );
		}

		// All done!
		return deferred;
	},

	// Deferred helper
	when: function( singleValue ) {
		var

			// count of uncompleted subordinates
			remaining = arguments.length,

			// count of unprocessed arguments
			i = remaining,

			// subordinate fulfillment data
			resolveContexts = Array( i ),
			resolveValues = slice.call( arguments ),

			// the master Deferred
			master = jQuery.Deferred(),

			// subordinate callback factory
			updateFunc = function( i ) {
				return function( value ) {
					resolveContexts[ i ] = this;
					resolveValues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;
					if ( !( --remaining ) ) {
						master.resolveWith( resolveContexts, resolveValues );
					}
				};
			};

		// Single- and empty arguments are adopted like Promise.resolve
		if ( remaining <= 1 ) {
			adoptValue( singleValue, master.done( updateFunc( i ) ).resolve, master.reject,
				!remaining );

			// Use .then() to unwrap secondary thenables (cf. gh-3000)
			if ( master.state() === "pending" ||
				isFunction( resolveValues[ i ] && resolveValues[ i ].then ) ) {

				return master.then();
			}
		}

		// Multiple arguments are aggregated like Promise.all array elements
		while ( i-- ) {
			adoptValue( resolveValues[ i ], updateFunc( i ), master.reject );
		}

		return master.promise();
	}
} );


// These usually indicate a programmer mistake during development,
// warn about them ASAP rather than swallowing them by default.
var rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;

jQuery.Deferred.exceptionHook = function( error, stack ) {

	// Support: IE 8 - 9 only
	// Console exists when dev tools are open, which can happen at any time
	if ( window.console && window.console.warn && error && rerrorNames.test( error.name ) ) {
		window.console.warn( "jQuery.Deferred exception: " + error.message, error.stack, stack );
	}
};




jQuery.readyException = function( error ) {
	window.setTimeout( function() {
		throw error;
	} );
};




// The deferred used on DOM ready
var readyList = jQuery.Deferred();

jQuery.fn.ready = function( fn ) {

	readyList
		.then( fn )

		// Wrap jQuery.readyException in a function so that the lookup
		// happens at the time of error handling instead of callback
		// registration.
		.catch( function( error ) {
			jQuery.readyException( error );
		} );

	return this;
};

jQuery.extend( {

	// Is the DOM ready to be used? Set to true once it occurs.
	isReady: false,

	// A counter to track how many items to wait for before
	// the ready event fires. See #6781
	readyWait: 1,

	// Handle when the DOM is ready
	ready: function( wait ) {

		// Abort if there are pending holds or we're already ready
		if ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {
			return;
		}

		// Remember that the DOM is ready
		jQuery.isReady = true;

		// If a normal DOM Ready event fired, decrement, and wait if need be
		if ( wait !== true && --jQuery.readyWait > 0 ) {
			return;
		}

		// If there are functions bound, to execute
		readyList.resolveWith( document, [ jQuery ] );
	}
} );

jQuery.ready.then = readyList.then;

// The ready event handler and self cleanup method
function completed() {
	document.removeEventListener( "DOMContentLoaded", completed );
	window.removeEventListener( "load", completed );
	jQuery.ready();
}

// Catch cases where $(document).ready() is called
// after the browser event has already occurred.
// Support: IE <=9 - 10 only
// Older IE sometimes signals "interactive" too soon
if ( document.readyState === "complete" ||
	( document.readyState !== "loading" && !document.documentElement.doScroll ) ) {

	// Handle it asynchronously to allow scripts the opportunity to delay ready
	window.setTimeout( jQuery.ready );

} else {

	// Use the handy event callback
	document.addEventListener( "DOMContentLoaded", completed );

	// A fallback to window.onload, that will always work
	window.addEventListener( "load", completed );
}




// Multifunctional method to get and set values of a collection
// The value/s can optionally be executed if it's a function
var access = function( elems, fn, key, value, chainable, emptyGet, raw ) {
	var i = 0,
		len = elems.length,
		bulk = key == null;

	// Sets many values
	if ( toType( key ) === "object" ) {
		chainable = true;
		for ( i in key ) {
			access( elems, fn, i, key[ i ], true, emptyGet, raw );
		}

	// Sets one value
	} else if ( value !== undefined ) {
		chainable = true;

		if ( !isFunction( value ) ) {
			raw = true;
		}

		if ( bulk ) {

			// Bulk operations run against the entire set
			if ( raw ) {
				fn.call( elems, value );
				fn = null;

			// ...except when executing function values
			} else {
				bulk = fn;
				fn = function( elem, key, value ) {
					return bulk.call( jQuery( elem ), value );
				};
			}
		}

		if ( fn ) {
			for ( ; i < len; i++ ) {
				fn(
					elems[ i ], key, raw ?
					value :
					value.call( elems[ i ], i, fn( elems[ i ], key ) )
				);
			}
		}
	}

	if ( chainable ) {
		return elems;
	}

	// Gets
	if ( bulk ) {
		return fn.call( elems );
	}

	return len ? fn( elems[ 0 ], key ) : emptyGet;
};


// Matches dashed string for camelizing
var rmsPrefix = /^-ms-/,
	rdashAlpha = /-([a-z])/g;

// Used by camelCase as callback to replace()
function fcamelCase( all, letter ) {
	return letter.toUpperCase();
}

// Convert dashed to camelCase; used by the css and data modules
// Support: IE <=9 - 11, Edge 12 - 15
// Microsoft forgot to hump their vendor prefix (#9572)
function camelCase( string ) {
	return string.replace( rmsPrefix, "ms-" ).replace( rdashAlpha, fcamelCase );
}
var acceptData = function( owner ) {

	// Accepts only:
	//  - Node
	//    - Node.ELEMENT_NODE
	//    - Node.DOCUMENT_NODE
	//  - Object
	//    - Any
	return owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );
};




function Data() {
	this.expando = jQuery.expando + Data.uid++;
}

Data.uid = 1;

Data.prototype = {

	cache: function( owner ) {

		// Check if the owner object already has a cache
		var value = owner[ this.expando ];

		// If not, create one
		if ( !value ) {
			value = {};

			// We can accept data for non-element nodes in modern browsers,
			// but we should not, see #8335.
			// Always return an empty object.
			if ( acceptData( owner ) ) {

				// If it is a node unlikely to be stringify-ed or looped over
				// use plain assignment
				if ( owner.nodeType ) {
					owner[ this.expando ] = value;

				// Otherwise secure it in a non-enumerable property
				// configurable must be true to allow the property to be
				// deleted when data is removed
				} else {
					Object.defineProperty( owner, this.expando, {
						value: value,
						configurable: true
					} );
				}
			}
		}

		return value;
	},
	set: function( owner, data, value ) {
		var prop,
			cache = this.cache( owner );

		// Handle: [ owner, key, value ] args
		// Always use camelCase key (gh-2257)
		if ( typeof data === "string" ) {
			cache[ camelCase( data ) ] = value;

		// Handle: [ owner, { properties } ] args
		} else {

			// Copy the properties one-by-one to the cache object
			for ( prop in data ) {
				cache[ camelCase( prop ) ] = data[ prop ];
			}
		}
		return cache;
	},
	get: function( owner, key ) {
		return key === undefined ?
			this.cache( owner ) :

			// Always use camelCase key (gh-2257)
			owner[ this.expando ] && owner[ this.expando ][ camelCase( key ) ];
	},
	access: function( owner, key, value ) {

		// In cases where either:
		//
		//   1. No key was specified
		//   2. A string key was specified, but no value provided
		//
		// Take the "read" path and allow the get method to determine
		// which value to return, respectively either:
		//
		//   1. The entire cache object
		//   2. The data stored at the key
		//
		if ( key === undefined ||
				( ( key && typeof key === "string" ) && value === undefined ) ) {

			return this.get( owner, key );
		}

		// When the key is not a string, or both a key and value
		// are specified, set or extend (existing objects) with either:
		//
		//   1. An object of properties
		//   2. A key and value
		//
		this.set( owner, key, value );

		// Since the "set" path can have two possible entry points
		// return the expected data based on which path was taken[*]
		return value !== undefined ? value : key;
	},
	remove: function( owner, key ) {
		var i,
			cache = owner[ this.expando ];

		if ( cache === undefined ) {
			return;
		}

		if ( key !== undefined ) {

			// Support array or space separated string of keys
			if ( Array.isArray( key ) ) {

				// If key is an array of keys...
				// We always set camelCase keys, so remove that.
				key = key.map( camelCase );
			} else {
				key = camelCase( key );

				// If a key with the spaces exists, use it.
				// Otherwise, create an array by matching non-whitespace
				key = key in cache ?
					[ key ] :
					( key.match( rnothtmlwhite ) || [] );
			}

			i = key.length;

			while ( i-- ) {
				delete cache[ key[ i ] ];
			}
		}

		// Remove the expando if there's no more data
		if ( key === undefined || jQuery.isEmptyObject( cache ) ) {

			// Support: Chrome <=35 - 45
			// Webkit & Blink performance suffers when deleting properties
			// from DOM nodes, so set to undefined instead
			// https://bugs.chromium.org/p/chromium/issues/detail?id=378607 (bug restricted)
			if ( owner.nodeType ) {
				owner[ this.expando ] = undefined;
			} else {
				delete owner[ this.expando ];
			}
		}
	},
	hasData: function( owner ) {
		var cache = owner[ this.expando ];
		return cache !== undefined && !jQuery.isEmptyObject( cache );
	}
};
var dataPriv = new Data();

var dataUser = new Data();



//	Implementation Summary
//
//	1. Enforce API surface and semantic compatibility with 1.9.x branch
//	2. Improve the module's maintainability by reducing the storage
//		paths to a single mechanism.
//	3. Use the same single mechanism to support "private" and "user" data.
//	4. _Never_ expose "private" data to user code (TODO: Drop _data, _removeData)
//	5. Avoid exposing implementation details on user objects (eg. expando properties)
//	6. Provide a clear path for implementation upgrade to WeakMap in 2014

var rbrace = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
	rmultiDash = /[A-Z]/g;

function getData( data ) {
	if ( data === "true" ) {
		return true;
	}

	if ( data === "false" ) {
		return false;
	}

	if ( data === "null" ) {
		return null;
	}

	// Only convert to a number if it doesn't change the string
	if ( data === +data + "" ) {
		return +data;
	}

	if ( rbrace.test( data ) ) {
		return JSON.parse( data );
	}

	return data;
}

function dataAttr( elem, key, data ) {
	var name;

	// If nothing was found internally, try to fetch any
	// data from the HTML5 data-* attribute
	if ( data === undefined && elem.nodeType === 1 ) {
		name = "data-" + key.replace( rmultiDash, "-$&" ).toLowerCase();
		data = elem.getAttribute( name );

		if ( typeof data === "string" ) {
			try {
				data = getData( data );
			} catch ( e ) {}

			// Make sure we set the data so it isn't changed later
			dataUser.set( elem, key, data );
		} else {
			data = undefined;
		}
	}
	return data;
}

jQuery.extend( {
	hasData: function( elem ) {
		return dataUser.hasData( elem ) || dataPriv.hasData( elem );
	},

	data: function( elem, name, data ) {
		return dataUser.access( elem, name, data );
	},

	removeData: function( elem, name ) {
		dataUser.remove( elem, name );
	},

	// TODO: Now that all calls to _data and _removeData have been replaced
	// with direct calls to dataPriv methods, these can be deprecated.
	_data: function( elem, name, data ) {
		return dataPriv.access( elem, name, data );
	},

	_removeData: function( elem, name ) {
		dataPriv.remove( elem, name );
	}
} );

jQuery.fn.extend( {
	data: function( key, value ) {
		var i, name, data,
			elem = this[ 0 ],
			attrs = elem && elem.attributes;

		// Gets all values
		if ( key === undefined ) {
			if ( this.length ) {
				data = dataUser.get( elem );

				if ( elem.nodeType === 1 && !dataPriv.get( elem, "hasDataAttrs" ) ) {
					i = attrs.length;
					while ( i-- ) {

						// Support: IE 11 only
						// The attrs elements can be null (#14894)
						if ( attrs[ i ] ) {
							name = attrs[ i ].name;
							if ( name.indexOf( "data-" ) === 0 ) {
								name = camelCase( name.slice( 5 ) );
								dataAttr( elem, name, data[ name ] );
							}
						}
					}
					dataPriv.set( elem, "hasDataAttrs", true );
				}
			}

			return data;
		}

		// Sets multiple values
		if ( typeof key === "object" ) {
			return this.each( function() {
				dataUser.set( this, key );
			} );
		}

		return access( this, function( value ) {
			var data;

			// The calling jQuery object (element matches) is not empty
			// (and therefore has an element appears at this[ 0 ]) and the
			// `value` parameter was not undefined. An empty jQuery object
			// will result in `undefined` for elem = this[ 0 ] which will
			// throw an exception if an attempt to read a data cache is made.
			if ( elem && value === undefined ) {

				// Attempt to get data from the cache
				// The key will always be camelCased in Data
				data = dataUser.get( elem, key );
				if ( data !== undefined ) {
					return data;
				}

				// Attempt to "discover" the data in
				// HTML5 custom data-* attrs
				data = dataAttr( elem, key );
				if ( data !== undefined ) {
					return data;
				}

				// We tried really hard, but the data doesn't exist.
				return;
			}

			// Set the data...
			this.each( function() {

				// We always store the camelCased key
				dataUser.set( this, key, value );
			} );
		}, null, value, arguments.length > 1, null, true );
	},

	removeData: function( key ) {
		return this.each( function() {
			dataUser.remove( this, key );
		} );
	}
} );


jQuery.extend( {
	queue: function( elem, type, data ) {
		var queue;

		if ( elem ) {
			type = ( type || "fx" ) + "queue";
			queue = dataPriv.get( elem, type );

			// Speed up dequeue by getting out quickly if this is just a lookup
			if ( data ) {
				if ( !queue || Array.isArray( data ) ) {
					queue = dataPriv.access( elem, type, jQuery.makeArray( data ) );
				} else {
					queue.push( data );
				}
			}
			return queue || [];
		}
	},

	dequeue: function( elem, type ) {
		type = type || "fx";

		var queue = jQuery.queue( elem, type ),
			startLength = queue.length,
			fn = queue.shift(),
			hooks = jQuery._queueHooks( elem, type ),
			next = function() {
				jQuery.dequeue( elem, type );
			};

		// If the fx queue is dequeued, always remove the progress sentinel
		if ( fn === "inprogress" ) {
			fn = queue.shift();
			startLength--;
		}

		if ( fn ) {

			// Add a progress sentinel to prevent the fx queue from being
			// automatically dequeued
			if ( type === "fx" ) {
				queue.unshift( "inprogress" );
			}

			// Clear up the last queue stop function
			delete hooks.stop;
			fn.call( elem, next, hooks );
		}

		if ( !startLength && hooks ) {
			hooks.empty.fire();
		}
	},

	// Not public - generate a queueHooks object, or return the current one
	_queueHooks: function( elem, type ) {
		var key = type + "queueHooks";
		return dataPriv.get( elem, key ) || dataPriv.access( elem, key, {
			empty: jQuery.Callbacks( "once memory" ).add( function() {
				dataPriv.remove( elem, [ type + "queue", key ] );
			} )
		} );
	}
} );

jQuery.fn.extend( {
	queue: function( type, data ) {
		var setter = 2;

		if ( typeof type !== "string" ) {
			data = type;
			type = "fx";
			setter--;
		}

		if ( arguments.length < setter ) {
			return jQuery.queue( this[ 0 ], type );
		}

		return data === undefined ?
			this :
			this.each( function() {
				var queue = jQuery.queue( this, type, data );

				// Ensure a hooks for this queue
				jQuery._queueHooks( this, type );

				if ( type === "fx" && queue[ 0 ] !== "inprogress" ) {
					jQuery.dequeue( this, type );
				}
			} );
	},
	dequeue: function( type ) {
		return this.each( function() {
			jQuery.dequeue( this, type );
		} );
	},
	clearQueue: function( type ) {
		return this.queue( type || "fx", [] );
	},

	// Get a promise resolved when queues of a certain type
	// are emptied (fx is the type by default)
	promise: function( type, obj ) {
		var tmp,
			count = 1,
			defer = jQuery.Deferred(),
			elements = this,
			i = this.length,
			resolve = function() {
				if ( !( --count ) ) {
					defer.resolveWith( elements, [ elements ] );
				}
			};

		if ( typeof type !== "string" ) {
			obj = type;
			type = undefined;
		}
		type = type || "fx";

		while ( i-- ) {
			tmp = dataPriv.get( elements[ i ], type + "queueHooks" );
			if ( tmp && tmp.empty ) {
				count++;
				tmp.empty.add( resolve );
			}
		}
		resolve();
		return defer.promise( obj );
	}
} );
var pnum = ( /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/ ).source;

var rcssNum = new RegExp( "^(?:([+-])=|)(" + pnum + ")([a-z%]*)$", "i" );


var cssExpand = [ "Top", "Right", "Bottom", "Left" ];

var documentElement = document.documentElement;



	var isAttached = function( elem ) {
			return jQuery.contains( elem.ownerDocument, elem );
		},
		composed = { composed: true };

	// Support: IE 9 - 11+, Edge 12 - 18+, iOS 10.0 - 10.2 only
	// Check attachment across shadow DOM boundaries when possible (gh-3504)
	// Support: iOS 10.0-10.2 only
	// Early iOS 10 versions support `attachShadow` but not `getRootNode`,
	// leading to errors. We need to check for `getRootNode`.
	if ( documentElement.getRootNode ) {
		isAttached = function( elem ) {
			return jQuery.contains( elem.ownerDocument, elem ) ||
				elem.getRootNode( composed ) === elem.ownerDocument;
		};
	}
var isHiddenWithinTree = function( elem, el ) {

		// isHiddenWithinTree might be called from jQuery#filter function;
		// in that case, element will be second argument
		elem = el || elem;

		// Inline style trumps all
		return elem.style.display === "none" ||
			elem.style.display === "" &&

			// Otherwise, check computed style
			// Support: Firefox <=43 - 45
			// Disconnected elements can have computed display: none, so first confirm that elem is
			// in the document.
			isAttached( elem ) &&

			jQuery.css( elem, "display" ) === "none";
	};

var swap = function( elem, options, callback, args ) {
	var ret, name,
		old = {};

	// Remember the old values, and insert the new ones
	for ( name in options ) {
		old[ name ] = elem.style[ name ];
		elem.style[ name ] = options[ name ];
	}

	ret = callback.apply( elem, args || [] );

	// Revert the old values
	for ( name in options ) {
		elem.style[ name ] = old[ name ];
	}

	return ret;
};




function adjustCSS( elem, prop, valueParts, tween ) {
	var adjusted, scale,
		maxIterations = 20,
		currentValue = tween ?
			function() {
				return tween.cur();
			} :
			function() {
				return jQuery.css( elem, prop, "" );
			},
		initial = currentValue(),
		unit = valueParts && valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? "" : "px" ),

		// Starting value computation is required for potential unit mismatches
		initialInUnit = elem.nodeType &&
			( jQuery.cssNumber[ prop ] || unit !== "px" && +initial ) &&
			rcssNum.exec( jQuery.css( elem, prop ) );

	if ( initialInUnit && initialInUnit[ 3 ] !== unit ) {

		// Support: Firefox <=54
		// Halve the iteration target value to prevent interference from CSS upper bounds (gh-2144)
		initial = initial / 2;

		// Trust units reported by jQuery.css
		unit = unit || initialInUnit[ 3 ];

		// Iteratively approximate from a nonzero starting point
		initialInUnit = +initial || 1;

		while ( maxIterations-- ) {

			// Evaluate and update our best guess (doubling guesses that zero out).
			// Finish if the scale equals or crosses 1 (making the old*new product non-positive).
			jQuery.style( elem, prop, initialInUnit + unit );
			if ( ( 1 - scale ) * ( 1 - ( scale = currentValue() / initial || 0.5 ) ) <= 0 ) {
				maxIterations = 0;
			}
			initialInUnit = initialInUnit / scale;

		}

		initialInUnit = initialInUnit * 2;
		jQuery.style( elem, prop, initialInUnit + unit );

		// Make sure we update the tween properties later on
		valueParts = valueParts || [];
	}

	if ( valueParts ) {
		initialInUnit = +initialInUnit || +initial || 0;

		// Apply relative offset (+=/-=) if specified
		adjusted = valueParts[ 1 ] ?
			initialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] :
			+valueParts[ 2 ];
		if ( tween ) {
			tween.unit = unit;
			tween.start = initialInUnit;
			tween.end = adjusted;
		}
	}
	return adjusted;
}


var defaultDisplayMap = {};

function getDefaultDisplay( elem ) {
	var temp,
		doc = elem.ownerDocument,
		nodeName = elem.nodeName,
		display = defaultDisplayMap[ nodeName ];

	if ( display ) {
		return display;
	}

	temp = doc.body.appendChild( doc.createElement( nodeName ) );
	display = jQuery.css( temp, "display" );

	temp.parentNode.removeChild( temp );

	if ( display === "none" ) {
		display = "block";
	}
	defaultDisplayMap[ nodeName ] = display;

	return display;
}

function showHide( elements, show ) {
	var display, elem,
		values = [],
		index = 0,
		length = elements.length;

	// Determine new display value for elements that need to change
	for ( ; index < length; index++ ) {
		elem = elements[ index ];
		if ( !elem.style ) {
			continue;
		}

		display = elem.style.display;
		if ( show ) {

			// Since we force visibility upon cascade-hidden elements, an immediate (and slow)
			// check is required in this first loop unless we have a nonempty display value (either
			// inline or about-to-be-restored)
			if ( display === "none" ) {
				values[ index ] = dataPriv.get( elem, "display" ) || null;
				if ( !values[ index ] ) {
					elem.style.display = "";
				}
			}
			if ( elem.style.display === "" && isHiddenWithinTree( elem ) ) {
				values[ index ] = getDefaultDisplay( elem );
			}
		} else {
			if ( display !== "none" ) {
				values[ index ] = "none";

				// Remember what we're overwriting
				dataPriv.set( elem, "display", display );
			}
		}
	}

	// Set the display of the elements in a second loop to avoid constant reflow
	for ( index = 0; index < length; index++ ) {
		if ( values[ index ] != null ) {
			elements[ index ].style.display = values[ index ];
		}
	}

	return elements;
}

jQuery.fn.extend( {
	show: function() {
		return showHide( this, true );
	},
	hide: function() {
		return showHide( this );
	},
	toggle: function( state ) {
		if ( typeof state === "boolean" ) {
			return state ? this.show() : this.hide();
		}

		return this.each( function() {
			if ( isHiddenWithinTree( this ) ) {
				jQuery( this ).show();
			} else {
				jQuery( this ).hide();
			}
		} );
	}
} );
var rcheckableType = ( /^(?:checkbox|radio)$/i );

var rtagName = ( /<([a-z][^\/\0>\x20\t\r\n\f]*)/i );

var rscriptType = ( /^$|^module$|\/(?:java|ecma)script/i );



// We have to close these tags to support XHTML (#13200)
var wrapMap = {

	// Support: IE <=9 only
	option: [ 1, "<select multiple='multiple'>", "</select>" ],

	// XHTML parsers do not magically insert elements in the
	// same way that tag soup parsers do. So we cannot shorten
	// this by omitting <tbody> or other required elements.
	thead: [ 1, "<table>", "</table>" ],
	col: [ 2, "<table><colgroup>", "</colgroup></table>" ],
	tr: [ 2, "<table><tbody>", "</tbody></table>" ],
	td: [ 3, "<table><tbody><tr>", "</tr></tbody></table>" ],

	_default: [ 0, "", "" ]
};

// Support: IE <=9 only
wrapMap.optgroup = wrapMap.option;

wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;
wrapMap.th = wrapMap.td;


function getAll( context, tag ) {

	// Support: IE <=9 - 11 only
	// Use typeof to avoid zero-argument method invocation on host objects (#15151)
	var ret;

	if ( typeof context.getElementsByTagName !== "undefined" ) {
		ret = context.getElementsByTagName( tag || "*" );

	} else if ( typeof context.querySelectorAll !== "undefined" ) {
		ret = context.querySelectorAll( tag || "*" );

	} else {
		ret = [];
	}

	if ( tag === undefined || tag && nodeName( context, tag ) ) {
		return jQuery.merge( [ context ], ret );
	}

	return ret;
}


// Mark scripts as having already been evaluated
function setGlobalEval( elems, refElements ) {
	var i = 0,
		l = elems.length;

	for ( ; i < l; i++ ) {
		dataPriv.set(
			elems[ i ],
			"globalEval",
			!refElements || dataPriv.get( refElements[ i ], "globalEval" )
		);
	}
}


var rhtml = /<|&#?\w+;/;

function buildFragment( elems, context, scripts, selection, ignored ) {
	var elem, tmp, tag, wrap, attached, j,
		fragment = context.createDocumentFragment(),
		nodes = [],
		i = 0,
		l = elems.length;

	for ( ; i < l; i++ ) {
		elem = elems[ i ];

		if ( elem || elem === 0 ) {

			// Add nodes directly
			if ( toType( elem ) === "object" ) {

				// Support: Android <=4.0 only, PhantomJS 1 only
				// push.apply(_, arraylike) throws on ancient WebKit
				jQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );

			// Convert non-html into a text node
			} else if ( !rhtml.test( elem ) ) {
				nodes.push( context.createTextNode( elem ) );

			// Convert html into DOM nodes
			} else {
				tmp = tmp || fragment.appendChild( context.createElement( "div" ) );

				// Deserialize a standard representation
				tag = ( rtagName.exec( elem ) || [ "", "" ] )[ 1 ].toLowerCase();
				wrap = wrapMap[ tag ] || wrapMap._default;
				tmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ];

				// Descend through wrappers to the right content
				j = wrap[ 0 ];
				while ( j-- ) {
					tmp = tmp.lastChild;
				}

				// Support: Android <=4.0 only, PhantomJS 1 only
				// push.apply(_, arraylike) throws on ancient WebKit
				jQuery.merge( nodes, tmp.childNodes );

				// Remember the top-level container
				tmp = fragment.firstChild;

				// Ensure the created nodes are orphaned (#12392)
				tmp.textContent = "";
			}
		}
	}

	// Remove wrapper from fragment
	fragment.textContent = "";

	i = 0;
	while ( ( elem = nodes[ i++ ] ) ) {

		// Skip elements already in the context collection (trac-4087)
		if ( selection && jQuery.inArray( elem, selection ) > -1 ) {
			if ( ignored ) {
				ignored.push( elem );
			}
			continue;
		}

		attached = isAttached( elem );

		// Append to fragment
		tmp = getAll( fragment.appendChild( elem ), "script" );

		// Preserve script evaluation history
		if ( attached ) {
			setGlobalEval( tmp );
		}

		// Capture executables
		if ( scripts ) {
			j = 0;
			while ( ( elem = tmp[ j++ ] ) ) {
				if ( rscriptType.test( elem.type || "" ) ) {
					scripts.push( elem );
				}
			}
		}
	}

	return fragment;
}


( function() {
	var fragment = document.createDocumentFragment(),
		div = fragment.appendChild( document.createElement( "div" ) ),
		input = document.createElement( "input" );

	// Support: Android 4.0 - 4.3 only
	// Check state lost if the name is set (#11217)
	// Support: Windows Web Apps (WWA)
	// `name` and `type` must use .setAttribute for WWA (#14901)
	input.setAttribute( "type", "radio" );
	input.setAttribute( "checked", "checked" );
	input.setAttribute( "name", "t" );

	div.appendChild( input );

	// Support: Android <=4.1 only
	// Older WebKit doesn't clone checked state correctly in fragments
	support.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;

	// Support: IE <=11 only
	// Make sure textarea (and checkbox) defaultValue is properly cloned
	div.innerHTML = "<textarea>x</textarea>";
	support.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;
} )();


var
	rkeyEvent = /^key/,
	rmouseEvent = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,
	rtypenamespace = /^([^.]*)(?:\.(.+)|)/;

function returnTrue() {
	return true;
}

function returnFalse() {
	return false;
}

// Support: IE <=9 - 11+
// focus() and blur() are asynchronous, except when they are no-op.
// So expect focus to be synchronous when the element is already active,
// and blur to be synchronous when the element is not already active.
// (focus and blur are always synchronous in other supported browsers,
// this just defines when we can count on it).
function expectSync( elem, type ) {
	return ( elem === safeActiveElement() ) === ( type === "focus" );
}

// Support: IE <=9 only
// Accessing document.activeElement can throw unexpectedly
// https://bugs.jquery.com/ticket/13393
function safeActiveElement() {
	try {
		return document.activeElement;
	} catch ( err ) { }
}

function on( elem, types, selector, data, fn, one ) {
	var origFn, type;

	// Types can be a map of types/handlers
	if ( typeof types === "object" ) {

		// ( types-Object, selector, data )
		if ( typeof selector !== "string" ) {

			// ( types-Object, data )
			data = data || selector;
			selector = undefined;
		}
		for ( type in types ) {
			on( elem, type, selector, data, types[ type ], one );
		}
		return elem;
	}

	if ( data == null && fn == null ) {

		// ( types, fn )
		fn = selector;
		data = selector = undefined;
	} else if ( fn == null ) {
		if ( typeof selector === "string" ) {

			// ( types, selector, fn )
			fn = data;
			data = undefined;
		} else {

			// ( types, data, fn )
			fn = data;
			data = selector;
			selector = undefined;
		}
	}
	if ( fn === false ) {
		fn = returnFalse;
	} else if ( !fn ) {
		return elem;
	}

	if ( one === 1 ) {
		origFn = fn;
		fn = function( event ) {

			// Can use an empty set, since event contains the info
			jQuery().off( event );
			return origFn.apply( this, arguments );
		};

		// Use same guid so caller can remove using origFn
		fn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );
	}
	return elem.each( function() {
		jQuery.event.add( this, types, fn, data, selector );
	} );
}

/*
 * Helper functions for managing events -- not part of the public interface.
 * Props to Dean Edwards' addEvent library for many of the ideas.
 */
jQuery.event = {

	global: {},

	add: function( elem, types, handler, data, selector ) {

		var handleObjIn, eventHandle, tmp,
			events, t, handleObj,
			special, handlers, type, namespaces, origType,
			elemData = dataPriv.get( elem );

		// Don't attach events to noData or text/comment nodes (but allow plain objects)
		if ( !elemData ) {
			return;
		}

		// Caller can pass in an object of custom data in lieu of the handler
		if ( handler.handler ) {
			handleObjIn = handler;
			handler = handleObjIn.handler;
			selector = handleObjIn.selector;
		}

		// Ensure that invalid selectors throw exceptions at attach time
		// Evaluate against documentElement in case elem is a non-element node (e.g., document)
		if ( selector ) {
			jQuery.find.matchesSelector( documentElement, selector );
		}

		// Make sure that the handler has a unique ID, used to find/remove it later
		if ( !handler.guid ) {
			handler.guid = jQuery.guid++;
		}

		// Init the element's event structure and main handler, if this is the first
		if ( !( events = elemData.events ) ) {
			events = elemData.events = {};
		}
		if ( !( eventHandle = elemData.handle ) ) {
			eventHandle = elemData.handle = function( e ) {

				// Discard the second event of a jQuery.event.trigger() and
				// when an event is called after a page has unloaded
				return typeof jQuery !== "undefined" && jQuery.event.triggered !== e.type ?
					jQuery.event.dispatch.apply( elem, arguments ) : undefined;
			};
		}

		// Handle multiple events separated by a space
		types = ( types || "" ).match( rnothtmlwhite ) || [ "" ];
		t = types.length;
		while ( t-- ) {
			tmp = rtypenamespace.exec( types[ t ] ) || [];
			type = origType = tmp[ 1 ];
			namespaces = ( tmp[ 2 ] || "" ).split( "." ).sort();

			// There *must* be a type, no attaching namespace-only handlers
			if ( !type ) {
				continue;
			}

			// If event changes its type, use the special event handlers for the changed type
			special = jQuery.event.special[ type ] || {};

			// If selector defined, determine special event api type, otherwise given type
			type = ( selector ? special.delegateType : special.bindType ) || type;

			// Update special based on newly reset type
			special = jQuery.event.special[ type ] || {};

			// handleObj is passed to all event handlers
			handleObj = jQuery.extend( {
				type: type,
				origType: origType,
				data: data,
				handler: handler,
				guid: handler.guid,
				selector: selector,
				needsContext: selector && jQuery.expr.match.needsContext.test( selector ),
				namespace: namespaces.join( "." )
			}, handleObjIn );

			// Init the event handler queue if we're the first
			if ( !( handlers = events[ type ] ) ) {
				handlers = events[ type ] = [];
				handlers.delegateCount = 0;

				// Only use addEventListener if the special events handler returns false
				if ( !special.setup ||
					special.setup.call( elem, data, namespaces, eventHandle ) === false ) {

					if ( elem.addEventListener ) {
						elem.addEventListener( type, eventHandle );
					}
				}
			}

			if ( special.add ) {
				special.add.call( elem, handleObj );

				if ( !handleObj.handler.guid ) {
					handleObj.handler.guid = handler.guid;
				}
			}

			// Add to the element's handler list, delegates in front
			if ( selector ) {
				handlers.splice( handlers.delegateCount++, 0, handleObj );
			} else {
				handlers.push( handleObj );
			}

			// Keep track of which events have ever been used, for event optimization
			jQuery.event.global[ type ] = true;
		}

	},

	// Detach an event or set of events from an element
	remove: function( elem, types, handler, selector, mappedTypes ) {

		var j, origCount, tmp,
			events, t, handleObj,
			special, handlers, type, namespaces, origType,
			elemData = dataPriv.hasData( elem ) && dataPriv.get( elem );

		if ( !elemData || !( events = elemData.events ) ) {
			return;
		}

		// Once for each type.namespace in types; type may be omitted
		types = ( types || "" ).match( rnothtmlwhite ) || [ "" ];
		t = types.length;
		while ( t-- ) {
			tmp = rtypenamespace.exec( types[ t ] ) || [];
			type = origType = tmp[ 1 ];
			namespaces = ( tmp[ 2 ] || "" ).split( "." ).sort();

			// Unbind all events (on this namespace, if provided) for the element
			if ( !type ) {
				for ( type in events ) {
					jQuery.event.remove( elem, type + types[ t ], handler, selector, true );
				}
				continue;
			}

			special = jQuery.event.special[ type ] || {};
			type = ( selector ? special.delegateType : special.bindType ) || type;
			handlers = events[ type ] || [];
			tmp = tmp[ 2 ] &&
				new RegExp( "(^|\\.)" + namespaces.join( "\\.(?:.*\\.|)" ) + "(\\.|$)" );

			// Remove matching events
			origCount = j = handlers.length;
			while ( j-- ) {
				handleObj = handlers[ j ];

				if ( ( mappedTypes || origType === handleObj.origType ) &&
					( !handler || handler.guid === handleObj.guid ) &&
					( !tmp || tmp.test( handleObj.namespace ) ) &&
					( !selector || selector === handleObj.selector ||
						selector === "**" && handleObj.selector ) ) {
					handlers.splice( j, 1 );

					if ( handleObj.selector ) {
						handlers.delegateCount--;
					}
					if ( special.remove ) {
						special.remove.call( elem, handleObj );
					}
				}
			}

			// Remove generic event handler if we removed something and no more handlers exist
			// (avoids potential for endless recursion during removal of special event handlers)
			if ( origCount && !handlers.length ) {
				if ( !special.teardown ||
					special.teardown.call( elem, namespaces, elemData.handle ) === false ) {

					jQuery.removeEvent( elem, type, elemData.handle );
				}

				delete events[ type ];
			}
		}

		// Remove data and the expando if it's no longer used
		if ( jQuery.isEmptyObject( events ) ) {
			dataPriv.remove( elem, "handle events" );
		}
	},

	dispatch: function( nativeEvent ) {

		// Make a writable jQuery.Event from the native event object
		var event = jQuery.event.fix( nativeEvent );

		var i, j, ret, matched, handleObj, handlerQueue,
			args = new Array( arguments.length ),
			handlers = ( dataPriv.get( this, "events" ) || {} )[ event.type ] || [],
			special = jQuery.event.special[ event.type ] || {};

		// Use the fix-ed jQuery.Event rather than the (read-only) native event
		args[ 0 ] = event;

		for ( i = 1; i < arguments.length; i++ ) {
			args[ i ] = arguments[ i ];
		}

		event.delegateTarget = this;

		// Call the preDispatch hook for the mapped type, and let it bail if desired
		if ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {
			return;
		}

		// Determine handlers
		handlerQueue = jQuery.event.handlers.call( this, event, handlers );

		// Run delegates first; they may want to stop propagation beneath us
		i = 0;
		while ( ( matched = handlerQueue[ i++ ] ) && !event.isPropagationStopped() ) {
			event.currentTarget = matched.elem;

			j = 0;
			while ( ( handleObj = matched.handlers[ j++ ] ) &&
				!event.isImmediatePropagationStopped() ) {

				// If the event is namespaced, then each handler is only invoked if it is
				// specially universal or its namespaces are a superset of the event's.
				if ( !event.rnamespace || handleObj.namespace === false ||
					event.rnamespace.test( handleObj.namespace ) ) {

					event.handleObj = handleObj;
					event.data = handleObj.data;

					ret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle ||
						handleObj.handler ).apply( matched.elem, args );

					if ( ret !== undefined ) {
						if ( ( event.result = ret ) === false ) {
							event.preventDefault();
							event.stopPropagation();
						}
					}
				}
			}
		}

		// Call the postDispatch hook for the mapped type
		if ( special.postDispatch ) {
			special.postDispatch.call( this, event );
		}

		return event.result;
	},

	handlers: function( event, handlers ) {
		var i, handleObj, sel, matchedHandlers, matchedSelectors,
			handlerQueue = [],
			delegateCount = handlers.delegateCount,
			cur = event.target;

		// Find delegate handlers
		if ( delegateCount &&

			// Support: IE <=9
			// Black-hole SVG <use> instance trees (trac-13180)
			cur.nodeType &&

			// Support: Firefox <=42
			// Suppress spec-violating clicks indicating a non-primary pointer button (trac-3861)
			// https://www.w3.org/TR/DOM-Level-3-Events/#event-type-click
			// Support: IE 11 only
			// ...but not arrow key "clicks" of radio inputs, which can have `button` -1 (gh-2343)
			!( event.type === "click" && event.button >= 1 ) ) {

			for ( ; cur !== this; cur = cur.parentNode || this ) {

				// Don't check non-elements (#13208)
				// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)
				if ( cur.nodeType === 1 && !( event.type === "click" && cur.disabled === true ) ) {
					matchedHandlers = [];
					matchedSelectors = {};
					for ( i = 0; i < delegateCount; i++ ) {
						handleObj = handlers[ i ];

						// Don't conflict with Object.prototype properties (#13203)
						sel = handleObj.selector + " ";

						if ( matchedSelectors[ sel ] === undefined ) {
							matchedSelectors[ sel ] = handleObj.needsContext ?
								jQuery( sel, this ).index( cur ) > -1 :
								jQuery.find( sel, this, null, [ cur ] ).length;
						}
						if ( matchedSelectors[ sel ] ) {
							matchedHandlers.push( handleObj );
						}
					}
					if ( matchedHandlers.length ) {
						handlerQueue.push( { elem: cur, handlers: matchedHandlers } );
					}
				}
			}
		}

		// Add the remaining (directly-bound) handlers
		cur = this;
		if ( delegateCount < handlers.length ) {
			handlerQueue.push( { elem: cur, handlers: handlers.slice( delegateCount ) } );
		}

		return handlerQueue;
	},

	addProp: function( name, hook ) {
		Object.defineProperty( jQuery.Event.prototype, name, {
			enumerable: true,
			configurable: true,

			get: isFunction( hook ) ?
				function() {
					if ( this.originalEvent ) {
							return hook( this.originalEvent );
					}
				} :
				function() {
					if ( this.originalEvent ) {
							return this.originalEvent[ name ];
					}
				},

			set: function( value ) {
				Object.defineProperty( this, name, {
					enumerable: true,
					configurable: true,
					writable: true,
					value: value
				} );
			}
		} );
	},

	fix: function( originalEvent ) {
		return originalEvent[ jQuery.expando ] ?
			originalEvent :
			new jQuery.Event( originalEvent );
	},

	special: {
		load: {

			// Prevent triggered image.load events from bubbling to window.load
			noBubble: true
		},
		click: {

			// Utilize native event to ensure correct state for checkable inputs
			setup: function( data ) {

				// For mutual compressibility with _default, replace `this` access with a local var.
				// `|| data` is dead code meant only to preserve the variable through minification.
				var el = this || data;

				// Claim the first handler
				if ( rcheckableType.test( el.type ) &&
					el.click && nodeName( el, "input" ) ) {

					// dataPriv.set( el, "click", ... )
					leverageNative( el, "click", returnTrue );
				}

				// Return false to allow normal processing in the caller
				return false;
			},
			trigger: function( data ) {

				// For mutual compressibility with _default, replace `this` access with a local var.
				// `|| data` is dead code meant only to preserve the variable through minification.
				var el = this || data;

				// Force setup before triggering a click
				if ( rcheckableType.test( el.type ) &&
					el.click && nodeName( el, "input" ) ) {

					leverageNative( el, "click" );
				}

				// Return non-false to allow normal event-path propagation
				return true;
			},

			// For cross-browser consistency, suppress native .click() on links
			// Also prevent it if we're currently inside a leveraged native-event stack
			_default: function( event ) {
				var target = event.target;
				return rcheckableType.test( target.type ) &&
					target.click && nodeName( target, "input" ) &&
					dataPriv.get( target, "click" ) ||
					nodeName( target, "a" );
			}
		},

		beforeunload: {
			postDispatch: function( event ) {

				// Support: Firefox 20+
				// Firefox doesn't alert if the returnValue field is not set.
				if ( event.result !== undefined && event.originalEvent ) {
					event.originalEvent.returnValue = event.result;
				}
			}
		}
	}
};

// Ensure the presence of an event listener that handles manually-triggered
// synthetic events by interrupting progress until reinvoked in response to
// *native* events that it fires directly, ensuring that state changes have
// already occurred before other listeners are invoked.
function leverageNative( el, type, expectSync ) {

	// Missing expectSync indicates a trigger call, which must force setup through jQuery.event.add
	if ( !expectSync ) {
		if ( dataPriv.get( el, type ) === undefined ) {
			jQuery.event.add( el, type, returnTrue );
		}
		return;
	}

	// Register the controller as a special universal handler for all event namespaces
	dataPriv.set( el, type, false );
	jQuery.event.add( el, type, {
		namespace: false,
		handler: function( event ) {
			var notAsync, result,
				saved = dataPriv.get( this, type );

			if ( ( event.isTrigger & 1 ) && this[ type ] ) {

				// Interrupt processing of the outer synthetic .trigger()ed event
				// Saved data should be false in such cases, but might be a leftover capture object
				// from an async native handler (gh-4350)
				if ( !saved.length ) {

					// Store arguments for use when handling the inner native event
					// There will always be at least one argument (an event object), so this array
					// will not be confused with a leftover capture object.
					saved = slice.call( arguments );
					dataPriv.set( this, type, saved );

					// Trigger the native event and capture its result
					// Support: IE <=9 - 11+
					// focus() and blur() are asynchronous
					notAsync = expectSync( this, type );
					this[ type ]();
					result = dataPriv.get( this, type );
					if ( saved !== result || notAsync ) {
						dataPriv.set( this, type, false );
					} else {
						result = {};
					}
					if ( saved !== result ) {

						// Cancel the outer synthetic event
						event.stopImmediatePropagation();
						event.preventDefault();
						return result.value;
					}

				// If this is an inner synthetic event for an event with a bubbling surrogate
				// (focus or blur), assume that the surrogate already propagated from triggering the
				// native event and prevent that from happening again here.
				// This technically gets the ordering wrong w.r.t. to `.trigger()` (in which the
				// bubbling surrogate propagates *after* the non-bubbling base), but that seems
				// less bad than duplication.
				} else if ( ( jQuery.event.special[ type ] || {} ).delegateType ) {
					event.stopPropagation();
				}

			// If this is a native event triggered above, everything is now in order
			// Fire an inner synthetic event with the original arguments
			} else if ( saved.length ) {

				// ...and capture the result
				dataPriv.set( this, type, {
					value: jQuery.event.trigger(

						// Support: IE <=9 - 11+
						// Extend with the prototype to reset the above stopImmediatePropagation()
						jQuery.extend( saved[ 0 ], jQuery.Event.prototype ),
						saved.slice( 1 ),
						this
					)
				} );

				// Abort handling of the native event
				event.stopImmediatePropagation();
			}
		}
	} );
}

jQuery.removeEvent = function( elem, type, handle ) {

	// This "if" is needed for plain objects
	if ( elem.removeEventListener ) {
		elem.removeEventListener( type, handle );
	}
};

jQuery.Event = function( src, props ) {

	// Allow instantiation without the 'new' keyword
	if ( !( this instanceof jQuery.Event ) ) {
		return new jQuery.Event( src, props );
	}

	// Event object
	if ( src && src.type ) {
		this.originalEvent = src;
		this.type = src.type;

		// Events bubbling up the document may have been marked as prevented
		// by a handler lower down the tree; reflect the correct value.
		this.isDefaultPrevented = src.defaultPrevented ||
				src.defaultPrevented === undefined &&

				// Support: Android <=2.3 only
				src.returnValue === false ?
			returnTrue :
			returnFalse;

		// Create target properties
		// Support: Safari <=6 - 7 only
		// Target should not be a text node (#504, #13143)
		this.target = ( src.target && src.target.nodeType === 3 ) ?
			src.target.parentNode :
			src.target;

		this.currentTarget = src.currentTarget;
		this.relatedTarget = src.relatedTarget;

	// Event type
	} else {
		this.type = src;
	}

	// Put explicitly provided properties onto the event object
	if ( props ) {
		jQuery.extend( this, props );
	}

	// Create a timestamp if incoming event doesn't have one
	this.timeStamp = src && src.timeStamp || Date.now();

	// Mark it as fixed
	this[ jQuery.expando ] = true;
};

// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding
// https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html
jQuery.Event.prototype = {
	constructor: jQuery.Event,
	isDefaultPrevented: returnFalse,
	isPropagationStopped: returnFalse,
	isImmediatePropagationStopped: returnFalse,
	isSimulated: false,

	preventDefault: function() {
		var e = this.originalEvent;

		this.isDefaultPrevented = returnTrue;

		if ( e && !this.isSimulated ) {
			e.preventDefault();
		}
	},
	stopPropagation: function() {
		var e = this.originalEvent;

		this.isPropagationStopped = returnTrue;

		if ( e && !this.isSimulated ) {
			e.stopPropagation();
		}
	},
	stopImmediatePropagation: function() {
		var e = this.originalEvent;

		this.isImmediatePropagationStopped = returnTrue;

		if ( e && !this.isSimulated ) {
			e.stopImmediatePropagation();
		}

		this.stopPropagation();
	}
};

// Includes all common event props including KeyEvent and MouseEvent specific props
jQuery.each( {
	altKey: true,
	bubbles: true,
	cancelable: true,
	changedTouches: true,
	ctrlKey: true,
	detail: true,
	eventPhase: true,
	metaKey: true,
	pageX: true,
	pageY: true,
	shiftKey: true,
	view: true,
	"char": true,
	code: true,
	charCode: true,
	key: true,
	keyCode: true,
	button: true,
	buttons: true,
	clientX: true,
	clientY: true,
	offsetX: true,
	offsetY: true,
	pointerId: true,
	pointerType: true,
	screenX: true,
	screenY: true,
	targetTouches: true,
	toElement: true,
	touches: true,

	which: function( event ) {
		var button = event.button;

		// Add which for key events
		if ( event.which == null && rkeyEvent.test( event.type ) ) {
			return event.charCode != null ? event.charCode : event.keyCode;
		}

		// Add which for click: 1 === left; 2 === middle; 3 === right
		if ( !event.which && button !== undefined && rmouseEvent.test( event.type ) ) {
			if ( button & 1 ) {
				return 1;
			}

			if ( button & 2 ) {
				return 3;
			}

			if ( button & 4 ) {
				return 2;
			}

			return 0;
		}

		return event.which;
	}
}, jQuery.event.addProp );

jQuery.each( { focus: "focusin", blur: "focusout" }, function( type, delegateType ) {
	jQuery.event.special[ type ] = {

		// Utilize native event if possible so blur/focus sequence is correct
		setup: function() {

			// Claim the first handler
			// dataPriv.set( this, "focus", ... )
			// dataPriv.set( this, "blur", ... )
			leverageNative( this, type, expectSync );

			// Return false to allow normal processing in the caller
			return false;
		},
		trigger: function() {

			// Force setup before trigger
			leverageNative( this, type );

			// Return non-false to allow normal event-path propagation
			return true;
		},

		delegateType: delegateType
	};
} );

// Create mouseenter/leave events using mouseover/out and event-time checks
// so that event delegation works in jQuery.
// Do the same for pointerenter/pointerleave and pointerover/pointerout
//
// Support: Safari 7 only
// Safari sends mouseenter too often; see:
// https://bugs.chromium.org/p/chromium/issues/detail?id=470258
// for the description of the bug (it existed in older Chrome versions as well).
jQuery.each( {
	mouseenter: "mouseover",
	mouseleave: "mouseout",
	pointerenter: "pointerover",
	pointerleave: "pointerout"
}, function( orig, fix ) {
	jQuery.event.special[ orig ] = {
		delegateType: fix,
		bindType: fix,

		handle: function( event ) {
			var ret,
				target = this,
				related = event.relatedTarget,
				handleObj = event.handleObj;

			// For mouseenter/leave call the handler if related is outside the target.
			// NB: No relatedTarget if the mouse left/entered the browser window
			if ( !related || ( related !== target && !jQuery.contains( target, related ) ) ) {
				event.type = handleObj.origType;
				ret = handleObj.handler.apply( this, arguments );
				event.type = fix;
			}
			return ret;
		}
	};
} );

jQuery.fn.extend( {

	on: function( types, selector, data, fn ) {
		return on( this, types, selector, data, fn );
	},
	one: function( types, selector, data, fn ) {
		return on( this, types, selector, data, fn, 1 );
	},
	off: function( types, selector, fn ) {
		var handleObj, type;
		if ( types && types.preventDefault && types.handleObj ) {

			// ( event )  dispatched jQuery.Event
			handleObj = types.handleObj;
			jQuery( types.delegateTarget ).off(
				handleObj.namespace ?
					handleObj.origType + "." + handleObj.namespace :
					handleObj.origType,
				handleObj.selector,
				handleObj.handler
			);
			return this;
		}
		if ( typeof types === "object" ) {

			// ( types-object [, selector] )
			for ( type in types ) {
				this.off( type, selector, types[ type ] );
			}
			return this;
		}
		if ( selector === false || typeof selector === "function" ) {

			// ( types [, fn] )
			fn = selector;
			selector = undefined;
		}
		if ( fn === false ) {
			fn = returnFalse;
		}
		return this.each( function() {
			jQuery.event.remove( this, types, fn, selector );
		} );
	}
} );


var

	/* eslint-disable max-len */

	// See https://github.com/eslint/eslint/issues/3229
	rxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,

	/* eslint-enable */

	// Support: IE <=10 - 11, Edge 12 - 13 only
	// In IE/Edge using regex groups here causes severe slowdowns.
	// See https://connect.microsoft.com/IE/feedback/details/1736512/
	rnoInnerhtml = /<script|<style|<link/i,

	// checked="checked" or checked
	rchecked = /checked\s*(?:[^=]|=\s*.checked.)/i,
	rcleanScript = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;

// Prefer a tbody over its parent table for containing new rows
function manipulationTarget( elem, content ) {
	if ( nodeName( elem, "table" ) &&
		nodeName( content.nodeType !== 11 ? content : content.firstChild, "tr" ) ) {

		return jQuery( elem ).children( "tbody" )[ 0 ] || elem;
	}

	return elem;
}

// Replace/restore the type attribute of script elements for safe DOM manipulation
function disableScript( elem ) {
	elem.type = ( elem.getAttribute( "type" ) !== null ) + "/" + elem.type;
	return elem;
}
function restoreScript( elem ) {
	if ( ( elem.type || "" ).slice( 0, 5 ) === "true/" ) {
		elem.type = elem.type.slice( 5 );
	} else {
		elem.removeAttribute( "type" );
	}

	return elem;
}

function cloneCopyEvent( src, dest ) {
	var i, l, type, pdataOld, pdataCur, udataOld, udataCur, events;

	if ( dest.nodeType !== 1 ) {
		return;
	}

	// 1. Copy private data: events, handlers, etc.
	if ( dataPriv.hasData( src ) ) {
		pdataOld = dataPriv.access( src );
		pdataCur = dataPriv.set( dest, pdataOld );
		events = pdataOld.events;

		if ( events ) {
			delete pdataCur.handle;
			pdataCur.events = {};

			for ( type in events ) {
				for ( i = 0, l = events[ type ].length; i < l; i++ ) {
					jQuery.event.add( dest, type, events[ type ][ i ] );
				}
			}
		}
	}

	// 2. Copy user data
	if ( dataUser.hasData( src ) ) {
		udataOld = dataUser.access( src );
		udataCur = jQuery.extend( {}, udataOld );

		dataUser.set( dest, udataCur );
	}
}

// Fix IE bugs, see support tests
function fixInput( src, dest ) {
	var nodeName = dest.nodeName.toLowerCase();

	// Fails to persist the checked state of a cloned checkbox or radio button.
	if ( nodeName === "input" && rcheckableType.test( src.type ) ) {
		dest.checked = src.checked;

	// Fails to return the selected option to the default selected state when cloning options
	} else if ( nodeName === "input" || nodeName === "textarea" ) {
		dest.defaultValue = src.defaultValue;
	}
}

function domManip( collection, args, callback, ignored ) {

	// Flatten any nested arrays
	args = concat.apply( [], args );

	var fragment, first, scripts, hasScripts, node, doc,
		i = 0,
		l = collection.length,
		iNoClone = l - 1,
		value = args[ 0 ],
		valueIsFunction = isFunction( value );

	// We can't cloneNode fragments that contain checked, in WebKit
	if ( valueIsFunction ||
			( l > 1 && typeof value === "string" &&
				!support.checkClone && rchecked.test( value ) ) ) {
		return collection.each( function( index ) {
			var self = collection.eq( index );
			if ( valueIsFunction ) {
				args[ 0 ] = value.call( this, index, self.html() );
			}
			domManip( self, args, callback, ignored );
		} );
	}

	if ( l ) {
		fragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored );
		first = fragment.firstChild;

		if ( fragment.childNodes.length === 1 ) {
			fragment = first;
		}

		// Require either new content or an interest in ignored elements to invoke the callback
		if ( first || ignored ) {
			scripts = jQuery.map( getAll( fragment, "script" ), disableScript );
			hasScripts = scripts.length;

			// Use the original fragment for the last item
			// instead of the first because it can end up
			// being emptied incorrectly in certain situations (#8070).
			for ( ; i < l; i++ ) {
				node = fragment;

				if ( i !== iNoClone ) {
					node = jQuery.clone( node, true, true );

					// Keep references to cloned scripts for later restoration
					if ( hasScripts ) {

						// Support: Android <=4.0 only, PhantomJS 1 only
						// push.apply(_, arraylike) throws on ancient WebKit
						jQuery.merge( scripts, getAll( node, "script" ) );
					}
				}

				callback.call( collection[ i ], node, i );
			}

			if ( hasScripts ) {
				doc = scripts[ scripts.length - 1 ].ownerDocument;

				// Reenable scripts
				jQuery.map( scripts, restoreScript );

				// Evaluate executable scripts on first document insertion
				for ( i = 0; i < hasScripts; i++ ) {
					node = scripts[ i ];
					if ( rscriptType.test( node.type || "" ) &&
						!dataPriv.access( node, "globalEval" ) &&
						jQuery.contains( doc, node ) ) {

						if ( node.src && ( node.type || "" ).toLowerCase()  !== "module" ) {

							// Optional AJAX dependency, but won't run scripts if not present
							if ( jQuery._evalUrl && !node.noModule ) {
								jQuery._evalUrl( node.src, {
									nonce: node.nonce || node.getAttribute( "nonce" )
								} );
							}
						} else {
							DOMEval( node.textContent.replace( rcleanScript, "" ), node, doc );
						}
					}
				}
			}
		}
	}

	return collection;
}

function remove( elem, selector, keepData ) {
	var node,
		nodes = selector ? jQuery.filter( selector, elem ) : elem,
		i = 0;

	for ( ; ( node = nodes[ i ] ) != null; i++ ) {
		if ( !keepData && node.nodeType === 1 ) {
			jQuery.cleanData( getAll( node ) );
		}

		if ( node.parentNode ) {
			if ( keepData && isAttached( node ) ) {
				setGlobalEval( getAll( node, "script" ) );
			}
			node.parentNode.removeChild( node );
		}
	}

	return elem;
}

jQuery.extend( {
	htmlPrefilter: function( html ) {
		return html.replace( rxhtmlTag, "<$1></$2>" );
	},

	clone: function( elem, dataAndEvents, deepDataAndEvents ) {
		var i, l, srcElements, destElements,
			clone = elem.cloneNode( true ),
			inPage = isAttached( elem );

		// Fix IE cloning issues
		if ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&
				!jQuery.isXMLDoc( elem ) ) {

			// We eschew Sizzle here for performance reasons: https://jsperf.com/getall-vs-sizzle/2
			destElements = getAll( clone );
			srcElements = getAll( elem );

			for ( i = 0, l = srcElements.length; i < l; i++ ) {
				fixInput( srcElements[ i ], destElements[ i ] );
			}
		}

		// Copy the events from the original to the clone
		if ( dataAndEvents ) {
			if ( deepDataAndEvents ) {
				srcElements = srcElements || getAll( elem );
				destElements = destElements || getAll( clone );

				for ( i = 0, l = srcElements.length; i < l; i++ ) {
					cloneCopyEvent( srcElements[ i ], destElements[ i ] );
				}
			} else {
				cloneCopyEvent( elem, clone );
			}
		}

		// Preserve script evaluation history
		destElements = getAll( clone, "script" );
		if ( destElements.length > 0 ) {
			setGlobalEval( destElements, !inPage && getAll( elem, "script" ) );
		}

		// Return the cloned set
		return clone;
	},

	cleanData: function( elems ) {
		var data, elem, type,
			special = jQuery.event.special,
			i = 0;

		for ( ; ( elem = elems[ i ] ) !== undefined; i++ ) {
			if ( acceptData( elem ) ) {
				if ( ( data = elem[ dataPriv.expando ] ) ) {
					if ( data.events ) {
						for ( type in data.events ) {
							if ( special[ type ] ) {
								jQuery.event.remove( elem, type );

							// This is a shortcut to avoid jQuery.event.remove's overhead
							} else {
								jQuery.removeEvent( elem, type, data.handle );
							}
						}
					}

					// Support: Chrome <=35 - 45+
					// Assign undefined instead of using delete, see Data#remove
					elem[ dataPriv.expando ] = undefined;
				}
				if ( elem[ dataUser.expando ] ) {

					// Support: Chrome <=35 - 45+
					// Assign undefined instead of using delete, see Data#remove
					elem[ dataUser.expando ] = undefined;
				}
			}
		}
	}
} );

jQuery.fn.extend( {
	detach: function( selector ) {
		return remove( this, selector, true );
	},

	remove: function( selector ) {
		return remove( this, selector );
	},

	text: function( value ) {
		return access( this, function( value ) {
			return value === undefined ?
				jQuery.text( this ) :
				this.empty().each( function() {
					if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
						this.textContent = value;
					}
				} );
		}, null, value, arguments.length );
	},

	append: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
				var target = manipulationTarget( this, elem );
				target.appendChild( elem );
			}
		} );
	},

	prepend: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
				var target = manipulationTarget( this, elem );
				target.insertBefore( elem, target.firstChild );
			}
		} );
	},

	before: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.parentNode ) {
				this.parentNode.insertBefore( elem, this );
			}
		} );
	},

	after: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.parentNode ) {
				this.parentNode.insertBefore( elem, this.nextSibling );
			}
		} );
	},

	empty: function() {
		var elem,
			i = 0;

		for ( ; ( elem = this[ i ] ) != null; i++ ) {
			if ( elem.nodeType === 1 ) {

				// Prevent memory leaks
				jQuery.cleanData( getAll( elem, false ) );

				// Remove any remaining nodes
				elem.textContent = "";
			}
		}

		return this;
	},

	clone: function( dataAndEvents, deepDataAndEvents ) {
		dataAndEvents = dataAndEvents == null ? false : dataAndEvents;
		deepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;

		return this.map( function() {
			return jQuery.clone( this, dataAndEvents, deepDataAndEvents );
		} );
	},

	html: function( value ) {
		return access( this, function( value ) {
			var elem = this[ 0 ] || {},
				i = 0,
				l = this.length;

			if ( value === undefined && elem.nodeType === 1 ) {
				return elem.innerHTML;
			}

			// See if we can take a shortcut and just use innerHTML
			if ( typeof value === "string" && !rnoInnerhtml.test( value ) &&
				!wrapMap[ ( rtagName.exec( value ) || [ "", "" ] )[ 1 ].toLowerCase() ] ) {

				value = jQuery.htmlPrefilter( value );

				try {
					for ( ; i < l; i++ ) {
						elem = this[ i ] || {};

						// Remove element nodes and prevent memory leaks
						if ( elem.nodeType === 1 ) {
							jQuery.cleanData( getAll( elem, false ) );
							elem.innerHTML = value;
						}
					}

					elem = 0;

				// If using innerHTML throws an exception, use the fallback method
				} catch ( e ) {}
			}

			if ( elem ) {
				this.empty().append( value );
			}
		}, null, value, arguments.length );
	},

	replaceWith: function() {
		var ignored = [];

		// Make the changes, replacing each non-ignored context element with the new content
		return domManip( this, arguments, function( elem ) {
			var parent = this.parentNode;

			if ( jQuery.inArray( this, ignored ) < 0 ) {
				jQuery.cleanData( getAll( this ) );
				if ( parent ) {
					parent.replaceChild( elem, this );
				}
			}

		// Force callback invocation
		}, ignored );
	}
} );

jQuery.each( {
	appendTo: "append",
	prependTo: "prepend",
	insertBefore: "before",
	insertAfter: "after",
	replaceAll: "replaceWith"
}, function( name, original ) {
	jQuery.fn[ name ] = function( selector ) {
		var elems,
			ret = [],
			insert = jQuery( selector ),
			last = insert.length - 1,
			i = 0;

		for ( ; i <= last; i++ ) {
			elems = i === last ? this : this.clone( true );
			jQuery( insert[ i ] )[ original ]( elems );

			// Support: Android <=4.0 only, PhantomJS 1 only
			// .get() because push.apply(_, arraylike) throws on ancient WebKit
			push.apply( ret, elems.get() );
		}

		return this.pushStack( ret );
	};
} );
var rnumnonpx = new RegExp( "^(" + pnum + ")(?!px)[a-z%]+$", "i" );

var getStyles = function( elem ) {

		// Support: IE <=11 only, Firefox <=30 (#15098, #14150)
		// IE throws on elements created in popups
		// FF meanwhile throws on frame elements through "defaultView.getComputedStyle"
		var view = elem.ownerDocument.defaultView;

		if ( !view || !view.opener ) {
			view = window;
		}

		return view.getComputedStyle( elem );
	};

var rboxStyle = new RegExp( cssExpand.join( "|" ), "i" );



( function() {

	// Executing both pixelPosition & boxSizingReliable tests require only one layout
	// so they're executed at the same time to save the second computation.
	function computeStyleTests() {

		// This is a singleton, we need to execute it only once
		if ( !div ) {
			return;
		}

		container.style.cssText = "position:absolute;left:-11111px;width:60px;" +
			"margin-top:1px;padding:0;border:0";
		div.style.cssText =
			"position:relative;display:block;box-sizing:border-box;overflow:scroll;" +
			"margin:auto;border:1px;padding:1px;" +
			"width:60%;top:1%";
		documentElement.appendChild( container ).appendChild( div );

		var divStyle = window.getComputedStyle( div );
		pixelPositionVal = divStyle.top !== "1%";

		// Support: Android 4.0 - 4.3 only, Firefox <=3 - 44
		reliableMarginLeftVal = roundPixelMeasures( divStyle.marginLeft ) === 12;

		// Support: Android 4.0 - 4.3 only, Safari <=9.1 - 10.1, iOS <=7.0 - 9.3
		// Some styles come back with percentage values, even though they shouldn't
		div.style.right = "60%";
		pixelBoxStylesVal = roundPixelMeasures( divStyle.right ) === 36;

		// Support: IE 9 - 11 only
		// Detect misreporting of content dimensions for box-sizing:border-box elements
		boxSizingReliableVal = roundPixelMeasures( divStyle.width ) === 36;

		// Support: IE 9 only
		// Detect overflow:scroll screwiness (gh-3699)
		// Support: Chrome <=64
		// Don't get tricked when zoom affects offsetWidth (gh-4029)
		div.style.position = "absolute";
		scrollboxSizeVal = roundPixelMeasures( div.offsetWidth / 3 ) === 12;

		documentElement.removeChild( container );

		// Nullify the div so it wouldn't be stored in the memory and
		// it will also be a sign that checks already performed
		div = null;
	}

	function roundPixelMeasures( measure ) {
		return Math.round( parseFloat( measure ) );
	}

	var pixelPositionVal, boxSizingReliableVal, scrollboxSizeVal, pixelBoxStylesVal,
		reliableMarginLeftVal,
		container = document.createElement( "div" ),
		div = document.createElement( "div" );

	// Finish early in limited (non-browser) environments
	if ( !div.style ) {
		return;
	}

	// Support: IE <=9 - 11 only
	// Style of cloned element affects source element cloned (#8908)
	div.style.backgroundClip = "content-box";
	div.cloneNode( true ).style.backgroundClip = "";
	support.clearCloneStyle = div.style.backgroundClip === "content-box";

	jQuery.extend( support, {
		boxSizingReliable: function() {
			computeStyleTests();
			return boxSizingReliableVal;
		},
		pixelBoxStyles: function() {
			computeStyleTests();
			return pixelBoxStylesVal;
		},
		pixelPosition: function() {
			computeStyleTests();
			return pixelPositionVal;
		},
		reliableMarginLeft: function() {
			computeStyleTests();
			return reliableMarginLeftVal;
		},
		scrollboxSize: function() {
			computeStyleTests();
			return scrollboxSizeVal;
		}
	} );
} )();


function curCSS( elem, name, computed ) {
	var width, minWidth, maxWidth, ret,

		// Support: Firefox 51+
		// Retrieving style before computed somehow
		// fixes an issue with getting wrong values
		// on detached elements
		style = elem.style;

	computed = computed || getStyles( elem );

	// getPropertyValue is needed for:
	//   .css('filter') (IE 9 only, #12537)
	//   .css('--customProperty) (#3144)
	if ( computed ) {
		ret = computed.getPropertyValue( name ) || computed[ name ];

		if ( ret === "" && !isAttached( elem ) ) {
			ret = jQuery.style( elem, name );
		}

		// A tribute to the "awesome hack by Dean Edwards"
		// Android Browser returns percentage for some values,
		// but width seems to be reliably pixels.
		// This is against the CSSOM draft spec:
		// https://drafts.csswg.org/cssom/#resolved-values
		if ( !support.pixelBoxStyles() && rnumnonpx.test( ret ) && rboxStyle.test( name ) ) {

			// Remember the original values
			width = style.width;
			minWidth = style.minWidth;
			maxWidth = style.maxWidth;

			// Put in the new values to get a computed value out
			style.minWidth = style.maxWidth = style.width = ret;
			ret = computed.width;

			// Revert the changed values
			style.width = width;
			style.minWidth = minWidth;
			style.maxWidth = maxWidth;
		}
	}

	return ret !== undefined ?

		// Support: IE <=9 - 11 only
		// IE returns zIndex value as an integer.
		ret + "" :
		ret;
}


function addGetHookIf( conditionFn, hookFn ) {

	// Define the hook, we'll check on the first run if it's really needed.
	return {
		get: function() {
			if ( conditionFn() ) {

				// Hook not needed (or it's not possible to use it due
				// to missing dependency), remove it.
				delete this.get;
				return;
			}

			// Hook needed; redefine it so that the support test is not executed again.
			return ( this.get = hookFn ).apply( this, arguments );
		}
	};
}


var cssPrefixes = [ "Webkit", "Moz", "ms" ],
	emptyStyle = document.createElement( "div" ).style,
	vendorProps = {};

// Return a vendor-prefixed property or undefined
function vendorPropName( name ) {

	// Check for vendor prefixed names
	var capName = name[ 0 ].toUpperCase() + name.slice( 1 ),
		i = cssPrefixes.length;

	while ( i-- ) {
		name = cssPrefixes[ i ] + capName;
		if ( name in emptyStyle ) {
			return name;
		}
	}
}

// Return a potentially-mapped jQuery.cssProps or vendor prefixed property
function finalPropName( name ) {
	var final = jQuery.cssProps[ name ] || vendorProps[ name ];

	if ( final ) {
		return final;
	}
	if ( name in emptyStyle ) {
		return name;
	}
	return vendorProps[ name ] = vendorPropName( name ) || name;
}


var

	// Swappable if display is none or starts with table
	// except "table", "table-cell", or "table-caption"
	// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display
	rdisplayswap = /^(none|table(?!-c[ea]).+)/,
	rcustomProp = /^--/,
	cssShow = { position: "absolute", visibility: "hidden", display: "block" },
	cssNormalTransform = {
		letterSpacing: "0",
		fontWeight: "400"
	};

function setPositiveNumber( elem, value, subtract ) {

	// Any relative (+/-) values have already been
	// normalized at this point
	var matches = rcssNum.exec( value );
	return matches ?

		// Guard against undefined "subtract", e.g., when used as in cssHooks
		Math.max( 0, matches[ 2 ] - ( subtract || 0 ) ) + ( matches[ 3 ] || "px" ) :
		value;
}

function boxModelAdjustment( elem, dimension, box, isBorderBox, styles, computedVal ) {
	var i = dimension === "width" ? 1 : 0,
		extra = 0,
		delta = 0;

	// Adjustment may not be necessary
	if ( box === ( isBorderBox ? "border" : "content" ) ) {
		return 0;
	}

	for ( ; i < 4; i += 2 ) {

		// Both box models exclude margin
		if ( box === "margin" ) {
			delta += jQuery.css( elem, box + cssExpand[ i ], true, styles );
		}

		// If we get here with a content-box, we're seeking "padding" or "border" or "margin"
		if ( !isBorderBox ) {

			// Add padding
			delta += jQuery.css( elem, "padding" + cssExpand[ i ], true, styles );

			// For "border" or "margin", add border
			if ( box !== "padding" ) {
				delta += jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );

			// But still keep track of it otherwise
			} else {
				extra += jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );
			}

		// If we get here with a border-box (content + padding + border), we're seeking "content" or
		// "padding" or "margin"
		} else {

			// For "content", subtract padding
			if ( box === "content" ) {
				delta -= jQuery.css( elem, "padding" + cssExpand[ i ], true, styles );
			}

			// For "content" or "padding", subtract border
			if ( box !== "margin" ) {
				delta -= jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );
			}
		}
	}

	// Account for positive content-box scroll gutter when requested by providing computedVal
	if ( !isBorderBox && computedVal >= 0 ) {

		// offsetWidth/offsetHeight is a rounded sum of content, padding, scroll gutter, and border
		// Assuming integer scroll gutter, subtract the rest and round down
		delta += Math.max( 0, Math.ceil(
			elem[ "offset" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -
			computedVal -
			delta -
			extra -
			0.5

		// If offsetWidth/offsetHeight is unknown, then we can't determine content-box scroll gutter
		// Use an explicit zero to avoid NaN (gh-3964)
		) ) || 0;
	}

	return delta;
}

function getWidthOrHeight( elem, dimension, extra ) {

	// Start with computed style
	var styles = getStyles( elem ),

		// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-4322).
		// Fake content-box until we know it's needed to know the true value.
		boxSizingNeeded = !support.boxSizingReliable() || extra,
		isBorderBox = boxSizingNeeded &&
			jQuery.css( elem, "boxSizing", false, styles ) === "border-box",
		valueIsBorderBox = isBorderBox,

		val = curCSS( elem, dimension, styles ),
		offsetProp = "offset" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 );

	// Support: Firefox <=54
	// Return a confounding non-pixel value or feign ignorance, as appropriate.
	if ( rnumnonpx.test( val ) ) {
		if ( !extra ) {
			return val;
		}
		val = "auto";
	}


	// Fall back to offsetWidth/offsetHeight when value is "auto"
	// This happens for inline elements with no explicit setting (gh-3571)
	// Support: Android <=4.1 - 4.3 only
	// Also use offsetWidth/offsetHeight for misreported inline dimensions (gh-3602)
	// Support: IE 9-11 only
	// Also use offsetWidth/offsetHeight for when box sizing is unreliable
	// We use getClientRects() to check for hidden/disconnected.
	// In those cases, the computed value can be trusted to be border-box
	if ( ( !support.boxSizingReliable() && isBorderBox ||
		val === "auto" ||
		!parseFloat( val ) && jQuery.css( elem, "display", false, styles ) === "inline" ) &&
		elem.getClientRects().length ) {

		isBorderBox = jQuery.css( elem, "boxSizing", false, styles ) === "border-box";

		// Where available, offsetWidth/offsetHeight approximate border box dimensions.
		// Where not available (e.g., SVG), assume unreliable box-sizing and interpret the
		// retrieved value as a content box dimension.
		valueIsBorderBox = offsetProp in elem;
		if ( valueIsBorderBox ) {
			val = elem[ offsetProp ];
		}
	}

	// Normalize "" and auto
	val = parseFloat( val ) || 0;

	// Adjust for the element's box model
	return ( val +
		boxModelAdjustment(
			elem,
			dimension,
			extra || ( isBorderBox ? "border" : "content" ),
			valueIsBorderBox,
			styles,

			// Provide the current computed size to request scroll gutter calculation (gh-3589)
			val
		)
	) + "px";
}

jQuery.extend( {

	// Add in style property hooks for overriding the default
	// behavior of getting and setting a style property
	cssHooks: {
		opacity: {
			get: function( elem, computed ) {
				if ( computed ) {

					// We should always get a number back from opacity
					var ret = curCSS( elem, "opacity" );
					return ret === "" ? "1" : ret;
				}
			}
		}
	},

	// Don't automatically add "px" to these possibly-unitless properties
	cssNumber: {
		"animationIterationCount": true,
		"columnCount": true,
		"fillOpacity": true,
		"flexGrow": true,
		"flexShrink": true,
		"fontWeight": true,
		"gridArea": true,
		"gridColumn": true,
		"gridColumnEnd": true,
		"gridColumnStart": true,
		"gridRow": true,
		"gridRowEnd": true,
		"gridRowStart": true,
		"lineHeight": true,
		"opacity": true,
		"order": true,
		"orphans": true,
		"widows": true,
		"zIndex": true,
		"zoom": true
	},

	// Add in properties whose names you wish to fix before
	// setting or getting the value
	cssProps: {},

	// Get and set the style property on a DOM Node
	style: function( elem, name, value, extra ) {

		// Don't set styles on text and comment nodes
		if ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {
			return;
		}

		// Make sure that we're working with the right name
		var ret, type, hooks,
			origName = camelCase( name ),
			isCustomProp = rcustomProp.test( name ),
			style = elem.style;

		// Make sure that we're working with the right name. We don't
		// want to query the value if it is a CSS custom property
		// since they are user-defined.
		if ( !isCustomProp ) {
			name = finalPropName( origName );
		}

		// Gets hook for the prefixed version, then unprefixed version
		hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];

		// Check if we're setting a value
		if ( value !== undefined ) {
			type = typeof value;

			// Convert "+=" or "-=" to relative numbers (#7345)
			if ( type === "string" && ( ret = rcssNum.exec( value ) ) && ret[ 1 ] ) {
				value = adjustCSS( elem, name, ret );

				// Fixes bug #9237
				type = "number";
			}

			// Make sure that null and NaN values aren't set (#7116)
			if ( value == null || value !== value ) {
				return;
			}

			// If a number was passed in, add the unit (except for certain CSS properties)
			// The isCustomProp check can be removed in jQuery 4.0 when we only auto-append
			// "px" to a few hardcoded values.
			if ( type === "number" && !isCustomProp ) {
				value += ret && ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? "" : "px" );
			}

			// background-* props affect original clone's values
			if ( !support.clearCloneStyle && value === "" && name.indexOf( "background" ) === 0 ) {
				style[ name ] = "inherit";
			}

			// If a hook was provided, use that value, otherwise just set the specified value
			if ( !hooks || !( "set" in hooks ) ||
				( value = hooks.set( elem, value, extra ) ) !== undefined ) {

				if ( isCustomProp ) {
					style.setProperty( name, value );
				} else {
					style[ name ] = value;
				}
			}

		} else {

			// If a hook was provided get the non-computed value from there
			if ( hooks && "get" in hooks &&
				( ret = hooks.get( elem, false, extra ) ) !== undefined ) {

				return ret;
			}

			// Otherwise just get the value from the style object
			return style[ name ];
		}
	},

	css: function( elem, name, extra, styles ) {
		var val, num, hooks,
			origName = camelCase( name ),
			isCustomProp = rcustomProp.test( name );

		// Make sure that we're working with the right name. We don't
		// want to modify the value if it is a CSS custom property
		// since they are user-defined.
		if ( !isCustomProp ) {
			name = finalPropName( origName );
		}

		// Try prefixed name followed by the unprefixed name
		hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];

		// If a hook was provided get the computed value from there
		if ( hooks && "get" in hooks ) {
			val = hooks.get( elem, true, extra );
		}

		// Otherwise, if a way to get the computed value exists, use that
		if ( val === undefined ) {
			val = curCSS( elem, name, styles );
		}

		// Convert "normal" to computed value
		if ( val === "normal" && name in cssNormalTransform ) {
			val = cssNormalTransform[ name ];
		}

		// Make numeric if forced or a qualifier was provided and val looks numeric
		if ( extra === "" || extra ) {
			num = parseFloat( val );
			return extra === true || isFinite( num ) ? num || 0 : val;
		}

		return val;
	}
} );

jQuery.each( [ "height", "width" ], function( i, dimension ) {
	jQuery.cssHooks[ dimension ] = {
		get: function( elem, computed, extra ) {
			if ( computed ) {

				// Certain elements can have dimension info if we invisibly show them
				// but it must have a current display style that would benefit
				return rdisplayswap.test( jQuery.css( elem, "display" ) ) &&

					// Support: Safari 8+
					// Table columns in Safari have non-zero offsetWidth & zero
					// getBoundingClientRect().width unless display is changed.
					// Support: IE <=11 only
					// Running getBoundingClientRect on a disconnected node
					// in IE throws an error.
					( !elem.getClientRects().length || !elem.getBoundingClientRect().width ) ?
						swap( elem, cssShow, function() {
							return getWidthOrHeight( elem, dimension, extra );
						} ) :
						getWidthOrHeight( elem, dimension, extra );
			}
		},

		set: function( elem, value, extra ) {
			var matches,
				styles = getStyles( elem ),

				// Only read styles.position if the test has a chance to fail
				// to avoid forcing a reflow.
				scrollboxSizeBuggy = !support.scrollboxSize() &&
					styles.position === "absolute",

				// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-3991)
				boxSizingNeeded = scrollboxSizeBuggy || extra,
				isBorderBox = boxSizingNeeded &&
					jQuery.css( elem, "boxSizing", false, styles ) === "border-box",
				subtract = extra ?
					boxModelAdjustment(
						elem,
						dimension,
						extra,
						isBorderBox,
						styles
					) :
					0;

			// Account for unreliable border-box dimensions by comparing offset* to computed and
			// faking a content-box to get border and padding (gh-3699)
			if ( isBorderBox && scrollboxSizeBuggy ) {
				subtract -= Math.ceil(
					elem[ "offset" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -
					parseFloat( styles[ dimension ] ) -
					boxModelAdjustment( elem, dimension, "border", false, styles ) -
					0.5
				);
			}

			// Convert to pixels if value adjustment is needed
			if ( subtract && ( matches = rcssNum.exec( value ) ) &&
				( matches[ 3 ] || "px" ) !== "px" ) {

				elem.style[ dimension ] = value;
				value = jQuery.css( elem, dimension );
			}

			return setPositiveNumber( elem, value, subtract );
		}
	};
} );

jQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft,
	function( elem, computed ) {
		if ( computed ) {
			return ( parseFloat( curCSS( elem, "marginLeft" ) ) ||
				elem.getBoundingClientRect().left -
					swap( elem, { marginLeft: 0 }, function() {
						return elem.getBoundingClientRect().left;
					} )
				) + "px";
		}
	}
);

// These hooks are used by animate to expand properties
jQuery.each( {
	margin: "",
	padding: "",
	border: "Width"
}, function( prefix, suffix ) {
	jQuery.cssHooks[ prefix + suffix ] = {
		expand: function( value ) {
			var i = 0,
				expanded = {},

				// Assumes a single number if not a string
				parts = typeof value === "string" ? value.split( " " ) : [ value ];

			for ( ; i < 4; i++ ) {
				expanded[ prefix + cssExpand[ i ] + suffix ] =
					parts[ i ] || parts[ i - 2 ] || parts[ 0 ];
			}

			return expanded;
		}
	};

	if ( prefix !== "margin" ) {
		jQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;
	}
} );

jQuery.fn.extend( {
	css: function( name, value ) {
		return access( this, function( elem, name, value ) {
			var styles, len,
				map = {},
				i = 0;

			if ( Array.isArray( name ) ) {
				styles = getStyles( elem );
				len = name.length;

				for ( ; i < len; i++ ) {
					map[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );
				}

				return map;
			}

			return value !== undefined ?
				jQuery.style( elem, name, value ) :
				jQuery.css( elem, name );
		}, name, value, arguments.length > 1 );
	}
} );


function Tween( elem, options, prop, end, easing ) {
	return new Tween.prototype.init( elem, options, prop, end, easing );
}
jQuery.Tween = Tween;

Tween.prototype = {
	constructor: Tween,
	init: function( elem, options, prop, end, easing, unit ) {
		this.elem = elem;
		this.prop = prop;
		this.easing = easing || jQuery.easing._default;
		this.options = options;
		this.start = this.now = this.cur();
		this.end = end;
		this.unit = unit || ( jQuery.cssNumber[ prop ] ? "" : "px" );
	},
	cur: function() {
		var hooks = Tween.propHooks[ this.prop ];

		return hooks && hooks.get ?
			hooks.get( this ) :
			Tween.propHooks._default.get( this );
	},
	run: function( percent ) {
		var eased,
			hooks = Tween.propHooks[ this.prop ];

		if ( this.options.duration ) {
			this.pos = eased = jQuery.easing[ this.easing ](
				percent, this.options.duration * percent, 0, 1, this.options.duration
			);
		} else {
			this.pos = eased = percent;
		}
		this.now = ( this.end - this.start ) * eased + this.start;

		if ( this.options.step ) {
			this.options.step.call( this.elem, this.now, this );
		}

		if ( hooks && hooks.set ) {
			hooks.set( this );
		} else {
			Tween.propHooks._default.set( this );
		}
		return this;
	}
};

Tween.prototype.init.prototype = Tween.prototype;

Tween.propHooks = {
	_default: {
		get: function( tween ) {
			var result;

			// Use a property on the element directly when it is not a DOM element,
			// or when there is no matching style property that exists.
			if ( tween.elem.nodeType !== 1 ||
				tween.elem[ tween.prop ] != null && tween.elem.style[ tween.prop ] == null ) {
				return tween.elem[ tween.prop ];
			}

			// Passing an empty string as a 3rd parameter to .css will automatically
			// attempt a parseFloat and fallback to a string if the parse fails.
			// Simple values such as "10px" are parsed to Float;
			// complex values such as "rotate(1rad)" are returned as-is.
			result = jQuery.css( tween.elem, tween.prop, "" );

			// Empty strings, null, undefined and "auto" are converted to 0.
			return !result || result === "auto" ? 0 : result;
		},
		set: function( tween ) {

			// Use step hook for back compat.
			// Use cssHook if its there.
			// Use .style if available and use plain properties where available.
			if ( jQuery.fx.step[ tween.prop ] ) {
				jQuery.fx.step[ tween.prop ]( tween );
			} else if ( tween.elem.nodeType === 1 && (
					jQuery.cssHooks[ tween.prop ] ||
					tween.elem.style[ finalPropName( tween.prop ) ] != null ) ) {
				jQuery.style( tween.elem, tween.prop, tween.now + tween.unit );
			} else {
				tween.elem[ tween.prop ] = tween.now;
			}
		}
	}
};

// Support: IE <=9 only
// Panic based approach to setting things on disconnected nodes
Tween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {
	set: function( tween ) {
		if ( tween.elem.nodeType && tween.elem.parentNode ) {
			tween.elem[ tween.prop ] = tween.now;
		}
	}
};

jQuery.easing = {
	linear: function( p ) {
		return p;
	},
	swing: function( p ) {
		return 0.5 - Math.cos( p * Math.PI ) / 2;
	},
	_default: "swing"
};

jQuery.fx = Tween.prototype.init;

// Back compat <1.8 extension point
jQuery.fx.step = {};




var
	fxNow, inProgress,
	rfxtypes = /^(?:toggle|show|hide)$/,
	rrun = /queueHooks$/;

function schedule() {
	if ( inProgress ) {
		if ( document.hidden === false && window.requestAnimationFrame ) {
			window.requestAnimationFrame( schedule );
		} else {
			window.setTimeout( schedule, jQuery.fx.interval );
		}

		jQuery.fx.tick();
	}
}

// Animations created synchronously will run synchronously
function createFxNow() {
	window.setTimeout( function() {
		fxNow = undefined;
	} );
	return ( fxNow = Date.now() );
}

// Generate parameters to create a standard animation
function genFx( type, includeWidth ) {
	var which,
		i = 0,
		attrs = { height: type };

	// If we include width, step value is 1 to do all cssExpand values,
	// otherwise step value is 2 to skip over Left and Right
	includeWidth = includeWidth ? 1 : 0;
	for ( ; i < 4; i += 2 - includeWidth ) {
		which = cssExpand[ i ];
		attrs[ "margin" + which ] = attrs[ "padding" + which ] = type;
	}

	if ( includeWidth ) {
		attrs.opacity = attrs.width = type;
	}

	return attrs;
}

function createTween( value, prop, animation ) {
	var tween,
		collection = ( Animation.tweeners[ prop ] || [] ).concat( Animation.tweeners[ "*" ] ),
		index = 0,
		length = collection.length;
	for ( ; index < length; index++ ) {
		if ( ( tween = collection[ index ].call( animation, prop, value ) ) ) {

			// We're done with this property
			return tween;
		}
	}
}

function defaultPrefilter( elem, props, opts ) {
	var prop, value, toggle, hooks, oldfire, propTween, restoreDisplay, display,
		isBox = "width" in props || "height" in props,
		anim = this,
		orig = {},
		style = elem.style,
		hidden = elem.nodeType && isHiddenWithinTree( elem ),
		dataShow = dataPriv.get( elem, "fxshow" );

	// Queue-skipping animations hijack the fx hooks
	if ( !opts.queue ) {
		hooks = jQuery._queueHooks( elem, "fx" );
		if ( hooks.unqueued == null ) {
			hooks.unqueued = 0;
			oldfire = hooks.empty.fire;
			hooks.empty.fire = function() {
				if ( !hooks.unqueued ) {
					oldfire();
				}
			};
		}
		hooks.unqueued++;

		anim.always( function() {

			// Ensure the complete handler is called before this completes
			anim.always( function() {
				hooks.unqueued--;
				if ( !jQuery.queue( elem, "fx" ).length ) {
					hooks.empty.fire();
				}
			} );
		} );
	}

	// Detect show/hide animations
	for ( prop in props ) {
		value = props[ prop ];
		if ( rfxtypes.test( value ) ) {
			delete props[ prop ];
			toggle = toggle || value === "toggle";
			if ( value === ( hidden ? "hide" : "show" ) ) {

				// Pretend to be hidden if this is a "show" and
				// there is still data from a stopped show/hide
				if ( value === "show" && dataShow && dataShow[ prop ] !== undefined ) {
					hidden = true;

				// Ignore all other no-op show/hide data
				} else {
					continue;
				}
			}
			orig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );
		}
	}

	// Bail out if this is a no-op like .hide().hide()
	propTween = !jQuery.isEmptyObject( props );
	if ( !propTween && jQuery.isEmptyObject( orig ) ) {
		return;
	}

	// Restrict "overflow" and "display" styles during box animations
	if ( isBox && elem.nodeType === 1 ) {

		// Support: IE <=9 - 11, Edge 12 - 15
		// Record all 3 overflow attributes because IE does not infer the shorthand
		// from identically-valued overflowX and overflowY and Edge just mirrors
		// the overflowX value there.
		opts.overflow = [ style.overflow, style.overflowX, style.overflowY ];

		// Identify a display type, preferring old show/hide data over the CSS cascade
		restoreDisplay = dataShow && dataShow.display;
		if ( restoreDisplay == null ) {
			restoreDisplay = dataPriv.get( elem, "display" );
		}
		display = jQuery.css( elem, "display" );
		if ( display === "none" ) {
			if ( restoreDisplay ) {
				display = restoreDisplay;
			} else {

				// Get nonempty value(s) by temporarily forcing visibility
				showHide( [ elem ], true );
				restoreDisplay = elem.style.display || restoreDisplay;
				display = jQuery.css( elem, "display" );
				showHide( [ elem ] );
			}
		}

		// Animate inline elements as inline-block
		if ( display === "inline" || display === "inline-block" && restoreDisplay != null ) {
			if ( jQuery.css( elem, "float" ) === "none" ) {

				// Restore the original display value at the end of pure show/hide animations
				if ( !propTween ) {
					anim.done( function() {
						style.display = restoreDisplay;
					} );
					if ( restoreDisplay == null ) {
						display = style.display;
						restoreDisplay = display === "none" ? "" : display;
					}
				}
				style.display = "inline-block";
			}
		}
	}

	if ( opts.overflow ) {
		style.overflow = "hidden";
		anim.always( function() {
			style.overflow = opts.overflow[ 0 ];
			style.overflowX = opts.overflow[ 1 ];
			style.overflowY = opts.overflow[ 2 ];
		} );
	}

	// Implement show/hide animations
	propTween = false;
	for ( prop in orig ) {

		// General show/hide setup for this element animation
		if ( !propTween ) {
			if ( dataShow ) {
				if ( "hidden" in dataShow ) {
					hidden = dataShow.hidden;
				}
			} else {
				dataShow = dataPriv.access( elem, "fxshow", { display: restoreDisplay } );
			}

			// Store hidden/visible for toggle so `.stop().toggle()` "reverses"
			if ( toggle ) {
				dataShow.hidden = !hidden;
			}

			// Show elements before animating them
			if ( hidden ) {
				showHide( [ elem ], true );
			}

			/* eslint-disable no-loop-func */

			anim.done( function() {

			/* eslint-enable no-loop-func */

				// The final step of a "hide" animation is actually hiding the element
				if ( !hidden ) {
					showHide( [ elem ] );
				}
				dataPriv.remove( elem, "fxshow" );
				for ( prop in orig ) {
					jQuery.style( elem, prop, orig[ prop ] );
				}
			} );
		}

		// Per-property setup
		propTween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );
		if ( !( prop in dataShow ) ) {
			dataShow[ prop ] = propTween.start;
			if ( hidden ) {
				propTween.end = propTween.start;
				propTween.start = 0;
			}
		}
	}
}

function propFilter( props, specialEasing ) {
	var index, name, easing, value, hooks;

	// camelCase, specialEasing and expand cssHook pass
	for ( index in props ) {
		name = camelCase( index );
		easing = specialEasing[ name ];
		value = props[ index ];
		if ( Array.isArray( value ) ) {
			easing = value[ 1 ];
			value = props[ index ] = value[ 0 ];
		}

		if ( index !== name ) {
			props[ name ] = value;
			delete props[ index ];
		}

		hooks = jQuery.cssHooks[ name ];
		if ( hooks && "expand" in hooks ) {
			value = hooks.expand( value );
			delete props[ name ];

			// Not quite $.extend, this won't overwrite existing keys.
			// Reusing 'index' because we have the correct "name"
			for ( index in value ) {
				if ( !( index in props ) ) {
					props[ index ] = value[ index ];
					specialEasing[ index ] = easing;
				}
			}
		} else {
			specialEasing[ name ] = easing;
		}
	}
}

function Animation( elem, properties, options ) {
	var result,
		stopped,
		index = 0,
		length = Animation.prefilters.length,
		deferred = jQuery.Deferred().always( function() {

			// Don't match elem in the :animated selector
			delete tick.elem;
		} ),
		tick = function() {
			if ( stopped ) {
				return false;
			}
			var currentTime = fxNow || createFxNow(),
				remaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),

				// Support: Android 2.3 only
				// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (#12497)
				temp = remaining / animation.duration || 0,
				percent = 1 - temp,
				index = 0,
				length = animation.tweens.length;

			for ( ; index < length; index++ ) {
				animation.tweens[ index ].run( percent );
			}

			deferred.notifyWith( elem, [ animation, percent, remaining ] );

			// If there's more to do, yield
			if ( percent < 1 && length ) {
				return remaining;
			}

			// If this was an empty animation, synthesize a final progress notification
			if ( !length ) {
				deferred.notifyWith( elem, [ animation, 1, 0 ] );
			}

			// Resolve the animation and report its conclusion
			deferred.resolveWith( elem, [ animation ] );
			return false;
		},
		animation = deferred.promise( {
			elem: elem,
			props: jQuery.extend( {}, properties ),
			opts: jQuery.extend( true, {
				specialEasing: {},
				easing: jQuery.easing._default
			}, options ),
			originalProperties: properties,
			originalOptions: options,
			startTime: fxNow || createFxNow(),
			duration: options.duration,
			tweens: [],
			createTween: function( prop, end ) {
				var tween = jQuery.Tween( elem, animation.opts, prop, end,
						animation.opts.specialEasing[ prop ] || animation.opts.easing );
				animation.tweens.push( tween );
				return tween;
			},
			stop: function( gotoEnd ) {
				var index = 0,

					// If we are going to the end, we want to run all the tweens
					// otherwise we skip this part
					length = gotoEnd ? animation.tweens.length : 0;
				if ( stopped ) {
					return this;
				}
				stopped = true;
				for ( ; index < length; index++ ) {
					animation.tweens[ index ].run( 1 );
				}

				// Resolve when we played the last frame; otherwise, reject
				if ( gotoEnd ) {
					deferred.notifyWith( elem, [ animation, 1, 0 ] );
					deferred.resolveWith( elem, [ animation, gotoEnd ] );
				} else {
					deferred.rejectWith( elem, [ animation, gotoEnd ] );
				}
				return this;
			}
		} ),
		props = animation.props;

	propFilter( props, animation.opts.specialEasing );

	for ( ; index < length; index++ ) {
		result = Animation.prefilters[ index ].call( animation, elem, props, animation.opts );
		if ( result ) {
			if ( isFunction( result.stop ) ) {
				jQuery._queueHooks( animation.elem, animation.opts.queue ).stop =
					result.stop.bind( result );
			}
			return result;
		}
	}

	jQuery.map( props, createTween, animation );

	if ( isFunction( animation.opts.start ) ) {
		animation.opts.start.call( elem, animation );
	}

	// Attach callbacks from options
	animation
		.progress( animation.opts.progress )
		.done( animation.opts.done, animation.opts.complete )
		.fail( animation.opts.fail )
		.always( animation.opts.always );

	jQuery.fx.timer(
		jQuery.extend( tick, {
			elem: elem,
			anim: animation,
			queue: animation.opts.queue
		} )
	);

	return animation;
}

jQuery.Animation = jQuery.extend( Animation, {

	tweeners: {
		"*": [ function( prop, value ) {
			var tween = this.createTween( prop, value );
			adjustCSS( tween.elem, prop, rcssNum.exec( value ), tween );
			return tween;
		} ]
	},

	tweener: function( props, callback ) {
		if ( isFunction( props ) ) {
			callback = props;
			props = [ "*" ];
		} else {
			props = props.match( rnothtmlwhite );
		}

		var prop,
			index = 0,
			length = props.length;

		for ( ; index < length; index++ ) {
			prop = props[ index ];
			Animation.tweeners[ prop ] = Animation.tweeners[ prop ] || [];
			Animation.tweeners[ prop ].unshift( callback );
		}
	},

	prefilters: [ defaultPrefilter ],

	prefilter: function( callback, prepend ) {
		if ( prepend ) {
			Animation.prefilters.unshift( callback );
		} else {
			Animation.prefilters.push( callback );
		}
	}
} );

jQuery.speed = function( speed, easing, fn ) {
	var opt = speed && typeof speed === "object" ? jQuery.extend( {}, speed ) : {
		complete: fn || !fn && easing ||
			isFunction( speed ) && speed,
		duration: speed,
		easing: fn && easing || easing && !isFunction( easing ) && easing
	};

	// Go to the end state if fx are off
	if ( jQuery.fx.off ) {
		opt.duration = 0;

	} else {
		if ( typeof opt.duration !== "number" ) {
			if ( opt.duration in jQuery.fx.speeds ) {
				opt.duration = jQuery.fx.speeds[ opt.duration ];

			} else {
				opt.duration = jQuery.fx.speeds._default;
			}
		}
	}

	// Normalize opt.queue - true/undefined/null -> "fx"
	if ( opt.queue == null || opt.queue === true ) {
		opt.queue = "fx";
	}

	// Queueing
	opt.old = opt.complete;

	opt.complete = function() {
		if ( isFunction( opt.old ) ) {
			opt.old.call( this );
		}

		if ( opt.queue ) {
			jQuery.dequeue( this, opt.queue );
		}
	};

	return opt;
};

jQuery.fn.extend( {
	fadeTo: function( speed, to, easing, callback ) {

		// Show any hidden elements after setting opacity to 0
		return this.filter( isHiddenWithinTree ).css( "opacity", 0 ).show()

			// Animate to the value specified
			.end().animate( { opacity: to }, speed, easing, callback );
	},
	animate: function( prop, speed, easing, callback ) {
		var empty = jQuery.isEmptyObject( prop ),
			optall = jQuery.speed( speed, easing, callback ),
			doAnimation = function() {

				// Operate on a copy of prop so per-property easing won't be lost
				var anim = Animation( this, jQuery.extend( {}, prop ), optall );

				// Empty animations, or finishing resolves immediately
				if ( empty || dataPriv.get( this, "finish" ) ) {
					anim.stop( true );
				}
			};
			doAnimation.finish = doAnimation;

		return empty || optall.queue === false ?
			this.each( doAnimation ) :
			this.queue( optall.queue, doAnimation );
	},
	stop: function( type, clearQueue, gotoEnd ) {
		var stopQueue = function( hooks ) {
			var stop = hooks.stop;
			delete hooks.stop;
			stop( gotoEnd );
		};

		if ( typeof type !== "string" ) {
			gotoEnd = clearQueue;
			clearQueue = type;
			type = undefined;
		}
		if ( clearQueue && type !== false ) {
			this.queue( type || "fx", [] );
		}

		return this.each( function() {
			var dequeue = true,
				index = type != null && type + "queueHooks",
				timers = jQuery.timers,
				data = dataPriv.get( this );

			if ( index ) {
				if ( data[ index ] && data[ index ].stop ) {
					stopQueue( data[ index ] );
				}
			} else {
				for ( index in data ) {
					if ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {
						stopQueue( data[ index ] );
					}
				}
			}

			for ( index = timers.length; index--; ) {
				if ( timers[ index ].elem === this &&
					( type == null || timers[ index ].queue === type ) ) {

					timers[ index ].anim.stop( gotoEnd );
					dequeue = false;
					timers.splice( index, 1 );
				}
			}

			// Start the next in the queue if the last step wasn't forced.
			// Timers currently will call their complete callbacks, which
			// will dequeue but only if they were gotoEnd.
			if ( dequeue || !gotoEnd ) {
				jQuery.dequeue( this, type );
			}
		} );
	},
	finish: function( type ) {
		if ( type !== false ) {
			type = type || "fx";
		}
		return this.each( function() {
			var index,
				data = dataPriv.get( this ),
				queue = data[ type + "queue" ],
				hooks = data[ type + "queueHooks" ],
				timers = jQuery.timers,
				length = queue ? queue.length : 0;

			// Enable finishing flag on private data
			data.finish = true;

			// Empty the queue first
			jQuery.queue( this, type, [] );

			if ( hooks && hooks.stop ) {
				hooks.stop.call( this, true );
			}

			// Look for any active animations, and finish them
			for ( index = timers.length; index--; ) {
				if ( timers[ index ].elem === this && timers[ index ].queue === type ) {
					timers[ index ].anim.stop( true );
					timers.splice( index, 1 );
				}
			}

			// Look for any animations in the old queue and finish them
			for ( index = 0; index < length; index++ ) {
				if ( queue[ index ] && queue[ index ].finish ) {
					queue[ index ].finish.call( this );
				}
			}

			// Turn off finishing flag
			delete data.finish;
		} );
	}
} );

jQuery.each( [ "toggle", "show", "hide" ], function( i, name ) {
	var cssFn = jQuery.fn[ name ];
	jQuery.fn[ name ] = function( speed, easing, callback ) {
		return speed == null || typeof speed === "boolean" ?
			cssFn.apply( this, arguments ) :
			this.animate( genFx( name, true ), speed, easing, callback );
	};
} );

// Generate shortcuts for custom animations
jQuery.each( {
	slideDown: genFx( "show" ),
	slideUp: genFx( "hide" ),
	slideToggle: genFx( "toggle" ),
	fadeIn: { opacity: "show" },
	fadeOut: { opacity: "hide" },
	fadeToggle: { opacity: "toggle" }
}, function( name, props ) {
	jQuery.fn[ name ] = function( speed, easing, callback ) {
		return this.animate( props, speed, easing, callback );
	};
} );

jQuery.timers = [];
jQuery.fx.tick = function() {
	var timer,
		i = 0,
		timers = jQuery.timers;

	fxNow = Date.now();

	for ( ; i < timers.length; i++ ) {
		timer = timers[ i ];

		// Run the timer and safely remove it when done (allowing for external removal)
		if ( !timer() && timers[ i ] === timer ) {
			timers.splice( i--, 1 );
		}
	}

	if ( !timers.length ) {
		jQuery.fx.stop();
	}
	fxNow = undefined;
};

jQuery.fx.timer = function( timer ) {
	jQuery.timers.push( timer );
	jQuery.fx.start();
};

jQuery.fx.interval = 13;
jQuery.fx.start = function() {
	if ( inProgress ) {
		return;
	}

	inProgress = true;
	schedule();
};

jQuery.fx.stop = function() {
	inProgress = null;
};

jQuery.fx.speeds = {
	slow: 600,
	fast: 200,

	// Default speed
	_default: 400
};


// Based off of the plugin by Clint Helfers, with permission.
// https://web.archive.org/web/20100324014747/http://blindsignals.com/index.php/2009/07/jquery-delay/
jQuery.fn.delay = function( time, type ) {
	time = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;
	type = type || "fx";

	return this.queue( type, function( next, hooks ) {
		var timeout = window.setTimeout( next, time );
		hooks.stop = function() {
			window.clearTimeout( timeout );
		};
	} );
};


( function() {
	var input = document.createElement( "input" ),
		select = document.createElement( "select" ),
		opt = select.appendChild( document.createElement( "option" ) );

	input.type = "checkbox";

	// Support: Android <=4.3 only
	// Default value for a checkbox should be "on"
	support.checkOn = input.value !== "";

	// Support: IE <=11 only
	// Must access selectedIndex to make default options select
	support.optSelected = opt.selected;

	// Support: IE <=11 only
	// An input loses its value after becoming a radio
	input = document.createElement( "input" );
	input.value = "t";
	input.type = "radio";
	support.radioValue = input.value === "t";
} )();


var boolHook,
	attrHandle = jQuery.expr.attrHandle;

jQuery.fn.extend( {
	attr: function( name, value ) {
		return access( this, jQuery.attr, name, value, arguments.length > 1 );
	},

	removeAttr: function( name ) {
		return this.each( function() {
			jQuery.removeAttr( this, name );
		} );
	}
} );

jQuery.extend( {
	attr: function( elem, name, value ) {
		var ret, hooks,
			nType = elem.nodeType;

		// Don't get/set attributes on text, comment and attribute nodes
		if ( nType === 3 || nType === 8 || nType === 2 ) {
			return;
		}

		// Fallback to prop when attributes are not supported
		if ( typeof elem.getAttribute === "undefined" ) {
			return jQuery.prop( elem, name, value );
		}

		// Attribute hooks are determined by the lowercase version
		// Grab necessary hook if one is defined
		if ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {
			hooks = jQuery.attrHooks[ name.toLowerCase() ] ||
				( jQuery.expr.match.bool.test( name ) ? boolHook : undefined );
		}

		if ( value !== undefined ) {
			if ( value === null ) {
				jQuery.removeAttr( elem, name );
				return;
			}

			if ( hooks && "set" in hooks &&
				( ret = hooks.set( elem, value, name ) ) !== undefined ) {
				return ret;
			}

			elem.setAttribute( name, value + "" );
			return value;
		}

		if ( hooks && "get" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {
			return ret;
		}

		ret = jQuery.find.attr( elem, name );

		// Non-existent attributes return null, we normalize to undefined
		return ret == null ? undefined : ret;
	},

	attrHooks: {
		type: {
			set: function( elem, value ) {
				if ( !support.radioValue && value === "radio" &&
					nodeName( elem, "input" ) ) {
					var val = elem.value;
					elem.setAttribute( "type", value );
					if ( val ) {
						elem.value = val;
					}
					return value;
				}
			}
		}
	},

	removeAttr: function( elem, value ) {
		var name,
			i = 0,

			// Attribute names can contain non-HTML whitespace characters
			// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2
			attrNames = value && value.match( rnothtmlwhite );

		if ( attrNames && elem.nodeType === 1 ) {
			while ( ( name = attrNames[ i++ ] ) ) {
				elem.removeAttribute( name );
			}
		}
	}
} );

// Hooks for boolean attributes
boolHook = {
	set: function( elem, value, name ) {
		if ( value === false ) {

			// Remove boolean attributes when set to false
			jQuery.removeAttr( elem, name );
		} else {
			elem.setAttribute( name, name );
		}
		return name;
	}
};

jQuery.each( jQuery.expr.match.bool.source.match( /\w+/g ), function( i, name ) {
	var getter = attrHandle[ name ] || jQuery.find.attr;

	attrHandle[ name ] = function( elem, name, isXML ) {
		var ret, handle,
			lowercaseName = name.toLowerCase();

		if ( !isXML ) {

			// Avoid an infinite loop by temporarily removing this function from the getter
			handle = attrHandle[ lowercaseName ];
			attrHandle[ lowercaseName ] = ret;
			ret = getter( elem, name, isXML ) != null ?
				lowercaseName :
				null;
			attrHandle[ lowercaseName ] = handle;
		}
		return ret;
	};
} );




var rfocusable = /^(?:input|select|textarea|button)$/i,
	rclickable = /^(?:a|area)$/i;

jQuery.fn.extend( {
	prop: function( name, value ) {
		return access( this, jQuery.prop, name, value, arguments.length > 1 );
	},

	removeProp: function( name ) {
		return this.each( function() {
			delete this[ jQuery.propFix[ name ] || name ];
		} );
	}
} );

jQuery.extend( {
	prop: function( elem, name, value ) {
		var ret, hooks,
			nType = elem.nodeType;

		// Don't get/set properties on text, comment and attribute nodes
		if ( nType === 3 || nType === 8 || nType === 2 ) {
			return;
		}

		if ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {

			// Fix name and attach hooks
			name = jQuery.propFix[ name ] || name;
			hooks = jQuery.propHooks[ name ];
		}

		if ( value !== undefined ) {
			if ( hooks && "set" in hooks &&
				( ret = hooks.set( elem, value, name ) ) !== undefined ) {
				return ret;
			}

			return ( elem[ name ] = value );
		}

		if ( hooks && "get" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {
			return ret;
		}

		return elem[ name ];
	},

	propHooks: {
		tabIndex: {
			get: function( elem ) {

				// Support: IE <=9 - 11 only
				// elem.tabIndex doesn't always return the
				// correct value when it hasn't been explicitly set
				// https://web.archive.org/web/20141116233347/http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/
				// Use proper attribute retrieval(#12072)
				var tabindex = jQuery.find.attr( elem, "tabindex" );

				if ( tabindex ) {
					return parseInt( tabindex, 10 );
				}

				if (
					rfocusable.test( elem.nodeName ) ||
					rclickable.test( elem.nodeName ) &&
					elem.href
				) {
					return 0;
				}

				return -1;
			}
		}
	},

	propFix: {
		"for": "htmlFor",
		"class": "className"
	}
} );

// Support: IE <=11 only
// Accessing the selectedIndex property
// forces the browser to respect setting selected
// on the option
// The getter ensures a default option is selected
// when in an optgroup
// eslint rule "no-unused-expressions" is disabled for this code
// since it considers such accessions noop
if ( !support.optSelected ) {
	jQuery.propHooks.selected = {
		get: function( elem ) {

			/* eslint no-unused-expressions: "off" */

			var parent = elem.parentNode;
			if ( parent && parent.parentNode ) {
				parent.parentNode.selectedIndex;
			}
			return null;
		},
		set: function( elem ) {

			/* eslint no-unused-expressions: "off" */

			var parent = elem.parentNode;
			if ( parent ) {
				parent.selectedIndex;

				if ( parent.parentNode ) {
					parent.parentNode.selectedIndex;
				}
			}
		}
	};
}

jQuery.each( [
	"tabIndex",
	"readOnly",
	"maxLength",
	"cellSpacing",
	"cellPadding",
	"rowSpan",
	"colSpan",
	"useMap",
	"frameBorder",
	"contentEditable"
], function() {
	jQuery.propFix[ this.toLowerCase() ] = this;
} );




	// Strip and collapse whitespace according to HTML spec
	// https://infra.spec.whatwg.org/#strip-and-collapse-ascii-whitespace
	function stripAndCollapse( value ) {
		var tokens = value.match( rnothtmlwhite ) || [];
		return tokens.join( " " );
	}


function getClass( elem ) {
	return elem.getAttribute && elem.getAttribute( "class" ) || "";
}

function classesToArray( value ) {
	if ( Array.isArray( value ) ) {
		return value;
	}
	if ( typeof value === "string" ) {
		return value.match( rnothtmlwhite ) || [];
	}
	return [];
}

jQuery.fn.extend( {
	addClass: function( value ) {
		var classes, elem, cur, curValue, clazz, j, finalValue,
			i = 0;

		if ( isFunction( value ) ) {
			return this.each( function( j ) {
				jQuery( this ).addClass( value.call( this, j, getClass( this ) ) );
			} );
		}

		classes = classesToArray( value );

		if ( classes.length ) {
			while ( ( elem = this[ i++ ] ) ) {
				curValue = getClass( elem );
				cur = elem.nodeType === 1 && ( " " + stripAndCollapse( curValue ) + " " );

				if ( cur ) {
					j = 0;
					while ( ( clazz = classes[ j++ ] ) ) {
						if ( cur.indexOf( " " + clazz + " " ) < 0 ) {
							cur += clazz + " ";
						}
					}

					// Only assign if different to avoid unneeded rendering.
					finalValue = stripAndCollapse( cur );
					if ( curValue !== finalValue ) {
						elem.setAttribute( "class", finalValue );
					}
				}
			}
		}

		return this;
	},

	removeClass: function( value ) {
		var classes, elem, cur, curValue, clazz, j, finalValue,
			i = 0;

		if ( isFunction( value ) ) {
			return this.each( function( j ) {
				jQuery( this ).removeClass( value.call( this, j, getClass( this ) ) );
			} );
		}

		if ( !arguments.length ) {
			return this.attr( "class", "" );
		}

		classes = classesToArray( value );

		if ( classes.length ) {
			while ( ( elem = this[ i++ ] ) ) {
				curValue = getClass( elem );

				// This expression is here for better compressibility (see addClass)
				cur = elem.nodeType === 1 && ( " " + stripAndCollapse( curValue ) + " " );

				if ( cur ) {
					j = 0;
					while ( ( clazz = classes[ j++ ] ) ) {

						// Remove *all* instances
						while ( cur.indexOf( " " + clazz + " " ) > -1 ) {
							cur = cur.replace( " " + clazz + " ", " " );
						}
					}

					// Only assign if different to avoid unneeded rendering.
					finalValue = stripAndCollapse( cur );
					if ( curValue !== finalValue ) {
						elem.setAttribute( "class", finalValue );
					}
				}
			}
		}

		return this;
	},

	toggleClass: function( value, stateVal ) {
		var type = typeof value,
			isValidValue = type === "string" || Array.isArray( value );

		if ( typeof stateVal === "boolean" && isValidValue ) {
			return stateVal ? this.addClass( value ) : this.removeClass( value );
		}

		if ( isFunction( value ) ) {
			return this.each( function( i ) {
				jQuery( this ).toggleClass(
					value.call( this, i, getClass( this ), stateVal ),
					stateVal
				);
			} );
		}

		return this.each( function() {
			var className, i, self, classNames;

			if ( isValidValue ) {

				// Toggle individual class names
				i = 0;
				self = jQuery( this );
				classNames = classesToArray( value );

				while ( ( className = classNames[ i++ ] ) ) {

					// Check each className given, space separated list
					if ( self.hasClass( className ) ) {
						self.removeClass( className );
					} else {
						self.addClass( className );
					}
				}

			// Toggle whole class name
			} else if ( value === undefined || type === "boolean" ) {
				className = getClass( this );
				if ( className ) {

					// Store className if set
					dataPriv.set( this, "__className__", className );
				}

				// If the element has a class name or if we're passed `false`,
				// then remove the whole classname (if there was one, the above saved it).
				// Otherwise bring back whatever was previously saved (if anything),
				// falling back to the empty string if nothing was stored.
				if ( this.setAttribute ) {
					this.setAttribute( "class",
						className || value === false ?
						"" :
						dataPriv.get( this, "__className__" ) || ""
					);
				}
			}
		} );
	},

	hasClass: function( selector ) {
		var className, elem,
			i = 0;

		className = " " + selector + " ";
		while ( ( elem = this[ i++ ] ) ) {
			if ( elem.nodeType === 1 &&
				( " " + stripAndCollapse( getClass( elem ) ) + " " ).indexOf( className ) > -1 ) {
					return true;
			}
		}

		return false;
	}
} );




var rreturn = /\r/g;

jQuery.fn.extend( {
	val: function( value ) {
		var hooks, ret, valueIsFunction,
			elem = this[ 0 ];

		if ( !arguments.length ) {
			if ( elem ) {
				hooks = jQuery.valHooks[ elem.type ] ||
					jQuery.valHooks[ elem.nodeName.toLowerCase() ];

				if ( hooks &&
					"get" in hooks &&
					( ret = hooks.get( elem, "value" ) ) !== undefined
				) {
					return ret;
				}

				ret = elem.value;

				// Handle most common string cases
				if ( typeof ret === "string" ) {
					return ret.replace( rreturn, "" );
				}

				// Handle cases where value is null/undef or number
				return ret == null ? "" : ret;
			}

			return;
		}

		valueIsFunction = isFunction( value );

		return this.each( function( i ) {
			var val;

			if ( this.nodeType !== 1 ) {
				return;
			}

			if ( valueIsFunction ) {
				val = value.call( this, i, jQuery( this ).val() );
			} else {
				val = value;
			}

			// Treat null/undefined as ""; convert numbers to string
			if ( val == null ) {
				val = "";

			} else if ( typeof val === "number" ) {
				val += "";

			} else if ( Array.isArray( val ) ) {
				val = jQuery.map( val, function( value ) {
					return value == null ? "" : value + "";
				} );
			}

			hooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];

			// If set returns undefined, fall back to normal setting
			if ( !hooks || !( "set" in hooks ) || hooks.set( this, val, "value" ) === undefined ) {
				this.value = val;
			}
		} );
	}
} );

jQuery.extend( {
	valHooks: {
		option: {
			get: function( elem ) {

				var val = jQuery.find.attr( elem, "value" );
				return val != null ?
					val :

					// Support: IE <=10 - 11 only
					// option.text throws exceptions (#14686, #14858)
					// Strip and collapse whitespace
					// https://html.spec.whatwg.org/#strip-and-collapse-whitespace
					stripAndCollapse( jQuery.text( elem ) );
			}
		},
		select: {
			get: function( elem ) {
				var value, option, i,
					options = elem.options,
					index = elem.selectedIndex,
					one = elem.type === "select-one",
					values = one ? null : [],
					max = one ? index + 1 : options.length;

				if ( index < 0 ) {
					i = max;

				} else {
					i = one ? index : 0;
				}

				// Loop through all the selected options
				for ( ; i < max; i++ ) {
					option = options[ i ];

					// Support: IE <=9 only
					// IE8-9 doesn't update selected after form reset (#2551)
					if ( ( option.selected || i === index ) &&

							// Don't return options that are disabled or in a disabled optgroup
							!option.disabled &&
							( !option.parentNode.disabled ||
								!nodeName( option.parentNode, "optgroup" ) ) ) {

						// Get the specific value for the option
						value = jQuery( option ).val();

						// We don't need an array for one selects
						if ( one ) {
							return value;
						}

						// Multi-Selects return an array
						values.push( value );
					}
				}

				return values;
			},

			set: function( elem, value ) {
				var optionSet, option,
					options = elem.options,
					values = jQuery.makeArray( value ),
					i = options.length;

				while ( i-- ) {
					option = options[ i ];

					/* eslint-disable no-cond-assign */

					if ( option.selected =
						jQuery.inArray( jQuery.valHooks.option.get( option ), values ) > -1
					) {
						optionSet = true;
					}

					/* eslint-enable no-cond-assign */
				}

				// Force browsers to behave consistently when non-matching value is set
				if ( !optionSet ) {
					elem.selectedIndex = -1;
				}
				return values;
			}
		}
	}
} );

// Radios and checkboxes getter/setter
jQuery.each( [ "radio", "checkbox" ], function() {
	jQuery.valHooks[ this ] = {
		set: function( elem, value ) {
			if ( Array.isArray( value ) ) {
				return ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) > -1 );
			}
		}
	};
	if ( !support.checkOn ) {
		jQuery.valHooks[ this ].get = function( elem ) {
			return elem.getAttribute( "value" ) === null ? "on" : elem.value;
		};
	}
} );




// Return jQuery for attributes-only inclusion


support.focusin = "onfocusin" in window;


var rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,
	stopPropagationCallback = function( e ) {
		e.stopPropagation();
	};

jQuery.extend( jQuery.event, {

	trigger: function( event, data, elem, onlyHandlers ) {

		var i, cur, tmp, bubbleType, ontype, handle, special, lastElement,
			eventPath = [ elem || document ],
			type = hasOwn.call( event, "type" ) ? event.type : event,
			namespaces = hasOwn.call( event, "namespace" ) ? event.namespace.split( "." ) : [];

		cur = lastElement = tmp = elem = elem || document;

		// Don't do events on text and comment nodes
		if ( elem.nodeType === 3 || elem.nodeType === 8 ) {
			return;
		}

		// focus/blur morphs to focusin/out; ensure we're not firing them right now
		if ( rfocusMorph.test( type + jQuery.event.triggered ) ) {
			return;
		}

		if ( type.indexOf( "." ) > -1 ) {

			// Namespaced trigger; create a regexp to match event type in handle()
			namespaces = type.split( "." );
			type = namespaces.shift();
			namespaces.sort();
		}
		ontype = type.indexOf( ":" ) < 0 && "on" + type;

		// Caller can pass in a jQuery.Event object, Object, or just an event type string
		event = event[ jQuery.expando ] ?
			event :
			new jQuery.Event( type, typeof event === "object" && event );

		// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)
		event.isTrigger = onlyHandlers ? 2 : 3;
		event.namespace = namespaces.join( "." );
		event.rnamespace = event.namespace ?
			new RegExp( "(^|\\.)" + namespaces.join( "\\.(?:.*\\.|)" ) + "(\\.|$)" ) :
			null;

		// Clean up the event in case it is being reused
		event.result = undefined;
		if ( !event.target ) {
			event.target = elem;
		}

		// Clone any incoming data and prepend the event, creating the handler arg list
		data = data == null ?
			[ event ] :
			jQuery.makeArray( data, [ event ] );

		// Allow special events to draw outside the lines
		special = jQuery.event.special[ type ] || {};
		if ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {
			return;
		}

		// Determine event propagation path in advance, per W3C events spec (#9951)
		// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)
		if ( !onlyHandlers && !special.noBubble && !isWindow( elem ) ) {

			bubbleType = special.delegateType || type;
			if ( !rfocusMorph.test( bubbleType + type ) ) {
				cur = cur.parentNode;
			}
			for ( ; cur; cur = cur.parentNode ) {
				eventPath.push( cur );
				tmp = cur;
			}

			// Only add window if we got to document (e.g., not plain obj or detached DOM)
			if ( tmp === ( elem.ownerDocument || document ) ) {
				eventPath.push( tmp.defaultView || tmp.parentWindow || window );
			}
		}

		// Fire handlers on the event path
		i = 0;
		while ( ( cur = eventPath[ i++ ] ) && !event.isPropagationStopped() ) {
			lastElement = cur;
			event.type = i > 1 ?
				bubbleType :
				special.bindType || type;

			// jQuery handler
			handle = ( dataPriv.get( cur, "events" ) || {} )[ event.type ] &&
				dataPriv.get( cur, "handle" );
			if ( handle ) {
				handle.apply( cur, data );
			}

			// Native handler
			handle = ontype && cur[ ontype ];
			if ( handle && handle.apply && acceptData( cur ) ) {
				event.result = handle.apply( cur, data );
				if ( event.result === false ) {
					event.preventDefault();
				}
			}
		}
		event.type = type;

		// If nobody prevented the default action, do it now
		if ( !onlyHandlers && !event.isDefaultPrevented() ) {

			if ( ( !special._default ||
				special._default.apply( eventPath.pop(), data ) === false ) &&
				acceptData( elem ) ) {

				// Call a native DOM method on the target with the same name as the event.
				// Don't do default actions on window, that's where global variables be (#6170)
				if ( ontype && isFunction( elem[ type ] ) && !isWindow( elem ) ) {

					// Don't re-trigger an onFOO event when we call its FOO() method
					tmp = elem[ ontype ];

					if ( tmp ) {
						elem[ ontype ] = null;
					}

					// Prevent re-triggering of the same event, since we already bubbled it above
					jQuery.event.triggered = type;

					if ( event.isPropagationStopped() ) {
						lastElement.addEventListener( type, stopPropagationCallback );
					}

					elem[ type ]();

					if ( event.isPropagationStopped() ) {
						lastElement.removeEventListener( type, stopPropagationCallback );
					}

					jQuery.event.triggered = undefined;

					if ( tmp ) {
						elem[ ontype ] = tmp;
					}
				}
			}
		}

		return event.result;
	},

	// Piggyback on a donor event to simulate a different one
	// Used only for `focus(in | out)` events
	simulate: function( type, elem, event ) {
		var e = jQuery.extend(
			new jQuery.Event(),
			event,
			{
				type: type,
				isSimulated: true
			}
		);

		jQuery.event.trigger( e, null, elem );
	}

} );

jQuery.fn.extend( {

	trigger: function( type, data ) {
		return this.each( function() {
			jQuery.event.trigger( type, data, this );
		} );
	},
	triggerHandler: function( type, data ) {
		var elem = this[ 0 ];
		if ( elem ) {
			return jQuery.event.trigger( type, data, elem, true );
		}
	}
} );


// Support: Firefox <=44
// Firefox doesn't have focus(in | out) events
// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787
//
// Support: Chrome <=48 - 49, Safari <=9.0 - 9.1
// focus(in | out) events fire after focus & blur events,
// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order
// Related ticket - https://bugs.chromium.org/p/chromium/issues/detail?id=449857
if ( !support.focusin ) {
	jQuery.each( { focus: "focusin", blur: "focusout" }, function( orig, fix ) {

		// Attach a single capturing handler on the document while someone wants focusin/focusout
		var handler = function( event ) {
			jQuery.event.simulate( fix, event.target, jQuery.event.fix( event ) );
		};

		jQuery.event.special[ fix ] = {
			setup: function() {
				var doc = this.ownerDocument || this,
					attaches = dataPriv.access( doc, fix );

				if ( !attaches ) {
					doc.addEventListener( orig, handler, true );
				}
				dataPriv.access( doc, fix, ( attaches || 0 ) + 1 );
			},
			teardown: function() {
				var doc = this.ownerDocument || this,
					attaches = dataPriv.access( doc, fix ) - 1;

				if ( !attaches ) {
					doc.removeEventListener( orig, handler, true );
					dataPriv.remove( doc, fix );

				} else {
					dataPriv.access( doc, fix, attaches );
				}
			}
		};
	} );
}
var location = window.location;

var nonce = Date.now();

var rquery = ( /\?/ );



// Cross-browser xml parsing
jQuery.parseXML = function( data ) {
	var xml;
	if ( !data || typeof data !== "string" ) {
		return null;
	}

	// Support: IE 9 - 11 only
	// IE throws on parseFromString with invalid input.
	try {
		xml = ( new window.DOMParser() ).parseFromString( data, "text/xml" );
	} catch ( e ) {
		xml = undefined;
	}

	if ( !xml || xml.getElementsByTagName( "parsererror" ).length ) {
		jQuery.error( "Invalid XML: " + data );
	}
	return xml;
};


var
	rbracket = /\[\]$/,
	rCRLF = /\r?\n/g,
	rsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,
	rsubmittable = /^(?:input|select|textarea|keygen)/i;

function buildParams( prefix, obj, traditional, add ) {
	var name;

	if ( Array.isArray( obj ) ) {

		// Serialize array item.
		jQuery.each( obj, function( i, v ) {
			if ( traditional || rbracket.test( prefix ) ) {

				// Treat each array item as a scalar.
				add( prefix, v );

			} else {

				// Item is non-scalar (array or object), encode its numeric index.
				buildParams(
					prefix + "[" + ( typeof v === "object" && v != null ? i : "" ) + "]",
					v,
					traditional,
					add
				);
			}
		} );

	} else if ( !traditional && toType( obj ) === "object" ) {

		// Serialize object item.
		for ( name in obj ) {
			buildParams( prefix + "[" + name + "]", obj[ name ], traditional, add );
		}

	} else {

		// Serialize scalar item.
		add( prefix, obj );
	}
}

// Serialize an array of form elements or a set of
// key/values into a query string
jQuery.param = function( a, traditional ) {
	var prefix,
		s = [],
		add = function( key, valueOrFunction ) {

			// If value is a function, invoke it and use its return value
			var value = isFunction( valueOrFunction ) ?
				valueOrFunction() :
				valueOrFunction;

			s[ s.length ] = encodeURIComponent( key ) + "=" +
				encodeURIComponent( value == null ? "" : value );
		};

	if ( a == null ) {
		return "";
	}

	// If an array was passed in, assume that it is an array of form elements.
	if ( Array.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {

		// Serialize the form elements
		jQuery.each( a, function() {
			add( this.name, this.value );
		} );

	} else {

		// If traditional, encode the "old" way (the way 1.3.2 or older
		// did it), otherwise encode params recursively.
		for ( prefix in a ) {
			buildParams( prefix, a[ prefix ], traditional, add );
		}
	}

	// Return the resulting serialization
	return s.join( "&" );
};

jQuery.fn.extend( {
	serialize: function() {
		return jQuery.param( this.serializeArray() );
	},
	serializeArray: function() {
		return this.map( function() {

			// Can add propHook for "elements" to filter or add form elements
			var elements = jQuery.prop( this, "elements" );
			return elements ? jQuery.makeArray( elements ) : this;
		} )
		.filter( function() {
			var type = this.type;

			// Use .is( ":disabled" ) so that fieldset[disabled] works
			return this.name && !jQuery( this ).is( ":disabled" ) &&
				rsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&
				( this.checked || !rcheckableType.test( type ) );
		} )
		.map( function( i, elem ) {
			var val = jQuery( this ).val();

			if ( val == null ) {
				return null;
			}

			if ( Array.isArray( val ) ) {
				return jQuery.map( val, function( val ) {
					return { name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
				} );
			}

			return { name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
		} ).get();
	}
} );


var
	r20 = /%20/g,
	rhash = /#.*$/,
	rantiCache = /([?&])_=[^&]*/,
	rheaders = /^(.*?):[ \t]*([^\r\n]*)$/mg,

	// #7653, #8125, #8152: local protocol detection
	rlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
	rnoContent = /^(?:GET|HEAD)$/,
	rprotocol = /^\/\//,

	/* Prefilters
	 * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)
	 * 2) These are called:
	 *    - BEFORE asking for a transport
	 *    - AFTER param serialization (s.data is a string if s.processData is true)
	 * 3) key is the dataType
	 * 4) the catchall symbol "*" can be used
	 * 5) execution will start with transport dataType and THEN continue down to "*" if needed
	 */
	prefilters = {},

	/* Transports bindings
	 * 1) key is the dataType
	 * 2) the catchall symbol "*" can be used
	 * 3) selection will start with transport dataType and THEN go to "*" if needed
	 */
	transports = {},

	// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression
	allTypes = "*/".concat( "*" ),

	// Anchor tag for parsing the document origin
	originAnchor = document.createElement( "a" );
	originAnchor.href = location.href;

// Base "constructor" for jQuery.ajaxPrefilter and jQuery.ajaxTransport
function addToPrefiltersOrTransports( structure ) {

	// dataTypeExpression is optional and defaults to "*"
	return function( dataTypeExpression, func ) {

		if ( typeof dataTypeExpression !== "string" ) {
			func = dataTypeExpression;
			dataTypeExpression = "*";
		}

		var dataType,
			i = 0,
			dataTypes = dataTypeExpression.toLowerCase().match( rnothtmlwhite ) || [];

		if ( isFunction( func ) ) {

			// For each dataType in the dataTypeExpression
			while ( ( dataType = dataTypes[ i++ ] ) ) {

				// Prepend if requested
				if ( dataType[ 0 ] === "+" ) {
					dataType = dataType.slice( 1 ) || "*";
					( structure[ dataType ] = structure[ dataType ] || [] ).unshift( func );

				// Otherwise append
				} else {
					( structure[ dataType ] = structure[ dataType ] || [] ).push( func );
				}
			}
		}
	};
}

// Base inspection function for prefilters and transports
function inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {

	var inspected = {},
		seekingTransport = ( structure === transports );

	function inspect( dataType ) {
		var selected;
		inspected[ dataType ] = true;
		jQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {
			var dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );
			if ( typeof dataTypeOrTransport === "string" &&
				!seekingTransport && !inspected[ dataTypeOrTransport ] ) {

				options.dataTypes.unshift( dataTypeOrTransport );
				inspect( dataTypeOrTransport );
				return false;
			} else if ( seekingTransport ) {
				return !( selected = dataTypeOrTransport );
			}
		} );
		return selected;
	}

	return inspect( options.dataTypes[ 0 ] ) || !inspected[ "*" ] && inspect( "*" );
}

// A special extend for ajax options
// that takes "flat" options (not to be deep extended)
// Fixes #9887
function ajaxExtend( target, src ) {
	var key, deep,
		flatOptions = jQuery.ajaxSettings.flatOptions || {};

	for ( key in src ) {
		if ( src[ key ] !== undefined ) {
			( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];
		}
	}
	if ( deep ) {
		jQuery.extend( true, target, deep );
	}

	return target;
}

/* Handles responses to an ajax request:
 * - finds the right dataType (mediates between content-type and expected dataType)
 * - returns the corresponding response
 */
function ajaxHandleResponses( s, jqXHR, responses ) {

	var ct, type, finalDataType, firstDataType,
		contents = s.contents,
		dataTypes = s.dataTypes;

	// Remove auto dataType and get content-type in the process
	while ( dataTypes[ 0 ] === "*" ) {
		dataTypes.shift();
		if ( ct === undefined ) {
			ct = s.mimeType || jqXHR.getResponseHeader( "Content-Type" );
		}
	}

	// Check if we're dealing with a known content-type
	if ( ct ) {
		for ( type in contents ) {
			if ( contents[ type ] && contents[ type ].test( ct ) ) {
				dataTypes.unshift( type );
				break;
			}
		}
	}

	// Check to see if we have a response for the expected dataType
	if ( dataTypes[ 0 ] in responses ) {
		finalDataType = dataTypes[ 0 ];
	} else {

		// Try convertible dataTypes
		for ( type in responses ) {
			if ( !dataTypes[ 0 ] || s.converters[ type + " " + dataTypes[ 0 ] ] ) {
				finalDataType = type;
				break;
			}
			if ( !firstDataType ) {
				firstDataType = type;
			}
		}

		// Or just use first one
		finalDataType = finalDataType || firstDataType;
	}

	// If we found a dataType
	// We add the dataType to the list if needed
	// and return the corresponding response
	if ( finalDataType ) {
		if ( finalDataType !== dataTypes[ 0 ] ) {
			dataTypes.unshift( finalDataType );
		}
		return responses[ finalDataType ];
	}
}

/* Chain conversions given the request and the original response
 * Also sets the responseXXX fields on the jqXHR instance
 */
function ajaxConvert( s, response, jqXHR, isSuccess ) {
	var conv2, current, conv, tmp, prev,
		converters = {},

		// Work with a copy of dataTypes in case we need to modify it for conversion
		dataTypes = s.dataTypes.slice();

	// Create converters map with lowercased keys
	if ( dataTypes[ 1 ] ) {
		for ( conv in s.converters ) {
			converters[ conv.toLowerCase() ] = s.converters[ conv ];
		}
	}

	current = dataTypes.shift();

	// Convert to each sequential dataType
	while ( current ) {

		if ( s.responseFields[ current ] ) {
			jqXHR[ s.responseFields[ current ] ] = response;
		}

		// Apply the dataFilter if provided
		if ( !prev && isSuccess && s.dataFilter ) {
			response = s.dataFilter( response, s.dataType );
		}

		prev = current;
		current = dataTypes.shift();

		if ( current ) {

			// There's only work to do if current dataType is non-auto
			if ( current === "*" ) {

				current = prev;

			// Convert response if prev dataType is non-auto and differs from current
			} else if ( prev !== "*" && prev !== current ) {

				// Seek a direct converter
				conv = converters[ prev + " " + current ] || converters[ "* " + current ];

				// If none found, seek a pair
				if ( !conv ) {
					for ( conv2 in converters ) {

						// If conv2 outputs current
						tmp = conv2.split( " " );
						if ( tmp[ 1 ] === current ) {

							// If prev can be converted to accepted input
							conv = converters[ prev + " " + tmp[ 0 ] ] ||
								converters[ "* " + tmp[ 0 ] ];
							if ( conv ) {

								// Condense equivalence converters
								if ( conv === true ) {
									conv = converters[ conv2 ];

								// Otherwise, insert the intermediate dataType
								} else if ( converters[ conv2 ] !== true ) {
									current = tmp[ 0 ];
									dataTypes.unshift( tmp[ 1 ] );
								}
								break;
							}
						}
					}
				}

				// Apply converter (if not an equivalence)
				if ( conv !== true ) {

					// Unless errors are allowed to bubble, catch and return them
					if ( conv && s.throws ) {
						response = conv( response );
					} else {
						try {
							response = conv( response );
						} catch ( e ) {
							return {
								state: "parsererror",
								error: conv ? e : "No conversion from " + prev + " to " + current
							};
						}
					}
				}
			}
		}
	}

	return { state: "success", data: response };
}

jQuery.extend( {

	// Counter for holding the number of active queries
	active: 0,

	// Last-Modified header cache for next request
	lastModified: {},
	etag: {},

	ajaxSettings: {
		url: location.href,
		type: "GET",
		isLocal: rlocalProtocol.test( location.protocol ),
		global: true,
		processData: true,
		async: true,
		contentType: "application/x-www-form-urlencoded; charset=UTF-8",

		/*
		timeout: 0,
		data: null,
		dataType: null,
		username: null,
		password: null,
		cache: null,
		throws: false,
		traditional: false,
		headers: {},
		*/

		accepts: {
			"*": allTypes,
			text: "text/plain",
			html: "text/html",
			xml: "application/xml, text/xml",
			json: "application/json, text/javascript"
		},

		contents: {
			xml: /\bxml\b/,
			html: /\bhtml/,
			json: /\bjson\b/
		},

		responseFields: {
			xml: "responseXML",
			text: "responseText",
			json: "responseJSON"
		},

		// Data converters
		// Keys separate source (or catchall "*") and destination types with a single space
		converters: {

			// Convert anything to text
			"* text": String,

			// Text to html (true = no transformation)
			"text html": true,

			// Evaluate text as a json expression
			"text json": JSON.parse,

			// Parse text as xml
			"text xml": jQuery.parseXML
		},

		// For options that shouldn't be deep extended:
		// you can add your own custom options here if
		// and when you create one that shouldn't be
		// deep extended (see ajaxExtend)
		flatOptions: {
			url: true,
			context: true
		}
	},

	// Creates a full fledged settings object into target
	// with both ajaxSettings and settings fields.
	// If target is omitted, writes into ajaxSettings.
	ajaxSetup: function( target, settings ) {
		return settings ?

			// Building a settings object
			ajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :

			// Extending ajaxSettings
			ajaxExtend( jQuery.ajaxSettings, target );
	},

	ajaxPrefilter: addToPrefiltersOrTransports( prefilters ),
	ajaxTransport: addToPrefiltersOrTransports( transports ),

	// Main method
	ajax: function( url, options ) {

		// If url is an object, simulate pre-1.5 signature
		if ( typeof url === "object" ) {
			options = url;
			url = undefined;
		}

		// Force options to be an object
		options = options || {};

		var transport,

			// URL without anti-cache param
			cacheURL,

			// Response headers
			responseHeadersString,
			responseHeaders,

			// timeout handle
			timeoutTimer,

			// Url cleanup var
			urlAnchor,

			// Request state (becomes false upon send and true upon completion)
			completed,

			// To know if global events are to be dispatched
			fireGlobals,

			// Loop variable
			i,

			// uncached part of the url
			uncached,

			// Create the final options object
			s = jQuery.ajaxSetup( {}, options ),

			// Callbacks context
			callbackContext = s.context || s,

			// Context for global events is callbackContext if it is a DOM node or jQuery collection
			globalEventContext = s.context &&
				( callbackContext.nodeType || callbackContext.jquery ) ?
					jQuery( callbackContext ) :
					jQuery.event,

			// Deferreds
			deferred = jQuery.Deferred(),
			completeDeferred = jQuery.Callbacks( "once memory" ),

			// Status-dependent callbacks
			statusCode = s.statusCode || {},

			// Headers (they are sent all at once)
			requestHeaders = {},
			requestHeadersNames = {},

			// Default abort message
			strAbort = "canceled",

			// Fake xhr
			jqXHR = {
				readyState: 0,

				// Builds headers hashtable if needed
				getResponseHeader: function( key ) {
					var match;
					if ( completed ) {
						if ( !responseHeaders ) {
							responseHeaders = {};
							while ( ( match = rheaders.exec( responseHeadersString ) ) ) {
								responseHeaders[ match[ 1 ].toLowerCase() + " " ] =
									( responseHeaders[ match[ 1 ].toLowerCase() + " " ] || [] )
										.concat( match[ 2 ] );
							}
						}
						match = responseHeaders[ key.toLowerCase() + " " ];
					}
					return match == null ? null : match.join( ", " );
				},

				// Raw string
				getAllResponseHeaders: function() {
					return completed ? responseHeadersString : null;
				},

				// Caches the header
				setRequestHeader: function( name, value ) {
					if ( completed == null ) {
						name = requestHeadersNames[ name.toLowerCase() ] =
							requestHeadersNames[ name.toLowerCase() ] || name;
						requestHeaders[ name ] = value;
					}
					return this;
				},

				// Overrides response content-type header
				overrideMimeType: function( type ) {
					if ( completed == null ) {
						s.mimeType = type;
					}
					return this;
				},

				// Status-dependent callbacks
				statusCode: function( map ) {
					var code;
					if ( map ) {
						if ( completed ) {

							// Execute the appropriate callbacks
							jqXHR.always( map[ jqXHR.status ] );
						} else {

							// Lazy-add the new callbacks in a way that preserves old ones
							for ( code in map ) {
								statusCode[ code ] = [ statusCode[ code ], map[ code ] ];
							}
						}
					}
					return this;
				},

				// Cancel the request
				abort: function( statusText ) {
					var finalText = statusText || strAbort;
					if ( transport ) {
						transport.abort( finalText );
					}
					done( 0, finalText );
					return this;
				}
			};

		// Attach deferreds
		deferred.promise( jqXHR );

		// Add protocol if not provided (prefilters might expect it)
		// Handle falsy url in the settings object (#10093: consistency with old signature)
		// We also use the url parameter if available
		s.url = ( ( url || s.url || location.href ) + "" )
			.replace( rprotocol, location.protocol + "//" );

		// Alias method option to type as per ticket #12004
		s.type = options.method || options.type || s.method || s.type;

		// Extract dataTypes list
		s.dataTypes = ( s.dataType || "*" ).toLowerCase().match( rnothtmlwhite ) || [ "" ];

		// A cross-domain request is in order when the origin doesn't match the current origin.
		if ( s.crossDomain == null ) {
			urlAnchor = document.createElement( "a" );

			// Support: IE <=8 - 11, Edge 12 - 15
			// IE throws exception on accessing the href property if url is malformed,
			// e.g. http://example.com:80x/
			try {
				urlAnchor.href = s.url;

				// Support: IE <=8 - 11 only
				// Anchor's host property isn't correctly set when s.url is relative
				urlAnchor.href = urlAnchor.href;
				s.crossDomain = originAnchor.protocol + "//" + originAnchor.host !==
					urlAnchor.protocol + "//" + urlAnchor.host;
			} catch ( e ) {

				// If there is an error parsing the URL, assume it is crossDomain,
				// it can be rejected by the transport if it is invalid
				s.crossDomain = true;
			}
		}

		// Convert data if not already a string
		if ( s.data && s.processData && typeof s.data !== "string" ) {
			s.data = jQuery.param( s.data, s.traditional );
		}

		// Apply prefilters
		inspectPrefiltersOrTransports( prefilters, s, options, jqXHR );

		// If request was aborted inside a prefilter, stop there
		if ( completed ) {
			return jqXHR;
		}

		// We can fire global events as of now if asked to
		// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (#15118)
		fireGlobals = jQuery.event && s.global;

		// Watch for a new set of requests
		if ( fireGlobals && jQuery.active++ === 0 ) {
			jQuery.event.trigger( "ajaxStart" );
		}

		// Uppercase the type
		s.type = s.type.toUpperCase();

		// Determine if request has content
		s.hasContent = !rnoContent.test( s.type );

		// Save the URL in case we're toying with the If-Modified-Since
		// and/or If-None-Match header later on
		// Remove hash to simplify url manipulation
		cacheURL = s.url.replace( rhash, "" );

		// More options handling for requests with no content
		if ( !s.hasContent ) {

			// Remember the hash so we can put it back
			uncached = s.url.slice( cacheURL.length );

			// If data is available and should be processed, append data to url
			if ( s.data && ( s.processData || typeof s.data === "string" ) ) {
				cacheURL += ( rquery.test( cacheURL ) ? "&" : "?" ) + s.data;

				// #9682: remove data so that it's not used in an eventual retry
				delete s.data;
			}

			// Add or update anti-cache param if needed
			if ( s.cache === false ) {
				cacheURL = cacheURL.replace( rantiCache, "$1" );
				uncached = ( rquery.test( cacheURL ) ? "&" : "?" ) + "_=" + ( nonce++ ) + uncached;
			}

			// Put hash and anti-cache on the URL that will be requested (gh-1732)
			s.url = cacheURL + uncached;

		// Change '%20' to '+' if this is encoded form body content (gh-2658)
		} else if ( s.data && s.processData &&
			( s.contentType || "" ).indexOf( "application/x-www-form-urlencoded" ) === 0 ) {
			s.data = s.data.replace( r20, "+" );
		}

		// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
		if ( s.ifModified ) {
			if ( jQuery.lastModified[ cacheURL ] ) {
				jqXHR.setRequestHeader( "If-Modified-Since", jQuery.lastModified[ cacheURL ] );
			}
			if ( jQuery.etag[ cacheURL ] ) {
				jqXHR.setRequestHeader( "If-None-Match", jQuery.etag[ cacheURL ] );
			}
		}

		// Set the correct header, if data is being sent
		if ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {
			jqXHR.setRequestHeader( "Content-Type", s.contentType );
		}

		// Set the Accepts header for the server, depending on the dataType
		jqXHR.setRequestHeader(
			"Accept",
			s.dataTypes[ 0 ] && s.accepts[ s.dataTypes[ 0 ] ] ?
				s.accepts[ s.dataTypes[ 0 ] ] +
					( s.dataTypes[ 0 ] !== "*" ? ", " + allTypes + "; q=0.01" : "" ) :
				s.accepts[ "*" ]
		);

		// Check for headers option
		for ( i in s.headers ) {
			jqXHR.setRequestHeader( i, s.headers[ i ] );
		}

		// Allow custom headers/mimetypes and early abort
		if ( s.beforeSend &&
			( s.beforeSend.call( callbackContext, jqXHR, s ) === false || completed ) ) {

			// Abort if not done already and return
			return jqXHR.abort();
		}

		// Aborting is no longer a cancellation
		strAbort = "abort";

		// Install callbacks on deferreds
		completeDeferred.add( s.complete );
		jqXHR.done( s.success );
		jqXHR.fail( s.error );

		// Get transport
		transport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );

		// If no transport, we auto-abort
		if ( !transport ) {
			done( -1, "No Transport" );
		} else {
			jqXHR.readyState = 1;

			// Send global event
			if ( fireGlobals ) {
				globalEventContext.trigger( "ajaxSend", [ jqXHR, s ] );
			}

			// If request was aborted inside ajaxSend, stop there
			if ( completed ) {
				return jqXHR;
			}

			// Timeout
			if ( s.async && s.timeout > 0 ) {
				timeoutTimer = window.setTimeout( function() {
					jqXHR.abort( "timeout" );
				}, s.timeout );
			}

			try {
				completed = false;
				transport.send( requestHeaders, done );
			} catch ( e ) {

				// Rethrow post-completion exceptions
				if ( completed ) {
					throw e;
				}

				// Propagate others as results
				done( -1, e );
			}
		}

		// Callback for when everything is done
		function done( status, nativeStatusText, responses, headers ) {
			var isSuccess, success, error, response, modified,
				statusText = nativeStatusText;

			// Ignore repeat invocations
			if ( completed ) {
				return;
			}

			completed = true;

			// Clear timeout if it exists
			if ( timeoutTimer ) {
				window.clearTimeout( timeoutTimer );
			}

			// Dereference transport for early garbage collection
			// (no matter how long the jqXHR object will be used)
			transport = undefined;

			// Cache response headers
			responseHeadersString = headers || "";

			// Set readyState
			jqXHR.readyState = status > 0 ? 4 : 0;

			// Determine if successful
			isSuccess = status >= 200 && status < 300 || status === 304;

			// Get response data
			if ( responses ) {
				response = ajaxHandleResponses( s, jqXHR, responses );
			}

			// Convert no matter what (that way responseXXX fields are always set)
			response = ajaxConvert( s, response, jqXHR, isSuccess );

			// If successful, handle type chaining
			if ( isSuccess ) {

				// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
				if ( s.ifModified ) {
					modified = jqXHR.getResponseHeader( "Last-Modified" );
					if ( modified ) {
						jQuery.lastModified[ cacheURL ] = modified;
					}
					modified = jqXHR.getResponseHeader( "etag" );
					if ( modified ) {
						jQuery.etag[ cacheURL ] = modified;
					}
				}

				// if no content
				if ( status === 204 || s.type === "HEAD" ) {
					statusText = "nocontent";

				// if not modified
				} else if ( status === 304 ) {
					statusText = "notmodified";

				// If we have data, let's convert it
				} else {
					statusText = response.state;
					success = response.data;
					error = response.error;
					isSuccess = !error;
				}
			} else {

				// Extract error from statusText and normalize for non-aborts
				error = statusText;
				if ( status || !statusText ) {
					statusText = "error";
					if ( status < 0 ) {
						status = 0;
					}
				}
			}

			// Set data for the fake xhr object
			jqXHR.status = status;
			jqXHR.statusText = ( nativeStatusText || statusText ) + "";

			// Success/Error
			if ( isSuccess ) {
				deferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );
			} else {
				deferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );
			}

			// Status-dependent callbacks
			jqXHR.statusCode( statusCode );
			statusCode = undefined;

			if ( fireGlobals ) {
				globalEventContext.trigger( isSuccess ? "ajaxSuccess" : "ajaxError",
					[ jqXHR, s, isSuccess ? success : error ] );
			}

			// Complete
			completeDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );

			if ( fireGlobals ) {
				globalEventContext.trigger( "ajaxComplete", [ jqXHR, s ] );

				// Handle the global AJAX counter
				if ( !( --jQuery.active ) ) {
					jQuery.event.trigger( "ajaxStop" );
				}
			}
		}

		return jqXHR;
	},

	getJSON: function( url, data, callback ) {
		return jQuery.get( url, data, callback, "json" );
	},

	getScript: function( url, callback ) {
		return jQuery.get( url, undefined, callback, "script" );
	}
} );

jQuery.each( [ "get", "post" ], function( i, method ) {
	jQuery[ method ] = function( url, data, callback, type ) {

		// Shift arguments if data argument was omitted
		if ( isFunction( data ) ) {
			type = type || callback;
			callback = data;
			data = undefined;
		}

		// The url can be an options object (which then must have .url)
		return jQuery.ajax( jQuery.extend( {
			url: url,
			type: method,
			dataType: type,
			data: data,
			success: callback
		}, jQuery.isPlainObject( url ) && url ) );
	};
} );


jQuery._evalUrl = function( url, options ) {
	return jQuery.ajax( {
		url: url,

		// Make this explicit, since user can override this through ajaxSetup (#11264)
		type: "GET",
		dataType: "script",
		cache: true,
		async: false,
		global: false,

		// Only evaluate the response if it is successful (gh-4126)
		// dataFilter is not invoked for failure responses, so using it instead
		// of the default converter is kludgy but it works.
		converters: {
			"text script": function() {}
		},
		dataFilter: function( response ) {
			jQuery.globalEval( response, options );
		}
	} );
};


jQuery.fn.extend( {
	wrapAll: function( html ) {
		var wrap;

		if ( this[ 0 ] ) {
			if ( isFunction( html ) ) {
				html = html.call( this[ 0 ] );
			}

			// The elements to wrap the target around
			wrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );

			if ( this[ 0 ].parentNode ) {
				wrap.insertBefore( this[ 0 ] );
			}

			wrap.map( function() {
				var elem = this;

				while ( elem.firstElementChild ) {
					elem = elem.firstElementChild;
				}

				return elem;
			} ).append( this );
		}

		return this;
	},

	wrapInner: function( html ) {
		if ( isFunction( html ) ) {
			return this.each( function( i ) {
				jQuery( this ).wrapInner( html.call( this, i ) );
			} );
		}

		return this.each( function() {
			var self = jQuery( this ),
				contents = self.contents();

			if ( contents.length ) {
				contents.wrapAll( html );

			} else {
				self.append( html );
			}
		} );
	},

	wrap: function( html ) {
		var htmlIsFunction = isFunction( html );

		return this.each( function( i ) {
			jQuery( this ).wrapAll( htmlIsFunction ? html.call( this, i ) : html );
		} );
	},

	unwrap: function( selector ) {
		this.parent( selector ).not( "body" ).each( function() {
			jQuery( this ).replaceWith( this.childNodes );
		} );
		return this;
	}
} );


jQuery.expr.pseudos.hidden = function( elem ) {
	return !jQuery.expr.pseudos.visible( elem );
};
jQuery.expr.pseudos.visible = function( elem ) {
	return !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length );
};




jQuery.ajaxSettings.xhr = function() {
	try {
		return new window.XMLHttpRequest();
	} catch ( e ) {}
};

var xhrSuccessStatus = {

		// File protocol always yields status code 0, assume 200
		0: 200,

		// Support: IE <=9 only
		// #1450: sometimes IE returns 1223 when it should be 204
		1223: 204
	},
	xhrSupported = jQuery.ajaxSettings.xhr();

support.cors = !!xhrSupported && ( "withCredentials" in xhrSupported );
support.ajax = xhrSupported = !!xhrSupported;

jQuery.ajaxTransport( function( options ) {
	var callback, errorCallback;

	// Cross domain only allowed if supported through XMLHttpRequest
	if ( support.cors || xhrSupported && !options.crossDomain ) {
		return {
			send: function( headers, complete ) {
				var i,
					xhr = options.xhr();

				xhr.open(
					options.type,
					options.url,
					options.async,
					options.username,
					options.password
				);

				// Apply custom fields if provided
				if ( options.xhrFields ) {
					for ( i in options.xhrFields ) {
						xhr[ i ] = options.xhrFields[ i ];
					}
				}

				// Override mime type if needed
				if ( options.mimeType && xhr.overrideMimeType ) {
					xhr.overrideMimeType( options.mimeType );
				}

				// X-Requested-With header
				// For cross-domain requests, seeing as conditions for a preflight are
				// akin to a jigsaw puzzle, we simply never set it to be sure.
				// (it can always be set on a per-request basis or even using ajaxSetup)
				// For same-domain requests, won't change header if already provided.
				if ( !options.crossDomain && !headers[ "X-Requested-With" ] ) {
					headers[ "X-Requested-With" ] = "XMLHttpRequest";
				}

				// Set headers
				for ( i in headers ) {
					xhr.setRequestHeader( i, headers[ i ] );
				}

				// Callback
				callback = function( type ) {
					return function() {
						if ( callback ) {
							callback = errorCallback = xhr.onload =
								xhr.onerror = xhr.onabort = xhr.ontimeout =
									xhr.onreadystatechange = null;

							if ( type === "abort" ) {
								xhr.abort();
							} else if ( type === "error" ) {

								// Support: IE <=9 only
								// On a manual native abort, IE9 throws
								// errors on any property access that is not readyState
								if ( typeof xhr.status !== "number" ) {
									complete( 0, "error" );
								} else {
									complete(

										// File: protocol always yields status 0; see #8605, #14207
										xhr.status,
										xhr.statusText
									);
								}
							} else {
								complete(
									xhrSuccessStatus[ xhr.status ] || xhr.status,
									xhr.statusText,

									// Support: IE <=9 only
									// IE9 has no XHR2 but throws on binary (trac-11426)
									// For XHR2 non-text, let the caller handle it (gh-2498)
									( xhr.responseType || "text" ) !== "text"  ||
									typeof xhr.responseText !== "string" ?
										{ binary: xhr.response } :
										{ text: xhr.responseText },
									xhr.getAllResponseHeaders()
								);
							}
						}
					};
				};

				// Listen to events
				xhr.onload = callback();
				errorCallback = xhr.onerror = xhr.ontimeout = callback( "error" );

				// Support: IE 9 only
				// Use onreadystatechange to replace onabort
				// to handle uncaught aborts
				if ( xhr.onabort !== undefined ) {
					xhr.onabort = errorCallback;
				} else {
					xhr.onreadystatechange = function() {

						// Check readyState before timeout as it changes
						if ( xhr.readyState === 4 ) {

							// Allow onerror to be called first,
							// but that will not handle a native abort
							// Also, save errorCallback to a variable
							// as xhr.onerror cannot be accessed
							window.setTimeout( function() {
								if ( callback ) {
									errorCallback();
								}
							} );
						}
					};
				}

				// Create the abort callback
				callback = callback( "abort" );

				try {

					// Do send the request (this may raise an exception)
					xhr.send( options.hasContent && options.data || null );
				} catch ( e ) {

					// #14683: Only rethrow if this hasn't been notified as an error yet
					if ( callback ) {
						throw e;
					}
				}
			},

			abort: function() {
				if ( callback ) {
					callback();
				}
			}
		};
	}
} );




// Prevent auto-execution of scripts when no explicit dataType was provided (See gh-2432)
jQuery.ajaxPrefilter( function( s ) {
	if ( s.crossDomain ) {
		s.contents.script = false;
	}
} );

// Install script dataType
jQuery.ajaxSetup( {
	accepts: {
		script: "text/javascript, application/javascript, " +
			"application/ecmascript, application/x-ecmascript"
	},
	contents: {
		script: /\b(?:java|ecma)script\b/
	},
	converters: {
		"text script": function( text ) {
			jQuery.globalEval( text );
			return text;
		}
	}
} );

// Handle cache's special case and crossDomain
jQuery.ajaxPrefilter( "script", function( s ) {
	if ( s.cache === undefined ) {
		s.cache = false;
	}
	if ( s.crossDomain ) {
		s.type = "GET";
	}
} );

// Bind script tag hack transport
jQuery.ajaxTransport( "script", function( s ) {

	// This transport only deals with cross domain or forced-by-attrs requests
	if ( s.crossDomain || s.scriptAttrs ) {
		var script, callback;
		return {
			send: function( _, complete ) {
				script = jQuery( "<script>" )
					.attr( s.scriptAttrs || {} )
					.prop( { charset: s.scriptCharset, src: s.url } )
					.on( "load error", callback = function( evt ) {
						script.remove();
						callback = null;
						if ( evt ) {
							complete( evt.type === "error" ? 404 : 200, evt.type );
						}
					} );

				// Use native DOM manipulation to avoid our domManip AJAX trickery
				document.head.appendChild( script[ 0 ] );
			},
			abort: function() {
				if ( callback ) {
					callback();
				}
			}
		};
	}
} );




var oldCallbacks = [],
	rjsonp = /(=)\?(?=&|$)|\?\?/;

// Default jsonp settings
jQuery.ajaxSetup( {
	jsonp: "callback",
	jsonpCallback: function() {
		var callback = oldCallbacks.pop() || ( jQuery.expando + "_" + ( nonce++ ) );
		this[ callback ] = true;
		return callback;
	}
} );

// Detect, normalize options and install callbacks for jsonp requests
jQuery.ajaxPrefilter( "json jsonp", function( s, originalSettings, jqXHR ) {

	var callbackName, overwritten, responseContainer,
		jsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?
			"url" :
			typeof s.data === "string" &&
				( s.contentType || "" )
					.indexOf( "application/x-www-form-urlencoded" ) === 0 &&
				rjsonp.test( s.data ) && "data"
		);

	// Handle iff the expected data type is "jsonp" or we have a parameter to set
	if ( jsonProp || s.dataTypes[ 0 ] === "jsonp" ) {

		// Get callback name, remembering preexisting value associated with it
		callbackName = s.jsonpCallback = isFunction( s.jsonpCallback ) ?
			s.jsonpCallback() :
			s.jsonpCallback;

		// Insert callback into url or form data
		if ( jsonProp ) {
			s[ jsonProp ] = s[ jsonProp ].replace( rjsonp, "$1" + callbackName );
		} else if ( s.jsonp !== false ) {
			s.url += ( rquery.test( s.url ) ? "&" : "?" ) + s.jsonp + "=" + callbackName;
		}

		// Use data converter to retrieve json after script execution
		s.converters[ "script json" ] = function() {
			if ( !responseContainer ) {
				jQuery.error( callbackName + " was not called" );
			}
			return responseContainer[ 0 ];
		};

		// Force json dataType
		s.dataTypes[ 0 ] = "json";

		// Install callback
		overwritten = window[ callbackName ];
		window[ callbackName ] = function() {
			responseContainer = arguments;
		};

		// Clean-up function (fires after converters)
		jqXHR.always( function() {

			// If previous value didn't exist - remove it
			if ( overwritten === undefined ) {
				jQuery( window ).removeProp( callbackName );

			// Otherwise restore preexisting value
			} else {
				window[ callbackName ] = overwritten;
			}

			// Save back as free
			if ( s[ callbackName ] ) {

				// Make sure that re-using the options doesn't screw things around
				s.jsonpCallback = originalSettings.jsonpCallback;

				// Save the callback name for future use
				oldCallbacks.push( callbackName );
			}

			// Call if it was a function and we have a response
			if ( responseContainer && isFunction( overwritten ) ) {
				overwritten( responseContainer[ 0 ] );
			}

			responseContainer = overwritten = undefined;
		} );

		// Delegate to script
		return "script";
	}
} );




// Support: Safari 8 only
// In Safari 8 documents created via document.implementation.createHTMLDocument
// collapse sibling forms: the second one becomes a child of the first one.
// Because of that, this security measure has to be disabled in Safari 8.
// https://bugs.webkit.org/show_bug.cgi?id=137337
support.createHTMLDocument = ( function() {
	var body = document.implementation.createHTMLDocument( "" ).body;
	body.innerHTML = "<form></form><form></form>";
	return body.childNodes.length === 2;
} )();


// Argument "data" should be string of html
// context (optional): If specified, the fragment will be created in this context,
// defaults to document
// keepScripts (optional): If true, will include scripts passed in the html string
jQuery.parseHTML = function( data, context, keepScripts ) {
	if ( typeof data !== "string" ) {
		return [];
	}
	if ( typeof context === "boolean" ) {
		keepScripts = context;
		context = false;
	}

	var base, parsed, scripts;

	if ( !context ) {

		// Stop scripts or inline event handlers from being executed immediately
		// by using document.implementation
		if ( support.createHTMLDocument ) {
			context = document.implementation.createHTMLDocument( "" );

			// Set the base href for the created document
			// so any parsed elements with URLs
			// are based on the document's URL (gh-2965)
			base = context.createElement( "base" );
			base.href = document.location.href;
			context.head.appendChild( base );
		} else {
			context = document;
		}
	}

	parsed = rsingleTag.exec( data );
	scripts = !keepScripts && [];

	// Single tag
	if ( parsed ) {
		return [ context.createElement( parsed[ 1 ] ) ];
	}

	parsed = buildFragment( [ data ], context, scripts );

	if ( scripts && scripts.length ) {
		jQuery( scripts ).remove();
	}

	return jQuery.merge( [], parsed.childNodes );
};


/**
 * Load a url into a page
 */
jQuery.fn.load = function( url, params, callback ) {
	var selector, type, response,
		self = this,
		off = url.indexOf( " " );

	if ( off > -1 ) {
		selector = stripAndCollapse( url.slice( off ) );
		url = url.slice( 0, off );
	}

	// If it's a function
	if ( isFunction( params ) ) {

		// We assume that it's the callback
		callback = params;
		params = undefined;

	// Otherwise, build a param string
	} else if ( params && typeof params === "object" ) {
		type = "POST";
	}

	// If we have elements to modify, make the request
	if ( self.length > 0 ) {
		jQuery.ajax( {
			url: url,

			// If "type" variable is undefined, then "GET" method will be used.
			// Make value of this field explicit since
			// user can override it through ajaxSetup method
			type: type || "GET",
			dataType: "html",
			data: params
		} ).done( function( responseText ) {

			// Save response for use in complete callback
			response = arguments;

			self.html( selector ?

				// If a selector was specified, locate the right elements in a dummy div
				// Exclude scripts to avoid IE 'Permission Denied' errors
				jQuery( "<div>" ).append( jQuery.parseHTML( responseText ) ).find( selector ) :

				// Otherwise use the full result
				responseText );

		// If the request succeeds, this function gets "data", "status", "jqXHR"
		// but they are ignored because response was set above.
		// If it fails, this function gets "jqXHR", "status", "error"
		} ).always( callback && function( jqXHR, status ) {
			self.each( function() {
				callback.apply( this, response || [ jqXHR.responseText, status, jqXHR ] );
			} );
		} );
	}

	return this;
};




// Attach a bunch of functions for handling common AJAX events
jQuery.each( [
	"ajaxStart",
	"ajaxStop",
	"ajaxComplete",
	"ajaxError",
	"ajaxSuccess",
	"ajaxSend"
], function( i, type ) {
	jQuery.fn[ type ] = function( fn ) {
		return this.on( type, fn );
	};
} );




jQuery.expr.pseudos.animated = function( elem ) {
	return jQuery.grep( jQuery.timers, function( fn ) {
		return elem === fn.elem;
	} ).length;
};




jQuery.offset = {
	setOffset: function( elem, options, i ) {
		var curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,
			position = jQuery.css( elem, "position" ),
			curElem = jQuery( elem ),
			props = {};

		// Set position first, in-case top/left are set even on static elem
		if ( position === "static" ) {
			elem.style.position = "relative";
		}

		curOffset = curElem.offset();
		curCSSTop = jQuery.css( elem, "top" );
		curCSSLeft = jQuery.css( elem, "left" );
		calculatePosition = ( position === "absolute" || position === "fixed" ) &&
			( curCSSTop + curCSSLeft ).indexOf( "auto" ) > -1;

		// Need to be able to calculate position if either
		// top or left is auto and position is either absolute or fixed
		if ( calculatePosition ) {
			curPosition = curElem.position();
			curTop = curPosition.top;
			curLeft = curPosition.left;

		} else {
			curTop = parseFloat( curCSSTop ) || 0;
			curLeft = parseFloat( curCSSLeft ) || 0;
		}

		if ( isFunction( options ) ) {

			// Use jQuery.extend here to allow modification of coordinates argument (gh-1848)
			options = options.call( elem, i, jQuery.extend( {}, curOffset ) );
		}

		if ( options.top != null ) {
			props.top = ( options.top - curOffset.top ) + curTop;
		}
		if ( options.left != null ) {
			props.left = ( options.left - curOffset.left ) + curLeft;
		}

		if ( "using" in options ) {
			options.using.call( elem, props );

		} else {
			curElem.css( props );
		}
	}
};

jQuery.fn.extend( {

	// offset() relates an element's border box to the document origin
	offset: function( options ) {

		// Preserve chaining for setter
		if ( arguments.length ) {
			return options === undefined ?
				this :
				this.each( function( i ) {
					jQuery.offset.setOffset( this, options, i );
				} );
		}

		var rect, win,
			elem = this[ 0 ];

		if ( !elem ) {
			return;
		}

		// Return zeros for disconnected and hidden (display: none) elements (gh-2310)
		// Support: IE <=11 only
		// Running getBoundingClientRect on a
		// disconnected node in IE throws an error
		if ( !elem.getClientRects().length ) {
			return { top: 0, left: 0 };
		}

		// Get document-relative position by adding viewport scroll to viewport-relative gBCR
		rect = elem.getBoundingClientRect();
		win = elem.ownerDocument.defaultView;
		return {
			top: rect.top + win.pageYOffset,
			left: rect.left + win.pageXOffset
		};
	},

	// position() relates an element's margin box to its offset parent's padding box
	// This corresponds to the behavior of CSS absolute positioning
	position: function() {
		if ( !this[ 0 ] ) {
			return;
		}

		var offsetParent, offset, doc,
			elem = this[ 0 ],
			parentOffset = { top: 0, left: 0 };

		// position:fixed elements are offset from the viewport, which itself always has zero offset
		if ( jQuery.css( elem, "position" ) === "fixed" ) {

			// Assume position:fixed implies availability of getBoundingClientRect
			offset = elem.getBoundingClientRect();

		} else {
			offset = this.offset();

			// Account for the *real* offset parent, which can be the document or its root element
			// when a statically positioned element is identified
			doc = elem.ownerDocument;
			offsetParent = elem.offsetParent || doc.documentElement;
			while ( offsetParent &&
				( offsetParent === doc.body || offsetParent === doc.documentElement ) &&
				jQuery.css( offsetParent, "position" ) === "static" ) {

				offsetParent = offsetParent.parentNode;
			}
			if ( offsetParent && offsetParent !== elem && offsetParent.nodeType === 1 ) {

				// Incorporate borders into its offset, since they are outside its content origin
				parentOffset = jQuery( offsetParent ).offset();
				parentOffset.top += jQuery.css( offsetParent, "borderTopWidth", true );
				parentOffset.left += jQuery.css( offsetParent, "borderLeftWidth", true );
			}
		}

		// Subtract parent offsets and element margins
		return {
			top: offset.top - parentOffset.top - jQuery.css( elem, "marginTop", true ),
			left: offset.left - parentOffset.left - jQuery.css( elem, "marginLeft", true )
		};
	},

	// This method will return documentElement in the following cases:
	// 1) For the element inside the iframe without offsetParent, this method will return
	//    documentElement of the parent window
	// 2) For the hidden or detached element
	// 3) For body or html element, i.e. in case of the html node - it will return itself
	//
	// but those exceptions were never presented as a real life use-cases
	// and might be considered as more preferable results.
	//
	// This logic, however, is not guaranteed and can change at any point in the future
	offsetParent: function() {
		return this.map( function() {
			var offsetParent = this.offsetParent;

			while ( offsetParent && jQuery.css( offsetParent, "position" ) === "static" ) {
				offsetParent = offsetParent.offsetParent;
			}

			return offsetParent || documentElement;
		} );
	}
} );

// Create scrollLeft and scrollTop methods
jQuery.each( { scrollLeft: "pageXOffset", scrollTop: "pageYOffset" }, function( method, prop ) {
	var top = "pageYOffset" === prop;

	jQuery.fn[ method ] = function( val ) {
		return access( this, function( elem, method, val ) {

			// Coalesce documents and windows
			var win;
			if ( isWindow( elem ) ) {
				win = elem;
			} else if ( elem.nodeType === 9 ) {
				win = elem.defaultView;
			}

			if ( val === undefined ) {
				return win ? win[ prop ] : elem[ method ];
			}

			if ( win ) {
				win.scrollTo(
					!top ? val : win.pageXOffset,
					top ? val : win.pageYOffset
				);

			} else {
				elem[ method ] = val;
			}
		}, method, val, arguments.length );
	};
} );

// Support: Safari <=7 - 9.1, Chrome <=37 - 49
// Add the top/left cssHooks using jQuery.fn.position
// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084
// Blink bug: https://bugs.chromium.org/p/chromium/issues/detail?id=589347
// getComputedStyle returns percent when specified for top/left/bottom/right;
// rather than make the css module depend on the offset module, just check for it here
jQuery.each( [ "top", "left" ], function( i, prop ) {
	jQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,
		function( elem, computed ) {
			if ( computed ) {
				computed = curCSS( elem, prop );

				// If curCSS returns percentage, fallback to offset
				return rnumnonpx.test( computed ) ?
					jQuery( elem ).position()[ prop ] + "px" :
					computed;
			}
		}
	);
} );


// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods
jQuery.each( { Height: "height", Width: "width" }, function( name, type ) {
	jQuery.each( { padding: "inner" + name, content: type, "": "outer" + name },
		function( defaultExtra, funcName ) {

		// Margin is only for outerHeight, outerWidth
		jQuery.fn[ funcName ] = function( margin, value ) {
			var chainable = arguments.length && ( defaultExtra || typeof margin !== "boolean" ),
				extra = defaultExtra || ( margin === true || value === true ? "margin" : "border" );

			return access( this, function( elem, type, value ) {
				var doc;

				if ( isWindow( elem ) ) {

					// $( window ).outerWidth/Height return w/h including scrollbars (gh-1729)
					return funcName.indexOf( "outer" ) === 0 ?
						elem[ "inner" + name ] :
						elem.document.documentElement[ "client" + name ];
				}

				// Get document width or height
				if ( elem.nodeType === 9 ) {
					doc = elem.documentElement;

					// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],
					// whichever is greatest
					return Math.max(
						elem.body[ "scroll" + name ], doc[ "scroll" + name ],
						elem.body[ "offset" + name ], doc[ "offset" + name ],
						doc[ "client" + name ]
					);
				}

				return value === undefined ?

					// Get width or height on the element, requesting but not forcing parseFloat
					jQuery.css( elem, type, extra ) :

					// Set width or height on the element
					jQuery.style( elem, type, value, extra );
			}, type, chainable ? margin : undefined, chainable );
		};
	} );
} );


jQuery.each( ( "blur focus focusin focusout resize scroll click dblclick " +
	"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave " +
	"change select submit keydown keypress keyup contextmenu" ).split( " " ),
	function( i, name ) {

	// Handle event binding
	jQuery.fn[ name ] = function( data, fn ) {
		return arguments.length > 0 ?
			this.on( name, null, data, fn ) :
			this.trigger( name );
	};
} );

jQuery.fn.extend( {
	hover: function( fnOver, fnOut ) {
		return this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );
	}
} );




jQuery.fn.extend( {

	bind: function( types, data, fn ) {
		return this.on( types, null, data, fn );
	},
	unbind: function( types, fn ) {
		return this.off( types, null, fn );
	},

	delegate: function( selector, types, data, fn ) {
		return this.on( types, selector, data, fn );
	},
	undelegate: function( selector, types, fn ) {

		// ( namespace ) or ( selector, types [, fn] )
		return arguments.length === 1 ?
			this.off( selector, "**" ) :
			this.off( types, selector || "**", fn );
	}
} );

// Bind a function to a context, optionally partially applying any
// arguments.
// jQuery.proxy is deprecated to promote standards (specifically Function#bind)
// However, it is not slated for removal any time soon
jQuery.proxy = function( fn, context ) {
	var tmp, args, proxy;

	if ( typeof context === "string" ) {
		tmp = fn[ context ];
		context = fn;
		fn = tmp;
	}

	// Quick check to determine if target is callable, in the spec
	// this throws a TypeError, but we will just return undefined.
	if ( !isFunction( fn ) ) {
		return undefined;
	}

	// Simulated bind
	args = slice.call( arguments, 2 );
	proxy = function() {
		return fn.apply( context || this, args.concat( slice.call( arguments ) ) );
	};

	// Set the guid of unique handler to the same of original handler, so it can be removed
	proxy.guid = fn.guid = fn.guid || jQuery.guid++;

	return proxy;
};

jQuery.holdReady = function( hold ) {
	if ( hold ) {
		jQuery.readyWait++;
	} else {
		jQuery.ready( true );
	}
};
jQuery.isArray = Array.isArray;
jQuery.parseJSON = JSON.parse;
jQuery.nodeName = nodeName;
jQuery.isFunction = isFunction;
jQuery.isWindow = isWindow;
jQuery.camelCase = camelCase;
jQuery.type = toType;

jQuery.now = Date.now;

jQuery.isNumeric = function( obj ) {

	// As of jQuery 3.0, isNumeric is limited to
	// strings and numbers (primitives or objects)
	// that can be coerced to finite numbers (gh-2662)
	var type = jQuery.type( obj );
	return ( type === "number" || type === "string" ) &&

		// parseFloat NaNs numeric-cast false positives ("")
		// ...but misinterprets leading-number strings, particularly hex literals ("0x...")
		// subtraction forces infinities to NaN
		!isNaN( obj - parseFloat( obj ) );
};




// Register as a named AMD module, since jQuery can be concatenated with other
// files that may use define, but not via a proper concatenation script that
// understands anonymous AMD modules. A named AMD is safest and most robust
// way to register. Lowercase jquery is used because AMD module names are
// derived from file names, and jQuery is normally delivered in a lowercase
// file name. Do this after creating the global so that if an AMD module wants
// to call noConflict to hide this version of jQuery, it will work.

// Note that for maximum portability, libraries that are not jQuery should
// declare themselves as anonymous modules, and avoid setting a global if an
// AMD loader is present. jQuery is a special case. For more information, see
// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon

if ( true ) {
	!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function() {
		return jQuery;
	}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}




var

	// Map over jQuery in case of overwrite
	_jQuery = window.jQuery,

	// Map over the $ in case of overwrite
	_$ = window.$;

jQuery.noConflict = function( deep ) {
	if ( window.$ === jQuery ) {
		window.$ = _$;
	}

	if ( deep && window.jQuery === jQuery ) {
		window.jQuery = _jQuery;
	}

	return jQuery;
};

// Expose jQuery and $ identifiers, even in AMD
// (#7102#comment:10, https://github.com/jquery/jquery/pull/557)
// and CommonJS for browser emulators (#13566)
if ( !noGlobal ) {
	window.jQuery = window.$ = jQuery;
}




return jQuery;
} );


/***/ }),

/***/ "./node_modules/scroll-triggers/dist/scroll-triggers.js":
/*!**************************************************************!*\
  !*** ./node_modules/scroll-triggers/dist/scroll-triggers.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var domassist__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! domassist */ "./node_modules/domassist/dist/domassist.js");
/* harmony import */ var attrobj__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! attrobj */ "./node_modules/attrobj/dist/attrobj.js");
/* harmony import */ var tinybounce__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tinybounce */ "./node_modules/tinybounce/dist/tinybounce.js");




var Events = {
  In: 'scrolltriggers:inView',
  Out: 'scrolltriggers:outOfView',
  Pause: 'scrolltriggers:pause',
  Resume: 'scrolltriggers:resume',
  Bounds: 'scrolltriggers:bounds'
};

var ScrollTrigger =
/*#__PURE__*/
function () {
  function ScrollTrigger(el, options) {
    var _this = this;

    if (el.hasAttribute('data-scroll-init')) {
      return;
    }

    this.added = false;
    this.el = el;
    this.options = options;
    this.eventHandler = Object(tinybounce__WEBPACK_IMPORTED_MODULE_2__["default"])(this.onScroll.bind(this), 10, true);
    this.dCalcBounds = Object(tinybounce__WEBPACK_IMPORTED_MODULE_2__["default"])(this.calcBounds.bind(this), 10);
    this.paused = false;
    this.disabled = false;
    this.calcOffset(); // If images, once by default

    if (this.options.image || this.options.src || this.options.srcset) {
      this.options.once = true;
    }

    el.setAttribute('data-scroll-init', 'true');
    this.calcBounds();
    window.addEventListener('scroll', this.eventHandler);
    window.addEventListener('resize', this.dCalcBounds);
    Object(domassist__WEBPACK_IMPORTED_MODULE_0__["on"])(this.el, Events.Pause, function () {
      _this.paused = true;
    });
    Object(domassist__WEBPACK_IMPORTED_MODULE_0__["on"])(this.el, Events.Resume, function () {
      _this.paused = false;
    });
    /*
      Prevents a bug on Blink+Webkit in which scroll is always 0 until around
      400 milliseconds due to anchor scrolling features.
     */

    setTimeout(this.eventHandler, 400);
  }

  var _proto = ScrollTrigger.prototype;

  _proto.calcBounds = function calcBounds() {
    var _this2 = this;

    this.calcOffset(); // Element is hidden and not fixed

    var isAllowedToBeFixed = this.options.progress === true || typeof this.options.fixed !== 'undefined';

    if (!this.el.offsetParent && !isAllowedToBeFixed || this.added && this.options.once) {
      // Don't even bother calculating
      this.disabled = true;
      return;
    }

    this.disabled = false;

    if (isAllowedToBeFixed && this.added) {
      this.outOfView();
      return requestAnimationFrame(function () {
        return _this2.calcBounds();
      });
    }

    var position = this.options.position || 'bottom';
    this.startEl = this.options.start ? Object(domassist__WEBPACK_IMPORTED_MODULE_0__["findOne"])(this.options.start) : this.el;
    ScrollTrigger.checkElement(this.startEl, 'start', this.options.start);
    var rect = this.startEl.getBoundingClientRect();
    var scrollY = ScrollTrigger.getScrollY();
    var start = rect.top + scrollY + (this.options.offset || 0);
    this.start = ScrollTrigger.processPosition(position, start);

    if (this.options.end) {
      var endEl = Object(domassist__WEBPACK_IMPORTED_MODULE_0__["findOne"])(this.options.end);
      var endRect = endEl.getBoundingClientRect();
      var end = endRect.top + scrollY;
      var endPosition = this.options.positionEnd || 'bottom';

      if (endPosition === 'auto') {
        endPosition = 'top';
      }

      this.end = ScrollTrigger.processPosition(endPosition, end);

      if (this.options.positionEnd === 'auto') {
        this.end -= this.el.offsetHeight;
      }

      ScrollTrigger.checkElement(endEl, 'end', this.options.end);
    }

    this.fire(Events.Bounds);
    this.eventHandler();
  };

  _proto.calcOffset = function calcOffset() {
    this.options.offset = this.options.offset ? this.options.offset : this.el.dataset.scrollOffset; // Half a screen above loading

    if (this.options.image || this.options.srcset || this.options.offset === 'auto') {
      this.options.offset = Math.max((document.documentElement.clientHeight, window.innerHeight || 0) / 2) * -1;
    } else {
      this.options.offset = parseInt(this.options.offset || 0, 10);
    }
  };

  _proto.inView = function inView() {
    var _this$options = this.options,
        className = _this$options.className,
        inView = _this$options.inView;

    if (className && this.el.classList) {
      Object(domassist__WEBPACK_IMPORTED_MODULE_0__["addClass"])(this.el, className);
    }

    var image = this.options.image;
    var src = this.options.src;
    var srcset = this.options.srcset;

    if (image || src) {
      if (this.el.tagName === 'IMG') {
        this.el.setAttribute('src', image);
      } else if (this.el.tagName === 'IFRAME' || this.el.tagName === 'VIDEO') {
        this.el.setAttribute('src', src);
      } else {
        Object(domassist__WEBPACK_IMPORTED_MODULE_0__["styles"])(this.el, {
          backgroundImage: "url(" + image + ")",
          backgroundRepeat: 'no-repeat'
        });
      }
    }

    if (srcset) {
      this.el.setAttribute('srcset', srcset);
    }

    if (typeof inView === 'function') {
      inView(this.el, this.options);
    }

    this.fire(Events.In);

    if (this.options.once) {
      this.disabled = true;
      window.removeEventListener('scroll', this.eventHandler);
      window.removeEventListener('resize', this.dCalcBounds);
    }

    this.added = true;
  };

  _proto.outOfView = function outOfView() {
    var _this$options2 = this.options,
        className = _this$options2.className,
        outOfView = _this$options2.outOfView;

    if (className && this.el.classList) {
      Object(domassist__WEBPACK_IMPORTED_MODULE_0__["removeClass"])(this.el, className);
    }

    if (typeof outOfView === 'function') {
      outOfView(this.el, this.options);
    }

    this.fire(Events.Out);
    this.added = false;
  };

  _proto.fire = function fire$1(event) {
    Object(domassist__WEBPACK_IMPORTED_MODULE_0__["fire"])(this.el, event, {
      detail: {
        instance: this,
        options: this.options
      }
    });
  };

  _proto.onScroll = function onScroll() {
    var scroll = ScrollTrigger.getScrollY();

    if (this.paused || this.disabled) {
      return;
    }

    if (this.options.progress) {
      var perc = scroll / (document.documentElement.scrollHeight - window.innerHeight);
      this.el.style.width = perc * 100 + "%";
    }

    if (scroll < this.start || this.end && scroll > this.end) {
      if (this.added) {
        this.outOfView();
      }

      return;
    }

    if (this.added) {
      return;
    }

    this.inView();
  };

  ScrollTrigger.checkElement = function checkElement(element, position, selector) {
    if (!element) {
      throw new Error(position + " element doesn't match any element with selector: \"" + selector + "\"");
    }
  };

  ScrollTrigger.getScrollY = function getScrollY() {
    return window.pageYOffset || document.documentElement.scrollTop;
  };

  ScrollTrigger.processPosition = function processPosition(position, currentValue) {
    if (position === 'top') {
      return currentValue;
    }

    if (position === 'middle') {
      currentValue -= window.innerHeight / 2;
    } else if (position === 'bottom') {
      currentValue -= window.innerHeight;
    } else {
      currentValue -= window.innerHeight * (parseInt(position, 10) / 100);
    }

    return currentValue;
  };

  return ScrollTrigger;
}();

var init = function init(items) {
  var instances = [];

  if (items && Array.isArray(items)) {
    items.forEach(function (item) {
      var els = Object(domassist__WEBPACK_IMPORTED_MODULE_0__["find"])(item.el);

      if (els === null) {
        throw new Error('unknown element');
      }

      els.forEach(function (el) {
        delete item.el;
        instances.push(new ScrollTrigger(el, item));
      });
    });
  } else if (items) {
    throw new Error('please convert object to array');
  } else {
    var els = Object(domassist__WEBPACK_IMPORTED_MODULE_0__["find"])('[data-scroll]');
    els.forEach(function (el) {
      var options = Object(attrobj__WEBPACK_IMPORTED_MODULE_1__["default"])('scroll', el);

      if (options.progress !== null && typeof options.progress !== 'undefined') {
        options.progress = true;
      }

      options.className = options["class"];

      if (options.offset) {
        options.offset = parseInt(options.offset, 10);
      }

      if (typeof options.once !== 'undefined') {
        options.once = true;
      }

      instances.push(new ScrollTrigger(el, options));
    });
  }

  return instances;
};

if (document.readyState !== 'complete') {
  // Avoid image loading impacting on calculations
  document.addEventListener('readystatechange', function () {
    if (document.readyState === 'complete') {
      Object(domassist__WEBPACK_IMPORTED_MODULE_0__["fire"])(window, 'resize');
    }
  });
}

Object(domassist__WEBPACK_IMPORTED_MODULE_0__["ready"])(init);
init.Events = Events;
init.ScrollTrigger = ScrollTrigger;

/* harmony default export */ __webpack_exports__["default"] = (init);
//# sourceMappingURL=scroll-triggers.js.map


/***/ }),

/***/ "./node_modules/smooth-scroller/dist/smooth-scroller.js":
/*!**************************************************************!*\
  !*** ./node_modules/smooth-scroller/dist/smooth-scroller.js ***!
  \**************************************************************/
/*! exports provided: init, scroll */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "init", function() { return init; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "scroll", function() { return scroll; });
/* harmony import */ var domassist__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! domassist */ "./node_modules/domassist/dist/domassist.js");


/* global window,document */
var duration = 1000;

var ease = function ease(t, b, c, d) {
  if ((t /= d / 2) < 1) return c / 2 * t * t * t * t + b; //eslint-disable-line

  return -c / 2 * ((t -= 2) * t * t * t - 2) + b;
};

var animate = function animate(startTime, start, end, callback) {
  if (callback === void 0) {
    callback = function callback() {};
  }

  var time = new Date().getTime();
  var difference = end - start;
  var goingUp = difference < 0;

  if (difference === 0) {
    return;
  }

  var delta = time - startTime;
  var to = Math.round(ease(delta, start, difference, duration));

  if (!goingUp && to > end) {
    to = end;
  }

  if (goingUp && to < end) {
    to = end;
  }

  if (delta > duration) {
    to = end;
  }

  window.scrollTo(0, to);

  if (to === end) {
    setTimeout(callback);
    return;
  }

  if (to < 0) {
    return;
  }

  window.requestAnimationFrame(function () {
    return animate(startTime, start, end, callback);
  });
};

var scroll = function scroll(target, hash, offset, silent) {
  if (offset === void 0) {
    offset = 0;
  }

  if (silent === void 0) {
    silent = false;
  }

  if (!target) {
    return;
  }

  Object(domassist__WEBPACK_IMPORTED_MODULE_0__["fire"])(target, 'smoothscroll:start', {
    bubbles: true
  });
  var rect = target.getBoundingClientRect();
  var scrollY = window.pageYOffset || document.documentElement.scrollTop;
  var adjustedOffset = Math.round(rect.top + scrollY) + offset;
  var startTime = new Date();

  if (!target.hasAttribute('tabindex')) {
    target.tabIndex = '-1';
  }

  if (!silent) {
    window.history.pushState(null, 'Scroll', hash);
  }

  animate(startTime.getTime(), scrollY, adjustedOffset, function () {
    Object(domassist__WEBPACK_IMPORTED_MODULE_0__["fire"])(target, 'smoothscroll:end', {
      bubbles: true
    });
  });
  target.focus();
};

var listenEvent = function listenEvent(el, offset) {
  if (el.dataset.smoothActive) {
    return;
  }

  el.dataset.smoothActive = true;
  el.addEventListener('click', function (e) {
    var hash = el.getAttribute('href');

    if (hash[0] !== '#') {
      return;
    }

    e.preventDefault();
    scroll(document.querySelector(hash), hash, offset);
  });
};

var init = function init(query, offset) {
  if (query === void 0) {
    query = '[data-smooth]';
  }

  if (offset === void 0) {
    offset = 0;
  }

  if (!window.requestAnimationFrame) {
    return;
  }

  var els = query;

  if (typeof query === 'string') {
    els = document.querySelectorAll(query);
  }

  if (els instanceof Element) {
    els = [els];
  }

  for (var i = 0, c = els.length; i < c; i++) {
    var el = els[i];
    listenEvent(el, offset);
  }
};
window.addEventListener('DOMContentLoaded', function () {
  init();
});


//# sourceMappingURL=smooth-scroller.js.map


/***/ }),

/***/ "./node_modules/tinybounce/dist/tinybounce.js":
/*!****************************************************!*\
  !*** ./node_modules/tinybounce/dist/tinybounce.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
var debounce = function debounce(func, wait, immediate) {
  var timeout;
  return function () {
    var context = this;
    var args = arguments; // eslint-disable-line prefer-rest-params

    var later = function later() {
      timeout = null;

      if (!immediate) {
        func.apply(context, args);
      }
    };

    var callNow = immediate && !timeout;
    clearTimeout(timeout);
    timeout = setTimeout(later, wait);

    if (callNow) {
      func.apply(context, args);
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (debounce);
//# sourceMappingURL=tinybounce.js.map


/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),

/***/ "./node_modules/webpack/buildin/module.js":
/*!***********************************!*\
  !*** (webpack)/buildin/module.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function(module) {
	if (!module.webpackPolyfill) {
		module.deprecate = function() {};
		module.paths = [];
		// module.parent = undefined by default
		if (!module.children) module.children = [];
		Object.defineProperty(module, "loaded", {
			enumerable: true,
			get: function() {
				return module.l;
			}
		});
		Object.defineProperty(module, "id", {
			enumerable: true,
			get: function() {
				return module.i;
			}
		});
		module.webpackPolyfill = 1;
	}
	return module;
};


/***/ }),

/***/ "./resources/js/action/AdminIndex.js":
/*!*******************************************!*\
  !*** ./resources/js/action/AdminIndex.js ***!
  \*******************************************/
/*! exports provided: AdminIndex */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdminIndex", function() { return AdminIndex; });
/* harmony import */ var _App__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./App */ "./resources/js/action/App.js");
/* harmony import */ var _modules_confirmDelete__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../modules/confirmDelete */ "./resources/js/modules/confirmDelete.js");
/* harmony import */ var _modules_CheckAll__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../modules/CheckAll */ "./resources/js/modules/CheckAll.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }




var AdminIndex =
/*#__PURE__*/
function (_App) {
  _inherits(AdminIndex, _App);

  function AdminIndex() {
    _classCallCheck(this, AdminIndex);

    return _possibleConstructorReturn(this, _getPrototypeOf(AdminIndex).apply(this, arguments));
  }

  _createClass(AdminIndex, [{
    key: "ready",
    value: function ready() {
      _get(_getPrototypeOf(AdminIndex.prototype), "ready", this).call(this);

      Object(_modules_confirmDelete__WEBPACK_IMPORTED_MODULE_1__["confirmDelete"])();
      new _modules_CheckAll__WEBPACK_IMPORTED_MODULE_2__["CheckAll"]($('.checkAll-wrapper'));
    }
  }]);

  return AdminIndex;
}(_App__WEBPACK_IMPORTED_MODULE_0__["App"]);

/***/ }),

/***/ "./resources/js/action/AdminPostCreate.js":
/*!************************************************!*\
  !*** ./resources/js/action/AdminPostCreate.js ***!
  \************************************************/
/*! exports provided: AdminPostCreate */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdminPostCreate", function() { return AdminPostCreate; });
/* harmony import */ var _App__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./App */ "./resources/js/action/App.js");
/* harmony import */ var _modules_Modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../modules/Modal */ "./resources/js/modules/Modal.js");
/* harmony import */ var _modules_AjaxCategory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../modules/AjaxCategory */ "./resources/js/modules/AjaxCategory.js");
/* harmony import */ var _modules_AjaxTag__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../modules/AjaxTag */ "./resources/js/modules/AjaxTag.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }




 // import { tinymce } from '../modules/tinymce/tinymce.min.js';

tinymce = __webpack_require__(/*! ../modules/tinymce/tinymce.min.js */ "./resources/js/modules/tinymce/tinymce.min.js"); // A theme is also required

__webpack_require__(/*! ../modules/tinymce/themes/silver/theme.min.js */ "./resources/js/modules/tinymce/themes/silver/theme.min.js"); // Any plugins you want to use has to be imported


__webpack_require__(/*! ../modules/tinymce/plugins/lists/plugin.min.js */ "./resources/js/modules/tinymce/plugins/lists/plugin.min.js");

__webpack_require__(/*! ../modules/tinymce/plugins/link/plugin.min.js */ "./resources/js/modules/tinymce/plugins/link/plugin.min.js");

__webpack_require__(/*! ../modules/tinymce/plugins/image/plugin.min.js */ "./resources/js/modules/tinymce/plugins/image/plugin.min.js");

__webpack_require__(/*! ../modules/tinymce/plugins/code/plugin.min.js */ "./resources/js/modules/tinymce/plugins/code/plugin.min.js");

__webpack_require__(/*! ../modules/tinymce/plugins/fullscreen/plugin.min.js */ "./resources/js/modules/tinymce/plugins/fullscreen/plugin.min.js");

__webpack_require__(/*! ../modules/tinymce/plugins/media/plugin.min.js */ "./resources/js/modules/tinymce/plugins/media/plugin.min.js");

__webpack_require__(/*! ../modules/tinymce/plugins/table/plugin.min.js */ "./resources/js/modules/tinymce/plugins/table/plugin.min.js");

__webpack_require__(/*! ../modules/tinymce/plugins/code/plugin.min.js */ "./resources/js/modules/tinymce/plugins/code/plugin.min.js");

__webpack_require__(/*! ../modules/tinymce/langs/ja.js */ "./resources/js/modules/tinymce/langs/ja.js");

var AdminPostCreate =
/*#__PURE__*/
function (_App) {
  _inherits(AdminPostCreate, _App);

  function AdminPostCreate() {
    _classCallCheck(this, AdminPostCreate);

    return _possibleConstructorReturn(this, _getPrototypeOf(AdminPostCreate).apply(this, arguments));
  }

  _createClass(AdminPostCreate, [{
    key: "ready",
    value: function ready() {
      _get(_getPrototypeOf(AdminPostCreate.prototype), "ready", this).call(this);

      $('.modal-wrapper').each(function () {
        new _modules_Modal__WEBPACK_IMPORTED_MODULE_1__["Modal"]($(this));
      });
      new _modules_AjaxCategory__WEBPACK_IMPORTED_MODULE_2__["AjaxCategory"]();
      new _modules_AjaxTag__WEBPACK_IMPORTED_MODULE_3__["AjaxTag"]();
      tinymce.init({
        selector: "#post_content",
        //
        body_class: "post-content",
        //bodyclass
        content_css: "/style/style.css",
        //public
        content_style: "body {margin: 15px;}",
        //body
        language: "ja",
        plugins: "table lists link image fullscreen media code",
        menubar: "false",
        toolbar: ['undo redo | code | blockquote | bold | styleselect | forecolor backcolor | fontsizeselect', 'numlist bullist | table | link | image | media | removeformat | fullscreen'],
        fontsize_formats: '10px 12px 14px 16px 18px 20px 24px 34px',
        branding: false,
        image_list: "/admin/post/read_image_api",
        //JSONpostContrller@readImage
        relative_urls: false // 

      });
    }
  }]);

  return AdminPostCreate;
}(_App__WEBPACK_IMPORTED_MODULE_0__["App"]);

/***/ }),

/***/ "./resources/js/action/App.js":
/*!************************************!*\
  !*** ./resources/js/action/App.js ***!
  \************************************/
/*! exports provided: App */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "App", function() { return App; });
/* harmony import */ var _modules_Accordion_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../modules/Accordion.js */ "./resources/js/modules/Accordion.js");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }


var App =
/*#__PURE__*/
function () {
  function App() {
    _classCallCheck(this, App);
  }

  _createClass(App, [{
    key: "ready",
    value: function ready() {
      // 
      $('.accordion-wrapper').each(function () {
        new _modules_Accordion_js__WEBPACK_IMPORTED_MODULE_0__["Accordion"]($(this));
      });
    }
  }]);

  return App;
}();

/***/ }),

/***/ "./resources/js/action/Post.js":
/*!*************************************!*\
  !*** ./resources/js/action/Post.js ***!
  \*************************************/
/*! exports provided: Post */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Post", function() { return Post; });
/* harmony import */ var _App__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./App */ "./resources/js/action/App.js");
/* harmony import */ var _modules_fixSidebar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../modules/fixSidebar */ "./resources/js/modules/fixSidebar.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }



var Post =
/*#__PURE__*/
function (_App) {
  _inherits(Post, _App);

  function Post() {
    _classCallCheck(this, Post);

    return _possibleConstructorReturn(this, _getPrototypeOf(Post).apply(this, arguments));
  }

  _createClass(Post, [{
    key: "ready",
    value: function ready() {
      _get(_getPrototypeOf(Post.prototype), "ready", this).call(this);

      Object(_modules_fixSidebar__WEBPACK_IMPORTED_MODULE_1__["fixSidebar"])();
    }
  }]);

  return Post;
}(_App__WEBPACK_IMPORTED_MODULE_0__["App"]);

/***/ }),

/***/ "./resources/js/app.js":
/*!*****************************!*\
  !*** ./resources/js/app.js ***!
  \*****************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _firstandthird_toc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @firstandthird/toc */ "./node_modules/@firstandthird/toc/dist/toc.js");
/* harmony import */ var _action_App__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./action/App */ "./resources/js/action/App.js");
/* harmony import */ var _action_Post__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./action/Post */ "./resources/js/action/Post.js");
/* harmony import */ var _action_AdminIndex__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./action/AdminIndex */ "./resources/js/action/AdminIndex.js");
/* harmony import */ var _action_AdminPostCreate__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./action/AdminPostCreate */ "./resources/js/action/AdminPostCreate.js");
window.$ = window.jQuery = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");





var app = new _action_App__WEBPACK_IMPORTED_MODULE_1__["App"]();
var routes = {
  'post': new _action_Post__WEBPACK_IMPORTED_MODULE_2__["Post"](),
  'admin-index': new _action_AdminIndex__WEBPACK_IMPORTED_MODULE_3__["AdminIndex"](),
  'admin/post/create': new _action_AdminPostCreate__WEBPACK_IMPORTED_MODULE_4__["AdminPostCreate"](),
  'admin/post/edit': new _action_AdminPostCreate__WEBPACK_IMPORTED_MODULE_4__["AdminPostCreate"]()
};

var route = function route(path) {
  if (routes.hasOwnProperty(path)) {
    return routes[path];
  }

  return app;
};

var action = route($('#main').data('action'));
action.ready();

/***/ }),

/***/ "./resources/js/modules/Accordion.js":
/*!*******************************************!*\
  !*** ./resources/js/modules/Accordion.js ***!
  \*******************************************/
/*! exports provided: Accordion */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Accordion", function() { return Accordion; });
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var Accordion =
/*#__PURE__*/
function () {
  function Accordion($accordionWrapper) {
    _classCallCheck(this, Accordion);

    this.$accordionWrapper = $accordionWrapper;
    this.$accordionBody = this.$accordionWrapper.children('.accordion-body:not(:animated)');
    this.$accordionTrigger = this.$accordionWrapper.children('.accordion-trigger');
    this.bindEvent();
  }

  _createClass(Accordion, [{
    key: "bindEvent",
    value: function bindEvent() {
      this.$accordionTrigger.on("click", $.proxy(this.slideMenu, this));
    }
  }, {
    key: "slideMenu",
    value: function slideMenu() {
      if (this.$accordionBody.css("display") === "none") {
        this.$accordionBody.slideDown(this.SLIDE_TIME);
        this.$accordionTrigger.addClass('is-open');
      } else {
        this.$accordionBody.slideUp(this.SLIDE_TIME);
        this.$accordionTrigger.removeClass('is-open');
      }
    }
  }]);

  return Accordion;
}();

/***/ }),

/***/ "./resources/js/modules/AjaxCategory.js":
/*!**********************************************!*\
  !*** ./resources/js/modules/AjaxCategory.js ***!
  \**********************************************/
/*! exports provided: AjaxCategory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AjaxCategory", function() { return AjaxCategory; });
/* harmony import */ var _AjaxCommon__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AjaxCommon */ "./resources/js/modules/AjaxCommon.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }


var AjaxCategory =
/*#__PURE__*/
function (_AjaxCommon) {
  _inherits(AjaxCategory, _AjaxCommon);

  function AjaxCategory() {
    var _this;

    _classCallCheck(this, AjaxCategory);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(AjaxCategory).call(this));
    _this.$ajaxWrapper = $('.ajax-wrapper__category');

    _get(_getPrototypeOf(AjaxCategory.prototype), "setParameters", _assertThisInitialized(_this)).call(_assertThisInitialized(_this), _this.$ajaxWrapper);

    _get(_getPrototypeOf(AjaxCategory.prototype), "setupAjax", _assertThisInitialized(_this)).call(_assertThisInitialized(_this));

    _get(_getPrototypeOf(AjaxCategory.prototype), "deleteValidation", _assertThisInitialized(_this)).call(_assertThisInitialized(_this), _this.$ajaxWrapper);

    _this.$category_title = _this.$ajaxWrapper.find("input[name=category_title]");
    _this.$category_name = _this.$ajaxWrapper.find("input[name=category_name]");

    _this.$ajaxSubmit.on("click", $.proxy(_this.storeCategory, _assertThisInitialized(_this)));

    return _this;
  }

  _createClass(AjaxCategory, [{
    key: "storeCategory",
    value: function storeCategory() {
      var $myself = this;
      $.ajax({
        url: '/admin/category/ajaxCreate',
        data: {
          category_title: $myself.$category_title.val(),
          category_name: $myself.$category_name.val()
        }
      }).done(function (data) {
        $myself.$ajaxWrapper.css('display', 'none');
        $myself.$ajaxErrors.html('').css('display', 'none');
        $("select[name='category_id']").find('option').removeAttr('selected');
        $('.dummy-option').after("<option value=\"".concat(data.id, "\" selected>").concat(data.title, "</option>"));
        $myself.$category_title.val('');
        $myself.$category_name.val('');
      }).fail($.proxy(_get(_getPrototypeOf(AjaxCategory.prototype), "displayErrors", this), $myself));
    }
  }]);

  return AjaxCategory;
}(_AjaxCommon__WEBPACK_IMPORTED_MODULE_0__["AjaxCommon"]);

/***/ }),

/***/ "./resources/js/modules/AjaxCommon.js":
/*!********************************************!*\
  !*** ./resources/js/modules/AjaxCommon.js ***!
  \********************************************/
/*! exports provided: AjaxCommon */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AjaxCommon", function() { return AjaxCommon; });
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var AjaxCommon =
/*#__PURE__*/
function () {
  function AjaxCommon() {
    _classCallCheck(this, AjaxCommon);
  }

  _createClass(AjaxCommon, [{
    key: "setParameters",
    value: function setParameters($ajaxWrapper) {
      this.$ajaxSubmit = $ajaxWrapper.find('.ajax-submit');
      this.$ajaxErrors = $ajaxWrapper.find('.ajax-errors');
    }
  }, {
    key: "setupAjax",
    value: function setupAjax() {
      $.ajaxSetup({
        method: 'post',
        headers: {
          'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
        },
        context: this
      });
    }
  }, {
    key: "deleteValidation",
    value: function deleteValidation($ajaxWrapper) {
      $ajaxWrapper.find("input").removeAttr("required max min maxlength pattern");
    }
  }, {
    key: "displayErrors",
    value: function displayErrors(data) {
      this.$ajaxErrors.html('').css('display', 'block');
      $.each(data.responseJSON.errors, function (key, val) {
        this.$ajaxErrors.prepend("<li>".concat(val, "</li>"));
      }.bind(this));
    }
  }]);

  return AjaxCommon;
}();

/***/ }),

/***/ "./resources/js/modules/AjaxTag.js":
/*!*****************************************!*\
  !*** ./resources/js/modules/AjaxTag.js ***!
  \*****************************************/
/*! exports provided: AjaxTag */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AjaxTag", function() { return AjaxTag; });
/* harmony import */ var _AjaxCommon__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AjaxCommon */ "./resources/js/modules/AjaxCommon.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }


var AjaxTag =
/*#__PURE__*/
function (_AjaxCommon) {
  _inherits(AjaxTag, _AjaxCommon);

  function AjaxTag() {
    var _this;

    _classCallCheck(this, AjaxTag);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(AjaxTag).call(this));
    _this.$ajaxWrapper = $('.ajax-wrapper__tag');
    _this.$tag_title = _this.$ajaxWrapper.find("input[name=tag_title]");
    _this.$tag_name = _this.$ajaxWrapper.find("input[name=tag_name]");

    _get(_getPrototypeOf(AjaxTag.prototype), "setParameters", _assertThisInitialized(_this)).call(_assertThisInitialized(_this), _this.$ajaxWrapper);

    _get(_getPrototypeOf(AjaxTag.prototype), "setupAjax", _assertThisInitialized(_this)).call(_assertThisInitialized(_this));

    _get(_getPrototypeOf(AjaxTag.prototype), "deleteValidation", _assertThisInitialized(_this)).call(_assertThisInitialized(_this), _this.$ajaxWrapper);

    _this.$ajaxSubmit.on("click", $.proxy(_this.storeTag, _assertThisInitialized(_this)));

    return _this;
  }

  _createClass(AjaxTag, [{
    key: "storeTag",
    value: function storeTag() {
      var $myself = this;
      $.ajax({
        url: '/admin/tag/ajaxCreate',
        data: {
          tag_title: $myself.$tag_title.val(),
          tag_name: $myself.$tag_name.val()
        }
      }).done(function (data) {
        $myself.$ajaxWrapper.css('display', 'none');
        $myself.$ajaxErrors.html('').css('display', 'none');
        $(".select-tag").prepend("\n          <input type=\"checkbox\" class=\"hidden form__checkbox-tag\" id=\"tag".concat(data.id, "\" name=\"tags[]\" value=\"").concat(data.id, "\" checked>\n          <label for=\"tag").concat(data.id, "\" class=\"inline-block mr5 mb10\">").concat(data.title, "</label>\n          "));
        $myself.$tag_title.val('');
        $myself.$tag_name.val('');
      }).fail($.proxy(_get(_getPrototypeOf(AjaxTag.prototype), "displayErrors", this), $myself));
    }
  }]);

  return AjaxTag;
}(_AjaxCommon__WEBPACK_IMPORTED_MODULE_0__["AjaxCommon"]);

/***/ }),

/***/ "./resources/js/modules/CheckAll.js":
/*!******************************************!*\
  !*** ./resources/js/modules/CheckAll.js ***!
  \******************************************/
/*! exports provided: CheckAll */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CheckAll", function() { return CheckAll; });
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var CheckAll =
/*#__PURE__*/
function () {
  function CheckAll($checkAllWrapper) {
    _classCallCheck(this, CheckAll);

    this.$checkAllWrapper = $checkAllWrapper;
    this.$checkAllTrigger = this.$checkAllWrapper.find('.checkAll-trigger');
    this.$checkbox = this.$checkAllWrapper.find("input[type='checkbox']:not('.checkAll-trigger')");
    this.$batchSubmit = this.$checkAllWrapper.find('.batchSubmit');
    this.bindEvent();
  }

  _createClass(CheckAll, [{
    key: "bindEvent",
    value: function bindEvent() {
      this.$checkAllTrigger.on("click", $.proxy(this.checkAll, this));
      this.$checkbox.on("click", $.proxy(this.checkState, this));
      this.$batchSubmit.on("click", $.proxy(this.hasChecked, this));
    } // 

  }, {
    key: "checkAll",
    value: function checkAll() {
      this.$checkbox.prop('checked', this.$checkAllTrigger.prop("checked"));
    } // 

  }, {
    key: "checkState",
    value: function checkState() {
      if (this.$checkbox.length === this.checkedbox().length) {
        this.$checkAllTrigger.prop("checked", true);
      } else {
        this.$checkAllTrigger.prop('checked', false);
      }
    } // 

  }, {
    key: "checkedbox",
    value: function checkedbox() {
      var $checkedbox = $.grep(this.$checkbox, function (box) {
        return $(box).prop("checked");
      });
      return $checkedbox;
    } // 0

  }, {
    key: "hasChecked",
    value: function hasChecked() {
      if (this.checkedbox().length === 0) {
        alert('');
        return false;
      }
    }
  }]);

  return CheckAll;
}();

/***/ }),

/***/ "./resources/js/modules/Modal.js":
/*!***************************************!*\
  !*** ./resources/js/modules/Modal.js ***!
  \***************************************/
/*! exports provided: Modal */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Modal", function() { return Modal; });
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var Modal =
/*#__PURE__*/
function () {
  function Modal($modalWrapper) {
    _classCallCheck(this, Modal);

    this.$modalWrapper = $modalWrapper;
    this.$modalBody = this.$modalWrapper.find('.modal-body');
    this.$modalOpen = this.$modalWrapper.find('.modal-open');
    this.$modalClose = this.$modalWrapper.find('.modal-close');
    this.bindEvent();
  }

  _createClass(Modal, [{
    key: "bindEvent",
    value: function bindEvent() {
      this.$modalOpen.on("click", $.proxy(this.openModal, this));
      this.$modalClose.on("click", $.proxy(this.closeModal, this));
    }
  }, {
    key: "openModal",
    value: function openModal() {
      this.$modalBody.css("display", "block");
    }
  }, {
    key: "closeModal",
    value: function closeModal() {
      this.$modalBody.css("display", "none");
    }
  }]);

  return Modal;
}();

/***/ }),

/***/ "./resources/js/modules/confirmDelete.js":
/*!***********************************************!*\
  !*** ./resources/js/modules/confirmDelete.js ***!
  \***********************************************/
/*! exports provided: confirmDelete */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "confirmDelete", function() { return confirmDelete; });
// confirmformsubmit
var confirmDelete = function confirmDelete() {
  $('.confirm').submit(function () {
    if (!confirm('')) {
      return false;
    }
  });
};

/***/ }),

/***/ "./resources/js/modules/fixSidebar.js":
/*!********************************************!*\
  !*** ./resources/js/modules/fixSidebar.js ***!
  \********************************************/
/*! exports provided: fixSidebar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fixSidebar", function() { return fixSidebar; });
function fixSidebar() {
  var sidebar = $('#sidebar'),
      sticked = $('#sidebar__fixed'),
      main = $('#main'),
      sidebarTop = sidebar.offset().top,
      stickedOriginalTop = sticked.offset().top,
      stickedHeight = sticked.height();
  $(window).on('scroll resize', function () {
    var scrollTop = $(window).scrollTop(),
        contentBottom = main.offset().top + main.height();

    if (scrollTop > stickedOriginalTop && scrollTop < contentBottom - stickedHeight) {
      sticked.css({
        'position': 'fixed',
        'top': 0,
        'width': sidebar.width()
      });
    } else if (scrollTop >= contentBottom - stickedHeight) {
      sticked.css({
        'position': 'absolute',
        'top': contentBottom - stickedHeight - sidebarTop,
        'width': sidebar.width()
      });
    } else {
      sticked.css('position', 'static');
    }
  });
}

/***/ }),

/***/ "./resources/js/modules/tinymce/langs/ja.js":
/*!**************************************************!*\
  !*** ./resources/js/modules/tinymce/langs/ja.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

tinymce.addI18n('ja', {
  "Redo": "\u3084\u308A\u76F4\u3057",
  "Undo": "\u5143\u306B\u623B\u3059",
  "Cut": "\u5207\u308A\u53D6\u308A",
  "Copy": "\u30B3\u30D4\u30FC",
  "Paste": "\u8CBC\u308A\u4ED8\u3051",
  "Select all": "\u3059\u3079\u3066\u9078\u629E",
  "New document": "\u65B0\u898F\u30C9\u30AD\u30E5\u30E1\u30F3\u30C8",
  "Ok": "OK",
  "Cancel": "\u53D6\u6D88",
  "Visual aids": "\u8868\u306E\u67A0\u7DDA\u3092\u70B9\u7DDA\u3067\u8868\u793A",
  "Bold": "\u592A\u5B57",
  "Italic": "\u659C\u4F53",
  "Underline": "\u4E0B\u7DDA",
  "Strikethrough": "\u53D6\u6D88\u7DDA",
  "Superscript": "\u4E0A\u4ED8\u304D",
  "Subscript": "\u4E0B\u4ED8\u304D",
  "Clear formatting": "\u66F8\u5F0F\u3092\u30AF\u30EA\u30A2",
  "Align left": "\u5DE6\u63C3\u3048",
  "Align center": "\u4E2D\u592E\u63C3\u3048",
  "Align right": "\u53F3\u63C3\u3048",
  "Justify": "\u4E21\u7AEF\u63C3\u3048",
  "Bullet list": "\u7B87\u6761\u66F8\u304D",
  "Numbered list": "\u756A\u53F7\u4ED8\u304D\u7B87\u6761\u66F8\u304D",
  "Decrease indent": "\u30A4\u30F3\u30C7\u30F3\u30C8\u3092\u6E1B\u3089\u3059",
  "Increase indent": "\u30A4\u30F3\u30C7\u30F3\u30C8\u3092\u5897\u3084\u3059",
  "Close": "\u9589\u3058\u308B",
  "Formats": "\u66F8\u5F0F",
  "Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X\/C\/V keyboard shortcuts instead.": "\u304A\u4F7F\u3044\u306E\u30D6\u30E9\u30A6\u30B6\u3067\u306F\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u6A5F\u80FD\u3092\u5229\u7528\u3059\u308B\u3053\u3068\u304C\u3067\u304D\u307E\u305B\u3093\u3002\u30AD\u30FC\u30DC\u30FC\u30C9\u306E\u30B7\u30E7\u30FC\u30C8\u30AB\u30C3\u30C8\uFF08Ctrl+X, Ctrl+C, Ctrl+V\uFF09\u3092\u4F7F\u7528\u3057\u3066\u304F\u3060\u3055\u3044\u3002",
  "Headers": "\u30D8\u30C3\u30C0\u30FC",
  "Header 1": "\u30D8\u30C3\u30C0\u30FC 1",
  "Header 2": "\u30D8\u30C3\u30C0\u30FC 2",
  "Header 3": "\u30D8\u30C3\u30C0\u30FC 3",
  "Header 4": "\u30D8\u30C3\u30C0\u30FC 4",
  "Header 5": "\u30D8\u30C3\u30C0\u30FC 5",
  "Header 6": "\u30D8\u30C3\u30C0\u30FC 6",
  "Headings": "\u898B\u51FA\u3057",
  "Heading 1": "\u898B\u51FA\u30571",
  "Heading 2": "\u898B\u51FA\u30572",
  "Heading 3": "\u898B\u51FA\u30573",
  "Heading 4": "\u898B\u51FA\u30574",
  "Heading 5": "\u898B\u51FA\u30575",
  "Heading 6": "\u898B\u51FA\u30576",
  "Preformatted": "\u66F8\u5F0F\u8A2D\u5B9A\u6E08\u307F",
  "Div": "Div",
  "Pre": "Pre",
  "Code": "\u30B3\u30FC\u30C9",
  "Paragraph": "\u6BB5\u843D",
  "Blockquote": "\u30D6\u30ED\u30C3\u30AF\u5F15\u7528",
  "Inline": "\u30A4\u30F3\u30E9\u30A4\u30F3",
  "Blocks": "\u30D6\u30ED\u30C3\u30AF",
  "Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.": "\u8CBC\u308A\u4ED8\u3051\u306F\u73FE\u5728\u30D7\u30EC\u30FC\u30F3\u30C6\u30AD\u30B9\u30C8\u30E2\u30FC\u30C9\u3067\u3059\u3002\u3053\u306E\u30AA\u30D7\u30B7\u30E7\u30F3\u3092\u30AA\u30D5\u306B\u3057\u306A\u3044\u9650\u308A\u5185\u5BB9\u306F\u30D7\u30EC\u30FC\u30F3\u30C6\u30AD\u30B9\u30C8\u3068\u3057\u3066\u8CBC\u308A\u4ED8\u3051\u3089\u308C\u307E\u3059\u3002",
  "Fonts": "\u30D5\u30A9\u30F3\u30C8",
  "Font Sizes": "\u30D5\u30A9\u30F3\u30C8\u30B5\u30A4\u30BA",
  "Class": "\u30AF\u30E9\u30B9",
  "Browse for an image": "\u753B\u50CF\u3092\u53C2\u7167",
  "OR": "\u307E\u305F\u306F",
  "Drop an image here": "\u3053\u3053\u306B\u753B\u50CF\u3092\u30C9\u30ED\u30C3\u30D7",
  "Upload": "\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9",
  "Block": "\u30D6\u30ED\u30C3\u30AF",
  "Align": "\u914D\u7F6E",
  "Default": "\u30C7\u30D5\u30A9\u30EB\u30C8",
  "Circle": "\u5186",
  "Disc": "\u70B9",
  "Square": "\u56DB\u89D2",
  "Lower Alpha": "\u5C0F\u6587\u5B57\u306E\u30A2\u30EB\u30D5\u30A1\u30D9\u30C3\u30C8",
  "Lower Greek": "\u5C0F\u6587\u5B57\u306E\u30AE\u30EA\u30B7\u30E3\u6587\u5B57",
  "Lower Roman": "\u5C0F\u6587\u5B57\u306E\u30ED\u30FC\u30DE\u6570\u5B57",
  "Upper Alpha": "\u5927\u6587\u5B57\u306E\u30A2\u30EB\u30D5\u30A1\u30D9\u30C3\u30C8",
  "Upper Roman": "\u5927\u6587\u5B57\u306E\u30ED\u30FC\u30DE\u6570\u5B57",
  "Anchor...": "\u30A2\u30F3\u30AB\u30FC...",
  "Name": "\u30A2\u30F3\u30AB\u30FC\u540D",
  "Id": "Id",
  "Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.": "ID\u306F\u6587\u5B57\u3067\u59CB\u307E\u308A\u3001\u6587\u5B57\u3001\u6570\u5B57\u3001\u30C0\u30C3\u30B7\u30E5\u3001\u30C9\u30C3\u30C8\u3001\u30B3\u30ED\u30F3\u307E\u305F\u306F\u30A2\u30F3\u30C0\u30FC\u30B9\u30B3\u30A2\u3067\u59CB\u307E\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059\u3002",
  "You have unsaved changes are you sure you want to navigate away?": "\u307E\u3060\u4FDD\u5B58\u3057\u3066\u3044\u306A\u3044\u5909\u66F4\u304C\u3042\u308A\u307E\u3059\u304C\u3001\u672C\u5F53\u306B\u3053\u306E\u30DA\u30FC\u30B8\u3092\u96E2\u308C\u307E\u3059\u304B\uFF1F",
  "Restore last draft": "\u524D\u56DE\u306E\u4E0B\u66F8\u304D\u3092\u5FA9\u6D3B\u3055\u305B\u308B",
  "Special characters...": "\u7279\u6B8A\u6587\u5B57...",
  "Source code": "\u30BD\u30FC\u30B9\u30B3\u30FC\u30C9",
  "Insert\/Edit code sample": "\u30B3\u30FC\u30C9\u30B5\u30F3\u30D7\u30EB\u306E\u633F\u5165\u30FB\u7DE8\u96C6",
  "Language": "\u8A00\u8A9E",
  "Code sample...": "\u30B3\u30FC\u30C9\u306E\u30B5\u30F3\u30D7\u30EB...",
  "Color Picker": "\u30AB\u30E9\u30FC\u30D4\u30C3\u30AB\u30FC",
  "R": "R",
  "G": "G",
  "B": "B",
  "Left to right": "\u5DE6\u304B\u3089\u53F3",
  "Right to left": "\u53F3\u304B\u3089\u5DE6",
  "Emoticons...": "\u7D75\u6587\u5B57...",
  "Metadata and Document Properties": "\u30E1\u30BF\u30C7\u30FC\u30BF\u3068\u30C9\u30AD\u30E5\u30E1\u30F3\u30C8\u30D7\u30ED\u30D1\u30C6\u30A3",
  "Title": "\u30BF\u30A4\u30C8\u30EB",
  "Keywords": "\u30AD\u30FC\u30EF\u30FC\u30C9",
  "Description": "\u30C6\u30F3\u30D7\u30EC\u30FC\u30C8\u306E\u5185\u5BB9",
  "Robots": "\u30ED\u30DC\u30C3\u30C4",
  "Author": "\u8457\u8005",
  "Encoding": "\u30A8\u30F3\u30B3\u30FC\u30C7\u30A3\u30F3\u30B0",
  "Fullscreen": "\u5168\u753B\u9762\u8868\u793A",
  "Action": "\u30A2\u30AF\u30B7\u30E7\u30F3",
  "Shortcut": "\u30B7\u30E7\u30FC\u30C8\u30AB\u30C3\u30C8",
  "Help": "\u30D8\u30EB\u30D7",
  "Address": "\u30A2\u30C9\u30EC\u30B9",
  "Focus to menubar": "\u30E1\u30CB\u30E5\u30FC\u30D0\u30FC\u306B\u30D5\u30A9\u30FC\u30AB\u30B9",
  "Focus to toolbar": "\u30C4\u30FC\u30EB\u30D0\u30FC\u306B\u30D5\u30A9\u30FC\u30AB\u30B9",
  "Focus to element path": "\u8981\u7D20\u30D1\u30B9\u306B\u30D5\u30A9\u30FC\u30AB\u30B9",
  "Focus to contextual toolbar": "\u30B3\u30F3\u30C6\u30AD\u30B9\u30C8\u30C4\u30FC\u30EB\u30D0\u30FC\u306B\u30D5\u30A9\u30FC\u30AB\u30B9",
  "Insert link (if link plugin activated)": "\u30EA\u30F3\u30AF\u3092\u633F\u5165 (\u30EA\u30F3\u30AF\u30D7\u30E9\u30B0\u30A4\u30F3\u6709\u52B9\u6642)",
  "Save (if save plugin activated)": "\u4FDD\u5B58 (\u4FDD\u5B58\u30D7\u30E9\u30B0\u30A4\u30F3\u6709\u52B9\u6642)",
  "Find (if searchreplace plugin activated)": "\u691C\u7D22(\u7F6E\u63DB\u30D7\u30E9\u30B0\u30A4\u30F3\u6709\u52B9\u6642)",
  "Plugins installed ({0}):": "\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u6E08\u30D7\u30E9\u30B0\u30A4\u30F3 ({0}):",
  "Premium plugins:": "\u30D7\u30EC\u30DF\u30A2\u30E0\u30D7\u30E9\u30B0\u30A4\u30F3:",
  "Learn more...": "\u8A73\u7D30...",
  "You are using {0}": "\u3042\u306A\u305F\u306F {0} \u4F7F\u7528\u4E2D",
  "Plugins": "\u30D7\u30E9\u30B0\u30A4\u30F3",
  "Handy Shortcuts": "\u4FBF\u5229\u306A\u30B7\u30E7\u30FC\u30C8\u30AB\u30C3\u30C8",
  "Horizontal line": "\u6C34\u5E73\u7F6B\u7DDA",
  "Insert\/edit image": "\u753B\u50CF\u306E\u633F\u5165\u30FB\u7DE8\u96C6",
  "Image description": "\u753B\u50CF\u306E\u8AAC\u660E\u6587",
  "Source": "\u753B\u50CF\u306E\u30BD\u30FC\u30B9",
  "Dimensions": "\u753B\u50CF\u30B5\u30A4\u30BA\uFF08\u6A2A\u30FB\u7E26\uFF09",
  "Constrain proportions": "\u7E26\u6A2A\u6BD4\u3092\u4FDD\u6301\u3059\u308B",
  "General": "\u4E00\u822C",
  "Advanced": "\u8A73\u7D30\u8A2D\u5B9A",
  "Style": "\u30B9\u30BF\u30A4\u30EB",
  "Vertical space": "\u7E26\u65B9\u5411\u306E\u4F59\u767D",
  "Horizontal space": "\u6A2A\u65B9\u5411\u306E\u4F59\u767D",
  "Border": "\u67A0\u7DDA",
  "Insert image": "\u753B\u50CF\u306E\u633F\u5165",
  "Image...": "\u753B\u50CF..",
  "Image list": "\u753B\u50CF\u4E00\u89A7",
  "Rotate counterclockwise": "\u53CD\u6642\u8A08\u56DE\u308A\u306B\u56DE\u8EE2",
  "Rotate clockwise": "\u6642\u8A08\u56DE\u308A\u306B\u56DE\u8EE2",
  "Flip vertically": "\u4E0A\u4E0B\u306B\u53CD\u8EE2",
  "Flip horizontally": "\u6C34\u5E73\u306B\u53CD\u8EE2",
  "Edit image": "\u753B\u50CF\u306E\u7DE8\u96C6",
  "Image options": "\u753B\u50CF\u30AA\u30D7\u30B7\u30E7\u30F3",
  "Zoom in": "\u30BA\u30FC\u30E0\u30A4\u30F3",
  "Zoom out": "\u30BA\u30FC\u30E0\u30A2\u30A6\u30C8",
  "Crop": "\u30AF\u30ED\u30C3\u30D7",
  "Resize": "\u30EA\u30B5\u30A4\u30BA",
  "Orientation": "\u5411\u304D",
  "Brightness": "\u660E\u308B\u3055",
  "Sharpen": "\u30B7\u30E3\u30FC\u30D7\u5316",
  "Contrast": "\u30B3\u30F3\u30C8\u30E9\u30B9\u30C8",
  "Color levels": "\u30AB\u30E9\u30FC\u30EC\u30D9\u30EB",
  "Gamma": "\u30AC\u30F3\u30DE",
  "Invert": "\u53CD\u8EE2",
  "Apply": "\u9069\u7528",
  "Back": "\u623B\u308B",
  "Insert date\/time": "\u65E5\u4ED8\u30FB\u6642\u523B",
  "Date\/time": "\u65E5\u4ED8\u30FB\u6642\u523B",
  "Insert\/Edit Link": "\u30EA\u30F3\u30AF\u306E\u633F\u5165/\u7DE8\u96C6",
  "Insert\/edit link": "\u30EA\u30F3\u30AF\u306E\u633F\u5165\u30FB\u7DE8\u96C6",
  "Text to display": "\u30EA\u30F3\u30AF\u5143\u30C6\u30AD\u30B9\u30C8",
  "Url": "\u30EA\u30F3\u30AF\u5148URL",
  "Open link in...": "\u30EA\u30F3\u30AF\u306E\u958B\u304D\u65B9...",
  "Current window": "\u540C\u3058\u30A6\u30A3\u30F3\u30C9\u30A6",
  "None": "\u306A\u3057",
  "New window": "\u65B0\u898F\u30A6\u30A3\u30F3\u30C9\u30A6",
  "Remove link": "\u30EA\u30F3\u30AF\u306E\u524A\u9664",
  "Anchors": "\u30A2\u30F3\u30AB\u30FC\uFF08\u30EA\u30F3\u30AF\u306E\u5230\u9054\u70B9\uFF09",
  "Link...": "\u30EA\u30F3\u30AF...",
  "Paste or type a link": "\u30EA\u30F3\u30AF\u3092\u30DA\u30FC\u30B9\u30C8\u307E\u305F\u306F\u5165\u529B",
  "The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?": "\u5165\u529B\u3055\u308C\u305FURL\u306F\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u306E\u3088\u3046\u3067\u3059\u3002\u300Cmailto:\u300D\u30D7\u30EC\u30D5\u30A3\u30C3\u30AF\u30B9\u3092\u8FFD\u52A0\u3057\u307E\u3059\u304B\uFF1F",
  "The URL you entered seems to be an external link. Do you want to add the required http:\/\/ prefix?": "\u5165\u529B\u3055\u308C\u305FURL\u306F\u5916\u90E8\u30EA\u30F3\u30AF\u306E\u3088\u3046\u3067\u3059\u3002\u300Chttp://\u300D\u30D7\u30EC\u30D5\u30A3\u30C3\u30AF\u30B9\u3092\u8FFD\u52A0\u3057\u307E\u3059\u304B\uFF1F",
  "Link list": "\u30EA\u30F3\u30AF\u4E00\u89A7",
  "Insert video": "\u52D5\u753B",
  "Insert\/edit video": "\u52D5\u753B\u306E\u633F\u5165\u30FB\u7DE8\u96C6",
  "Insert\/edit media": "\u30E1\u30C7\u30A3\u30A2\u306E\u633F\u5165\u30FB\u7DE8\u96C6",
  "Alternative source": "\u4EE3\u66FF\u52D5\u753B\u306E\u5834\u6240",
  "Alternative source URL": "\u4EE3\u66FF\u30BD\u30FC\u30B9URL",
  "Media poster (Image URL)": "\u30E1\u30C7\u30A3\u30A2\u30DD\u30B9\u30BF\u30FC (\u753B\u50CFURL)",
  "Paste your embed code below:": "\u57CB\u3081\u8FBC\u307F\u7528\u30B3\u30FC\u30C9\u3092\u4E0B\u8A18\u306B\u8CBC\u308A\u4ED8\u3051\u3066\u304F\u3060\u3055\u3044\u3002",
  "Embed": "\u57CB\u3081\u8FBC\u307F",
  "Media...": "\u30E1\u30C7\u30A3\u30A2\u2026",
  "Nonbreaking space": "\u56FA\u5B9A\u30B9\u30DA\u30FC\u30B9\uFF08&nbsp;\uFF09",
  "Page break": "\u30DA\u30FC\u30B8\u533A\u5207\u308A",
  "Paste as text": "\u30C6\u30AD\u30B9\u30C8\u3068\u3057\u3066\u8CBC\u308A\u4ED8\u3051",
  "Preview": "\u30D7\u30EC\u30D3\u30E5\u30FC",
  "Print...": "\u5370\u5237...",
  "Save": "\u4FDD\u5B58",
  "Find": "\u691C\u7D22",
  "Replace with": "\u7F6E\u304D\u63DB\u3048\u308B\u6587\u5B57",
  "Replace": "\u7F6E\u304D\u63DB\u3048",
  "Replace all": "\u5168\u3066\u3092\u7F6E\u304D\u63DB\u3048\u308B",
  "Previous": "\u524D\u3078",
  "Next": "\u6B21",
  "Find and replace...": "\u7F6E\u63DB...",
  "Could not find the specified string.": "\u304A\u63A2\u3057\u306E\u6587\u5B57\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093\u3067\u3057\u305F\u3002",
  "Match case": "\u5927\u6587\u5B57\u30FB\u5C0F\u6587\u5B57\u3092\u533A\u5225\u3059\u308B",
  "Find whole words only": "\u8A9E\u5168\u4F53\u3092\u542B\u3080\u3082\u306E\u306E\u307F\u691C\u7D22",
  "Spell check": "\u30B9\u30DA\u30EB\u30C1\u30A7\u30C3\u30AF",
  "Ignore": "\u7121\u8996",
  "Ignore all": "\u5168\u3066\u3092\u7121\u8996",
  "Finish": "\u7D42\u4E86",
  "Add to Dictionary": "\u8F9E\u66F8\u306B\u8FFD\u52A0",
  "Insert table": "\u8868\u306E\u633F\u5165",
  "Table properties": "\u8868\u306E\u8A73\u7D30\u8A2D\u5B9A",
  "Delete table": "\u8868\u306E\u524A\u9664",
  "Cell": "\u30BB\u30EB",
  "Row": "\u884C",
  "Column": "\u5217",
  "Cell properties": "\u30BB\u30EB\u306E\u8A73\u7D30\u8A2D\u5B9A",
  "Merge cells": "\u30BB\u30EB\u306E\u7D50\u5408",
  "Split cell": "\u30BB\u30EB\u306E\u5206\u5272",
  "Insert row before": "\u4E0A\u5074\u306B\u884C\u3092\u633F\u5165",
  "Insert row after": "\u4E0B\u5074\u306B\u884C\u3092\u633F\u5165",
  "Delete row": "\u884C\u306E\u524A\u9664",
  "Row properties": "\u884C\u306E\u8A73\u7D30\u8A2D\u5B9A",
  "Cut row": "\u884C\u306E\u5207\u308A\u53D6\u308A",
  "Copy row": "\u884C\u306E\u30B3\u30D4\u30FC",
  "Paste row before": "\u4E0A\u5074\u306B\u884C\u3092\u8CBC\u308A\u4ED8\u3051",
  "Paste row after": "\u4E0B\u5074\u306B\u884C\u3092\u8CBC\u308A\u4ED8\u3051",
  "Insert column before": "\u5DE6\u5074\u306B\u5217\u3092\u633F\u5165",
  "Insert column after": "\u53F3\u5074\u306B\u5217\u3092\u633F\u5165",
  "Delete column": "\u5217\u306E\u524A\u9664",
  "Cols": "\u5217\u6570",
  "Rows": "\u884C\u6570",
  "Width": "\u5E45",
  "Height": "\u9AD8\u3055",
  "Cell spacing": "\u30BB\u30EB\u306E\u9593\u9694",
  "Cell padding": "\u30BB\u30EB\u5185\u4F59\u767D\uFF08\u30D1\u30C7\u30A3\u30F3\u30B0\uFF09",
  "Show caption": "\u30AD\u30E3\u30D7\u30B7\u30E7\u30F3\u306E\u8868\u793A",
  "Left": "\u5DE6\u5BC4\u305B",
  "Center": "\u4E2D\u592E\u63C3\u3048",
  "Right": "\u53F3\u5BC4\u305B",
  "Cell type": "\u30BB\u30EB\u30BF\u30A4\u30D7",
  "Scope": "\u30B9\u30B3\u30FC\u30D7",
  "Alignment": "\u914D\u7F6E",
  "H Align": "\u6C34\u5E73\u65B9\u5411\u306E\u914D\u7F6E",
  "V Align": "\u5782\u76F4\u65B9\u5411\u306E\u914D\u7F6E",
  "Top": "\u4E0A",
  "Middle": "\u4E2D\u592E",
  "Bottom": "\u4E0B",
  "Header cell": "\u30D8\u30C3\u30C0\u30FC\u30BB\u30EB",
  "Row group": "\u884C\u30B0\u30EB\u30FC\u30D7",
  "Column group": "\u5217\u30B0\u30EB\u30FC\u30D7",
  "Row type": "\u884C\u30BF\u30A4\u30D7",
  "Header": "\u30D8\u30C3\u30C0\u30FC",
  "Body": "\u30DC\u30C7\u30A3\u30FC",
  "Footer": "\u30D5\u30C3\u30BF\u30FC",
  "Border color": "\u67A0\u7DDA\u306E\u8272",
  "Insert template...": "\u30C6\u30F3\u30D7\u30EC\u30FC\u30C8\u306E\u633F\u5165..",
  "Templates": "\u30C6\u30F3\u30D7\u30EC\u30FC\u30C8\u540D",
  "Template": "\u30C6\u30F3\u30D7\u30EC\u30FC\u30C8",
  "Text color": "\u30C6\u30AD\u30B9\u30C8\u306E\u8272",
  "Background color": "\u80CC\u666F\u8272",
  "Custom...": "\u30AB\u30B9\u30BF\u30E0...",
  "Custom color": "\u30AB\u30B9\u30BF\u30E0\u30AB\u30E9\u30FC",
  "No color": "\u30AB\u30E9\u30FC\u306A\u3057",
  "Remove color": "\u8272\u8A2D\u5B9A\u3092\u89E3\u9664",
  "Table of Contents": "\u76EE\u6B21",
  "Show blocks": "\u6587\u7AE0\u306E\u533A\u5207\u308A\u3092\u70B9\u7DDA\u3067\u8868\u793A",
  "Show invisible characters": "\u4E0D\u53EF\u8996\u6587\u5B57\u3092\u8868\u793A",
  "Word count": "\u6587\u5B57\u6570\u30AB\u30A6\u30F3\u30C8",
  "Words: {0}": "\u5358\u8A9E\u6570: {0}",
  "{0} words": "{0} \u30EF\u30FC\u30C9",
  "File": "\u30D5\u30A1\u30A4\u30EB",
  "Edit": "\u7DE8\u96C6",
  "Insert": "\u633F\u5165",
  "View": "\u8868\u793A",
  "Format": "\u66F8\u5F0F",
  "Table": "\u8868",
  "Tools": "\u30C4\u30FC\u30EB",
  "Powered by {0}": "Powered by {0}",
  "Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help": "\u66F8\u5F0F\u4ED8\u304D\u30C6\u30AD\u30B9\u30C8\u306E\u7DE8\u96C6\u753B\u9762\u3002ALT-F9\u3067\u30E1\u30CB\u30E5\u30FC\u3001ALT-F10\u3067\u30C4\u30FC\u30EB\u30D0\u30FC\u3001ALT-0\u3067\u30D8\u30EB\u30D7\u304C\u8868\u793A\u3055\u308C\u307E\u3059\u3002",
  "Image title": "\u753B\u50CF\u30BF\u30A4\u30C8\u30EB",
  "Border width": "\u67A0\u7DDA\u5E45",
  "Border style": "\u67A0\u7DDA\u30B9\u30BF\u30A4\u30EB",
  "Error": "\u30A8\u30E9\u30FC",
  "Warn": "\u8B66\u544A",
  "Valid": "\u6709\u52B9",
  "To open the popup, press Shift+Enter": "\u30DD\u30C3\u30D7\u30A2\u30C3\u30D7\u3092\u958B\u304F\u306B\u306F\u3001Shift+Enter\u3092\u62BC\u3057\u3066\u304F\u3060\u3055\u3044",
  "Rich Text Area. Press ALT-0 for help.": "\u30EA\u30C3\u30C1\u30C6\u30AD\u30B9\u30C8\u30A8\u30EA\u30A2\u3002Alt-0\u3067\u30D8\u30EB\u30D7\u304C\u8868\u793A\u3055\u308C\u307E\u3059\u3002",
  "System Font": "\u30B7\u30B9\u30C6\u30E0\u30D5\u30A9\u30F3\u30C8",
  "Failed to upload image: {0}": "\u753B\u50CF{0}\u3092\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u3067\u304D\u307E\u305B\u3093\u3067\u3057\u305F",
  "Failed to load plugin: {0} from url {1}": "URL{1}\u304B\u3089\u306E\u30D7\u30E9\u30B0\u30A4\u30F3{0}\u306E\u8AAD\u307F\u8FBC\u307F\u306B\u5931\u6557\u3057\u307E\u3057\u305F",
  "Failed to load plugin url: {0}": "\u30D7\u30E9\u30B0\u30A4\u30F3\u306EURL{0}\u3092\u8AAD\u307F\u8FBC\u3081\u307E\u305B\u3093\u3067\u3057\u305F",
  "Failed to initialize plugin: {0}": "\u30D7\u30E9\u30B0\u30A4\u30F3{0}\u306E\u521D\u671F\u5316\u306B\u5931\u6557\u3057\u307E\u3057\u305F",
  "example": "\u4F8B",
  "Search": "\u691C\u7D22",
  "All": "\u3059\u3079\u3066",
  "Currency": "\u901A\u8CA8",
  "Text": "\u30C6\u30AD\u30B9\u30C8",
  "Quotations": "\u5F15\u7528",
  "Mathematical": "\u6570\u5B66\u8A18\u53F7",
  "Extended Latin": "\u30E9\u30C6\u30F3\u6587\u5B57\u62E1\u5F35",
  "Symbols": "\u8A18\u53F7",
  "Arrows": "\u77E2\u5370",
  "User Defined": "\u30E6\u30FC\u30B6\u30FC\u5B9A\u7FA9",
  "dollar sign": "\u30C9\u30EB\u8A18\u53F7",
  "currency sign": "\u901A\u8CA8\u8A18\u53F7",
  "euro-currency sign": "\u30E6\u30FC\u30ED\u8A18\u53F7",
  "colon sign": "\u30B3\u30ED\u30F3\u8A18\u53F7",
  "cruzeiro sign": "\u30AF\u30EB\u30BC\u30A4\u30ED\u8A18\u53F7",
  "french franc sign": "\u30D5\u30E9\u30F3\u30B9\u30D5\u30E9\u30F3\u8A18\u53F7",
  "lira sign": "\u30EA\u30E9\u8A18\u53F7",
  "mill sign": "\u30DF\u30EB\u8A18\u53F7",
  "naira sign": "\u30CA\u30A4\u30E9\u8A18\u53F7",
  "peseta sign": "\u30DA\u30BB\u30BF\u8A18\u53F7",
  "rupee sign": "\u30EB\u30D4\u30FC\u8A18\u53F7",
  "won sign": "\u30A6\u30A9\u30F3\u8A18\u53F7",
  "new sheqel sign": "\u65B0\u30B7\u30A7\u30B1\u30EB\u8A18\u53F7",
  "dong sign": "\u30C9\u30F3\u8A18\u53F7",
  "kip sign": "\u30AD\u30FC\u30D7\u8A18\u53F7",
  "tugrik sign": "\u30C8\u30A5\u30B0\u30EB\u30B0\u8A18\u53F7",
  "drachma sign": "\u30C9\u30E9\u30AF\u30DE\u8A18\u53F7",
  "german penny symbol": "\u30C9\u30A4\u30C4\u30DA\u30CB\u30FC\u8A18\u53F7",
  "peso sign": "\u30DA\u30BD\u8A18\u53F7",
  "guarani sign": "\u30AC\u30E9\u30CB\u8A18\u53F7",
  "austral sign": "\u30A2\u30A6\u30B9\u30C8\u30E9\u30EB\u8A18\u53F7",
  "hryvnia sign": "\u30D5\u30EA\u30F4\u30CB\u30E3\u8A18\u53F7",
  "cedi sign": "\u30BB\u30C7\u30A3\u8A18\u53F7",
  "livre tournois sign": "\u30C8\u30A5\u30FC\u30EB\u30DD\u30F3\u30C9\u8A18\u53F7",
  "spesmilo sign": "\u30B9\u30DA\u30B9\u30DF\u30FC\u30ED\u8A18\u53F7",
  "tenge sign": "\u30C6\u30F3\u30B2\u8A18\u53F7",
  "indian rupee sign": "\u30A4\u30F3\u30C9\u30EB\u30D4\u30FC\u8A18\u53F7",
  "turkish lira sign": "\u30C8\u30EB\u30B3\u30EA\u30E9\u8A18\u53F7",
  "nordic mark sign": "\u5317\u6B27\u30DE\u30EB\u30AF\u8A18\u53F7",
  "manat sign": "\u30DE\u30CA\u30C8\u8A18\u53F7",
  "ruble sign": "\u30EB\u30FC\u30D6\u30EB\u8A18\u53F7",
  "yen character": "\u5186\u8A18\u53F7",
  "yuan character": "\u4EBA\u6C11\u5143\u8A18\u53F7",
  "yuan character, in hong kong and taiwan": "\u9999\u6E2F\u304A\u3088\u3073\u53F0\u6E7E\u306B\u304A\u3051\u308B\u5143\u8A18\u53F7",
  "yen\/yuan character variant one": "\u5186/\u5143\u8A18\u53F7\u306E\u30D0\u30EA\u30A8\u30FC\u30B7\u30E7\u30F3",
  "Loading emoticons...": "\u7D75\u6587\u5B57\u3092\u8AAD\u307F\u8FBC\u3093\u3067\u3044\u307E\u3059...",
  "Could not load emoticons": "\u7D75\u6587\u5B57\u304C\u8AAD\u307F\u8FBC\u3081\u307E\u305B\u3093\u3067\u3057\u305F\u3002",
  "People": "\u4EBA",
  "Animals and Nature": "\u52D5\u7269\u3068\u81EA\u7136",
  "Food and Drink": "\u98DF\u3079\u7269\u3068\u98F2\u307F\u7269",
  "Activity": "\u884C\u52D5",
  "Travel and Places": "\u65C5\u884C\u3068\u5834\u6240",
  "Objects": "\u7269",
  "Flags": "\u65D7",
  "Characters": "\u6587\u5B57\u6570",
  "Characters (no spaces)": "\u6587\u5B57\u6570 (\u30B9\u30DA\u30FC\u30B9\u306A\u3057)",
  "Error: Form submit field collision.": "\u30A8\u30E9\u30FC\uFF1A\u30D5\u30A9\u30FC\u30E0\u9001\u4FE1\u30D5\u30A3\u30FC\u30EB\u30C9\u304C\u7AF6\u5408\u3057\u3066\u3044\u307E\u3059\u3002",
  "Error: No form element found.": "\u30A8\u30E9\u30FC\uFF1A\u30D5\u30A9\u30FC\u30E0\u8981\u7D20\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093\u3067\u3057\u305F\u3002",
  "Update": "\u66F4\u65B0",
  "Color swatch": "\u8272\u306E\u898B\u672C",
  "Turquoise": "\u30BF\u30FC\u30B3\u30A4\u30BA",
  "Green": "\u30B0\u30EA\u30FC\u30F3",
  "Blue": "\u30D6\u30EB\u30FC",
  "Purple": "\u30D1\u30FC\u30D7\u30EB",
  "Navy Blue": "\u30CD\u30A4\u30D3\u30FC",
  "Dark Turquoise": "\u30C0\u30FC\u30AF\u30BF\u30FC\u30B3\u30A4\u30BA",
  "Dark Green": "\u30C0\u30FC\u30AF\u30B0\u30EA\u30FC\u30F3",
  "Medium Blue": "\u30E1\u30C7\u30A3\u30A2\u30E0\u30D6\u30EB\u30FC",
  "Medium Purple": "\u30DF\u30C7\u30A3\u30A2\u30E0\u30D1\u30FC\u30D7\u30EB",
  "Midnight Blue": "\u30DF\u30C3\u30C9\u30CA\u30A4\u30C8\u30D6\u30EB\u30FC",
  "Yellow": "\u30A4\u30A8\u30ED\u30FC",
  "Orange": "\u30AA\u30EC\u30F3\u30B8",
  "Red": "\u30EC\u30C3\u30C9",
  "Light Gray": "\u30E9\u30A4\u30C8\u30B0\u30EC\u30FC",
  "Gray": "\u30B0\u30EC\u30FC",
  "Dark Yellow": "\u30C0\u30FC\u30AF\u30A4\u30A8\u30ED\u30FC",
  "Dark Orange": "\u30C0\u30FC\u30AF\u30AA\u30EC\u30F3\u30B8",
  "Dark Red": "\u30C0\u30FC\u30AF\u30EC\u30C3\u30C9",
  "Medium Gray": "\u30DF\u30C7\u30A3\u30A2\u30E0\u30B0\u30EC\u30FC",
  "Dark Gray": "\u30C0\u30FC\u30AF\u30B0\u30EC\u30FC",
  "Black": "\u30D6\u30E9\u30C3\u30AF",
  "White": "\u30DB\u30EF\u30A4\u30C8",
  "Switch to or from fullscreen mode": "\u30D5\u30EB\u30B9\u30AF\u30EA\u30FC\u30F3\u30E2\u30FC\u30C9\u5207\u66FF",
  "Open help dialog": "\u30D8\u30EB\u30D7\u30C0\u30A4\u30A2\u30ED\u30B0\u3092\u958B\u304F",
  "history": "\u5C65\u6B74",
  "styles": "\u30B9\u30BF\u30A4\u30EB",
  "formatting": "\u66F8\u5F0F",
  "alignment": "\u914D\u7F6E",
  "indentation": "\u30A4\u30F3\u30C7\u30F3\u30C8",
  "permanent pen": "\u86CD\u5149\u30DA\u30F3",
  "comments": "\u30B3\u30E1\u30F3\u30C8",
  "Anchor": "\u30A2\u30F3\u30AB\u30FC\uFF08\u30EA\u30F3\u30AF\u306E\u5230\u9054\u70B9\uFF09",
  "Special character": "\u7279\u6B8A\u6587\u5B57",
  "Code sample": "\u30B3\u30FC\u30C9\u30B5\u30F3\u30D7\u30EB",
  "Color": "\u30AB\u30E9\u30FC",
  "Emoticons": "\u7D75\u6587\u5B57",
  "Document properties": "\u30C9\u30AD\u30E5\u30E1\u30F3\u30C8\u306E\u30D7\u30ED\u30D1\u30C6\u30A3",
  "Image": "\u753B\u50CF",
  "Insert link": "\u30EA\u30F3\u30AF",
  "Target": "\u30BF\u30FC\u30B2\u30C3\u30C8\u5C5E\u6027",
  "Link": "\u30EA\u30F3\u30AF",
  "Poster": "\u4EE3\u66FF\u753B\u50CF\u306E\u5834\u6240",
  "Media": "\u30E1\u30C7\u30A3\u30A2",
  "Print": "\u5370\u5237",
  "Prev": "\u524D",
  "Find and replace": "\u691C\u7D22\u3068\u7F6E\u304D\u63DB\u3048",
  "Whole words": "\u5358\u8A9E\u5358\u4F4D\u3067\u691C\u7D22\u3059\u308B",
  "Spellcheck": "\u30B9\u30DA\u30EB\u30C1\u30A7\u30C3\u30AF",
  "Caption": "\u8868\u984C",
  "Insert template": "\u30C6\u30F3\u30D7\u30EC\u30FC\u30C8\u306E\u633F\u5165"
});

/***/ }),

/***/ "./resources/js/modules/tinymce/plugins/code/plugin.min.js":
/*!*****************************************************************!*\
  !*** ./resources/js/modules/tinymce/plugins/code/plugin.min.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * Copyright (c) Tiny Technologies, Inc. All rights reserved.
 * Licensed under the LGPL or a commercial license.
 * For LGPL see License.txt in the project root for license information.
 * For commercial licenses see https://www.tiny.cloud/
 *
 * Version: 5.1.5 (2019-12-19)
 */
!function () {
  "use strict";

  var e = tinymce.util.Tools.resolve("tinymce.PluginManager"),
      t = function t(e, n) {
    e.focus(), e.undoManager.transact(function () {
      e.setContent(n);
    }), e.selection.setCursorLocation(), e.nodeChanged();
  },
      o = function o(e) {
    return e.getContent({
      source_view: !0
    });
  },
      n = function n(_n) {
    var e = o(_n);

    _n.windowManager.open({
      title: "Source Code",
      size: "large",
      body: {
        type: "panel",
        items: [{
          type: "textarea",
          name: "code"
        }]
      },
      buttons: [{
        type: "cancel",
        name: "cancel",
        text: "Cancel"
      }, {
        type: "submit",
        name: "save",
        text: "Save",
        primary: !0
      }],
      initialData: {
        code: e
      },
      onSubmit: function onSubmit(e) {
        t(_n, e.getData().code), e.close();
      }
    });
  },
      c = function c(e) {
    e.addCommand("mceCodeEditor", function () {
      n(e);
    });
  },
      i = function i(e) {
    e.ui.registry.addButton("code", {
      icon: "sourcecode",
      tooltip: "Source code",
      onAction: function onAction() {
        return n(e);
      }
    }), e.ui.registry.addMenuItem("code", {
      icon: "sourcecode",
      text: "Source code",
      onAction: function onAction() {
        return n(e);
      }
    });
  };

  !function u() {
    e.add("code", function (e) {
      return c(e), i(e), {};
    });
  }();
}();

/***/ }),

/***/ "./resources/js/modules/tinymce/plugins/fullscreen/plugin.min.js":
/*!***********************************************************************!*\
  !*** ./resources/js/modules/tinymce/plugins/fullscreen/plugin.min.js ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/**
 * Copyright (c) Tiny Technologies, Inc. All rights reserved.
 * Licensed under the LGPL or a commercial license.
 * For LGPL see License.txt in the project root for license information.
 * For commercial licenses see https://www.tiny.cloud/
 *
 * Version: 5.1.5 (2019-12-19)
 */
!function (l) {
  "use strict";

  function e() {}

  function m(e) {
    return function () {
      return e;
    };
  }

  function n() {
    return s;
  }

  var r,
      t = function t(e) {
    function n() {
      return r;
    }

    var r = e;
    return {
      get: n,
      set: function set(e) {
        r = e;
      },
      clone: function clone() {
        return t(n());
      }
    };
  },
      o = tinymce.util.Tools.resolve("tinymce.PluginManager"),
      i = function i(e) {
    return {
      isFullscreen: function isFullscreen() {
        return null !== e.get();
      }
    };
  },
      c = m(!1),
      u = m(!0),
      s = (r = {
    fold: function fold(e, n) {
      return e();
    },
    is: c,
    isSome: c,
    isNone: u,
    getOr: d,
    getOrThunk: a,
    getOrDie: function getOrDie(e) {
      throw new Error(e || "error: getOrDie called on none.");
    },
    getOrNull: m(null),
    getOrUndefined: m(undefined),
    or: d,
    orThunk: a,
    map: n,
    each: e,
    bind: n,
    exists: c,
    forall: u,
    filter: n,
    equals: f,
    equals_: f,
    toArray: function toArray() {
      return [];
    },
    toString: m("none()")
  }, Object.freeze && Object.freeze(r), r);

  function f(e) {
    return e.isNone();
  }

  function a(e) {
    return e();
  }

  function d(e) {
    return e;
  }

  function h(n) {
    return function (e) {
      return function (e) {
        if (null === e) return "null";

        var n = _typeof(e);

        return "object" == n && (Array.prototype.isPrototypeOf(e) || e.constructor && "Array" === e.constructor.name) ? "array" : "object" == n && (String.prototype.isPrototypeOf(e) || e.constructor && "String" === e.constructor.name) ? "string" : n;
      }(e) === n;
    };
  }

  function v(e, n) {
    for (var r = e.length, t = new Array(r), o = 0; o < r; o++) {
      var i = e[o];
      t[o] = n(i, o);
    }

    return t;
  }

  function g(e, n) {
    for (var r = 0, t = e.length; r < t; r++) {
      n(e[r], r);
    }
  }

  function p(e, n) {
    for (var r = [], t = 0, o = e.length; t < o; t++) {
      var i = e[t];
      n(i, t) && r.push(i);
    }

    return r;
  }

  function w(e, n) {
    return function (e) {
      for (var n = [], r = 0, t = e.length; r < t; ++r) {
        if (!Y(e[r])) throw new Error("Arr.flatten item " + r + " was not an array, input: " + e);
        Q.apply(n, e[r]);
      }

      return n;
    }(v(e, n));
  }

  function y(e, n) {
    return -1 !== e.indexOf(n);
  }

  function S(e) {
    return e.style !== undefined && $(e.style.getPropertyValue);
  }

  function E(e, n, r) {
    !function (e, n, r) {
      if (!(X(r) || G(r) || K(r))) throw l.console.error("Invalid call to Attr.set. Key ", n, ":: Value ", r, ":: Element ", e), new Error("Attribute value was not simple");
      e.setAttribute(n, r + "");
    }(e.dom(), n, r);
  }

  function O(e, n) {
    var r = e.dom().getAttribute(n);
    return null === r ? undefined : r;
  }

  function N(e, n) {
    e.dom().removeAttribute(n);
  }

  function T(e, n) {
    var r = e.dom();
    !function (e, n) {
      for (var r = Z(e), t = 0, o = r.length; t < o; t++) {
        var i = r[t];
        n(e[i], i);
      }
    }(n, function (e, n) {
      !function (e, n, r) {
        if (!X(r)) throw l.console.error("Invalid call to CSS.set. Property ", n, ":: Value ", r, ":: Element ", e), new Error("CSS value must be a string: " + r);
        S(e) && e.style.setProperty(n, r);
      }(r, n, e);
    });
  }

  function x(e, n) {
    var r = e.dom(),
        t = l.window.getComputedStyle(r).getPropertyValue(n),
        o = "" !== t || function (e) {
      var n = ie(e) ? e.dom().parentNode : e.dom();
      return n !== undefined && null !== n && n.ownerDocument.body.contains(n);
    }(e) ? t : ue(r, n);
    return null === o ? undefined : o;
  }

  function b(e, n) {
    var r = function (e, n) {
      for (var r = 0; r < e.length; r++) {
        var t = e[r];
        if (t.test(n)) return t;
      }

      return undefined;
    }(e, n);

    if (!r) return {
      major: 0,
      minor: 0
    };

    function t(e) {
      return Number(n.replace(r, "$" + e));
    }

    return se(t(1), t(2));
  }

  function C(e, n) {
    return function () {
      return n === e;
    };
  }

  function D(e, n) {
    return function () {
      return n === e;
    };
  }

  function A(e, n) {
    var r = String(n).toLowerCase();
    return function (e, n) {
      for (var r = 0, t = e.length; r < t; r++) {
        var o = e[r];
        if (n(o, r)) return z.some(o);
      }

      return z.none();
    }(e, function (e) {
      return e.search(r);
    });
  }

  function M(n) {
    return function (e) {
      return y(e, n);
    };
  }

  function _() {
    return xe.get();
  }

  function k(e, n, r) {
    return 0 != (e.compareDocumentPosition(n) & r);
  }

  function F(e, n) {
    var r = e.dom();
    if (r.nodeType !== Ce) return !1;
    var t = r;
    if (t.matches !== undefined) return t.matches(n);
    if (t.msMatchesSelector !== undefined) return t.msMatchesSelector(n);
    if (t.webkitMatchesSelector !== undefined) return t.webkitMatchesSelector(n);
    if (t.mozMatchesSelector !== undefined) return t.mozMatchesSelector(n);
    throw new Error("Browser lacks native selectors");
  }

  function R(e, n) {
    var r = n === undefined ? l.document : n.dom();
    return function (e) {
      return e.nodeType !== Ce && e.nodeType !== De || 0 === e.childElementCount;
    }(r) ? [] : v(r.querySelectorAll(e), ne.fromDom);
  }

  function L(n) {
    return function (e) {
      return z.from(e.dom().parentNode).map(ne.fromDom);
    }(n).map(Ae).map(function (e) {
      return p(e, function (e) {
        return !function (e, n) {
          return e.dom() === n.dom();
        }(n, e);
      });
    }).getOr([]);
  }

  function I(e, n, r, t) {
    return {
      x: m(e),
      y: m(n),
      width: m(r),
      height: m(t),
      right: m(e + r),
      bottom: m(n + t)
    };
  }

  function P(e) {
    var n = e === undefined ? l.window : e,
        r = n.document,
        t = function (e) {
      var n = e !== undefined ? e.dom() : l.document,
          r = n.body.scrollLeft || n.documentElement.scrollLeft,
          t = n.body.scrollTop || n.documentElement.scrollTop;
      return _e(r, t);
    }(ne.fromDom(r)),
        o = n.visualViewport;

    if (o !== undefined) return I(Math.max(o.pageLeft, t.left()), Math.max(o.pageTop, t.top()), o.width, o.height);
    var i = r.documentElement,
        u = i.clientWidth,
        c = i.clientHeight;
    return I(t.left(), t.top(), u, c);
  }

  function H(e, n, r) {
    return p(function (e, n) {
      for (var r = $(n) ? n : c, t = e.dom(), o = []; null !== t.parentNode && t.parentNode !== undefined;) {
        var i = t.parentNode,
            u = ne.fromDom(i);
        if (o.push(u), !0 === r(u)) break;
        t = i;
      }

      return o;
    }(e, r), n);
  }

  function U(e, n) {
    return function (e, n) {
      return p(L(e), n);
    }(e, function (e) {
      return F(e, n);
    });
  }

  function W(r, t) {
    return function (n) {
      n.setActive(null !== t.get());

      function e(e) {
        return n.setActive(e.state);
      }

      return r.on("FullscreenStateChanged", e), function () {
        return r.off("FullscreenStateChanged", e);
      };
    };
  }

  var B,
      V,
      j,
      q = function q(r) {
    function e() {
      return o;
    }

    function n(e) {
      return e(r);
    }

    var t = m(r),
        o = {
      fold: function fold(e, n) {
        return n(r);
      },
      is: function is(e) {
        return r === e;
      },
      isSome: u,
      isNone: c,
      getOr: t,
      getOrThunk: t,
      getOrDie: t,
      getOrNull: t,
      getOrUndefined: t,
      or: e,
      orThunk: e,
      map: function map(e) {
        return q(e(r));
      },
      each: function each(e) {
        e(r);
      },
      bind: n,
      exists: n,
      forall: n,
      filter: function filter(e) {
        return e(r) ? o : s;
      },
      toArray: function toArray() {
        return [r];
      },
      toString: function toString() {
        return "some(" + r + ")";
      },
      equals: function equals(e) {
        return e.is(r);
      },
      equals_: function equals_(e, n) {
        return e.fold(c, function (e) {
          return n(r, e);
        });
      }
    };
    return o;
  },
      z = {
    some: q,
    none: n,
    from: function from(e) {
      return null === e || e === undefined ? s : q(e);
    }
  },
      X = h("string"),
      Y = h("array"),
      G = h("boolean"),
      $ = h("function"),
      K = h("number"),
      J = Array.prototype.slice,
      Q = Array.prototype.push,
      Z = ($(Array.from) && Array.from, Object.keys),
      ee = function ee(e) {
    if (null === e || e === undefined) throw new Error("Node cannot be null or undefined");
    return {
      dom: m(e)
    };
  },
      ne = {
    fromHtml: function fromHtml(e, n) {
      var r = (n || l.document).createElement("div");
      if (r.innerHTML = e, !r.hasChildNodes() || 1 < r.childNodes.length) throw l.console.error("HTML does not have a single root node", e), new Error("HTML must have a single root node");
      return ee(r.childNodes[0]);
    },
    fromTag: function fromTag(e, n) {
      var r = (n || l.document).createElement(e);
      return ee(r);
    },
    fromText: function fromText(e, n) {
      var r = (n || l.document).createTextNode(e);
      return ee(r);
    },
    fromDom: ee,
    fromPoint: function fromPoint(e, n, r) {
      var t = e.dom();
      return z.from(t.elementFromPoint(n, r)).map(ee);
    }
  },
      re = (l.Node.ATTRIBUTE_NODE, l.Node.CDATA_SECTION_NODE, l.Node.COMMENT_NODE, l.Node.DOCUMENT_NODE),
      te = (l.Node.DOCUMENT_TYPE_NODE, l.Node.DOCUMENT_FRAGMENT_NODE, l.Node.ELEMENT_NODE),
      oe = l.Node.TEXT_NODE,
      ie = (l.Node.PROCESSING_INSTRUCTION_NODE, l.Node.ENTITY_REFERENCE_NODE, l.Node.ENTITY_NODE, l.Node.NOTATION_NODE, "undefined" != typeof l.window ? l.window : Function("return this;")(), B = oe, function (e) {
    return function (e) {
      return e.dom().nodeType;
    }(e) === B;
  }),
      ue = function ue(e, n) {
    return S(e) ? e.style.getPropertyValue(n) : "";
  },
      ce = function ce() {
    return se(0, 0);
  },
      se = function se(e, n) {
    return {
      major: e,
      minor: n
    };
  },
      fe = {
    nu: se,
    detect: function detect(e, n) {
      var r = String(n).toLowerCase();
      return 0 === e.length ? ce() : b(e, r);
    },
    unknown: ce
  },
      ae = "Firefox",
      de = function de(e) {
    var n = e.current;
    return {
      current: n,
      version: e.version,
      isEdge: C("Edge", n),
      isChrome: C("Chrome", n),
      isIE: C("IE", n),
      isOpera: C("Opera", n),
      isFirefox: C(ae, n),
      isSafari: C("Safari", n)
    };
  },
      le = {
    unknown: function unknown() {
      return de({
        current: undefined,
        version: fe.unknown()
      });
    },
    nu: de,
    edge: m("Edge"),
    chrome: m("Chrome"),
    ie: m("IE"),
    opera: m("Opera"),
    firefox: m(ae),
    safari: m("Safari")
  },
      me = "Windows",
      he = "Android",
      ve = "Solaris",
      ge = "FreeBSD",
      pe = function pe(e) {
    var n = e.current;
    return {
      current: n,
      version: e.version,
      isWindows: D(me, n),
      isiOS: D("iOS", n),
      isAndroid: D(he, n),
      isOSX: D("OSX", n),
      isLinux: D("Linux", n),
      isSolaris: D(ve, n),
      isFreeBSD: D(ge, n)
    };
  },
      we = {
    unknown: function unknown() {
      return pe({
        current: undefined,
        version: fe.unknown()
      });
    },
    nu: pe,
    windows: m(me),
    ios: m("iOS"),
    android: m(he),
    linux: m("Linux"),
    osx: m("OSX"),
    solaris: m(ve),
    freebsd: m(ge)
  },
      ye = function ye(e, r) {
    return A(e, r).map(function (e) {
      var n = fe.detect(e.versionRegexes, r);
      return {
        current: e.name,
        version: n
      };
    });
  },
      Se = function Se(e, r) {
    return A(e, r).map(function (e) {
      var n = fe.detect(e.versionRegexes, r);
      return {
        current: e.name,
        version: n
      };
    });
  },
      Ee = /.*?version\/\ ?([0-9]+)\.([0-9]+).*/,
      Oe = [{
    name: "Edge",
    versionRegexes: [/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],
    search: function search(e) {
      return y(e, "edge/") && y(e, "chrome") && y(e, "safari") && y(e, "applewebkit");
    }
  }, {
    name: "Chrome",
    versionRegexes: [/.*?chrome\/([0-9]+)\.([0-9]+).*/, Ee],
    search: function search(e) {
      return y(e, "chrome") && !y(e, "chromeframe");
    }
  }, {
    name: "IE",
    versionRegexes: [/.*?msie\ ?([0-9]+)\.([0-9]+).*/, /.*?rv:([0-9]+)\.([0-9]+).*/],
    search: function search(e) {
      return y(e, "msie") || y(e, "trident");
    }
  }, {
    name: "Opera",
    versionRegexes: [Ee, /.*?opera\/([0-9]+)\.([0-9]+).*/],
    search: M("opera")
  }, {
    name: "Firefox",
    versionRegexes: [/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],
    search: M("firefox")
  }, {
    name: "Safari",
    versionRegexes: [Ee, /.*?cpu os ([0-9]+)_([0-9]+).*/],
    search: function search(e) {
      return (y(e, "safari") || y(e, "mobile/")) && y(e, "applewebkit");
    }
  }],
      Ne = [{
    name: "Windows",
    search: M("win"),
    versionRegexes: [/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]
  }, {
    name: "iOS",
    search: function search(e) {
      return y(e, "iphone") || y(e, "ipad");
    },
    versionRegexes: [/.*?version\/\ ?([0-9]+)\.([0-9]+).*/, /.*cpu os ([0-9]+)_([0-9]+).*/, /.*cpu iphone os ([0-9]+)_([0-9]+).*/]
  }, {
    name: "Android",
    search: M("android"),
    versionRegexes: [/.*?android\ ?([0-9]+)\.([0-9]+).*/]
  }, {
    name: "OSX",
    search: M("os x"),
    versionRegexes: [/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]
  }, {
    name: "Linux",
    search: M("linux"),
    versionRegexes: []
  }, {
    name: "Solaris",
    search: M("sunos"),
    versionRegexes: []
  }, {
    name: "FreeBSD",
    search: M("freebsd"),
    versionRegexes: []
  }],
      Te = {
    browsers: m(Oe),
    oses: m(Ne)
  },
      xe = t(function (e, n) {
    var r = Te.browsers(),
        t = Te.oses(),
        o = ye(r, e).fold(le.unknown, le.nu),
        i = Se(t, e).fold(we.unknown, we.nu);
    return {
      browser: o,
      os: i,
      deviceType: function (e, n, r, t) {
        var o = e.isiOS() && !0 === /ipad/i.test(r),
            i = e.isiOS() && !o,
            u = e.isiOS() || e.isAndroid(),
            c = u || t("(pointer:coarse)"),
            s = o || !i && u && t("(min-device-width:768px)"),
            f = i || u && !s,
            a = n.isSafari() && e.isiOS() && !1 === /safari/i.test(r),
            d = !f && !s && !a;
        return {
          isiPad: m(o),
          isiPhone: m(i),
          isTablet: m(s),
          isPhone: m(f),
          isTouch: m(c),
          isAndroid: e.isAndroid,
          isiOS: e.isiOS,
          isWebView: m(a),
          isDesktop: m(d)
        };
      }(i, o, e, n)
    };
  }(l.navigator.userAgent, function (e) {
    return l.window.matchMedia(e).matches;
  })),
      be = function be(e, n) {
    return k(e, n, l.Node.DOCUMENT_POSITION_CONTAINED_BY);
  },
      Ce = te,
      De = re,
      Ae = (_().browser.isIE(), function (e) {
    return v(e.dom().childNodes, ne.fromDom);
  }),
      Me = (function () {
    for (var e = [], n = 0; n < arguments.length; n++) {
      e[n] = arguments[n];
    }
  }("element", "offset"), function (r, t) {
    return {
      left: m(r),
      top: m(t),
      translate: function translate(e, n) {
        return Me(r + e, t + n);
      }
    };
  }),
      _e = Me,
      ke = (_().browser.isSafari(), function (e, n) {
    e.fire("FullscreenStateChanged", {
      state: n
    });
  }),
      Fe = tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),
      Re = tinymce.util.Tools.resolve("tinymce.Env"),
      Le = tinymce.util.Tools.resolve("tinymce.util.Delay"),
      Ie = "data-ephox-mobile-fullscreen-style",
      Pe = "position:absolute!important;",
      He = "top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",
      Ue = Re.os.isAndroid(),
      We = function We(e, n) {
    function r(t) {
      return function (e) {
        var n = O(e, "style"),
            r = n === undefined ? "no-styles" : n.trim();
        r !== t && (E(e, Ie, r), E(e, "style", t));
      };
    }

    var t = function (e, n, r) {
      return H(e, function (e) {
        return F(e, n);
      }, r);
    }(e, "*"),
        o = w(t, function (e) {
      return U(e, "*:not(.tox-silver-sink)");
    }),
        i = function (e) {
      var n = x(e, "background-color");
      return n !== undefined && "" !== n ? "background-color:" + n + "!important" : "background-color:rgb(255,255,255)!important;";
    }(n);

    g(o, r("display:none!important;")), g(t, r(Pe + He + i)), r((!0 === Ue ? "" : Pe) + He + i)(e);
  },
      Be = function Be() {
    var e = function (e) {
      return R(e);
    }("[" + Ie + "]");

    g(e, function (e) {
      var n = O(e, Ie);
      "no-styles" !== n ? E(e, "style", n) : N(e, "style"), N(e, Ie);
    });
  },
      Ve = Fe.DOM,
      je = l.window.visualViewport,
      qe = je === undefined ? {
    bind: e,
    unbind: e
  } : (V = function () {
    var n = t(z.none());
    return {
      clear: function clear() {
        n.set(z.none());
      },
      set: function set(e) {
        n.set(z.some(e));
      },
      isSet: function isSet() {
        return n.get().isSome();
      },
      on: function on(e) {
        n.get().each(e);
      }
    };
  }(), j = Le.throttle(function () {
    l.document.body.scrollTop = 0, l.document.documentElement.scrollTop = 0, l.window.requestAnimationFrame(function () {
      V.on(function (e) {
        return T(e, {
          top: je.offsetTop + "px",
          left: je.offsetLeft + "px",
          height: je.height + "px",
          width: je.width + "px"
        });
      });
    });
  }, 50), {
    bind: function bind(e) {
      V.set(e), j(), je.addEventListener("resize", j), je.addEventListener("scroll", j);
    },
    unbind: function unbind() {
      V.on(function () {
        je.removeEventListener("scroll", j), je.removeEventListener("resize", j);
      }), V.clear();
    }
  }),
      ze = function ze(e, n) {
    var r,
        t,
        o,
        i = l.document.body,
        u = l.document.documentElement;
    t = e.getContainer();
    var c = ne.fromDom(t),
        s = n.get(),
        f = ne.fromDom(e.getBody()),
        a = Re.deviceType.isTouch();
    if (r = t.style, o = e.getContentAreaContainer().firstChild.style, s) o.width = s.iframeWidth, o.height = s.iframeHeight, r.width = s.containerWidth, r.height = s.containerHeight, r.top = s.containerTop, r.left = s.containerLeft, a && Be(), Ve.removeClass(i, "tox-fullscreen"), Ve.removeClass(u, "tox-fullscreen"), Ve.removeClass(t, "tox-fullscreen"), function (e) {
      l.window.scrollTo(e.x, e.y);
    }(s.scrollPos), n.set(null), ke(e, !1), qe.unbind(), e.off("remove", qe.unbind);else {
      var d = {
        scrollPos: function () {
          var e = P(l.window);
          return {
            x: e.x(),
            y: e.y()
          };
        }(),
        containerWidth: r.width,
        containerHeight: r.height,
        containerTop: r.top,
        containerLeft: r.left,
        iframeWidth: o.width,
        iframeHeight: o.height
      };
      a && We(c, f), o.width = o.height = "100%", r.width = r.height = "", Ve.addClass(i, "tox-fullscreen"), Ve.addClass(u, "tox-fullscreen"), Ve.addClass(t, "tox-fullscreen"), qe.bind(c), e.on("remove", qe.unbind), n.set(d), ke(e, !0);
    }
  },
      Xe = function Xe(e, n) {
    e.addCommand("mceFullScreen", function () {
      ze(e, n);
    });
  },
      Ye = function Ye(e, n) {
    e.ui.registry.addToggleMenuItem("fullscreen", {
      text: "Fullscreen",
      shortcut: "Meta+Shift+F",
      onAction: function onAction() {
        return e.execCommand("mceFullScreen");
      },
      onSetup: W(e, n)
    }), e.ui.registry.addToggleButton("fullscreen", {
      tooltip: "Fullscreen",
      icon: "fullscreen",
      onAction: function onAction() {
        return e.execCommand("mceFullScreen");
      },
      onSetup: W(e, n)
    });
  };

  !function Ge() {
    o.add("fullscreen", function (e) {
      var n = t(null);
      return e.settings.inline || (Xe(e, n), Ye(e, n), e.addShortcut("Meta+Shift+F", "", "mceFullScreen")), i(n);
    });
  }();
}(window);

/***/ }),

/***/ "./resources/js/modules/tinymce/plugins/image/plugin.min.js":
/*!******************************************************************!*\
  !*** ./resources/js/modules/tinymce/plugins/image/plugin.min.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/**
 * Copyright (c) Tiny Technologies, Inc. All rights reserved.
 * Licensed under the LGPL or a commercial license.
 * For LGPL see License.txt in the project root for license information.
 * For commercial licenses see https://www.tiny.cloud/
 *
 * Version: 5.1.5 (2019-12-19)
 */
!function (s) {
  "use strict";

  function o() {}

  function a(t) {
    return function () {
      return t;
    };
  }

  function t(t) {
    return t;
  }

  function e() {
    return l;
  }

  var n,
      r = tinymce.util.Tools.resolve("tinymce.PluginManager"),
      u = a(!1),
      c = a(!0),
      l = (n = {
    fold: function fold(t, e) {
      return t();
    },
    is: u,
    isSome: u,
    isNone: c,
    getOr: d,
    getOrThunk: f,
    getOrDie: function getOrDie(t) {
      throw new Error(t || "error: getOrDie called on none.");
    },
    getOrNull: a(null),
    getOrUndefined: a(undefined),
    or: d,
    orThunk: f,
    map: e,
    each: o,
    bind: e,
    exists: u,
    forall: c,
    filter: e,
    equals: i,
    equals_: i,
    toArray: function toArray() {
      return [];
    },
    toString: a("none()")
  }, Object.freeze && Object.freeze(n), n);

  function i(t) {
    return t.isNone();
  }

  function f(t) {
    return t();
  }

  function d(t) {
    return t;
  }

  function m(e) {
    return function (t) {
      return function (t) {
        if (null === t) return "null";

        var e = _typeof(t);

        return "object" == e && (Array.prototype.isPrototypeOf(t) || t.constructor && "Array" === t.constructor.name) ? "array" : "object" == e && (String.prototype.isPrototypeOf(t) || t.constructor && "String" === t.constructor.name) ? "string" : e;
      }(t) === e;
    };
  }

  function v(t) {
    for (var e = [], n = 0, r = t.length; n < r; ++n) {
      if (!U(t[n])) throw new Error("Arr.flatten item " + n + " was not an array, input: " + t);
      S.apply(e, t[n]);
    }

    return e;
  }

  var p,
      g,
      h,
      y,
      b = function b(n) {
    function t() {
      return i;
    }

    function e(t) {
      return t(n);
    }

    var r = a(n),
        i = {
      fold: function fold(t, e) {
        return e(n);
      },
      is: function is(t) {
        return n === t;
      },
      isSome: c,
      isNone: u,
      getOr: r,
      getOrThunk: r,
      getOrDie: r,
      getOrNull: r,
      getOrUndefined: r,
      or: t,
      orThunk: t,
      map: function map(t) {
        return b(t(n));
      },
      each: function each(t) {
        t(n);
      },
      bind: e,
      exists: e,
      forall: e,
      filter: function filter(t) {
        return t(n) ? i : l;
      },
      toArray: function toArray() {
        return [n];
      },
      toString: function toString() {
        return "some(" + n + ")";
      },
      equals: function equals(t) {
        return t.is(n);
      },
      equals_: function equals_(t, e) {
        return t.fold(u, function (t) {
          return e(n, t);
        });
      }
    };
    return i;
  },
      w = {
    some: b,
    none: e,
    from: function from(t) {
      return null === t || t === undefined ? l : b(t);
    }
  },
      T = m("string"),
      _ = m("object"),
      U = m("array"),
      x = m("boolean"),
      A = m("function"),
      I = Array.prototype.slice,
      S = Array.prototype.push,
      D = (A(Array.from) && Array.from, function () {
    return (D = Object.assign || function (t) {
      for (var e, n = 1, r = arguments.length; n < r; n++) {
        for (var i in e = arguments[n]) {
          Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
        }
      }

      return t;
    }).apply(this, arguments);
  }),
      O = {},
      C = {
    exports: O
  };

  p = undefined, g = O, h = C, y = undefined, function (t) {
    "object" == _typeof(g) && void 0 !== h ? h.exports = t() : "function" == typeof p && p.amd ? p([], t) : ("undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this).EphoxContactWrapper = t();
  }(function () {
    return function s(o, a, u) {
      function c(e, t) {
        if (!a[e]) {
          if (!o[e]) {
            var n = "function" == typeof y && y;
            if (!t && n) return n(e, !0);
            if (l) return l(e, !0);
            var r = new Error("Cannot find module '" + e + "'");
            throw r.code = "MODULE_NOT_FOUND", r;
          }

          var i = a[e] = {
            exports: {}
          };
          o[e][0].call(i.exports, function (t) {
            return c(o[e][1][t] || t);
          }, i, i.exports, s, o, a, u);
        }

        return a[e].exports;
      }

      for (var l = "function" == typeof y && y, t = 0; t < u.length; t++) {
        c(u[t]);
      }

      return c;
    }({
      1: [function (t, e, n) {
        var r,
            i,
            o = e.exports = {};

        function a() {
          throw new Error("setTimeout has not been defined");
        }

        function u() {
          throw new Error("clearTimeout has not been defined");
        }

        function c(t) {
          if (r === setTimeout) return setTimeout(t, 0);
          if ((r === a || !r) && setTimeout) return r = setTimeout, setTimeout(t, 0);

          try {
            return r(t, 0);
          } catch (e) {
            try {
              return r.call(null, t, 0);
            } catch (e) {
              return r.call(this, t, 0);
            }
          }
        }

        !function () {
          try {
            r = "function" == typeof setTimeout ? setTimeout : a;
          } catch (t) {
            r = a;
          }

          try {
            i = "function" == typeof clearTimeout ? clearTimeout : u;
          } catch (t) {
            i = u;
          }
        }();
        var l,
            s = [],
            f = !1,
            d = -1;

        function m() {
          f && l && (f = !1, l.length ? s = l.concat(s) : d = -1, s.length && p());
        }

        function p() {
          if (!f) {
            var t = c(m);
            f = !0;

            for (var e = s.length; e;) {
              for (l = s, s = []; ++d < e;) {
                l && l[d].run();
              }

              d = -1, e = s.length;
            }

            l = null, f = !1, function n(t) {
              if (i === clearTimeout) return clearTimeout(t);
              if ((i === u || !i) && clearTimeout) return i = clearTimeout, clearTimeout(t);

              try {
                return i(t);
              } catch (e) {
                try {
                  return i.call(null, t);
                } catch (e) {
                  return i.call(this, t);
                }
              }
            }(t);
          }
        }

        function g(t, e) {
          this.fun = t, this.array = e;
        }

        function h() {}

        o.nextTick = function (t) {
          var e = new Array(arguments.length - 1);
          if (1 < arguments.length) for (var n = 1; n < arguments.length; n++) {
            e[n - 1] = arguments[n];
          }
          s.push(new g(t, e)), 1 !== s.length || f || c(p);
        }, g.prototype.run = function () {
          this.fun.apply(null, this.array);
        }, o.title = "browser", o.browser = !0, o.env = {}, o.argv = [], o.version = "", o.versions = {}, o.on = h, o.addListener = h, o.once = h, o.off = h, o.removeListener = h, o.removeAllListeners = h, o.emit = h, o.prependListener = h, o.prependOnceListener = h, o.listeners = function (t) {
          return [];
        }, o.binding = function (t) {
          throw new Error("process.binding is not supported");
        }, o.cwd = function () {
          return "/";
        }, o.chdir = function (t) {
          throw new Error("process.chdir is not supported");
        }, o.umask = function () {
          return 0;
        };
      }, {}],
      2: [function (t, f, e) {
        (function (e) {
          function r() {}

          function o(t) {
            if ("object" != _typeof(this)) throw new TypeError("Promises must be constructed via new");
            if ("function" != typeof t) throw new TypeError("not a function");
            this._state = 0, this._handled = !1, this._value = undefined, this._deferreds = [], s(t, this);
          }

          function i(r, i) {
            for (; 3 === r._state;) {
              r = r._value;
            }

            0 !== r._state ? (r._handled = !0, o._immediateFn(function () {
              var t = 1 === r._state ? i.onFulfilled : i.onRejected;

              if (null !== t) {
                var e;

                try {
                  e = t(r._value);
                } catch (n) {
                  return void u(i.promise, n);
                }

                a(i.promise, e);
              } else (1 === r._state ? a : u)(i.promise, r._value);
            })) : r._deferreds.push(i);
          }

          function a(t, e) {
            try {
              if (e === t) throw new TypeError("A promise cannot be resolved with itself.");

              if (e && ("object" == _typeof(e) || "function" == typeof e)) {
                var n = e.then;
                if (e instanceof o) return t._state = 3, t._value = e, void c(t);
                if ("function" == typeof n) return void s(function r(t, e) {
                  return function () {
                    t.apply(e, arguments);
                  };
                }(n, e), t);
              }

              t._state = 1, t._value = e, c(t);
            } catch (i) {
              u(t, i);
            }
          }

          function u(t, e) {
            t._state = 2, t._value = e, c(t);
          }

          function c(t) {
            2 === t._state && 0 === t._deferreds.length && o._immediateFn(function () {
              t._handled || o._unhandledRejectionFn(t._value);
            });

            for (var e = 0, n = t._deferreds.length; e < n; e++) {
              i(t, t._deferreds[e]);
            }

            t._deferreds = null;
          }

          function l(t, e, n) {
            this.onFulfilled = "function" == typeof t ? t : null, this.onRejected = "function" == typeof e ? e : null, this.promise = n;
          }

          function s(t, e) {
            var n = !1;

            try {
              t(function (t) {
                n || (n = !0, a(e, t));
              }, function (t) {
                n || (n = !0, u(e, t));
              });
            } catch (r) {
              if (n) return;
              n = !0, u(e, r);
            }
          }

          var t, n;
          t = this, n = setTimeout, o.prototype["catch"] = function (t) {
            return this.then(null, t);
          }, o.prototype.then = function (t, e) {
            var n = new this.constructor(r);
            return i(this, new l(t, e, n)), n;
          }, o.all = function (t) {
            var c = Array.prototype.slice.call(t);
            return new o(function (i, o) {
              if (0 === c.length) return i([]);
              var a = c.length;

              function u(e, t) {
                try {
                  if (t && ("object" == _typeof(t) || "function" == typeof t)) {
                    var n = t.then;
                    if ("function" == typeof n) return void n.call(t, function (t) {
                      u(e, t);
                    }, o);
                  }

                  c[e] = t, 0 == --a && i(c);
                } catch (r) {
                  o(r);
                }
              }

              for (var t = 0; t < c.length; t++) {
                u(t, c[t]);
              }
            });
          }, o.resolve = function (e) {
            return e && "object" == _typeof(e) && e.constructor === o ? e : new o(function (t) {
              t(e);
            });
          }, o.reject = function (n) {
            return new o(function (t, e) {
              e(n);
            });
          }, o.race = function (i) {
            return new o(function (t, e) {
              for (var n = 0, r = i.length; n < r; n++) {
                i[n].then(t, e);
              }
            });
          }, o._immediateFn = "function" == typeof e ? function (t) {
            e(t);
          } : function (t) {
            n(t, 0);
          }, o._unhandledRejectionFn = function (t) {
            "undefined" != typeof console && console && console.warn("Possible Unhandled Promise Rejection:", t);
          }, o._setImmediateFn = function (t) {
            o._immediateFn = t;
          }, o._setUnhandledRejectionFn = function (t) {
            o._unhandledRejectionFn = t;
          }, void 0 !== f && f.exports ? f.exports = o : t.Promise || (t.Promise = o);
        }).call(this, t("timers").setImmediate);
      }, {
        timers: 3
      }],
      3: [function (c, t, l) {
        (function (t, e) {
          var r = c("process/browser.js").nextTick,
              n = Function.prototype.apply,
              i = Array.prototype.slice,
              o = {},
              a = 0;

          function u(t, e) {
            this._id = t, this._clearFn = e;
          }

          l.setTimeout = function () {
            return new u(n.call(setTimeout, window, arguments), clearTimeout);
          }, l.setInterval = function () {
            return new u(n.call(setInterval, window, arguments), clearInterval);
          }, l.clearTimeout = l.clearInterval = function (t) {
            t.close();
          }, u.prototype.unref = u.prototype.ref = function () {}, u.prototype.close = function () {
            this._clearFn.call(window, this._id);
          }, l.enroll = function (t, e) {
            clearTimeout(t._idleTimeoutId), t._idleTimeout = e;
          }, l.unenroll = function (t) {
            clearTimeout(t._idleTimeoutId), t._idleTimeout = -1;
          }, l._unrefActive = l.active = function (t) {
            clearTimeout(t._idleTimeoutId);
            var e = t._idleTimeout;
            0 <= e && (t._idleTimeoutId = setTimeout(function () {
              t._onTimeout && t._onTimeout();
            }, e));
          }, l.setImmediate = "function" == typeof t ? t : function (t) {
            var e = a++,
                n = !(arguments.length < 2) && i.call(arguments, 1);
            return o[e] = !0, r(function () {
              o[e] && (n ? t.apply(null, n) : t.call(null), l.clearImmediate(e));
            }), e;
          }, l.clearImmediate = "function" == typeof e ? e : function (t) {
            delete o[t];
          };
        }).call(this, c("timers").setImmediate, c("timers").clearImmediate);
      }, {
        "process/browser.js": 1,
        timers: 3
      }],
      4: [function (t, e, n) {
        var r = t("promise-polyfill"),
            i = "undefined" != typeof window ? window : Function("return this;")();
        e.exports = {
          boltExport: i.Promise || r
        };
      }, {
        "promise-polyfill": 2
      }]
    }, {}, [4])(4);
  });

  function P(t) {
    s.setTimeout(function () {
      throw t;
    }, 0);
  }

  function E(t) {
    return vt(mt(t));
  }

  function L(a) {
    return function () {
      for (var t = new Array(arguments.length), e = 0; e < t.length; e++) {
        t[e] = arguments[e];
      }

      if (0 === t.length) throw new Error("Can't merge zero objects");

      for (var n = {}, r = 0; r < t.length; r++) {
        var i = t[r];

        for (var o in i) {
          wt.call(i, o) && (n[o] = a(n[o], i[o]));
        }
      }

      return n;
    };
  }

  function N(t) {
    var e = t.imageList.map(function (t) {
      return {
        name: "images",
        type: "selectbox",
        label: "Image list",
        items: t
      };
    }),
        n = t.classList.map(function (t) {
      return {
        name: "classes",
        type: "selectbox",
        label: "Class",
        items: t
      };
    });
    return v([[{
      name: "src",
      type: "urlinput",
      filetype: "image",
      label: "Source"
    }], e.toArray(), t.hasDescription ? [{
      name: "alt",
      type: "input",
      label: "Image description"
    }] : [], t.hasImageTitle ? [{
      name: "title",
      type: "input",
      label: "Image title"
    }] : [], t.hasDimensions ? [{
      name: "dimensions",
      type: "sizeinput"
    }] : [], [{
      type: "grid",
      columns: 2,
      items: v([n.toArray(), t.hasImageCaption ? [{
        type: "label",
        label: "Caption",
        items: [{
          type: "checkbox",
          name: "caption",
          label: "Show caption"
        }]
      }] : []])
    }]]);
  }

  function j(t, e) {
    return Math.max(parseInt(t, 10), parseInt(e, 10));
  }

  function R(t) {
    return t.style.marginLeft && t.style.marginRight && t.style.marginLeft === t.style.marginRight ? Et(t.style.marginLeft) : "";
  }

  function F(t) {
    return t.style.marginTop && t.style.marginBottom && t.style.marginTop === t.style.marginBottom ? Et(t.style.marginTop) : "";
  }

  function k(t) {
    return t.style.borderWidth ? Et(t.style.borderWidth) : "";
  }

  function z(t, e) {
    return t.hasAttribute(e) ? t.getAttribute(e) : "";
  }

  function M(t, e) {
    return t.style[e] ? t.style[e] : "";
  }

  function H(t) {
    return null !== t.parentNode && "FIGURE" === t.parentNode.nodeName;
  }

  function B(t, e, n) {
    t.setAttribute(e, n);
  }

  function G(t) {
    H(t) ? function (t) {
      var e = t.parentNode;
      zt.insertAfter(t, e), zt.remove(e);
    }(t) : function (t) {
      var e = zt.create("figure", {
        "class": "image"
      });
      zt.insertAfter(e, t), e.appendChild(t), e.appendChild(zt.create("figcaption", {
        contentEditable: "true"
      }, "Caption")), e.contentEditable = "false";
    }(t);
  }

  function W(t, e) {
    var n = t.getAttribute("style"),
        r = e(null !== n ? n : "");
    0 < r.length ? (t.setAttribute("style", r), t.setAttribute("data-mce-style", r)) : t.removeAttribute("style");
  }

  function q(t, r) {
    return function (t, e, n) {
      t.style[e] ? (t.style[e] = Lt(n), W(t, r)) : B(t, e, n);
    };
  }

  function $(t, e) {
    return t.style[e] ? Et(t.style[e]) : z(t, e);
  }

  function J(t, e) {
    var n = Lt(e);
    t.style.marginLeft = n, t.style.marginRight = n;
  }

  function V(t, e) {
    var n = Lt(e);
    t.style.marginTop = n, t.style.marginBottom = n;
  }

  function X(t, e) {
    var n = Lt(e);
    t.style.borderWidth = n;
  }

  function Z(t, e) {
    t.style.borderStyle = e;
  }

  function K(t) {
    return "FIGURE" === t.nodeName;
  }

  function Q(t, e) {
    var n = s.document.createElement("img");
    return B(n, "style", e.style), !R(n) && "" === e.hspace || J(n, e.hspace), !F(n) && "" === e.vspace || V(n, e.vspace), !k(n) && "" === e.border || X(n, e.border), !function (t) {
      return M(t, "borderStyle");
    }(n) && "" === e.borderStyle || Z(n, e.borderStyle), t(n.getAttribute("style"));
  }

  function Y(t, e) {
    return {
      src: z(e, "src"),
      alt: z(e, "alt"),
      title: z(e, "title"),
      width: $(e, "width"),
      height: $(e, "height"),
      "class": z(e, "class"),
      style: t(z(e, "style")),
      caption: H(e),
      hspace: R(e),
      vspace: F(e),
      border: k(e),
      borderStyle: M(e, "borderStyle")
    };
  }

  function tt(t, e, n, r, i) {
    n[r] !== e[r] && i(t, r, n[r]);
  }

  function et(r, i) {
    return function (t, e, n) {
      r(t, n), W(t, i);
    };
  }

  function nt(t, e) {
    var n = t.dom.styles.parse(e),
        r = Nt(n),
        i = t.dom.styles.parse(t.dom.styles.serialize(r));
    return t.dom.styles.serialize(i);
  }

  function rt(t) {
    var e = t.selection.getNode(),
        n = t.dom.getParent(e, "figure.image");
    return n ? t.dom.select("img", n)[0] : e && ("IMG" !== e.nodeName || kt(e)) ? null : e;
  }

  function it(e, t) {
    var n = e.dom,
        r = n.getParent(t.parentNode, function (t) {
      return e.schema.getTextBlockElements()[t.nodeName];
    }, e.getBody());
    return r ? n.split(r, t) : t;
  }

  function ot(e, t) {
    var n = function (t, e) {
      var n = s.document.createElement("img");

      if (Mt(t, _t(e, {
        caption: !1
      }), n), B(n, "alt", e.alt), e.caption) {
        var r = zt.create("figure", {
          "class": "image"
        });
        return r.appendChild(n), r.appendChild(zt.create("figcaption", {
          contentEditable: "true"
        }, "Caption")), r.contentEditable = "false", r;
      }

      return n;
    }(function (t) {
      return nt(e, t);
    }, t);

    e.dom.setAttrib(n, "data-mce-id", "__mcenew"), e.focus(), e.selection.setContent(n.outerHTML);
    var r = e.dom.select('*[data-mce-id="__mcenew"]')[0];

    if (e.dom.setAttrib(r, "data-mce-id", null), K(r)) {
      var i = it(e, r);
      e.selection.select(i);
    } else e.selection.select(r);
  }

  function at(t, e) {
    var n = rt(t);
    n ? e.src ? function (e, t) {
      var n = rt(e);

      if (Mt(function (t) {
        return nt(e, t);
      }, t, n), function (t, e) {
        t.dom.setAttrib(e, "src", e.getAttribute("src"));
      }(e, n), K(n.parentNode)) {
        var r = n.parentNode;
        it(e, r), e.selection.select(n.parentNode);
      } else e.selection.select(n), Rt(e, t, n);
    }(t, e) : function (t, e) {
      if (e) {
        var n = t.dom.is(e.parentNode, "figure.image") ? e.parentNode : e;
        t.dom.remove(n), t.focus(), t.nodeChanged(), t.dom.isEmpty(t.getBody()) && (t.setContent(""), t.selection.setCursorLocation());
      }
    }(t, n) : e.src && ot(t, e);
  }

  function ut(t) {
    return T(t.value) ? t.value : "";
  }

  function ct(e) {
    return void 0 === e && (e = ut), function (t) {
      return t ? w.from(t).map(function (t) {
        return Bt(t, e);
      }) : w.none();
    };
  }

  var lt = C.exports.boltExport,
      st = function st(t) {
    var n = w.none(),
        e = [],
        r = function r(t) {
      i() ? a(t) : e.push(t);
    },
        i = function i() {
      return n.isSome();
    },
        o = function o(t) {
      !function (t, e) {
        for (var n = 0, r = t.length; n < r; n++) {
          e(t[n], n);
        }
      }(t, a);
    },
        a = function a(e) {
      n.each(function (t) {
        s.setTimeout(function () {
          e(t);
        }, 0);
      });
    };

    return t(function (t) {
      n = w.some(t), o(e), e = [];
    }), {
      get: r,
      map: function map(n) {
        return st(function (e) {
          r(function (t) {
            e(n(t));
          });
        });
      },
      isReady: i
    };
  },
      ft = {
    nu: st,
    pure: function pure(e) {
      return st(function (t) {
        t(e);
      });
    }
  },
      dt = function dt(n) {
    function t(t) {
      n().then(t, P);
    }

    return {
      map: function map(t) {
        return dt(function () {
          return n().then(t);
        });
      },
      bind: function bind(e) {
        return dt(function () {
          return n().then(function (t) {
            return e(t).toPromise();
          });
        });
      },
      anonBind: function anonBind(t) {
        return dt(function () {
          return n().then(function () {
            return t.toPromise();
          });
        });
      },
      toLazy: function toLazy() {
        return ft.nu(t);
      },
      toCached: function toCached() {
        var t = null;
        return dt(function () {
          return null === t && (t = n()), t;
        });
      },
      toPromise: n,
      get: t
    };
  },
      mt = function mt(t) {
    return dt(function () {
      return new lt(t);
    });
  },
      pt = function pt(t) {
    return dt(function () {
      return lt.resolve(t);
    });
  },
      gt = function gt(n) {
    return {
      is: function is(t) {
        return n === t;
      },
      isValue: c,
      isError: u,
      getOr: a(n),
      getOrThunk: a(n),
      getOrDie: a(n),
      or: function or(t) {
        return gt(n);
      },
      orThunk: function orThunk(t) {
        return gt(n);
      },
      fold: function fold(t, e) {
        return e(n);
      },
      map: function map(t) {
        return gt(t(n));
      },
      mapError: function mapError(t) {
        return gt(n);
      },
      each: function each(t) {
        t(n);
      },
      bind: function bind(t) {
        return t(n);
      },
      exists: function exists(t) {
        return t(n);
      },
      forall: function forall(t) {
        return t(n);
      },
      toOption: function toOption() {
        return w.some(n);
      }
    };
  },
      ht = function ht(n) {
    return {
      is: u,
      isValue: u,
      isError: c,
      getOr: t,
      getOrThunk: function getOrThunk(t) {
        return t();
      },
      getOrDie: function getOrDie() {
        return function (t) {
          return function () {
            throw new Error(t);
          };
        }(String(n))();
      },
      or: function or(t) {
        return t;
      },
      orThunk: function orThunk(t) {
        return t();
      },
      fold: function fold(t, e) {
        return t(n);
      },
      map: function map(t) {
        return ht(n);
      },
      mapError: function mapError(t) {
        return ht(t(n));
      },
      each: o,
      bind: function bind(t) {
        return ht(n);
      },
      exists: u,
      forall: c,
      toOption: w.none
    };
  },
      yt = {
    value: gt,
    error: ht,
    fromOption: function fromOption(t, e) {
      return t.fold(function () {
        return ht(e);
      }, gt);
    }
  },
      vt = function vt(o) {
    return D(D({}, o), {
      toCached: function toCached() {
        return vt(o.toCached());
      },
      bindFuture: function bindFuture(e) {
        return vt(o.bind(function (t) {
          return t.fold(function (t) {
            return pt(yt.error(t));
          }, function (t) {
            return e(t);
          });
        }));
      },
      bindResult: function bindResult(e) {
        return vt(o.map(function (t) {
          return t.bind(e);
        }));
      },
      mapResult: function mapResult(e) {
        return vt(o.map(function (t) {
          return t.map(e);
        }));
      },
      mapError: function mapError(e) {
        return vt(o.map(function (t) {
          return t.mapError(e);
        }));
      },
      foldResult: function foldResult(e, n) {
        return o.map(function (t) {
          return t.fold(e, n);
        });
      },
      withTimeout: function withTimeout(t, i) {
        return vt(mt(function (e) {
          var n = !1,
              r = s.setTimeout(function () {
            n = !0, e(yt.error(i()));
          }, t);
          o.get(function (t) {
            n || (s.clearTimeout(r), e(t));
          });
        }));
      }
    });
  },
      bt = E,
      wt = Object.prototype.hasOwnProperty,
      Tt = L(function (t, e) {
    return _(t) && _(e) ? Tt(t, e) : e;
  }),
      _t = L(function (t, e) {
    return e;
  }),
      Ut = function Ut(t) {
    return {
      title: "General",
      name: "general",
      items: N(t)
    };
  },
      xt = N,
      At = tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),
      It = tinymce.util.Tools.resolve("tinymce.util.Promise"),
      St = tinymce.util.Tools.resolve("tinymce.util.XHR"),
      Dt = function Dt(t) {
    return t.getParam("images_upload_url", "", "string");
  },
      Ot = function Ot(t) {
    return t.getParam("images_upload_handler", undefined, "function");
  },
      Ct = {
    hasDimensions: function hasDimensions(t) {
      return t.getParam("image_dimensions", !0, "boolean");
    },
    hasUploadTab: function hasUploadTab(t) {
      return t.getParam("image_uploadtab", !0, "boolean");
    },
    hasAdvTab: function hasAdvTab(t) {
      return t.getParam("image_advtab", !1, "boolean");
    },
    getPrependUrl: function getPrependUrl(t) {
      return t.getParam("image_prepend_url", "", "string");
    },
    getClassList: function getClassList(t) {
      return t.getParam("image_class_list");
    },
    hasDescription: function hasDescription(t) {
      return t.getParam("image_description", !0, "boolean");
    },
    hasImageTitle: function hasImageTitle(t) {
      return t.getParam("image_title", !1, "boolean");
    },
    hasImageCaption: function hasImageCaption(t) {
      return t.getParam("image_caption", !1, "boolean");
    },
    getImageList: function getImageList(t) {
      return t.getParam("image_list", !1);
    },
    hasUploadUrl: function hasUploadUrl(t) {
      return !!Dt(t);
    },
    hasUploadHandler: function hasUploadHandler(t) {
      return !!Ot(t);
    },
    getUploadUrl: Dt,
    getUploadHandler: Ot,
    getUploadBasePath: function getUploadBasePath(t) {
      return t.getParam("images_upload_base_path", undefined, "string");
    },
    getUploadCredentials: function getUploadCredentials(t) {
      return t.getParam("images_upload_credentials", !1, "boolean");
    }
  },
      Pt = function Pt(t, e) {
    function n(t) {
      r.parentNode && r.parentNode.removeChild(r), e(t);
    }

    var r = s.document.createElement("img");
    r.onload = function () {
      var t = {
        width: j(r.width, r.clientWidth),
        height: j(r.height, r.clientHeight)
      };
      n(yt.value(t));
    }, r.onerror = function () {
      n(yt.error("Failed to get image dimensions for: " + t));
    };
    var i = r.style;
    i.visibility = "hidden", i.position = "fixed", i.bottom = i.left = "0px", i.width = i.height = "auto", s.document.body.appendChild(r), r.src = t;
  },
      Et = function Et(t) {
    return t = t && t.replace(/px$/, "");
  },
      Lt = function Lt(t) {
    return 0 < t.length && /^[0-9]+$/.test(t) && (t += "px"), t;
  },
      Nt = function Nt(t) {
    if (t.margin) {
      var e = String(t.margin).split(" ");

      switch (e.length) {
        case 1:
          t["margin-top"] = t["margin-top"] || e[0], t["margin-right"] = t["margin-right"] || e[0], t["margin-bottom"] = t["margin-bottom"] || e[0], t["margin-left"] = t["margin-left"] || e[0];
          break;

        case 2:
          t["margin-top"] = t["margin-top"] || e[0], t["margin-right"] = t["margin-right"] || e[1], t["margin-bottom"] = t["margin-bottom"] || e[0], t["margin-left"] = t["margin-left"] || e[1];
          break;

        case 3:
          t["margin-top"] = t["margin-top"] || e[0], t["margin-right"] = t["margin-right"] || e[1], t["margin-bottom"] = t["margin-bottom"] || e[2], t["margin-left"] = t["margin-left"] || e[1];
          break;

        case 4:
          t["margin-top"] = t["margin-top"] || e[0], t["margin-right"] = t["margin-right"] || e[1], t["margin-bottom"] = t["margin-bottom"] || e[2], t["margin-left"] = t["margin-left"] || e[3];
      }

      delete t.margin;
    }

    return t;
  },
      jt = function jt(t, e) {
    var n = Ct.getImageList(t);
    "string" == typeof n ? St.send({
      url: n,
      success: function success(t) {
        e(JSON.parse(t));
      }
    }) : "function" == typeof n ? n(e) : e(n);
  },
      Rt = function Rt(t, e, n) {
    function r() {
      n.onload = n.onerror = null, t.selection && (t.selection.select(n), t.nodeChanged());
    }

    n.onload = function () {
      e.width || e.height || !Ct.hasDimensions(t) || t.dom.setAttribs(n, {
        width: String(n.clientWidth),
        height: String(n.clientHeight)
      }), r();
    }, n.onerror = r;
  },
      Ft = function Ft(r) {
    return new It(function (t, e) {
      var n = new s.FileReader();
      n.onload = function () {
        t(n.result);
      }, n.onerror = function () {
        e(n.error.message);
      }, n.readAsDataURL(r);
    });
  },
      kt = function kt(t) {
    return "IMG" === t.nodeName && (t.hasAttribute("data-mce-object") || t.hasAttribute("data-mce-placeholder"));
  },
      zt = At.DOM,
      Mt = function Mt(t, e, n) {
    var r = Y(t, n);
    tt(n, r, e, "caption", function (t, e, n) {
      return G(t);
    }), tt(n, r, e, "src", B), tt(n, r, e, "alt", B), tt(n, r, e, "title", B), tt(n, r, e, "width", q(0, t)), tt(n, r, e, "height", q(0, t)), tt(n, r, e, "class", B), tt(n, r, e, "style", et(function (t, e) {
      return B(t, "style", e);
    }, t)), tt(n, r, e, "hspace", et(J, t)), tt(n, r, e, "vspace", et(V, t)), tt(n, r, e, "border", et(X, t)), tt(n, r, e, "borderStyle", et(Z, t));
  },
      Ht = tinymce.util.Tools.resolve("tinymce.util.Tools"),
      Bt = function Bt(t, i) {
    var o = [];
    return Ht.each(t, function (t) {
      var e = T(t.text) ? t.text : T(t.title) ? t.title : "";

      if (t.menu !== undefined) {
        var n = Bt(t.menu, i);
        o.push({
          text: e,
          items: n
        });
      } else {
        var r = i(t);
        o.push({
          text: e,
          value: r
        });
      }
    }), o;
  },
      Gt = function Gt(t, e) {
    return function (t, e) {
      for (var n = 0; n < t.length; n++) {
        var r = e(t[n], n);
        if (r.isSome()) return r;
      }

      return w.none();
    }(t, function (t) {
      return function (t) {
        return Object.prototype.hasOwnProperty.call(t, "items");
      }(t) ? Gt(t.items, e) : t.value === e ? w.some(t) : w.none();
    });
  },
      Wt = ct,
      qt = function qt(t) {
    return ct(ut)(t);
  },
      $t = function $t(t, e) {
    return t.bind(function (t) {
      return Gt(t, e);
    });
  };

  function Jt(a) {
    function e(t, e, n, r) {
      var i, o;
      (i = new s.XMLHttpRequest()).open("POST", a.url), i.withCredentials = a.credentials, i.upload.onprogress = function (t) {
        r(t.loaded / t.total * 100);
      }, i.onerror = function () {
        n("Image upload failed due to a XHR Transport error. Code: " + i.status);
      }, i.onload = function () {
        var t;
        i.status < 200 || 300 <= i.status ? n("HTTP Error: " + i.status) : (t = JSON.parse(i.responseText)) && "string" == typeof t.location ? e(function (t, e) {
          return t ? t.replace(/\/$/, "") + "/" + e.replace(/^\//, "") : e;
        }(a.basePath, t.location)) : n("Invalid JSON: " + i.responseText);
      }, (o = new s.FormData()).append("file", t.blob(), t.filename()), i.send(o);
    }

    return a = Ht.extend({
      credentials: !1,
      handler: e
    }, a), {
      upload: function upload(t) {
        return !a.url && function (t) {
          return t === e;
        }(a.handler) ? It.reject("Upload url missing from the settings.") : function (r, i) {
          return new It(function (t, e) {
            try {
              i(r, t, e, o);
            } catch (n) {
              e(n.message);
            }
          });
        }(t, a.handler);
      }
    };
  }

  function Vt(n) {
    var r = Wt(function (t) {
      return n.convertURL(t.value || t.url, "src");
    }),
        t = mt(function (e) {
      jt(n, function (t) {
        e(r(t).map(function (t) {
          return v([[{
            text: "None",
            value: ""
          }], t]);
        }));
      });
    }),
        e = qt(Ct.getClassList(n)),
        i = Ct.hasAdvTab(n),
        o = Ct.hasUploadTab(n),
        a = Ct.hasUploadUrl(n),
        u = Ct.hasUploadHandler(n),
        c = function (e) {
      var t = rt(e);
      return t ? Y(function (t) {
        return nt(e, t);
      }, t) : {
        src: "",
        alt: "",
        title: "",
        width: "",
        height: "",
        "class": "",
        style: "",
        caption: !1,
        hspace: "",
        vspace: "",
        border: "",
        borderStyle: ""
      };
    }(n),
        l = Ct.hasDescription(n),
        s = Ct.hasImageTitle(n),
        f = Ct.hasDimensions(n),
        d = Ct.hasImageCaption(n),
        m = Ct.getUploadUrl(n),
        p = Ct.getUploadBasePath(n),
        g = Ct.getUploadCredentials(n),
        h = Ct.getUploadHandler(n),
        y = w.some(Ct.getPrependUrl(n)).filter(function (t) {
      return T(t) && 0 < t.length;
    });

    return t.map(function (t) {
      return {
        image: c,
        imageList: t,
        classList: e,
        hasAdvTab: i,
        hasUploadTab: o,
        hasUploadUrl: a,
        hasUploadHandler: u,
        hasDescription: l,
        hasImageTitle: s,
        hasDimensions: f,
        hasImageCaption: d,
        url: m,
        basePath: p,
        credentials: g,
        handler: h,
        prependURL: y
      };
    });
  }

  function Xt(t) {
    return {
      src: {
        value: t.src,
        meta: {}
      },
      images: t.src,
      alt: t.alt,
      title: t.title,
      dimensions: {
        width: t.width,
        height: t.height
      },
      classes: t["class"],
      caption: t.caption,
      style: t.style,
      vspace: t.vspace,
      border: t.border,
      hspace: t.hspace,
      borderstyle: t.borderStyle,
      fileinput: []
    };
  }

  function Zt(t) {
    return {
      src: t.src.value,
      alt: t.alt,
      title: t.title,
      width: t.dimensions.width,
      height: t.dimensions.height,
      "class": t.classes,
      style: t.style,
      caption: t.caption,
      hspace: t.hspace,
      vspace: t.vspace,
      border: t.border,
      borderStyle: t.borderstyle
    };
  }

  function Kt(t, e) {
    var n = e.getData();
    (function (t, e) {
      return /^(?:[a-zA-Z]+:)?\/\//.test(e) ? w.none() : t.prependURL.bind(function (t) {
        return e.substring(0, t.length) !== t ? w.some(t + e) : w.none();
      });
    })(t, n.src.value).each(function (t) {
      e.setData({
        src: {
          value: t,
          meta: n.src.meta
        }
      });
    });
  }

  function Qt(t, e) {
    var n = e.getData(),
        r = n.src.meta;

    if (r !== undefined) {
      var i = Tt({}, n);
      !function (t, e, n) {
        t.hasDescription && T(n.alt) && (e.alt = n.alt), t.hasImageTitle && T(n.title) && (e.title = n.title), t.hasDimensions && (T(n.width) && (e.dimensions.width = n.width), T(n.height) && (e.dimensions.height = n.height)), T(n["class"]) && $t(t.classList, n["class"]).each(function (t) {
          e.classes = t.value;
        }), t.hasImageCaption && x(n.caption) && (e.caption = n.caption), t.hasAdvTab && (T(n.vspace) && (e.vspace = n.vspace), T(n.border) && (e.border = n.border), T(n.hspace) && (e.hspace = n.hspace), T(n.borderstyle) && (e.borderstyle = n.borderstyle));
      }(t, i, r), e.setData(i);
    }
  }

  function Yt(t, e, n, r) {
    Kt(e, r), Qt(e, r), function (t, e, n, r) {
      var i = r.getData(),
          o = i.src.value,
          a = i.src.meta || {};
      a.width || a.height || !e.hasDimensions || t.imageSize(o).get(function (t) {
        t.each(function (t) {
          n.open && r.setData({
            dimensions: t
          });
        });
      });
    }(t, e, n, r), function (t, e, n) {
      var r = n.getData(),
          i = $t(t.imageList, r.src.value);
      e.prevImage = i, n.setData({
        images: i.map(function (t) {
          return t.value;
        }).getOr("")
      });
    }(e, n, r);
  }

  function te(t, e, n) {
    var r = Nt(t(n.style)),
        i = Tt({}, n);
    return i.vspace = function (t) {
      return t["margin-top"] && t["margin-bottom"] && t["margin-top"] === t["margin-bottom"] ? Et(String(t["margin-top"])) : "";
    }(r), i.hspace = function (t) {
      return t["margin-right"] && t["margin-left"] && t["margin-right"] === t["margin-left"] ? Et(String(t["margin-right"])) : "";
    }(r), i.border = function (t) {
      return t["border-width"] ? Et(String(t["border-width"])) : "";
    }(r), i.borderstyle = function (t) {
      return t["border-style"] ? String(t["border-style"]) : "";
    }(r), i.style = function (t, e, n) {
      return e(t(e(n)));
    }(t, e, r), i;
  }

  function ee(a, u, c, l) {
    var t = l.getData();
    l.block("Uploading image"), function (t) {
      return 0 === t.length ? w.none() : w.some(t[0]);
    }(t.fileinput).fold(function () {
      l.unblock();
    }, function (n) {
      function r() {
        l.unblock(), s.URL.revokeObjectURL(i);
      }

      var i = s.URL.createObjectURL(n),
          o = Jt({
        url: u.url,
        basePath: u.basePath,
        credentials: u.credentials,
        handler: u.handler
      });
      Ft(n).then(function (t) {
        var e = a.createBlobCache(n, i, t);
        o.upload(e).then(function (t) {
          l.setData({
            src: {
              value: t,
              meta: {}
            }
          }), l.showTab("general"), Yt(a, u, c, l), r();
        })["catch"](function (t) {
          r(), a.alertErr(l, t);
        });
      });
    });
  }

  function ne(n, r, i) {
    return function (t, e) {
      "src" === e.name ? Yt(n, r, i, t) : "images" === e.name ? function (t, e, n, r) {
        var i = r.getData(),
            o = $t(e.imageList, i.images);
        o.each(function (t) {
          "" === i.alt || n.prevImage.map(function (t) {
            return t.text === i.alt;
          }).getOr(!1) ? "" === t.value ? r.setData({
            src: t,
            alt: n.prevAlt
          }) : r.setData({
            src: t,
            alt: t.text
          }) : r.setData({
            src: t
          });
        }), n.prevImage = o, Yt(t, e, n, r);
      }(n, r, i, t) : "alt" === e.name ? i.prevAlt = t.getData().alt : "style" === e.name ? function (t, e) {
        var n = e.getData(),
            r = te(t.parseStyle, t.serializeStyle, n);
        e.setData(r);
      }(n, t) : "vspace" === e.name || "hspace" === e.name || "border" === e.name || "borderstyle" === e.name ? function (t, e, n) {
        var r = Tt(Xt(e.image), n.getData()),
            i = Q(t.normalizeCss, Zt(r));
        n.setData({
          style: i
        });
      }(n, r, t) : "fileinput" === e.name && ee(n, r, i, t);
    };
  }

  function re(n) {
    return function (t) {
      var e = function (t) {
        return {
          prevImage: $t(t.imageList, t.image.src),
          prevAlt: t.image.alt,
          open: !0
        };
      }(t);

      return {
        title: "Insert/Edit Image",
        size: "normal",
        body: function (t) {
          return t.hasAdvTab || t.hasUploadUrl || t.hasUploadHandler ? {
            type: "tabpanel",
            tabs: v([[Ut(t)], t.hasAdvTab ? [ae(t)] : [], t.hasUploadTab && (t.hasUploadUrl || t.hasUploadHandler) ? [ue(t)] : []])
          } : {
            type: "panel",
            items: xt(t)
          };
        }(t),
        buttons: [{
          type: "cancel",
          name: "cancel",
          text: "Cancel"
        }, {
          type: "submit",
          name: "save",
          text: "Save",
          primary: !0
        }],
        initialData: Xt(t.image),
        onSubmit: n.onSubmit(t),
        onChange: ne(n, t, e),
        onClose: function (t) {
          return function () {
            t.open = !1;
          };
        }(e)
      };
    };
  }

  function ie(e) {
    var t = {
      onSubmit: function (r) {
        return function (n) {
          return function (t) {
            var e = Tt(Xt(n.image), t.getData());
            r.undoManager.transact(function () {
              at(r, Zt(e));
            }), r.editorUpload.uploadImagesAuto(), t.close();
          };
        };
      }(e),
      imageSize: function (e) {
        return function (t) {
          return bt(function (n) {
            Pt(e.documentBaseURI.toAbsolute(t), function (t) {
              var e = t.map(function (t) {
                return {
                  width: String(t.width),
                  height: String(t.height)
                };
              });
              n(e);
            });
          });
        };
      }(e),
      createBlobCache: function (r) {
        return function (t, e, n) {
          return r.editorUpload.blobCache.create({
            blob: t,
            blobUri: e,
            name: t.name ? t.name.replace(/\.[^\.]+$/, "") : null,
            base64: n.split(",")[1]
          });
        };
      }(e),
      alertErr: function (n) {
        return function (t, e) {
          n.windowManager.alert(e, t.close);
        };
      }(e),
      normalizeCss: function (e) {
        return function (t) {
          return nt(e, t);
        };
      }(e),
      parseStyle: function (e) {
        return function (t) {
          return e.dom.parseStyle(t);
        };
      }(e),
      serializeStyle: function (n) {
        return function (t, e) {
          return n.dom.serializeStyle(t, e);
        };
      }(e)
    };
    return {
      open: function open() {
        return Vt(e).map(re(t)).get(function (t) {
          e.windowManager.open(t);
        });
      }
    };
  }

  function oe(o) {
    return function (t) {
      for (var e, n = t.length, r = function r(t) {
        t.attr("contenteditable", o ? "true" : null);
      }; n--;) {
        var i = t[n];
        void 0, (e = i.attr("class")) && /\bimage\b/.test(e) && (i.attr("contenteditable", o ? "false" : null), Ht.each(i.getAll("figcaption"), r));
      }
    };
  }

  var ae = function ae(t) {
    return {
      title: "Advanced",
      name: "advanced",
      items: [{
        type: "input",
        label: "Style",
        name: "style"
      }, {
        type: "grid",
        columns: 2,
        items: [{
          type: "input",
          label: "Vertical space",
          name: "vspace",
          inputMode: "numeric"
        }, {
          type: "input",
          label: "Horizontal space",
          name: "hspace",
          inputMode: "numeric"
        }, {
          type: "input",
          label: "Border width",
          name: "border",
          inputMode: "numeric"
        }, {
          type: "selectbox",
          name: "borderstyle",
          label: "Border style",
          items: [{
            text: "Select...",
            value: ""
          }, {
            text: "Solid",
            value: "solid"
          }, {
            text: "Dotted",
            value: "dotted"
          }, {
            text: "Dashed",
            value: "dashed"
          }, {
            text: "Double",
            value: "double"
          }, {
            text: "Groove",
            value: "groove"
          }, {
            text: "Ridge",
            value: "ridge"
          }, {
            text: "Inset",
            value: "inset"
          }, {
            text: "Outset",
            value: "outset"
          }, {
            text: "None",
            value: "none"
          }, {
            text: "Hidden",
            value: "hidden"
          }]
        }]
      }]
    };
  },
      ue = function ue(t) {
    return {
      title: "Upload",
      name: "upload",
      items: [{
        type: "dropzone",
        name: "fileinput"
      }]
    };
  },
      ce = function ce(t) {
    t.addCommand("mceImage", ie(t).open);
  },
      le = function le(t) {
    t.on("PreInit", function () {
      t.parser.addNodeFilter("figure", oe(!0)), t.serializer.addNodeFilter("figure", oe(!1));
    });
  },
      se = function se(e) {
    e.ui.registry.addToggleButton("image", {
      icon: "image",
      tooltip: "Insert/edit image",
      onAction: ie(e).open,
      onSetup: function onSetup(t) {
        return e.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image", t.setActive).unbind;
      }
    }), e.ui.registry.addMenuItem("image", {
      icon: "image",
      text: "Image...",
      onAction: ie(e).open
    }), e.ui.registry.addContextMenu("image", {
      update: function update(t) {
        return K(t) || function (t) {
          return "IMG" === t.nodeName;
        }(t) && !kt(t) ? ["image"] : [];
      }
    });
  };

  !function fe() {
    r.add("image", function (t) {
      le(t), se(t), ce(t);
    });
  }();
}(window);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../../../node_modules/webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./resources/js/modules/tinymce/plugins/link/plugin.min.js":
/*!*****************************************************************!*\
  !*** ./resources/js/modules/tinymce/plugins/link/plugin.min.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/**
 * Copyright (c) Tiny Technologies, Inc. All rights reserved.
 * Licensed under the LGPL or a commercial license.
 * For LGPL see License.txt in the project root for license information.
 * For commercial licenses see https://www.tiny.cloud/
 *
 * Version: 5.1.5 (2019-12-19)
 */
!function (c) {
  "use strict";

  function n(t) {
    return function (n) {
      return function (n) {
        if (null === n) return "null";

        var t = _typeof(n);

        return "object" == t && (Array.prototype.isPrototypeOf(n) || n.constructor && "Array" === n.constructor.name) ? "array" : "object" == t && (String.prototype.isPrototypeOf(n) || n.constructor && "String" === n.constructor.name) ? "string" : t;
      }(n) === t;
    };
  }

  function u() {}

  function i(n) {
    return function () {
      return n;
    };
  }

  function t() {
    return A;
  }

  var e,
      r = tinymce.util.Tools.resolve("tinymce.PluginManager"),
      o = tinymce.util.Tools.resolve("tinymce.util.VK"),
      a = n("string"),
      f = n("array"),
      l = n("boolean"),
      s = n("function"),
      d = function d(n) {
    var t = n.getParam("link_assume_external_targets", !1);
    return l(t) && t ? 1 : !a(t) || "http" !== t && "https" !== t ? 0 : t;
  },
      m = function m(n) {
    return n.getParam("link_context_toolbar", !1, "boolean");
  },
      h = function h(n) {
    return n.getParam("link_list");
  },
      p = function p(n) {
    return n.getParam("default_link_target");
  },
      g = function g(n) {
    return n.getParam("target_list", !0);
  },
      v = function v(n) {
    return n.getParam("rel_list", [], "array");
  },
      y = function y(n) {
    return n.getParam("link_class_list", [], "array");
  },
      w = function w(n) {
    return n.getParam("link_title", !0, "boolean");
  },
      x = function x(n) {
    return n.getParam("allow_unsafe_link_target", !1, "boolean");
  },
      k = function k(n) {
    return n.getParam("link_quicklink", !1, "boolean");
  },
      b = function b(n) {
    var t = c.document.createElement("a");
    t.target = "_blank", t.href = n, t.rel = "noreferrer noopener";
    var e = c.document.createEvent("MouseEvents");
    e.initMouseEvent("click", !0, !0, c.window, 0, 0, 0, 0, 0, !1, !1, !1, !1, 0, null), function (n, t) {
      c.document.body.appendChild(n), n.dispatchEvent(t), c.document.body.removeChild(n);
    }(t, e);
  },
      _2 = function _() {
    return (_2 = Object.assign || function (n) {
      for (var t, e = 1, r = arguments.length; e < r; e++) {
        for (var o in t = arguments[e]) {
          Object.prototype.hasOwnProperty.call(t, o) && (n[o] = t[o]);
        }
      }

      return n;
    }).apply(this, arguments);
  },
      T = i(!1),
      O = i(!0),
      A = (e = {
    fold: function fold(n, t) {
      return n();
    },
    is: T,
    isSome: T,
    isNone: O,
    getOr: N,
    getOrThunk: P,
    getOrDie: function getOrDie(n) {
      throw new Error(n || "error: getOrDie called on none.");
    },
    getOrNull: i(null),
    getOrUndefined: i(undefined),
    or: N,
    orThunk: P,
    map: t,
    each: u,
    bind: t,
    exists: T,
    forall: O,
    filter: t,
    equals: C,
    equals_: C,
    toArray: function toArray() {
      return [];
    },
    toString: i("none()")
  }, Object.freeze && Object.freeze(e), e);

  function C(n) {
    return n.isNone();
  }

  function P(n) {
    return n();
  }

  function N(n) {
    return n;
  }

  function E(n, t) {
    return -1 < function (n, t) {
      return Q.call(n, t);
    }(n, t);
  }

  function I(n, t) {
    for (var e = 0, r = n.length; e < r; e++) {
      t(n[e], e);
    }
  }

  function S(n) {
    for (var t = [], e = 0, r = n.length; e < r; ++e) {
      if (!f(n[e])) throw new Error("Arr.flatten item " + e + " was not an array, input: " + n);
      Y.apply(t, n[e]);
    }

    return t;
  }

  function j(n, t) {
    var e = function (n, t) {
      for (var e = n.length, r = new Array(e), o = 0; o < e; o++) {
        var i = n[o];
        r[o] = t(i, o);
      }

      return r;
    }(n, t);

    return S(e);
  }

  function F(n) {
    return /^\w+:/i.test(n);
  }

  function L(n, t) {
    var e,
        r,
        o = ["noopener"],
        i = n ? n.split(/\s+/) : [],
        u = function u(n) {
      return n.filter(function (n) {
        return -1 === Z.inArray(o, n);
      });
    },
        c = t ? 0 < (e = u(e = i)).length ? e.concat(o) : o : u(i);

    return 0 < c.length ? (r = c, Z.trim(r.sort().join(" "))) : "";
  }

  function R(n, t) {
    return t = t || n.selection.getNode(), nn(t) ? n.dom.select("a[href]", t)[0] : n.dom.getParent(t, "a[href]");
  }

  function D(n) {
    return n && "A" === n.nodeName && !!n.href;
  }

  function U(n) {
    return function (n, t, e) {
      return I(n, function (n) {
        e = t(e, n);
      }), e;
    }(["title", "rel", "class", "target"], function (t, e) {
      return n[e].each(function (n) {
        t[e] = 0 < n.length ? n : null;
      }), t;
    }, {
      href: n.href
    });
  }

  function M(n, t) {
    var e = _2({}, t);

    if (!(0 < v(n).length) && !1 === x(n)) {
      var r = L(e.rel, "_blank" === e.target);
      e.rel = r || null;
    }

    return J.from(e.target).isNone() && !1 === g(n) && (e.target = p(n)), e.href = function (n, t) {
      return "http" !== t && "https" !== t || F(n) ? n : t + "://" + n;
    }(e.href, d(n)), e;
  }

  function z(n, t) {
    for (var e = 0; e < n.length; e++) {
      var r = t(n[e], e);
      if (r.isSome()) return r;
    }

    return J.none();
  }

  function q(n) {
    return a(n.value) ? n.value : "";
  }

  function K(t) {
    return void 0 === t && (t = q), function (n) {
      return J.from(n).map(function (n) {
        return function (n, r) {
          var o = [];
          return Z.each(n, function (n) {
            var t = a(n.text) ? n.text : a(n.title) ? n.title : "";
            if (n.menu !== undefined) ;else {
              var e = r(n);
              o.push({
                text: t,
                value: e
              });
            }
          }), o;
        }(n, t);
      });
    };
  }

  function B(t, n, e, r) {
    var o = r[n],
        i = 0 < t.length;
    return o !== undefined ? function (t, n) {
      return z(n, function (n) {
        return J.some(n).filter(function (n) {
          return n.value === t;
        });
      });
    }(o, e).map(function (n) {
      return {
        url: {
          value: n.value,
          meta: {
            text: i ? t : n.text,
            attach: u
          }
        },
        text: i ? t : n.text
      };
    }) : J.none();
  }

  var V,
      W,
      H,
      $,
      G = function G(e) {
    function n() {
      return o;
    }

    function t(n) {
      return n(e);
    }

    var r = i(e),
        o = {
      fold: function fold(n, t) {
        return t(e);
      },
      is: function is(n) {
        return e === n;
      },
      isSome: O,
      isNone: T,
      getOr: r,
      getOrThunk: r,
      getOrDie: r,
      getOrNull: r,
      getOrUndefined: r,
      or: n,
      orThunk: n,
      map: function map(n) {
        return G(n(e));
      },
      each: function each(n) {
        n(e);
      },
      bind: t,
      exists: t,
      forall: t,
      filter: function filter(n) {
        return n(e) ? o : A;
      },
      toArray: function toArray() {
        return [e];
      },
      toString: function toString() {
        return "some(" + e + ")";
      },
      equals: function equals(n) {
        return n.is(e);
      },
      equals_: function equals_(n, t) {
        return n.fold(T, function (n) {
          return t(e, n);
        });
      }
    };
    return o;
  },
      J = {
    some: G,
    none: t,
    from: function from(n) {
      return null === n || n === undefined ? A : G(n);
    }
  },
      X = Array.prototype.slice,
      Q = Array.prototype.indexOf,
      Y = Array.prototype.push,
      Z = (s(Array.from) && Array.from, tinymce.util.Tools.resolve("tinymce.util.Tools")),
      nn = function nn(n) {
    return n && "FIGURE" === n.nodeName && /\bimage\b/i.test(n.className);
  },
      tn = function tn(n, t) {
    var e = n.dom.select("img", t)[0];

    if (e) {
      var r = n.dom.getParents(e, "a[href]", t)[0];
      r && (r.parentNode.insertBefore(e, r), n.dom.remove(r));
    }
  },
      en = function en(n, t, e) {
    var r = n.dom.select("img", t)[0];

    if (r) {
      var o = n.dom.create("a", e);
      r.parentNode.insertBefore(o, r), o.appendChild(r);
    }
  },
      rn = function rn(n, t, e) {
    var r = n.selection.getNode(),
        o = R(n, r),
        i = M(n, U(e));
    n.undoManager.transact(function () {
      e.href === t.href && t.attach(), o ? (n.focus(), function (n, t, e, r) {
        e.each(function (n) {
          t.hasOwnProperty("innerText") ? t.innerText = n : t.textContent = n;
        }), n.dom.setAttribs(t, r), n.selection.select(t);
      }(n, o, e.text, i)) : function (t, n, e, r) {
        nn(n) ? en(t, n, r) : e.fold(function () {
          t.execCommand("mceInsertLink", !1, r);
        }, function (n) {
          t.insertContent(t.dom.createHTML("a", r, t.dom.encode(n)));
        });
      }(n, r, e.text, i);
    });
  },
      on = function on(e) {
    e.undoManager.transact(function () {
      var n = e.selection.getNode();
      if (nn(n)) tn(e, n);else {
        var t = e.dom.getParent(n, "a[href]", e.getBody());
        t && e.dom.remove(t, !0);
      }
      e.focus();
    });
  },
      un = function un(n) {
    return 0 < Z.grep(n, D).length;
  },
      cn = function cn(n) {
    var t = n.getAttribute("data-mce-href");
    return t || n.getAttribute("href");
  },
      an = function an(n) {
    return !(/</.test(n) && (!/^<a [^>]+>[^<]+<\/a>$/.test(n) || -1 === n.indexOf("href=")));
  },
      fn = R,
      ln = function ln(n, t) {
    return function (n) {
      return n.replace(/\uFEFF/g, "");
    }(t ? t.innerText || t.textContent : n.getContent({
      format: "text"
    }));
  },
      sn = L,
      dn = F,
      mn = {
    sanitize: function sanitize(n) {
      return K(q)(n);
    },
    sanitizeWith: K,
    createUi: function createUi(t, e) {
      return function (n) {
        return {
          name: t,
          type: "selectbox",
          label: e,
          items: n
        };
      };
    },
    getValue: q
  },
      hn = function hn(n) {
    function t() {
      return e;
    }

    var e = n;
    return {
      get: t,
      set: function set(n) {
        e = n;
      },
      clone: function clone() {
        return hn(t());
      }
    };
  },
      pn = function pn(n, r) {
    function e(n, t) {
      var e = function (n, t) {
        return "link" === t ? n.catalogs.link : "anchor" === t ? n.catalogs.anchor : J.none();
      }(r, t.name).getOr([]);

      return B(o.get(), t.name, e, n);
    }

    var o = hn(n.text);
    return {
      onChange: function onChange(n, t) {
        return "url" === t.name ? function (n) {
          if (o.get().length <= 0) {
            var t = n.url.meta.text !== undefined ? n.url.meta.text : n.url.value;
            return J.some({
              text: t
            });
          }

          return J.none();
        }(n()) : E(["anchor", "link"], t.name) ? e(n(), t) : ("text" === t.name && o.set(n().text), J.none());
      }
    };
  },
      gn = {},
      vn = {
    exports: gn
  };

  V = undefined, W = gn, H = vn, $ = undefined, function (n) {
    "object" == _typeof(W) && void 0 !== H ? H.exports = n() : "function" == typeof V && V.amd ? V([], n) : ("undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this).EphoxContactWrapper = n();
  }(function () {
    return function l(i, u, c) {
      function a(t, n) {
        if (!u[t]) {
          if (!i[t]) {
            var e = "function" == typeof $ && $;
            if (!n && e) return e(t, !0);
            if (f) return f(t, !0);
            var r = new Error("Cannot find module '" + t + "'");
            throw r.code = "MODULE_NOT_FOUND", r;
          }

          var o = u[t] = {
            exports: {}
          };
          i[t][0].call(o.exports, function (n) {
            return a(i[t][1][n] || n);
          }, o, o.exports, l, i, u, c);
        }

        return u[t].exports;
      }

      for (var f = "function" == typeof $ && $, n = 0; n < c.length; n++) {
        a(c[n]);
      }

      return a;
    }({
      1: [function (n, t, e) {
        var r,
            o,
            i = t.exports = {};

        function u() {
          throw new Error("setTimeout has not been defined");
        }

        function c() {
          throw new Error("clearTimeout has not been defined");
        }

        function a(n) {
          if (r === setTimeout) return setTimeout(n, 0);
          if ((r === u || !r) && setTimeout) return r = setTimeout, setTimeout(n, 0);

          try {
            return r(n, 0);
          } catch (t) {
            try {
              return r.call(null, n, 0);
            } catch (t) {
              return r.call(this, n, 0);
            }
          }
        }

        !function () {
          try {
            r = "function" == typeof setTimeout ? setTimeout : u;
          } catch (n) {
            r = u;
          }

          try {
            o = "function" == typeof clearTimeout ? clearTimeout : c;
          } catch (n) {
            o = c;
          }
        }();
        var f,
            l = [],
            s = !1,
            d = -1;

        function m() {
          s && f && (s = !1, f.length ? l = f.concat(l) : d = -1, l.length && h());
        }

        function h() {
          if (!s) {
            var n = a(m);
            s = !0;

            for (var t = l.length; t;) {
              for (f = l, l = []; ++d < t;) {
                f && f[d].run();
              }

              d = -1, t = l.length;
            }

            f = null, s = !1, function e(n) {
              if (o === clearTimeout) return clearTimeout(n);
              if ((o === c || !o) && clearTimeout) return o = clearTimeout, clearTimeout(n);

              try {
                return o(n);
              } catch (t) {
                try {
                  return o.call(null, n);
                } catch (t) {
                  return o.call(this, n);
                }
              }
            }(n);
          }
        }

        function p(n, t) {
          this.fun = n, this.array = t;
        }

        function g() {}

        i.nextTick = function (n) {
          var t = new Array(arguments.length - 1);
          if (1 < arguments.length) for (var e = 1; e < arguments.length; e++) {
            t[e - 1] = arguments[e];
          }
          l.push(new p(n, t)), 1 !== l.length || s || a(h);
        }, p.prototype.run = function () {
          this.fun.apply(null, this.array);
        }, i.title = "browser", i.browser = !0, i.env = {}, i.argv = [], i.version = "", i.versions = {}, i.on = g, i.addListener = g, i.once = g, i.off = g, i.removeListener = g, i.removeAllListeners = g, i.emit = g, i.prependListener = g, i.prependOnceListener = g, i.listeners = function (n) {
          return [];
        }, i.binding = function (n) {
          throw new Error("process.binding is not supported");
        }, i.cwd = function () {
          return "/";
        }, i.chdir = function (n) {
          throw new Error("process.chdir is not supported");
        }, i.umask = function () {
          return 0;
        };
      }, {}],
      2: [function (n, s, t) {
        (function (t) {
          function r() {}

          function i(n) {
            if ("object" != _typeof(this)) throw new TypeError("Promises must be constructed via new");
            if ("function" != typeof n) throw new TypeError("not a function");
            this._state = 0, this._handled = !1, this._value = undefined, this._deferreds = [], l(n, this);
          }

          function o(r, o) {
            for (; 3 === r._state;) {
              r = r._value;
            }

            0 !== r._state ? (r._handled = !0, i._immediateFn(function () {
              var n = 1 === r._state ? o.onFulfilled : o.onRejected;

              if (null !== n) {
                var t;

                try {
                  t = n(r._value);
                } catch (e) {
                  return void c(o.promise, e);
                }

                u(o.promise, t);
              } else (1 === r._state ? u : c)(o.promise, r._value);
            })) : r._deferreds.push(o);
          }

          function u(n, t) {
            try {
              if (t === n) throw new TypeError("A promise cannot be resolved with itself.");

              if (t && ("object" == _typeof(t) || "function" == typeof t)) {
                var e = t.then;
                if (t instanceof i) return n._state = 3, n._value = t, void a(n);
                if ("function" == typeof e) return void l(function r(n, t) {
                  return function () {
                    n.apply(t, arguments);
                  };
                }(e, t), n);
              }

              n._state = 1, n._value = t, a(n);
            } catch (o) {
              c(n, o);
            }
          }

          function c(n, t) {
            n._state = 2, n._value = t, a(n);
          }

          function a(n) {
            2 === n._state && 0 === n._deferreds.length && i._immediateFn(function () {
              n._handled || i._unhandledRejectionFn(n._value);
            });

            for (var t = 0, e = n._deferreds.length; t < e; t++) {
              o(n, n._deferreds[t]);
            }

            n._deferreds = null;
          }

          function f(n, t, e) {
            this.onFulfilled = "function" == typeof n ? n : null, this.onRejected = "function" == typeof t ? t : null, this.promise = e;
          }

          function l(n, t) {
            var e = !1;

            try {
              n(function (n) {
                e || (e = !0, u(t, n));
              }, function (n) {
                e || (e = !0, c(t, n));
              });
            } catch (r) {
              if (e) return;
              e = !0, c(t, r);
            }
          }

          var n, e;
          n = this, e = setTimeout, i.prototype["catch"] = function (n) {
            return this.then(null, n);
          }, i.prototype.then = function (n, t) {
            var e = new this.constructor(r);
            return o(this, new f(n, t, e)), e;
          }, i.all = function (n) {
            var a = Array.prototype.slice.call(n);
            return new i(function (o, i) {
              if (0 === a.length) return o([]);
              var u = a.length;

              function c(t, n) {
                try {
                  if (n && ("object" == _typeof(n) || "function" == typeof n)) {
                    var e = n.then;
                    if ("function" == typeof e) return void e.call(n, function (n) {
                      c(t, n);
                    }, i);
                  }

                  a[t] = n, 0 == --u && o(a);
                } catch (r) {
                  i(r);
                }
              }

              for (var n = 0; n < a.length; n++) {
                c(n, a[n]);
              }
            });
          }, i.resolve = function (t) {
            return t && "object" == _typeof(t) && t.constructor === i ? t : new i(function (n) {
              n(t);
            });
          }, i.reject = function (e) {
            return new i(function (n, t) {
              t(e);
            });
          }, i.race = function (o) {
            return new i(function (n, t) {
              for (var e = 0, r = o.length; e < r; e++) {
                o[e].then(n, t);
              }
            });
          }, i._immediateFn = "function" == typeof t ? function (n) {
            t(n);
          } : function (n) {
            e(n, 0);
          }, i._unhandledRejectionFn = function (n) {
            "undefined" != typeof console && console && console.warn("Possible Unhandled Promise Rejection:", n);
          }, i._setImmediateFn = function (n) {
            i._immediateFn = n;
          }, i._setUnhandledRejectionFn = function (n) {
            i._unhandledRejectionFn = n;
          }, void 0 !== s && s.exports ? s.exports = i : n.Promise || (n.Promise = i);
        }).call(this, n("timers").setImmediate);
      }, {
        timers: 3
      }],
      3: [function (a, n, f) {
        (function (n, t) {
          var r = a("process/browser.js").nextTick,
              e = Function.prototype.apply,
              o = Array.prototype.slice,
              i = {},
              u = 0;

          function c(n, t) {
            this._id = n, this._clearFn = t;
          }

          f.setTimeout = function () {
            return new c(e.call(setTimeout, window, arguments), clearTimeout);
          }, f.setInterval = function () {
            return new c(e.call(setInterval, window, arguments), clearInterval);
          }, f.clearTimeout = f.clearInterval = function (n) {
            n.close();
          }, c.prototype.unref = c.prototype.ref = function () {}, c.prototype.close = function () {
            this._clearFn.call(window, this._id);
          }, f.enroll = function (n, t) {
            clearTimeout(n._idleTimeoutId), n._idleTimeout = t;
          }, f.unenroll = function (n) {
            clearTimeout(n._idleTimeoutId), n._idleTimeout = -1;
          }, f._unrefActive = f.active = function (n) {
            clearTimeout(n._idleTimeoutId);
            var t = n._idleTimeout;
            0 <= t && (n._idleTimeoutId = setTimeout(function () {
              n._onTimeout && n._onTimeout();
            }, t));
          }, f.setImmediate = "function" == typeof n ? n : function (n) {
            var t = u++,
                e = !(arguments.length < 2) && o.call(arguments, 1);
            return i[t] = !0, r(function () {
              i[t] && (e ? n.apply(null, e) : n.call(null), f.clearImmediate(t));
            }), t;
          }, f.clearImmediate = "function" == typeof t ? t : function (n) {
            delete i[n];
          };
        }).call(this, a("timers").setImmediate, a("timers").clearImmediate);
      }, {
        "process/browser.js": 1,
        timers: 3
      }],
      4: [function (n, t, e) {
        var r = n("promise-polyfill"),
            o = "undefined" != typeof window ? window : Function("return this;")();
        t.exports = {
          boltExport: o.Promise || r
        };
      }, {
        "promise-polyfill": 2
      }]
    }, {}, [4])(4);
  });

  function yn(n) {
    c.setTimeout(function () {
      throw n;
    }, 0);
  }

  function wn(n) {
    var t = n.href;
    return 0 < t.indexOf("@") && -1 === t.indexOf("//") && -1 === t.indexOf("mailto:") ? J.some({
      message: "The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",
      preprocess: function preprocess(n) {
        return _2(_2({}, n), {
          href: "mailto:" + t
        });
      }
    }) : J.none();
  }

  function xn(n, t, e) {
    var r = n.getAttrib(t, e);
    return null !== r && 0 < r.length ? J.some(r) : J.none();
  }

  function kn(n, t) {
    return n.dom.getParent(t, "a[href]");
  }

  function bn(n) {
    return kn(n, n.selection.getStart());
  }

  function _n(n, t) {
    if (t) {
      var e = cn(t);

      if (/^#/.test(e)) {
        var r = n.$(e);
        r.length && n.selection.scrollIntoView(r[0], !0);
      } else b(t.href);
    }
  }

  var Tn = vn.exports.boltExport,
      On = function On(n) {
    var e = J.none(),
        t = [],
        r = function r(n) {
      o() ? u(n) : t.push(n);
    },
        o = function o() {
      return e.isSome();
    },
        i = function i(n) {
      I(n, u);
    },
        u = function u(t) {
      e.each(function (n) {
        c.setTimeout(function () {
          t(n);
        }, 0);
      });
    };

    return n(function (n) {
      e = J.some(n), i(t), t = [];
    }), {
      get: r,
      map: function map(e) {
        return On(function (t) {
          r(function (n) {
            t(e(n));
          });
        });
      },
      isReady: o
    };
  },
      An = {
    nu: On,
    pure: function pure(t) {
      return On(function (n) {
        n(t);
      });
    }
  },
      Cn = function Cn(e) {
    function n(n) {
      e().then(n, yn);
    }

    return {
      map: function map(n) {
        return Cn(function () {
          return e().then(n);
        });
      },
      bind: function bind(t) {
        return Cn(function () {
          return e().then(function (n) {
            return t(n).toPromise();
          });
        });
      },
      anonBind: function anonBind(n) {
        return Cn(function () {
          return e().then(function () {
            return n.toPromise();
          });
        });
      },
      toLazy: function toLazy() {
        return An.nu(n);
      },
      toCached: function toCached() {
        var n = null;
        return Cn(function () {
          return null === n && (n = e()), n;
        });
      },
      toPromise: e,
      get: n
    };
  },
      Pn = function Pn(n) {
    return Cn(function () {
      return new Tn(n);
    });
  },
      Nn = function Nn(n) {
    return Cn(function () {
      return Tn.resolve(n);
    });
  },
      En = tinymce.util.Tools.resolve("tinymce.util.Delay"),
      In = function In(n, t, r) {
    return z([wn, function (e) {
      return function (n) {
        var t = n.href;
        return 1 === e && !dn(t) || 0 === e && /^\s*www[\.|\d\.]/i.test(t) ? J.some({
          message: "The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",
          preprocess: function preprocess(n) {
            return _2(_2({}, n), {
              href: "http://" + t
            });
          }
        }) : J.none();
      };
    }(t)], function (n) {
      return n(r);
    }).fold(function () {
      return Nn(r);
    }, function (e) {
      return Pn(function (t) {
        !function (t, n, e) {
          var r = t.selection.getRng();
          En.setEditorTimeout(t, function () {
            t.windowManager.confirm(n, function (n) {
              t.selection.setRng(r), e(n);
            });
          });
        }(n, e.message, function (n) {
          t(n ? e.preprocess(r) : r);
        });
      });
    });
  },
      Sn = function Sn(n) {
    var t = n.dom.select("a:not([href])"),
        e = j(t, function (n) {
      var t = n.name || n.id;
      return t ? [{
        text: t,
        value: "#" + t
      }] : [];
    });
    return 0 < e.length ? J.some([{
      text: "None",
      value: ""
    }].concat(e)) : J.none();
  },
      jn = function jn(n) {
    var t = y(n);
    return 0 < t.length ? mn.sanitize(t) : J.none();
  },
      Fn = tinymce.util.Tools.resolve("tinymce.util.XHR"),
      Ln = function Ln(t) {
    function e(n) {
      return t.convertURL(n.value || n.url, "href");
    }

    var n = h(t);
    return Pn(function (t) {
      a(n) ? Fn.send({
        url: n,
        success: function success(n) {
          return t(function (n) {
            try {
              return J.some(JSON.parse(n));
            } catch (t) {
              return J.none();
            }
          }(n));
        },
        error: function error(n) {
          return t(J.none());
        }
      }) : s(n) ? n(function (n) {
        return t(J.some(n));
      }) : t(J.from(n));
    }).map(function (n) {
      return n.bind(mn.sanitizeWith(e)).map(function (n) {
        return 0 < n.length ? [{
          text: "None",
          value: ""
        }].concat(n) : n;
      });
    });
  },
      Rn = function Rn(n, t) {
    var e = v(n);

    if (0 < e.length) {
      var r = t.is("_blank");
      return (!1 === x(n) ? mn.sanitizeWith(function (n) {
        return sn(mn.getValue(n), r);
      }) : mn.sanitize)(e);
    }

    return J.none();
  },
      Dn = [{
    text: "Current window",
    value: ""
  }, {
    text: "New window",
    value: "_blank"
  }],
      Un = function Un(n) {
    var t = g(n);
    return f(t) ? mn.sanitize(t).orThunk(function () {
      return J.some(Dn);
    }) : !1 === t ? J.none() : J.some(Dn);
  },
      Mn = function Mn(e, r) {
    return Ln(e).map(function (n) {
      var t = function (n, t) {
        var e = n.dom,
            r = an(n.selection.getContent()) ? J.some(ln(n.selection, t)) : J.none(),
            o = t ? J.some(e.getAttrib(t, "href")) : J.none(),
            i = t ? J.from(e.getAttrib(t, "target")) : J.none(),
            u = xn(e, t, "rel"),
            c = xn(e, t, "class");
        return {
          url: o,
          text: r,
          title: xn(e, t, "title"),
          target: i,
          rel: u,
          linkClass: c
        };
      }(e, r);

      return {
        anchor: t,
        catalogs: {
          targets: Un(e),
          rels: Rn(e, t.target),
          classes: jn(e),
          anchor: Sn(e),
          link: n
        },
        optNode: J.from(r),
        flags: {
          titleEnabled: w(e)
        }
      };
    });
  },
      zn = function zn(t) {
    (function (n) {
      var t = fn(n);
      return Mn(n, t);
    })(t).map(function (n) {
      return function (n, t, e) {
        var r = n.anchor.text.map(function () {
          return {
            name: "text",
            type: "input",
            label: "Text to display"
          };
        }).toArray(),
            o = n.flags.titleEnabled ? [{
          name: "title",
          type: "input",
          label: "Title"
        }] : [],
            i = function (n, t) {
          return {
            url: {
              value: n.anchor.url.getOr(""),
              meta: {
                attach: function attach() {},
                text: n.anchor.url.fold(function () {
                  return "";
                }, function () {
                  return n.anchor.text.getOr("");
                }),
                original: {
                  value: n.anchor.url.getOr("")
                }
              }
            },
            text: n.anchor.text.getOr(""),
            title: n.anchor.title.getOr(""),
            anchor: n.anchor.url.getOr(""),
            link: n.anchor.url.getOr(""),
            rel: n.anchor.rel.getOr(""),
            target: n.anchor.target.or(t).getOr(""),
            linkClass: n.anchor.linkClass.getOr("")
          };
        }(n, J.from(p(e))),
            u = pn(i, n),
            c = n.catalogs;

        return {
          title: "Insert/Edit Link",
          size: "normal",
          body: {
            type: "panel",
            items: S([[{
              name: "url",
              type: "urlinput",
              filetype: "file",
              label: "URL"
            }], r, o, function (n) {
              for (var t = [], e = function e(n) {
                t.push(n);
              }, r = 0; r < n.length; r++) {
                n[r].each(e);
              }

              return t;
            }([c.anchor.map(mn.createUi("anchor", "Anchors")), c.rels.map(mn.createUi("rel", "Rel")), c.targets.map(mn.createUi("target", "Open link in...")), c.link.map(mn.createUi("link", "Link list")), c.classes.map(mn.createUi("linkClass", "Class"))])])
          },
          buttons: [{
            type: "cancel",
            name: "cancel",
            text: "Cancel"
          }, {
            type: "submit",
            name: "save",
            text: "Save",
            primary: !0
          }],
          initialData: i,
          onChange: function onChange(t, n) {
            var e = n.name;
            u.onChange(t.getData, {
              name: e
            }).each(function (n) {
              t.setData(n);
            });
          },
          onSubmit: t
        };
      }(n, function (i, u, c) {
        return function (n) {
          var e = n.getData();
          if (!e.url.value) return on(i), void n.close();

          function t(t) {
            return J.from(e[t]).filter(function (n) {
              return !u.anchor[t].is(n);
            });
          }

          var r = {
            href: e.url.value,
            text: t("text"),
            target: t("target"),
            rel: t("rel"),
            "class": t("linkClass"),
            title: t("title")
          },
              o = {
            href: e.url.value,
            attach: e.url.meta !== undefined && e.url.meta.attach ? e.url.meta.attach : function () {}
          };
          In(i, c, r).get(function (n) {
            rn(i, o, n);
          }), n.close();
        };
      }(t, n, d(t)), t);
    }).get(function (n) {
      t.windowManager.open(n);
    });
  },
      qn = function qn(n) {
    return function () {
      zn(n);
    };
  },
      Kn = function Kn(n) {
    return function () {
      _n(n, bn(n));
    };
  },
      Bn = function Bn(e) {
    e.on("click", function (n) {
      var t = kn(e, n.target);
      t && o.metaKeyPressed(n) && (n.preventDefault(), _n(e, t));
    }), e.on("keydown", function (n) {
      var t = bn(e);
      t && 13 === n.keyCode && function (n) {
        return !0 === n.altKey && !1 === n.shiftKey && !1 === n.ctrlKey && !1 === n.metaKey;
      }(n) && (n.preventDefault(), _n(e, t));
    });
  },
      Vn = function Vn(e) {
    return function (t) {
      function n(n) {
        return t.setActive(!e.readonly && !!fn(e, n.element));
      }

      return e.on("NodeChange", n), function () {
        return e.off("NodeChange", n);
      };
    };
  },
      Wn = function Wn(e) {
    return function (t) {
      t.setDisabled(!un(e.dom.getParents(e.selection.getStart())));

      function n(n) {
        return t.setDisabled(!un(n.parents));
      }

      return e.on("NodeChange", n), function () {
        return e.off("NodeChange", n);
      };
    };
  },
      Hn = function Hn(n) {
    n.addCommand("mceLink", function () {
      k(n) ? n.fire("contexttoolbar-show", {
        toolbarKey: "quicklink"
      }) : qn(n)();
    });
  },
      $n = function $n(n) {
    n.addShortcut("Meta+K", "", function () {
      n.execCommand("mceLink");
    });
  },
      Gn = function Gn(n) {
    n.ui.registry.addToggleButton("link", {
      icon: "link",
      tooltip: "Insert/edit link",
      onAction: qn(n),
      onSetup: Vn(n)
    }), n.ui.registry.addButton("openlink", {
      icon: "new-tab",
      tooltip: "Open link",
      onAction: Kn(n),
      onSetup: Wn(n)
    }), n.ui.registry.addButton("unlink", {
      icon: "unlink",
      tooltip: "Remove link",
      onAction: function onAction() {
        return on(n);
      },
      onSetup: Wn(n)
    });
  },
      Jn = function Jn(n) {
    n.ui.registry.addMenuItem("openlink", {
      text: "Open link",
      icon: "new-tab",
      onAction: Kn(n),
      onSetup: Wn(n)
    }), n.ui.registry.addMenuItem("link", {
      icon: "link",
      text: "Link...",
      shortcut: "Meta+K",
      onAction: qn(n)
    }), n.ui.registry.addMenuItem("unlink", {
      icon: "unlink",
      text: "Remove link",
      onAction: function onAction() {
        return on(n);
      },
      onSetup: Wn(n)
    });
  },
      Xn = function Xn(t) {
    t.ui.registry.addContextMenu("link", {
      update: function update(n) {
        return un(t.dom.getParents(n, "a")) ? "link unlink openlink" : "link";
      }
    });
  },
      Qn = function Qn(i) {
    function n(n) {
      var t = i.selection.getNode();
      return n.setDisabled(!fn(i, t)), function () {};
    }

    i.ui.registry.addContextForm("quicklink", {
      launch: {
        type: "contextformtogglebutton",
        icon: "link",
        tooltip: "Link",
        onSetup: Vn(i)
      },
      label: "Link",
      predicate: function predicate(n) {
        return !!fn(i, n) && m(i);
      },
      initValue: function initValue() {
        var n = fn(i);
        return n ? cn(n) : "";
      },
      commands: [{
        type: "contextformtogglebutton",
        icon: "link",
        tooltip: "Link",
        primary: !0,
        onSetup: function onSetup(n) {
          var t = i.selection.getNode();
          return n.setActive(!!fn(i, t)), Vn(i)(n);
        },
        onAction: function onAction(n) {
          var t = fn(i),
              e = n.getValue();
          if (t) i.dom.setAttrib(t, "href", e), function (n) {
            n.selection.collapse(!1);
          }(i), n.hide();else {
            var r = {
              href: e,
              attach: function attach() {}
            },
                o = an(i.selection.getContent()) ? J.some(ln(i.selection, t)).filter(function (n) {
              return 0 < n.length;
            }).or(J.from(e)) : J.none();
            rn(i, r, {
              href: e,
              text: o,
              title: J.none(),
              rel: J.none(),
              target: J.none(),
              "class": J.none()
            }), n.hide();
          }
        }
      }, {
        type: "contextformbutton",
        icon: "unlink",
        tooltip: "Remove link",
        onSetup: n,
        onAction: function onAction(n) {
          on(i), n.hide();
        }
      }, {
        type: "contextformbutton",
        icon: "new-tab",
        tooltip: "Open link",
        onSetup: n,
        onAction: function onAction(n) {
          Kn(i)(), n.hide();
        }
      }]
    });
  };

  !function Yn() {
    r.add("link", function (n) {
      Gn(n), Jn(n), Xn(n), Qn(n), Bn(n), Hn(n), $n(n);
    });
  }();
}(window);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../../../node_modules/webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./resources/js/modules/tinymce/plugins/lists/plugin.min.js":
/*!******************************************************************!*\
  !*** ./resources/js/modules/tinymce/plugins/lists/plugin.min.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/**
 * Copyright (c) Tiny Technologies, Inc. All rights reserved.
 * Licensed under the LGPL or a commercial license.
 * For LGPL see License.txt in the project root for license information.
 * For commercial licenses see https://www.tiny.cloud/
 *
 * Version: 5.1.5 (2019-12-19)
 */
!function (r) {
  "use strict";

  function e() {}

  function l(e) {
    return function () {
      return e;
    };
  }

  function t(t) {
    return function () {
      for (var e = [], n = 0; n < arguments.length; n++) {
        e[n] = arguments[n];
      }

      return !t.apply(null, e);
    };
  }

  function n() {
    return a;
  }

  var o,
      i = tinymce.util.Tools.resolve("tinymce.PluginManager"),
      u = l(!1),
      s = l(!0),
      a = (o = {
    fold: function fold(e, n) {
      return e();
    },
    is: u,
    isSome: u,
    isNone: s,
    getOr: d,
    getOrThunk: f,
    getOrDie: function getOrDie(e) {
      throw new Error(e || "error: getOrDie called on none.");
    },
    getOrNull: l(null),
    getOrUndefined: l(undefined),
    or: d,
    orThunk: f,
    map: n,
    each: e,
    bind: n,
    exists: u,
    forall: s,
    filter: n,
    equals: c,
    equals_: c,
    toArray: function toArray() {
      return [];
    },
    toString: l("none()")
  }, Object.freeze && Object.freeze(o), o);

  function c(e) {
    return e.isNone();
  }

  function f(e) {
    return e();
  }

  function d(e) {
    return e;
  }

  function m(n) {
    return function (e) {
      return function (e) {
        if (null === e) return "null";

        var n = _typeof(e);

        return "object" == n && (Array.prototype.isPrototypeOf(e) || e.constructor && "Array" === e.constructor.name) ? "array" : "object" == n && (String.prototype.isPrototypeOf(e) || e.constructor && "String" === e.constructor.name) ? "string" : n;
      }(e) === n;
    };
  }

  function g(e, n) {
    for (var t = e.length, r = new Array(t), o = 0; o < t; o++) {
      var i = e[o];
      r[o] = n(i, o);
    }

    return r;
  }

  function p(e, n) {
    for (var t = 0, r = e.length; t < r; t++) {
      n(e[t], t);
    }
  }

  function v(e, n) {
    for (var t = [], r = 0, o = e.length; r < o; r++) {
      var i = e[r];
      n(i, r) && t.push(i);
    }

    return t;
  }

  function h(e, n, t) {
    return p(e, function (e) {
      t = n(t, e);
    }), t;
  }

  function N(e, n) {
    for (var t = 0, r = e.length; t < r; t++) {
      var o = e[t];
      if (n(o, t)) return $e.some(o);
    }

    return $e.none();
  }

  function y(e, n) {
    return function (e) {
      for (var n = [], t = 0, r = e.length; t < r; ++t) {
        if (!We(e[t])) throw new Error("Arr.flatten item " + t + " was not an array, input: " + e);
        Qe.apply(n, e[t]);
      }

      return n;
    }(g(e, n));
  }

  function S(e) {
    return 0 === e.length ? $e.none() : $e.some(e[0]);
  }

  function O(e) {
    return 0 === e.length ? $e.none() : $e.some(e[e.length - 1]);
  }

  function C(e, n, t) {
    return 0 != (e.compareDocumentPosition(n) & t);
  }

  function b(e, n) {
    var t = function (e, n) {
      for (var t = 0; t < e.length; t++) {
        var r = e[t];
        if (r.test(n)) return r;
      }

      return undefined;
    }(e, n);

    if (!t) return {
      major: 0,
      minor: 0
    };

    function r(e) {
      return Number(n.replace(t, "$" + e));
    }

    return Ze(r(1), r(2));
  }

  function L(e, n) {
    return function () {
      return n === e;
    };
  }

  function T(e, n) {
    return function () {
      return n === e;
    };
  }

  function D(e, n) {
    var t = String(n).toLowerCase();
    return N(e, function (e) {
      return e.search(t);
    });
  }

  function E(e, n) {
    return -1 !== e.indexOf(n);
  }

  function w(n) {
    return function (e) {
      return E(e, n);
    };
  }

  function k(e, n) {
    return e.dom() === n.dom();
  }

  function A(e, n, t) {
    return e.isSome() && n.isSome() ? $e.some(t(e.getOrDie(), n.getOrDie())) : $e.none();
  }

  function x(e) {
    return $e.from(e.dom().parentNode).map(bn.fromDom);
  }

  function R(e) {
    return g(e.dom().childNodes, bn.fromDom);
  }

  function I(e, n) {
    var t = e.dom().childNodes;
    return $e.from(t[n]).map(bn.fromDom);
  }

  function _(e) {
    return I(e, 0);
  }

  function B(e) {
    return I(e, e.dom().childNodes.length - 1);
  }

  function P(n, t) {
    x(n).each(function (e) {
      e.dom().insertBefore(t.dom(), n.dom());
    });
  }

  function M(e, n) {
    e.dom().appendChild(n.dom());
  }

  function U(n, e) {
    p(e, function (e) {
      M(n, e);
    });
  }

  function F(e) {
    var n = e.dom();
    null !== n.parentNode && n.parentNode.removeChild(n);
  }

  function j(e, n, t) {
    return e.fire("ListMutation", {
      action: n,
      element: t
    });
  }

  function H(e, n) {
    return function (e, n) {
      for (var t = n !== undefined && null !== n ? n : Rn, r = 0; r < e.length && t !== undefined && null !== t; ++r) {
        t = t[e[r]];
      }

      return t;
    }(e.split("."), n);
  }

  function $(e) {
    return e && "BR" === e.nodeName;
  }

  function q(e) {
    var n = e.selection.getStart(!0);
    return e.dom.getParent(n, "OL,UL,DL", Yn(e, n));
  }

  function W(e) {
    var n = e.selection.getSelectedBlocks();
    return Pn.grep(function (t, e) {
      var n = Pn.map(e, function (e) {
        var n = t.dom.getParent(e, "li,dd,dt", Yn(t, e));
        return n || e;
      });
      return Bn.unique(n);
    }(e, n), function (e) {
      return Hn(e);
    });
  }

  function V(e, n) {
    var t = e.dom.getParents(n, "ol,ul", Yn(e, n));
    return O(t);
  }

  function z(e, n) {
    var t,
        r,
        o,
        i,
        u = e.dom,
        s = e.schema.getBlockElements(),
        a = u.createFragment();
    if (e.settings.forced_root_block && (o = e.settings.forced_root_block), o && ((r = u.create(o)).tagName === e.settings.forced_root_block && u.setAttribs(r, e.settings.forced_root_block_attrs), zn(n.firstChild, s) || a.appendChild(r)), n) for (; t = n.firstChild;) {
      var c = t.nodeName;
      i || "SPAN" === c && "bookmark" === t.getAttribute("data-mce-type") || (i = !0), zn(t, s) ? (a.appendChild(t), r = null) : o ? (r || (r = u.create(o), a.appendChild(r)), r.appendChild(t)) : a.appendChild(t);
    }
    return e.settings.forced_root_block ? i || r.appendChild(u.create("br", {
      "data-mce-bogus": "1"
    })) : a.appendChild(u.create("br")), a;
  }

  function K(e) {
    return e.dom().nodeName.toLowerCase();
  }

  function X(e, n) {
    var t = e.dom();
    !function (e, n) {
      for (var t = xn(e), r = 0, o = t.length; r < o; r++) {
        var i = t[r];
        n(e[i], i);
      }
    }(n, function (e, n) {
      !function (e, n, t) {
        if (!(qe(t) || Ve(t) || Ke(t))) throw r.console.error("Invalid call to Attr.set. Key ", n, ":: Value ", t, ":: Element ", e), new Error("Attribute value was not simple");
        e.setAttribute(n, t + "");
      }(t, n, e);
    });
  }

  function Q(e) {
    return h(e.dom().attributes, function (e, n) {
      return e[n.name] = n.value, e;
    }, {});
  }

  function Y(e, n, t) {
    if (!qe(t)) throw r.console.error("Invalid call to CSS.set. Property ", n, ":: Value ", t, ":: Element ", e), new Error("CSS value must be a string: " + t);
    !function (e) {
      return e.style !== undefined && ze(e.style.getPropertyValue);
    }(e) || e.style.setProperty(n, t);
  }

  function G(e) {
    return function (e, n) {
      return bn.fromDom(e.dom().cloneNode(n));
    }(e, !0);
  }

  function J(e, n) {
    var t = function (e, n) {
      var t = bn.fromTag(n),
          r = Q(e);
      return X(t, r), t;
    }(e, n);

    P(e, t);
    var r = R(e);
    return U(t, r), F(e), t;
  }

  function Z(e, n) {
    M(e.item, n.list);
  }

  function ee(n, e, t) {
    var r = e.slice(0, t.depth);
    return O(r).each(function (e) {
      !function (e, n) {
        M(e.list, n), e.item = n;
      }(e, function (e, n, t) {
        var r = bn.fromTag("li", e);
        return X(r, n), U(r, t), r;
      }(n, t.itemAttributes, t.content)), function (e, n) {
        K(e.list) !== n.listType && (e.list = J(e.list, n.listType)), X(e.list, n.listAttributes);
      }(e, t);
    }), r;
  }

  function ne(e, n, t) {
    var r = function (e, n, t) {
      for (var r, o, i, u = [], s = 0; s < t; s++) {
        u.push((r = e, o = n.listType, void 0, i = {
          list: bn.fromTag(o, r),
          item: bn.fromTag("li", r)
        }, M(i.list, i.item), i));
      }

      return u;
    }(e, t, t.depth - n.length);

    return function (e) {
      for (var n = 1; n < e.length; n++) {
        Z(e[n - 1], e[n]);
      }
    }(r), function (e, n) {
      for (var t = 0; t < e.length - 1; t++) {
        r = e[t].item, o = "list-style-type", i = "none", void 0, u = r.dom(), Y(u, o, i);
      }

      var r, o, i, u;
      O(e).each(function (e) {
        X(e.list, n.listAttributes), X(e.item, n.itemAttributes), U(e.item, n.content);
      });
    }(r, t), function (e, n) {
      A(O(e), S(n), Z);
    }(n, r), n.concat(r);
  }

  function te(e) {
    return En(e, "OL,UL");
  }

  function re(e) {
    return _(e).map(te).getOr(!1);
  }

  function oe(e) {
    return 0 < e.depth;
  }

  function ie(e) {
    return e.isSelected;
  }

  function ue(e) {
    var n = R(e),
        t = function (e) {
      return B(e).map(te).getOr(!1);
    }(e) ? n.slice(0, -1) : n;
    return g(t, G);
  }

  function se(t) {
    p(t, function (n, e) {
      (function (e, n) {
        for (var t = e[n].depth, r = n - 1; 0 <= r; r--) {
          if (e[r].depth === t) return $e.some(e[r]);
          if (e[r].depth < t) break;
        }

        return $e.none();
      })(t, e).each(function (e) {
        !function (e, n) {
          e.listType = n.listType, e.listAttributes = nt({}, n.listAttributes);
        }(n, e);
      });
    });
  }

  function ae(t, r, o, i) {
    return _(i).filter(te).fold(function () {
      r.each(function (e) {
        k(e.start, i) && o.set(!0);
      });

      var e = function (n, t, r) {
        return x(n).filter(Zn).map(function (e) {
          return {
            depth: t,
            isSelected: r,
            content: ue(n),
            itemAttributes: Q(n),
            listAttributes: Q(e),
            listType: K(e)
          };
        });
      }(i, t, o.get());

      r.each(function (e) {
        k(e.end, i) && o.set(!1);
      });
      var n = B(i).filter(te).map(function (e) {
        return tt(t, r, o, e);
      }).getOr([]);
      return e.toArray().concat(n);
    }, function (e) {
      return tt(t, r, o, e);
    });
  }

  function ce(t, e) {
    return g(e, function (e) {
      var n = function (e, n) {
        var t = (n || r.document).createDocumentFragment();
        return p(e, function (e) {
          t.appendChild(e.dom());
        }), bn.fromDom(t);
      }(e.content);

      return bn.fromDom(z(t, n.dom()));
    });
  }

  function fe(e, n) {
    return se(n), function (t, e) {
      var n = h(e, function (e, n) {
        return n.depth > e.length ? ne(t, e, n) : ee(t, e, n);
      }, []);
      return S(n).map(function (e) {
        return e.list;
      });
    }(e.contentDocument, n).toArray();
  }

  function de(e) {
    var n = g(Jn.getSelectedListItems(e), bn.fromDom);
    return A(N(n, t(re)), N(function (e) {
      var n = Xe.call(e, 0);
      return n.reverse(), n;
    }(n), t(re)), function (e, n) {
      return {
        start: e,
        end: n
      };
    });
  }

  function le(t, e, r) {
    var n = function (e, n) {
      var t = Ge(!1);
      return g(e, function (e) {
        return {
          sourceList: e,
          entries: tt(0, n, t, e)
        };
      });
    }(e, de(t));

    p(n, function (e) {
      !function (e, n) {
        p(v(e, ie), function (e) {
          return function (e, n) {
            switch (e) {
              case "Indent":
                n.depth++;
                break;

              case "Outdent":
                n.depth--;
                break;

              case "Flatten":
                n.depth = 0;
            }
          }(n, e);
        });
      }(e.entries, r);

      var n = function (n, e) {
        return y(function (e, n) {
          if (0 === e.length) return [];

          for (var t = n(e[0]), r = [], o = [], i = 0, u = e.length; i < u; i++) {
            var s = e[i],
                a = n(s);
            a !== t && (r.push(o), o = []), t = a, o.push(s);
          }

          return 0 !== o.length && r.push(o), r;
        }(e, oe), function (e) {
          return S(e).map(oe).getOr(!1) ? fe(n, e) : ce(n, e);
        });
      }(t, e.entries);

      p(n, function (e) {
        j(t, "Indent" === r ? "IndentList" : "OutdentList", e.dom());
      }), function (n, e) {
        p(e, function (e) {
          P(n, e);
        });
      }(e.sourceList, n), F(e.sourceList);
    });
  }

  function me(e) {
    En(e, "dt") && J(e, "dd");
  }

  function ge(n, e, t) {
    p(t, "Indent" === e ? me : function (e) {
      return function (n, t) {
        En(t, "dd") ? J(t, "dt") : En(t, "dt") && x(t).each(function (e) {
          return it(n, e.dom(), t.dom());
        });
      }(n, e);
    });
  }

  function pe(e, n) {
    if (Mn(e)) return {
      container: e,
      offset: n
    };
    var t = wn.getNode(e, n);
    return Mn(t) ? {
      container: t,
      offset: n >= e.childNodes.length ? t.data.length : 0
    } : t.previousSibling && Mn(t.previousSibling) ? {
      container: t.previousSibling,
      offset: t.previousSibling.data.length
    } : t.nextSibling && Mn(t.nextSibling) ? {
      container: t.nextSibling,
      offset: 0
    } : {
      container: e,
      offset: n
    };
  }

  function ve(e, n) {
    var t = g(Jn.getSelectedListRoots(e), bn.fromDom),
        r = g(Jn.getSelectedDlItems(e), bn.fromDom),
        o = !1;

    if (t.length || r.length) {
      var i = e.selection.getBookmark();
      le(e, t, n), ge(e, n, r), e.selection.moveToBookmark(i), e.selection.setRng(ut(e.selection.getRng())), e.nodeChanged(), o = !0;
    }

    return o;
  }

  function he(e) {
    return ve(e, "Indent");
  }

  function Ne(e) {
    return ve(e, "Outdent");
  }

  function ye(e) {
    return ve(e, "Flatten");
  }

  function Se(e) {
    return /\btox\-/.test(e.className);
  }

  function Oe(e) {
    switch (e) {
      case "UL":
        return "ToggleUlList";

      case "OL":
        return "ToggleOlList";

      case "DL":
        return "ToggleDLList";
    }
  }

  function Ce(t, e) {
    Pn.each(e, function (e, n) {
      t.setAttribute(n, e);
    });
  }

  function be(e, n, t) {
    !function (e, n, t) {
      var r = t["list-style-type"] ? t["list-style-type"] : null;
      e.setStyle(n, "list-style-type", r);
    }(e, n, t), function (e, n, t) {
      Ce(n, t["list-attributes"]), Pn.each(e.select("li", n), function (e) {
        Ce(e, t["list-item-attributes"]);
      });
    }(e, n, t);
  }

  function Le(e, n, t, r) {
    var o, i;

    for (o = n[t ? "startContainer" : "endContainer"], i = n[t ? "startOffset" : "endOffset"], 1 === o.nodeType && (o = o.childNodes[Math.min(i, o.childNodes.length - 1)] || o), !t && qn(o.nextSibling) && (o = o.nextSibling); o.parentNode !== r;) {
      if (Vn(e, o)) return o;
      if (/^(TD|TH)$/.test(o.parentNode.nodeName)) return o;
      o = o.parentNode;
    }

    return o;
  }

  function Te(r, o, i) {
    void 0 === i && (i = {});
    var e,
        n = r.selection.getRng(!0),
        u = "LI",
        t = Jn.getClosestListRootElm(r, r.selection.getStart(!0)),
        s = r.dom;
    "false" !== s.getContentEditable(r.selection.getNode()) && ("DL" === (o = o.toUpperCase()) && (u = "DT"), e = ct(n), Pn.each(function (t, e, r) {
      for (var o, i = [], u = t.dom, n = Le(t, e, !0, r), s = Le(t, e, !1, r), a = [], c = n; c && (a.push(c), c !== s); c = c.nextSibling) {
        ;
      }

      return Pn.each(a, function (e) {
        if (Vn(t, e)) return i.push(e), void (o = null);
        if (u.isBlock(e) || qn(e)) return qn(e) && u.remove(e), void (o = null);
        var n = e.nextSibling;
        st.isBookmarkNode(e) && (Vn(t, n) || !n && e.parentNode === r) ? o = null : (o || (o = u.create("p"), e.parentNode.insertBefore(o, e), i.push(o)), o.appendChild(e));
      }), i;
    }(r, n, t), function (e) {
      var n, t;
      (t = e.previousSibling) && Un(t) && t.nodeName === o && function (e, n, t) {
        var r = e.getStyle(n, "list-style-type"),
            o = t ? t["list-style-type"] : "";
        return r === (o = null === o ? "" : o);
      }(s, t, i) ? (n = t, e = s.rename(e, u), t.appendChild(e)) : (n = s.create(o), e.parentNode.insertBefore(n, e), n.appendChild(e), e = s.rename(e, u)), function (t, r, e) {
        Pn.each(e, function (e) {
          var n;
          return t.setStyle(r, ((n = {})[e] = "", n));
        });
      }(s, e, ["margin", "margin-right", "margin-bottom", "margin-left", "margin-top", "padding", "padding-right", "padding-bottom", "padding-left", "padding-top"]), be(s, n, i), dt(r.dom, n);
    }), r.selection.setRng(ft(e)));
  }

  function De(e, n, t) {
    return function (e, n) {
      return e && n && Un(e) && e.nodeName === n.nodeName;
    }(n, t) && function (e, n, t) {
      return e.getStyle(n, "list-style-type", !0) === e.getStyle(t, "list-style-type", !0);
    }(e, n, t) && function (e, n) {
      return e.className === n.className;
    }(n, t);
  }

  function Ee(n, e, t, r, o) {
    if (e.nodeName !== r || lt(o)) {
      var i = ct(n.selection.getRng(!0));
      Pn.each([e].concat(t), function (e) {
        !function (e, n, t, r) {
          if (n.nodeName !== t) {
            var o = e.dom.rename(n, t);
            be(e.dom, o, r), j(e, Oe(t), o);
          } else be(e.dom, n, r), j(e, Oe(t), n);
        }(n, e, r, o);
      }), n.selection.setRng(ft(i));
    } else ye(n);
  }

  function we(e, n) {
    var t,
        r = n.parentNode;
    "LI" === r.nodeName && r.firstChild === n && ((t = r.previousSibling) && "LI" === t.nodeName ? (t.appendChild(n), Xn(e, r) && gt.remove(r)) : gt.setStyle(r, "listStyleType", "none")), Un(r) && (t = r.previousSibling) && "LI" === t.nodeName && t.appendChild(n);
  }

  function ke(e, n, t, r) {
    var o = n.startContainer,
        i = n.startOffset;
    if (Mn(o) && (t ? i < o.data.length : 0 < i)) return o;
    var u = e.schema.getNonEmptyElements();
    1 === o.nodeType && (o = wn.getNode(o, i));
    var s = new kn(o, r);

    for (t && Kn(e.dom, o) && s.next(); o = s[t ? "next" : "prev2"]();) {
      if ("LI" === o.nodeName && !o.hasChildNodes()) return o;
      if (u[o.nodeName]) return o;
      if (Mn(o) && 0 < o.data.length) return o;
    }
  }

  function Ae(e, n) {
    var t = n.childNodes;
    return 1 === t.length && !Un(t[0]) && e.isBlock(t[0]);
  }

  function xe(e, n, t) {
    var r, o;
    if (o = Ae(e, t) ? t.firstChild : t, function (e, n) {
      Ae(e, n) && e.remove(n.firstChild, !0);
    }(e, n), !Xn(e, n, !0)) for (; r = n.firstChild;) {
      o.appendChild(r);
    }
  }

  function Re(n, e, t) {
    var r,
        o,
        i = e.parentNode;

    if (Qn(n, e) && Qn(n, t)) {
      Un(t.lastChild) && (o = t.lastChild), i === t.lastChild && qn(i.previousSibling) && n.remove(i.previousSibling), (r = t.lastChild) && qn(r) && e.hasChildNodes() && n.remove(r), Xn(n, t, !0) && n.$(t).empty(), xe(n, e, t), o && t.appendChild(o);
      var u = Dn(bn.fromDom(t), bn.fromDom(e)) ? n.getParents(e, Un, t) : [];
      n.remove(e), p(u, function (e) {
        Xn(n, e) && e !== n.getRoot() && n.remove(e);
      });
    }
  }

  function Ie(e, n, t, r) {
    var o = e.dom;
    if (o.isEmpty(r)) !function (e, n, t) {
      e.dom.$(t).empty(), Re(e.dom, n, t), e.selection.setCursorLocation(t);
    }(e, t, r);else {
      var i = ct(n);
      Re(o, t, r), e.selection.setRng(ft(i));
    }
  }

  function _e(e, n) {
    var t = e.dom,
        r = e.selection,
        o = r.getStart(),
        i = Jn.getClosestListRootElm(e, o),
        u = t.getParent(r.getStart(), "LI", i);

    if (u) {
      var s = u.parentNode;
      if (s === e.getBody() && Xn(t, s)) return !0;
      var a = ut(r.getRng()),
          c = t.getParent(ke(e, a, n, i), "LI", i);
      if (c && c !== u) return e.undoManager.transact(function () {
        n ? Ie(e, a, c, u) : Wn(u) ? Ne(e) : function (e, n, t, r) {
          var o = ct(n);
          Re(e.dom, t, r);
          var i = ft(o);
          e.selection.setRng(i);
        }(e, a, u, c);
      }), !0;
      if (!c && !n && 0 === a.startOffset && 0 === a.endOffset) return e.undoManager.transact(function () {
        ye(e);
      }), !0;
    }

    return !1;
  }

  function Be(e, n) {
    return _e(e, n) || function (e, n) {
      var t = e.dom,
          r = e.selection.getStart(),
          o = Jn.getClosestListRootElm(e, r),
          i = t.getParent(r, t.isBlock, o);

      if (i && t.isEmpty(i)) {
        var u = ut(e.selection.getRng()),
            s = t.getParent(ke(e, u, n, o), "LI", o);
        if (s) return e.undoManager.transact(function () {
          !function (e, n, t) {
            var r = e.getParent(n.parentNode, e.isBlock, t);
            e.remove(n), r && e.isEmpty(r) && e.remove(r);
          }(t, i, o), mt.mergeWithAdjacentLists(t, s.parentNode), e.selection.select(s, !0), e.selection.collapse(n);
        }), !0;
      }

      return !1;
    }(e, n);
  }

  function Pe(e, n) {
    return e.selection.isCollapsed() ? Be(e, n) : function (e) {
      var n = e.selection.getStart(),
          t = Jn.getClosestListRootElm(e, n);
      return !!(e.dom.getParent(n, "LI,DT,DD", t) || 0 < Jn.getSelectedListItems(e).length) && (e.undoManager.transact(function () {
        e.execCommand("Delete"), pt(e.dom, e.getBody());
      }), !0);
    }(e);
  }

  function Me(n, t) {
    return function () {
      var e = n.dom.getParent(n.selection.getStart(), "UL,OL,DL");
      return e && e.nodeName === t;
    };
  }

  function Ue(n, i) {
    return function (o) {
      function e(e) {
        var n = function (e, n) {
          for (var t = 0; t < e.length; t++) {
            if (n(e[t])) return t;
          }

          return -1;
        }(e.parents, $n),
            t = -1 !== n ? e.parents.slice(0, n) : e.parents,
            r = Pn.grep(t, Un);

        o.setActive(0 < r.length && r[0].nodeName === i && !Se(r[0]));
      }

      return n.on("NodeChange", e), function () {
        return n.off("NodeChange", e);
      };
    };
  }

  var Fe,
      je,
      He = function He(t) {
    function e() {
      return o;
    }

    function n(e) {
      return e(t);
    }

    var r = l(t),
        o = {
      fold: function fold(e, n) {
        return n(t);
      },
      is: function is(e) {
        return t === e;
      },
      isSome: s,
      isNone: u,
      getOr: r,
      getOrThunk: r,
      getOrDie: r,
      getOrNull: r,
      getOrUndefined: r,
      or: e,
      orThunk: e,
      map: function map(e) {
        return He(e(t));
      },
      each: function each(e) {
        e(t);
      },
      bind: n,
      exists: n,
      forall: n,
      filter: function filter(e) {
        return e(t) ? o : a;
      },
      toArray: function toArray() {
        return [t];
      },
      toString: function toString() {
        return "some(" + t + ")";
      },
      equals: function equals(e) {
        return e.is(t);
      },
      equals_: function equals_(e, n) {
        return e.fold(u, function (e) {
          return n(t, e);
        });
      }
    };
    return o;
  },
      $e = {
    some: He,
    none: n,
    from: function from(e) {
      return null === e || e === undefined ? a : He(e);
    }
  },
      qe = m("string"),
      We = m("array"),
      Ve = m("boolean"),
      ze = m("function"),
      Ke = m("number"),
      Xe = Array.prototype.slice,
      Qe = Array.prototype.push,
      Ye = (ze(Array.from) && Array.from, function (e, n) {
    return C(e, n, r.Node.DOCUMENT_POSITION_CONTAINED_BY);
  }),
      Ge = function Ge(e) {
    function n() {
      return t;
    }

    var t = e;
    return {
      get: n,
      set: function set(e) {
        t = e;
      },
      clone: function clone() {
        return Ge(n());
      }
    };
  },
      Je = function Je() {
    return Ze(0, 0);
  },
      Ze = function Ze(e, n) {
    return {
      major: e,
      minor: n
    };
  },
      en = {
    nu: Ze,
    detect: function detect(e, n) {
      var t = String(n).toLowerCase();
      return 0 === e.length ? Je() : b(e, t);
    },
    unknown: Je
  },
      nn = "Edge",
      tn = "Chrome",
      rn = "Opera",
      on = "Firefox",
      un = "Safari",
      sn = function sn(e) {
    var n = e.current;
    return {
      current: n,
      version: e.version,
      isEdge: L(nn, n),
      isChrome: L(tn, n),
      isIE: L("IE", n),
      isOpera: L(rn, n),
      isFirefox: L(on, n),
      isSafari: L(un, n)
    };
  },
      an = {
    unknown: function unknown() {
      return sn({
        current: undefined,
        version: en.unknown()
      });
    },
    nu: sn,
    edge: l(nn),
    chrome: l(tn),
    ie: l("IE"),
    opera: l(rn),
    firefox: l(on),
    safari: l(un)
  },
      cn = "Windows",
      fn = "Android",
      dn = "Solaris",
      ln = "FreeBSD",
      mn = function mn(e) {
    var n = e.current;
    return {
      current: n,
      version: e.version,
      isWindows: T(cn, n),
      isiOS: T("iOS", n),
      isAndroid: T(fn, n),
      isOSX: T("OSX", n),
      isLinux: T("Linux", n),
      isSolaris: T(dn, n),
      isFreeBSD: T(ln, n)
    };
  },
      gn = {
    unknown: function unknown() {
      return mn({
        current: undefined,
        version: en.unknown()
      });
    },
    nu: mn,
    windows: l(cn),
    ios: l("iOS"),
    android: l(fn),
    linux: l("Linux"),
    osx: l("OSX"),
    solaris: l(dn),
    freebsd: l(ln)
  },
      pn = function pn(e, t) {
    return D(e, t).map(function (e) {
      var n = en.detect(e.versionRegexes, t);
      return {
        current: e.name,
        version: n
      };
    });
  },
      vn = function vn(e, t) {
    return D(e, t).map(function (e) {
      var n = en.detect(e.versionRegexes, t);
      return {
        current: e.name,
        version: n
      };
    });
  },
      hn = /.*?version\/\ ?([0-9]+)\.([0-9]+).*/,
      Nn = [{
    name: "Edge",
    versionRegexes: [/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],
    search: function search(e) {
      return E(e, "edge/") && E(e, "chrome") && E(e, "safari") && E(e, "applewebkit");
    }
  }, {
    name: "Chrome",
    versionRegexes: [/.*?chrome\/([0-9]+)\.([0-9]+).*/, hn],
    search: function search(e) {
      return E(e, "chrome") && !E(e, "chromeframe");
    }
  }, {
    name: "IE",
    versionRegexes: [/.*?msie\ ?([0-9]+)\.([0-9]+).*/, /.*?rv:([0-9]+)\.([0-9]+).*/],
    search: function search(e) {
      return E(e, "msie") || E(e, "trident");
    }
  }, {
    name: "Opera",
    versionRegexes: [hn, /.*?opera\/([0-9]+)\.([0-9]+).*/],
    search: w("opera")
  }, {
    name: "Firefox",
    versionRegexes: [/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],
    search: w("firefox")
  }, {
    name: "Safari",
    versionRegexes: [hn, /.*?cpu os ([0-9]+)_([0-9]+).*/],
    search: function search(e) {
      return (E(e, "safari") || E(e, "mobile/")) && E(e, "applewebkit");
    }
  }],
      yn = [{
    name: "Windows",
    search: w("win"),
    versionRegexes: [/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]
  }, {
    name: "iOS",
    search: function search(e) {
      return E(e, "iphone") || E(e, "ipad");
    },
    versionRegexes: [/.*?version\/\ ?([0-9]+)\.([0-9]+).*/, /.*cpu os ([0-9]+)_([0-9]+).*/, /.*cpu iphone os ([0-9]+)_([0-9]+).*/]
  }, {
    name: "Android",
    search: w("android"),
    versionRegexes: [/.*?android\ ?([0-9]+)\.([0-9]+).*/]
  }, {
    name: "OSX",
    search: w("os x"),
    versionRegexes: [/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]
  }, {
    name: "Linux",
    search: w("linux"),
    versionRegexes: []
  }, {
    name: "Solaris",
    search: w("sunos"),
    versionRegexes: []
  }, {
    name: "FreeBSD",
    search: w("freebsd"),
    versionRegexes: []
  }],
      Sn = {
    browsers: l(Nn),
    oses: l(yn)
  },
      On = Ge(function (e, n) {
    var t = Sn.browsers(),
        r = Sn.oses(),
        o = pn(t, e).fold(an.unknown, an.nu),
        i = vn(r, e).fold(gn.unknown, gn.nu);
    return {
      browser: o,
      os: i,
      deviceType: function (e, n, t, r) {
        var o = e.isiOS() && !0 === /ipad/i.test(t),
            i = e.isiOS() && !o,
            u = e.isiOS() || e.isAndroid(),
            s = u || r("(pointer:coarse)"),
            a = o || !i && u && r("(min-device-width:768px)"),
            c = i || u && !a,
            f = n.isSafari() && e.isiOS() && !1 === /safari/i.test(t),
            d = !c && !a && !f;
        return {
          isiPad: l(o),
          isiPhone: l(i),
          isTablet: l(a),
          isPhone: l(c),
          isTouch: l(s),
          isAndroid: e.isAndroid,
          isiOS: e.isiOS,
          isWebView: l(f),
          isDesktop: l(d)
        };
      }(i, o, e, n)
    };
  }(r.navigator.userAgent, function (e) {
    return r.window.matchMedia(e).matches;
  })),
      Cn = function Cn(e) {
    if (null === e || e === undefined) throw new Error("Node cannot be null or undefined");
    return {
      dom: l(e)
    };
  },
      bn = {
    fromHtml: function fromHtml(e, n) {
      var t = (n || r.document).createElement("div");
      if (t.innerHTML = e, !t.hasChildNodes() || 1 < t.childNodes.length) throw r.console.error("HTML does not have a single root node", e), new Error("HTML must have a single root node");
      return Cn(t.childNodes[0]);
    },
    fromTag: function fromTag(e, n) {
      var t = (n || r.document).createElement(e);
      return Cn(t);
    },
    fromText: function fromText(e, n) {
      var t = (n || r.document).createTextNode(e);
      return Cn(t);
    },
    fromDom: Cn,
    fromPoint: function fromPoint(e, n, t) {
      var r = e.dom();
      return $e.from(r.elementFromPoint(n, t)).map(Cn);
    }
  },
      Ln = (r.Node.ATTRIBUTE_NODE, r.Node.CDATA_SECTION_NODE, r.Node.COMMENT_NODE, r.Node.DOCUMENT_NODE, r.Node.DOCUMENT_TYPE_NODE, r.Node.DOCUMENT_FRAGMENT_NODE, r.Node.ELEMENT_NODE),
      Tn = (r.Node.TEXT_NODE, r.Node.PROCESSING_INSTRUCTION_NODE, r.Node.ENTITY_REFERENCE_NODE, r.Node.ENTITY_NODE, r.Node.NOTATION_NODE, Ln),
      Dn = On.get().browser.isIE() ? function (e, n) {
    return Ye(e.dom(), n.dom());
  } : function (e, n) {
    var t = e.dom(),
        r = n.dom();
    return t !== r && t.contains(r);
  },
      En = function En(e, n) {
    var t = e.dom();
    if (t.nodeType !== Tn) return !1;
    var r = t;
    if (r.matches !== undefined) return r.matches(n);
    if (r.msMatchesSelector !== undefined) return r.msMatchesSelector(n);
    if (r.webkitMatchesSelector !== undefined) return r.webkitMatchesSelector(n);
    if (r.mozMatchesSelector !== undefined) return r.mozMatchesSelector(n);
    throw new Error("Browser lacks native selectors");
  },
      wn = tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),
      kn = tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),
      An = tinymce.util.Tools.resolve("tinymce.util.VK"),
      xn = Object.keys,
      Rn = (function () {
    for (var e = [], n = 0; n < arguments.length; n++) {
      e[n] = arguments[n];
    }
  }("element", "offset"), "undefined" != typeof r.window ? r.window : Function("return this;")()),
      In = function In(e, n) {
    var t = function (e, n) {
      return H(e, n);
    }(e, n);

    if (t === undefined || null === t) throw new Error(e + " not available on this browser");
    return t;
  },
      _n = function _n(e) {
    return function (e) {
      return In("HTMLElement", e);
    }(H("ownerDocument.defaultView", e)).prototype.isPrototypeOf(e);
  },
      Bn = tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),
      Pn = tinymce.util.Tools.resolve("tinymce.util.Tools"),
      Mn = function Mn(e) {
    return e && 3 === e.nodeType;
  },
      Un = function Un(e) {
    return e && /^(OL|UL|DL)$/.test(e.nodeName);
  },
      Fn = function Fn(e) {
    return e && /^(OL|UL)$/.test(e.nodeName);
  },
      jn = function jn(e) {
    return e && /^(DT|DD)$/.test(e.nodeName);
  },
      Hn = function Hn(e) {
    return e && /^(LI|DT|DD)$/.test(e.nodeName);
  },
      $n = function $n(e) {
    return e && /^(TH|TD)$/.test(e.nodeName);
  },
      qn = $,
      Wn = function Wn(e) {
    return e.parentNode.firstChild === e;
  },
      Vn = function Vn(e, n) {
    return n && !!e.schema.getTextBlockElements()[n.nodeName];
  },
      zn = function zn(e, n) {
    return e && e.nodeName in n;
  },
      Kn = function Kn(e, n) {
    return !!$(n) && !(!e.isBlock(n.nextSibling) || $(n.previousSibling));
  },
      Xn = function Xn(e, n, t) {
    var r = e.isEmpty(n);
    return !(t && 0 < e.select("span[data-mce-type=bookmark]", n).length) && r;
  },
      Qn = function Qn(e, n) {
    return e.isChildOf(n, e.getRoot());
  },
      Yn = function Yn(e, n) {
    var t = e.dom.getParents(n, "TD,TH");
    return 0 < t.length ? t[0] : e.getBody();
  },
      Gn = function Gn(n, e) {
    var t = g(e, function (e) {
      return V(n, e).getOr(e);
    });
    return Bn.unique(t);
  },
      Jn = {
    isList: function isList(e) {
      var n = q(e);
      return _n(n);
    },
    getParentList: q,
    getSelectedSubLists: function getSelectedSubLists(e) {
      var n = q(e),
          t = e.selection.getSelectedBlocks();
      return function (e, n) {
        return e && 1 === n.length && n[0] === e;
      }(n, t) ? function (e) {
        return Pn.grep(e.querySelectorAll("ol,ul,dl"), function (e) {
          return Un(e);
        });
      }(n) : Pn.grep(t, function (e) {
        return Un(e) && n !== e;
      });
    },
    getSelectedListItems: W,
    getClosestListRootElm: Yn,
    getSelectedDlItems: function getSelectedDlItems(e) {
      return v(W(e), jn);
    },
    getSelectedListRoots: function getSelectedListRoots(e) {
      var n = function (e) {
        var n = V(e, e.selection.getStart()),
            t = v(e.selection.getSelectedBlocks(), Fn);
        return n.toArray().concat(t);
      }(e);

      return Gn(e, n);
    }
  },
      Zn = (Fe = Ln, function (e) {
    return function (e) {
      return e.dom().nodeType;
    }(e) === Fe;
  }),
      et = Object.prototype.hasOwnProperty,
      nt = (je = function je(e, n) {
    return n;
  }, function () {
    for (var e = new Array(arguments.length), n = 0; n < e.length; n++) {
      e[n] = arguments[n];
    }

    if (0 === e.length) throw new Error("Can't merge zero objects");

    for (var t = {}, r = 0; r < e.length; r++) {
      var o = e[r];

      for (var i in o) {
        et.call(o, i) && (t[i] = je(t[i], o[i]));
      }
    }

    return t;
  }),
      tt = function tt(n, t, r, e) {
    return y(R(e), function (e) {
      return (te(e) ? tt : ae)(n + 1, t, r, e);
    });
  },
      rt = tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),
      ot = rt.DOM,
      it = function it(e, n, t) {
    var r, o, i, u, s, a;

    for (i = ot.select('span[data-mce-type="bookmark"]', n), s = z(e, t), (r = ot.createRng()).setStartAfter(t), r.setEndAfter(n), u = (o = r.extractContents()).firstChild; u; u = u.firstChild) {
      if ("LI" === u.nodeName && e.dom.isEmpty(u)) {
        ot.remove(u);
        break;
      }
    }

    e.dom.isEmpty(o) || ot.insertAfter(o, n), ot.insertAfter(s, n), Xn(e.dom, t.parentNode) && (a = t.parentNode, Pn.each(i, function (e) {
      a.parentNode.insertBefore(e, t.parentNode);
    }), ot.remove(a)), ot.remove(t), Xn(e.dom, n) && ot.remove(n);
  },
      ut = function ut(e) {
    var n = e.cloneRange(),
        t = pe(e.startContainer, e.startOffset);
    n.setStart(t.container, t.offset);
    var r = pe(e.endContainer, e.endOffset);
    return n.setEnd(r.container, r.offset), n;
  },
      st = tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),
      at = rt.DOM,
      ct = function ct(o) {
    function e(e) {
      var n, t, r;
      t = o[e ? "startContainer" : "endContainer"], r = o[e ? "startOffset" : "endOffset"], 1 === t.nodeType && (n = at.create("span", {
        "data-mce-type": "bookmark"
      }), t.hasChildNodes() ? (r = Math.min(r, t.childNodes.length - 1), e ? t.insertBefore(n, t.childNodes[r]) : at.insertAfter(n, t.childNodes[r])) : t.appendChild(n), t = n, r = 0), i[e ? "startContainer" : "endContainer"] = t, i[e ? "startOffset" : "endOffset"] = r;
    }

    var i = {};
    return e(!0), o.collapsed || e(), i;
  },
      ft = function ft(o) {
    function e(e) {
      var n, t, r;
      n = r = o[e ? "startContainer" : "endContainer"], t = o[e ? "startOffset" : "endOffset"], n && (1 === n.nodeType && (t = function (e) {
        for (var n = e.parentNode.firstChild, t = 0; n;) {
          if (n === e) return t;
          1 === n.nodeType && "bookmark" === n.getAttribute("data-mce-type") || t++, n = n.nextSibling;
        }

        return -1;
      }(n), n = n.parentNode, at.remove(r), !n.hasChildNodes() && at.isBlock(n) && n.appendChild(at.create("br"))), o[e ? "startContainer" : "endContainer"] = n, o[e ? "startOffset" : "endOffset"] = t);
    }

    e(!0), e();
    var n = at.createRng();
    return n.setStart(o.startContainer, o.startOffset), o.endContainer && n.setEnd(o.endContainer, o.endOffset), ut(n);
  },
      dt = function dt(e, n) {
    var t, r;

    if (t = n.nextSibling, De(e, n, t)) {
      for (; r = t.firstChild;) {
        n.appendChild(r);
      }

      e.remove(t);
    }

    if (t = n.previousSibling, De(e, n, t)) {
      for (; r = t.lastChild;) {
        n.insertBefore(r, n.firstChild);
      }

      e.remove(t);
    }
  },
      lt = function lt(e) {
    return "list-style-type" in e;
  },
      mt = {
    toggleList: function toggleList(e, n, t) {
      var r = Jn.getParentList(e),
          o = Jn.getSelectedSubLists(e);
      t = t || {}, r && 0 < o.length ? Ee(e, r, o, n, t) : function (e, n, t, r) {
        if (n !== e.getBody()) if (n) {
          if (n.nodeName !== t || lt(r) || Se(n)) {
            var o = ct(e.selection.getRng(!0));
            be(e.dom, n, r);
            var i = e.dom.rename(n, t);
            dt(e.dom, i), e.selection.setRng(ft(o)), j(e, Oe(t), i);
          } else ye(e);
        } else Te(e, t, r), j(e, Oe(t), n);
      }(e, r, n, t);
    },
    mergeWithAdjacentLists: dt
  },
      gt = rt.DOM,
      pt = function pt(n, e) {
    Pn.each(Pn.grep(n.select("ol,ul", e)), function (e) {
      we(n, e);
    });
  },
      vt = function vt(n) {
    n.on("keydown", function (e) {
      e.keyCode === An.BACKSPACE ? Pe(n, !1) && e.preventDefault() : e.keyCode === An.DELETE && Pe(n, !0) && e.preventDefault();
    });
  },
      ht = Pe,
      Nt = function Nt(n) {
    return {
      backspaceDelete: function backspaceDelete(e) {
        ht(n, e);
      }
    };
  },
      yt = function yt(t) {
    t.on("BeforeExecCommand", function (e) {
      var n = e.command.toLowerCase();
      "indent" === n ? he(t) : "outdent" === n && Ne(t);
    }), t.addCommand("InsertUnorderedList", function (e, n) {
      mt.toggleList(t, "UL", n);
    }), t.addCommand("InsertOrderedList", function (e, n) {
      mt.toggleList(t, "OL", n);
    }), t.addCommand("InsertDefinitionList", function (e, n) {
      mt.toggleList(t, "DL", n);
    }), t.addCommand("RemoveList", function () {
      ye(t);
    }), t.addQueryStateHandler("InsertUnorderedList", Me(t, "UL")), t.addQueryStateHandler("InsertOrderedList", Me(t, "OL")), t.addQueryStateHandler("InsertDefinitionList", Me(t, "DL"));
  },
      St = function St(e) {
    return e.getParam("lists_indent_on_tab", !0);
  },
      Ot = function Ot(e) {
    St(e) && function (n) {
      n.on("keydown", function (e) {
        e.keyCode !== An.TAB || An.metaKeyPressed(e) || n.undoManager.transact(function () {
          (e.shiftKey ? Ne(n) : he(n)) && e.preventDefault();
        });
      });
    }(e), vt(e);
  },
      Ct = function Ct(n) {
    function e(e) {
      return function () {
        return n.execCommand(e);
      };
    }

    var t, r, o;
    r = "advlist", o = (t = n).settings.plugins ? t.settings.plugins : "", -1 === Pn.inArray(o.split(/[ ,]/), r) && (n.ui.registry.addToggleButton("numlist", {
      icon: "ordered-list",
      active: !1,
      tooltip: "Numbered list",
      onAction: e("InsertOrderedList"),
      onSetup: Ue(n, "OL")
    }), n.ui.registry.addToggleButton("bullist", {
      icon: "unordered-list",
      active: !1,
      tooltip: "Bullet list",
      onAction: e("InsertUnorderedList"),
      onSetup: Ue(n, "UL")
    }));
  };

  !function bt() {
    i.add("lists", function (e) {
      return Ot(e), Ct(e), yt(e), Nt(e);
    });
  }();
}(window);

/***/ }),

/***/ "./resources/js/modules/tinymce/plugins/media/plugin.min.js":
/*!******************************************************************!*\
  !*** ./resources/js/modules/tinymce/plugins/media/plugin.min.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/**
 * Copyright (c) Tiny Technologies, Inc. All rights reserved.
 * Licensed under the LGPL or a commercial license.
 * For LGPL see License.txt in the project root for license information.
 * For commercial licenses see https://www.tiny.cloud/
 *
 * Version: 5.1.5 (2019-12-19)
 */
!function () {
  "use strict";

  function e() {}

  function o(e) {
    return function () {
      return e;
    };
  }

  function t() {
    return u;
  }

  var r,
      n = tinymce.util.Tools.resolve("tinymce.PluginManager"),
      _d = function d() {
    return (_d = Object.assign || function (e) {
      for (var t, r = 1, n = arguments.length; r < n; r++) {
        for (var i in t = arguments[r]) {
          Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
        }
      }

      return e;
    }).apply(this, arguments);
  },
      a = o(!1),
      c = o(!0),
      u = (r = {
    fold: function fold(e, t) {
      return e();
    },
    is: a,
    isSome: a,
    isNone: c,
    getOr: l,
    getOrThunk: s,
    getOrDie: function getOrDie(e) {
      throw new Error(e || "error: getOrDie called on none.");
    },
    getOrNull: o(null),
    getOrUndefined: o(undefined),
    or: l,
    orThunk: s,
    map: t,
    each: e,
    bind: t,
    exists: a,
    forall: c,
    filter: t,
    equals: i,
    equals_: i,
    toArray: function toArray() {
      return [];
    },
    toString: o("none()")
  }, Object.freeze && Object.freeze(r), r);

  function i(e) {
    return e.isNone();
  }

  function s(e) {
    return e();
  }

  function l(e) {
    return e;
  }

  function m(t) {
    return function (e) {
      return function (e) {
        if (null === e) return "null";

        var t = _typeof(e);

        return "object" == t && (Array.prototype.isPrototypeOf(e) || e.constructor && "Array" === e.constructor.name) ? "array" : "object" == t && (String.prototype.isPrototypeOf(e) || e.constructor && "String" === e.constructor.name) ? "string" : t;
      }(e) === t;
    };
  }

  function f(e, t) {
    for (var r = 0, n = e.length; r < n; r++) {
      t(e[r], r);
    }
  }

  function h(e, t) {
    return G(e, t) ? E(e[t]) : D();
  }

  function p(t) {
    return function (e) {
      return e ? function (e) {
        return e.replace(/px$/, "");
      }(e.style[t]) : "";
    };
  }

  function g(r) {
    return function (e, t) {
      e && (e.style[r] = function (e) {
        return /^[0-9.]+$/.test(e) ? e + "px" : e;
      }(t));
    };
  }

  function v(e, t) {
    if (e) for (var r = 0; r < e.length; r++) {
      if (-1 !== t.indexOf(e[r].filter)) return e[r];
    }
  }

  function b(e) {
    return ae.getAttrib(e, "data-ephox-embed-iri");
  }

  function w(e, t) {
    return function (e) {
      var t = ae.createFragment(e);
      return "" !== b(t.firstChild);
    }(t) ? function (e) {
      var t = ae.createFragment(e).firstChild;
      return {
        type: "ephox-embed-iri",
        source1: b(t),
        source2: "",
        poster: "",
        width: oe.getMaxWidth(t),
        height: oe.getMaxHeight(t)
      };
    }(t) : function (n, e) {
      var i = {};
      return ne({
        validate: !1,
        allow_conditional_comments: !0,
        start: function start(e, t) {
          if (i.source1 || "param" !== e || (i.source1 = t.map.movie), "iframe" !== e && "object" !== e && "embed" !== e && "video" !== e && "audio" !== e || (i.type || (i.type = e), i = re.extend(t.map, i)), "script" === e) {
            var r = v(n, t.map.src);
            if (!r) return;
            i = {
              type: "script",
              source1: t.map.src,
              width: String(r.width),
              height: String(r.height)
            };
          }

          "source" === e && (i.source1 ? i.source2 || (i.source2 = t.map.src) : i.source1 = t.map.src), "img" !== e || i.poster || (i.poster = t.map.src);
        }
      }).parse(e), i.source1 = i.source1 || i.src || i.data, i.source2 = i.source2 || "", i.poster = i.poster || "", i;
    }(e, t);
  }

  function y(e, t) {
    var r, n, i, o;

    for (r in t) {
      if (i = "" + t[r], e.map[r]) for (n = e.length; n--;) {
        (o = e[n]).name === r && (i ? (e.map[r] = i, o.value = i) : (delete e.map[r], e.splice(n, 1)));
      } else i && (e.push({
        name: r,
        value: i
      }), e.map[r] = i);
    }
  }

  function x(e, t) {
    var r = me.createFragment(e).firstChild;
    return oe.setMaxWidth(r, t.width), oe.setMaxHeight(r, t.height), function (e) {
      var t = se();
      return ne(t).parse(e), t.getContent();
    }(r.outerHTML);
  }

  function j(r, e) {
    var n = re.extend({}, e);
    if (!n.source1 && (re.extend(n, w(J(r), n.embed)), !n.source1)) return "";
    n.source2 || (n.source2 = ""), n.poster || (n.poster = ""), n.source1 = r.convertURL(n.source1, "source"), n.source2 = r.convertURL(n.source2, "source"), n.source1mime = ue(n.source1), n.source2mime = ue(n.source2), n.poster = r.convertURL(n.poster, "poster");

    var t = function (t) {
      var e = fe.filter(function (e) {
        return e.regex.test(t);
      });
      return 0 < e.length ? re.extend({}, e[0], {
        url: function (e, t) {
          for (var r = e.regex.exec(t), n = e.url, i = function i(e) {
            n = n.replace("$" + e, function () {
              return r[e] ? r[e] : "";
            });
          }, o = 0; o < r.length; o++) {
            i(o);
          }

          return n.replace(/\?$/, "");
        }(e[0], t)
      }) : null;
    }(n.source1);

    if (t && (n.source1 = t.url, n.type = t.type, n.allowFullscreen = t.allowFullscreen, n.width = n.width || String(t.w), n.height = n.height || String(t.h)), n.embed) return de(n.embed, n, !0);
    var i = v(J(r), n.source1);
    i && (n.type = "script", n.width = String(i.width), n.height = String(i.height));
    var o = K(r),
        a = Q(r);
    return n.width = n.width || "300", n.height = n.height || "150", re.each(n, function (e, t) {
      n[t] = r.dom.encode("" + e);
    }), "iframe" === n.type ? function (e) {
      var t = e.allowFullscreen ? ' allowFullscreen="1"' : "";
      return '<iframe src="' + e.source1 + '" width="' + e.width + '" height="' + e.height + '"' + t + "></iframe>";
    }(n) : "application/x-shockwave-flash" === n.source1mime ? function (e) {
      var t = '<object data="' + e.source1 + '" width="' + e.width + '" height="' + e.height + '" type="application/x-shockwave-flash">';
      return e.poster && (t += '<img src="' + e.poster + '" width="' + e.width + '" height="' + e.height + '" />'), t += "</object>";
    }(n) : -1 !== n.source1mime.indexOf("audio") ? function (e, t) {
      return t ? t(e) : '<audio controls="controls" src="' + e.source1 + '">' + (e.source2 ? '\n<source src="' + e.source2 + '"' + (e.source2mime ? ' type="' + e.source2mime + '"' : "") + " />\n" : "") + "</audio>";
    }(n, o) : "script" === n.type ? function (e) {
      return '<script src="' + e.source1 + '"><\/script>';
    }(n) : function (e, t) {
      return t ? t(e) : '<video width="' + e.width + '" height="' + e.height + '"' + (e.poster ? ' poster="' + e.poster + '"' : "") + ' controls="controls">\n<source src="' + e.source1 + '"' + (e.source1mime ? ' type="' + e.source1mime + '"' : "") + " />\n" + (e.source2 ? '<source src="' + e.source2 + '"' + (e.source2mime ? ' type="' + e.source2mime + '"' : "") + " />\n" : "") + "</video>";
    }(n, a);
  }

  function O(t) {
    return function (e) {
      return j(t, e);
    };
  }

  function A(e) {
    var r = q(e, {
      source1: e.source1.value,
      source2: h(e, "source2").bind(function (e) {
        return h(e, "value");
      }).getOr(""),
      poster: h(e, "poster").bind(function (e) {
        return h(e, "value");
      }).getOr("")
    });
    return h(e, "dimensions").each(function (e) {
      f(["width", "height"], function (t) {
        h(e, t).each(function (e) {
          return r[t] = e;
        });
      });
    }), r;
  }

  function S(e) {
    var n = q(e, {
      source1: {
        value: h(e, "source1").getOr("")
      },
      source2: {
        value: h(e, "source2").getOr("")
      },
      poster: {
        value: h(e, "poster").getOr("")
      }
    });
    return f(["width", "height"], function (r) {
      h(e, r).each(function (e) {
        var t = n.dimensions || {};
        t[r] = e, n.dimensions = t;
      });
    }), n;
  }

  function _(r) {
    return function (e) {
      var t = e && e.msg ? "Media embed handler error: " + e.msg : "Media embed handler threw unknown error.";
      r.notificationManager.open({
        type: "error",
        text: t
      });
    };
  }

  function C(e, t) {
    return w(J(e), t);
  }

  function M(i, o) {
    return function (e) {
      if (N(e.url) && 0 < e.url.trim().length) {
        var t = e.html,
            r = C(o, t),
            n = _d(_d({}, r), {
          source1: e.url,
          embed: t
        });

        i.setData(S(n));
      }
    };
  }

  function F(e, t) {
    var r = e.dom.select("img[data-mce-object]");
    e.insertContent(t), function (e, t) {
      for (var r = e.dom.select("img[data-mce-object]"), n = 0; n < t.length; n++) {
        for (var i = r.length - 1; 0 <= i; i--) {
          t[n] === r[i] && r.splice(i, 1);
        }
      }

      e.selection.select(r[0]);
    }(e, r), e.nodeChanged();
  }

  function P(e, t) {
    var r,
        n = t.name;
    return (r = new ye("img", 1)).shortEnded = !0, Oe(e, t, r), r.attr({
      width: t.attr("width") || "300",
      height: t.attr("height") || ("audio" === n ? "30" : "150"),
      style: t.attr("style"),
      src: xe.transparentSrc,
      "data-mce-object": n,
      "class": "mce-object mce-object-" + n
    }), r;
  }

  function k(e, t) {
    var r,
        n,
        i,
        o = t.name;
    return (r = new ye("span", 1)).attr({
      contentEditable: "false",
      style: t.attr("style"),
      "data-mce-object": o,
      "class": "mce-preview-object mce-object-" + o
    }), Oe(e, t, r), (n = new ye(o, 1)).attr({
      src: t.attr("src"),
      allowfullscreen: t.attr("allowfullscreen"),
      style: t.attr("style"),
      "class": t.attr("class"),
      width: t.attr("width"),
      height: t.attr("height"),
      frameborder: "0"
    }), (i = new ye("span", 1)).attr("class", "mce-shim"), r.append(n), r.append(i), r;
  }

  function T(e) {
    for (; e = e.parent;) {
      if (e.attr("data-ephox-embed-iri") || (void 0, (t = e.attr("class")) && /\btiny-pageembed\b/.test(t))) return !0;
    }

    var t;
    return !1;
  }

  var $,
      z = function z(r) {
    function e() {
      return i;
    }

    function t(e) {
      return e(r);
    }

    var n = o(r),
        i = {
      fold: function fold(e, t) {
        return t(r);
      },
      is: function is(e) {
        return r === e;
      },
      isSome: c,
      isNone: a,
      getOr: n,
      getOrThunk: n,
      getOrDie: n,
      getOrNull: n,
      getOrUndefined: n,
      or: e,
      orThunk: e,
      map: function map(e) {
        return z(e(r));
      },
      each: function each(e) {
        e(r);
      },
      bind: t,
      exists: t,
      forall: t,
      filter: function filter(e) {
        return e(r) ? i : u;
      },
      toArray: function toArray() {
        return [r];
      },
      toString: function toString() {
        return "some(" + r + ")";
      },
      equals: function equals(e) {
        return e.is(r);
      },
      equals_: function equals_(e, t) {
        return e.fold(a, function (e) {
          return t(r, e);
        });
      }
    };
    return i;
  },
      D = t,
      E = function E(e) {
    return null === e || e === undefined ? u : z(e);
  },
      N = m("string"),
      U = m("array"),
      R = m("function"),
      L = Array.prototype.slice,
      W = Array.prototype.push,
      H = (R(Array.from) && Array.from, function (e) {
    function t() {
      return r;
    }

    var r = e;
    return {
      get: t,
      set: function set(e) {
        r = e;
      },
      clone: function clone() {
        return H(t());
      }
    };
  }),
      I = Object.prototype.hasOwnProperty,
      q = ($ = function $(e, t) {
    return t;
  }, function () {
    for (var e = new Array(arguments.length), t = 0; t < e.length; t++) {
      e[t] = arguments[t];
    }

    if (0 === e.length) throw new Error("Can't merge zero objects");

    for (var r = {}, n = 0; n < e.length; n++) {
      var i = e[n];

      for (var o in i) {
        I.call(i, o) && (r[o] = $(r[o], i[o]));
      }
    }

    return r;
  }),
      B = Object.hasOwnProperty,
      G = function G(e, t) {
    return B.call(e, t);
  },
      J = function J(e) {
    return e.getParam("media_scripts");
  },
      K = function K(e) {
    return e.getParam("audio_template_callback");
  },
      Q = function Q(e) {
    return e.getParam("video_template_callback");
  },
      V = function V(e) {
    return e.getParam("media_live_embeds", !0);
  },
      X = function X(e) {
    return e.getParam("media_filter_html", !0);
  },
      Y = function Y(e) {
    return e.getParam("media_url_resolver");
  },
      Z = function Z(e) {
    return e.getParam("media_alt_source", !0);
  },
      ee = function ee(e) {
    return e.getParam("media_poster", !0);
  },
      te = function te(e) {
    return e.getParam("media_dimensions", !0);
  },
      re = tinymce.util.Tools.resolve("tinymce.util.Tools"),
      ne = tinymce.util.Tools.resolve("tinymce.html.SaxParser"),
      ie = tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),
      oe = {
    getMaxWidth: p("maxWidth"),
    getMaxHeight: p("maxHeight"),
    setMaxWidth: g("maxWidth"),
    setMaxHeight: g("maxHeight")
  },
      ae = ie.DOM,
      ce = tinymce.util.Tools.resolve("tinymce.util.Promise"),
      ue = function ue(e) {
    var t = {
      mp3: "audio/mpeg",
      m4a: "audio/x-m4a",
      wav: "audio/wav",
      mp4: "video/mp4",
      webm: "video/webm",
      ogg: "video/ogg",
      swf: "application/x-shockwave-flash"
    }[e.toLowerCase().split(".").pop()];
    return t || "";
  },
      se = tinymce.util.Tools.resolve("tinymce.html.Writer"),
      le = tinymce.util.Tools.resolve("tinymce.html.Schema"),
      me = ie.DOM,
      de = function de(e, t, r) {
    return function (e) {
      var t = me.createFragment(e);
      return "" !== me.getAttrib(t.firstChild, "data-ephox-embed-iri");
    }(e) ? x(e, t) : function (e, i, o) {
      var a,
          c = se(),
          u = 0;
      return ne({
        validate: !1,
        allow_conditional_comments: !0,
        comment: function comment(e) {
          c.comment(e);
        },
        cdata: function cdata(e) {
          c.cdata(e);
        },
        text: function text(e, t) {
          c.text(e, t);
        },
        start: function start(e, t, r) {
          switch (e) {
            case "video":
            case "object":
            case "embed":
            case "img":
            case "iframe":
              i.height !== undefined && i.width !== undefined && y(t, {
                width: i.width,
                height: i.height
              });
          }

          if (o) switch (e) {
            case "video":
              y(t, {
                poster: i.poster,
                src: ""
              }), i.source2 && y(t, {
                src: ""
              });
              break;

            case "iframe":
              y(t, {
                src: i.source1
              });
              break;

            case "source":
              if (++u <= 2 && (y(t, {
                src: i["source" + u],
                type: i["source" + u + "mime"]
              }), !i["source" + u])) return;
              break;

            case "img":
              if (!i.poster) return;
              a = !0;
          }
          c.start(e, t, r);
        },
        end: function end(e) {
          if ("video" === e && o) for (var t = 1; t <= 2; t++) {
            if (i["source" + t]) {
              var r = [];
              r.map = {}, u < t && (y(r, {
                src: i["source" + t],
                type: i["source" + t + "mime"]
              }), c.start("source", r, !0));
            }
          }

          if (i.poster && "object" === e && o && !a) {
            var n = [];
            n.map = {}, y(n, {
              src: i.poster,
              width: i.width,
              height: i.height
            }), c.start("img", n, !0);
          }

          c.end(e);
        }
      }, le({})).parse(e), c.getContent();
    }(e, t, r);
  },
      fe = [{
    regex: /youtu\.be\/([\w\-_\?&=.]+)/i,
    type: "iframe",
    w: 560,
    h: 314,
    url: "//www.youtube.com/embed/$1",
    allowFullscreen: !0
  }, {
    regex: /youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,
    type: "iframe",
    w: 560,
    h: 314,
    url: "//www.youtube.com/embed/$2?$4",
    allowFullscreen: !0
  }, {
    regex: /youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,
    type: "iframe",
    w: 560,
    h: 314,
    url: "//www.youtube.com/embed/$1",
    allowFullscreen: !0
  }, {
    regex: /vimeo\.com\/([0-9]+)/,
    type: "iframe",
    w: 425,
    h: 350,
    url: "//player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",
    allowFullscreen: !0
  }, {
    regex: /vimeo\.com\/(.*)\/([0-9]+)/,
    type: "iframe",
    w: 425,
    h: 350,
    url: "//player.vimeo.com/video/$2?title=0&amp;byline=0",
    allowFullscreen: !0
  }, {
    regex: /maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,
    type: "iframe",
    w: 425,
    h: 350,
    url: '//maps.google.com/maps/ms?msid=$2&output=embed"',
    allowFullscreen: !1
  }, {
    regex: /dailymotion\.com\/video\/([^_]+)/,
    type: "iframe",
    w: 480,
    h: 270,
    url: "//www.dailymotion.com/embed/video/$1",
    allowFullscreen: !0
  }, {
    regex: /dai\.ly\/([^_]+)/,
    type: "iframe",
    w: 480,
    h: 270,
    url: "//www.dailymotion.com/embed/video/$1",
    allowFullscreen: !0
  }],
      he = {},
      pe = function pe(e, t) {
    var r = Y(e);
    return r ? function (n, i, o) {
      return new ce(function (t, e) {
        function r(e) {
          return e.html && (he[n.source1] = e), t({
            url: n.source1,
            html: e.html ? e.html : i(n)
          });
        }

        he[n.source1] ? r(he[n.source1]) : o({
          url: n.source1
        }, r, e);
      });
    }(t, O(e), r) : function (t, r) {
      return new ce(function (e) {
        e({
          html: r(t),
          url: t.source1
        });
      });
    }(t, O(e));
  },
      ge = function ge(e) {
    return he.hasOwnProperty(e);
  },
      ve = function ve(n) {
    function i(e) {
      return A(e.getData());
    }

    var e = function (e) {
      var t = e.selection.getNode(),
          r = function (e) {
        return e.getAttribute("data-mce-object") || e.getAttribute("data-ephox-embed-iri");
      }(t) ? e.serializer.serialize(t, {
        selection: !0
      }) : "";
      return q({
        embed: r
      }, w(J(e), r));
    }(n),
        r = H(e),
        t = S(e),
        o = {
      title: "General",
      name: "general",
      items: function (e) {
        for (var t = [], r = 0, n = e.length; r < n; ++r) {
          if (!U(e[r])) throw new Error("Arr.flatten item " + r + " was not an array, input: " + e);
          W.apply(t, e[r]);
        }

        return t;
      }([[{
        name: "source1",
        type: "urlinput",
        filetype: "media",
        label: "Source"
      }], te(n) ? [{
        type: "sizeinput",
        name: "dimensions",
        label: "Constrain proportions",
        constrain: !0
      }] : []])
    },
        a = {
      title: "Embed",
      items: [{
        type: "textarea",
        name: "embed",
        label: "Paste your embed code below:"
      }]
    },
        c = [];

    Z(n) && c.push({
      name: "source2",
      type: "urlinput",
      filetype: "media",
      label: "Alternative source URL"
    }), ee(n) && c.push({
      name: "poster",
      type: "urlinput",
      filetype: "image",
      label: "Media poster (Image URL)"
    });
    var u = {
      title: "Advanced",
      name: "advanced",
      items: c
    },
        s = [o, a];
    0 < c.length && s.push(u);
    var l = {
      type: "tabpanel",
      tabs: s
    },
        m = n.windowManager.open({
      title: "Insert/Edit Media",
      size: "normal",
      body: l,
      buttons: [{
        type: "cancel",
        name: "cancel",
        text: "Cancel"
      }, {
        type: "submit",
        name: "save",
        text: "Save",
        primary: !0
      }],
      onSubmit: function onSubmit(e) {
        var t = i(e);
        !function (e, t, r) {
          t.embed = de(t.embed, t), t.embed && (e.source1 === t.source1 || ge(t.source1)) ? F(r, t.embed) : pe(r, t).then(function (e) {
            F(r, e.html);
          })["catch"](_(r));
        }(r.get(), t, n), e.close();
      },
      onChange: function onChange(e, t) {
        switch (t.name) {
          case "source1":
            !function (e, t) {
              var r = i(t);
              e.source1 !== r.source1 && (M(m, n)({
                url: r.source1,
                html: ""
              }), pe(n, r).then(M(m, n))["catch"](_(n)));
            }(r.get(), e);
            break;

          case "embed":
            !function (e) {
              var t = A(e.getData()),
                  r = C(n, t.embed);
              e.setData(S(r));
            }(e);
            break;

          case "dimensions":
          case "poster":
            !function (e) {
              var t = i(e),
                  r = j(n, t);
              e.setData(S(_d(_d({}, t), {
                embed: r
              })));
            }(e);
        }

        r.set(i(e));
      },
      initialData: t
    });
  },
      be = function be(e) {
    return {
      showDialog: function showDialog() {
        ve(e);
      }
    };
  },
      we = function we(e) {
    e.addCommand("mceMedia", function () {
      ve(e);
    });
  },
      ye = tinymce.util.Tools.resolve("tinymce.html.Node"),
      xe = tinymce.util.Tools.resolve("tinymce.Env"),
      je = function je(i, e) {
    if (!1 === X(i)) return e;
    var o,
        a = se();
    return ne({
      validate: !1,
      allow_conditional_comments: !1,
      comment: function comment(e) {
        a.comment(e);
      },
      cdata: function cdata(e) {
        a.cdata(e);
      },
      text: function text(e, t) {
        a.text(e, t);
      },
      start: function start(e, t, r) {
        if (o = !0, "script" !== e && "noscript" !== e) {
          for (var n = 0; n < t.length; n++) {
            if (0 === t[n].name.indexOf("on")) return;
            "style" === t[n].name && (t[n].value = i.dom.serializeStyle(i.dom.parseStyle(t[n].value), e));
          }

          a.start(e, t, r), o = !1;
        }
      },
      end: function end(e) {
        o || a.end(e);
      }
    }, le({})).parse(e), a.getContent();
  },
      Oe = function Oe(e, t, r) {
    var n, i, o, a, c;

    for (a = (o = t.attributes).length; a--;) {
      n = o[a].name, i = o[a].value, "width" !== n && "height" !== n && "style" !== n && ("data" !== n && "src" !== n || (i = e.convertURL(i, n)), r.attr("data-mce-p-" + n, i));
    }

    (c = t.firstChild && t.firstChild.value) && (r.attr("data-mce-html", escape(je(e, c))), r.firstChild = null);
  },
      Ae = function Ae(i) {
    return function (e) {
      for (var t, r, n = e.length; n--;) {
        (t = e[n]).parent && (t.parent.attr("data-mce-object") || "script" === t.name && !(r = v(J(i), t.attr("src"))) || (r && (r.width && t.attr("width", r.width.toString()), r.height && t.attr("height", r.height.toString())), "iframe" === t.name && V(i) && xe.ceFalse ? T(t) || t.replace(k(i, t)) : T(t) || t.replace(P(i, t))));
      }
    };
  },
      Se = function Se(d) {
    d.on("preInit", function () {
      var t = d.schema.getSpecialElements();
      re.each("video audio iframe object".split(" "), function (e) {
        t[e] = new RegExp("</" + e + "[^>]*>", "gi");
      });
      var r = d.schema.getBoolAttrs();
      re.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "), function (e) {
        r[e] = {};
      }), d.parser.addNodeFilter("iframe,video,audio,object,embed,script", Ae(d)), d.serializer.addAttributeFilter("data-mce-object", function (e, t) {
        for (var r, n, i, o, a, c, u, s, l = e.length; l--;) {
          if ((r = e[l]).parent) {
            for (u = r.attr(t), n = new ye(u, 1), "audio" !== u && "script" !== u && ((s = r.attr("class")) && -1 !== s.indexOf("mce-preview-object") ? n.attr({
              width: r.firstChild.attr("width"),
              height: r.firstChild.attr("height")
            }) : n.attr({
              width: r.attr("width"),
              height: r.attr("height")
            })), n.attr({
              style: r.attr("style")
            }), i = (o = r.attributes).length; i--;) {
              var m = o[i].name;
              0 === m.indexOf("data-mce-p-") && n.attr(m.substr(11), o[i].value);
            }

            "script" === u && n.attr("type", "text/javascript"), (a = r.attr("data-mce-html")) && ((c = new ye("#text", 3)).raw = !0, c.value = je(d, unescape(a)), n.append(c)), r.replace(n);
          }
        }
      });
    }), d.on("SetContent", function () {
      d.$("span.mce-preview-object").each(function (e, t) {
        var r = d.$(t);
        0 === r.find("span.mce-shim").length && r.append('<span class="mce-shim"></span>');
      });
    });
  },
      _e = function _e(e) {
    e.on("ResolveName", function (e) {
      var t;
      1 === e.target.nodeType && (t = e.target.getAttribute("data-mce-object")) && (e.name = t);
    });
  },
      Ce = function Ce(t) {
    t.on("click keyup touchend", function () {
      var e = t.selection.getNode();
      e && t.dom.hasClass(e, "mce-preview-object") && t.dom.getAttrib(e, "data-mce-selected") && e.setAttribute("data-mce-selected", "2");
    }), t.on("ObjectSelected", function (e) {
      var t = e.target.getAttribute("data-mce-object");
      "audio" !== t && "script" !== t || e.preventDefault();
    }), t.on("ObjectResized", function (e) {
      var t,
          r = e.target;
      r.getAttribute("data-mce-object") && (t = r.getAttribute("data-mce-html")) && (t = unescape(t), r.setAttribute("data-mce-html", escape(de(t, {
        width: String(e.width),
        height: String(e.height)
      }))));
    });
  },
      Me = function Me(e) {
    e.ui.registry.addToggleButton("media", {
      tooltip: "Insert/edit media",
      icon: "embed",
      onAction: function onAction() {
        e.execCommand("mceMedia");
      },
      onSetup: function (t, r) {
        return function (e) {
          return t.selection.selectorChangedWithUnbind(r.join(","), e.setActive).unbind;
        };
      }(e, ["img[data-mce-object]", "span[data-mce-object]", "div[data-ephox-embed-iri]"])
    }), e.ui.registry.addMenuItem("media", {
      icon: "embed",
      text: "Media...",
      onAction: function onAction() {
        e.execCommand("mceMedia");
      }
    });
  };

  !function Fe() {
    n.add("media", function (e) {
      return we(e), Me(e), _e(e), Se(e), Ce(e), be(e);
    });
  }();
}();

/***/ }),

/***/ "./resources/js/modules/tinymce/plugins/table/plugin.min.js":
/*!******************************************************************!*\
  !*** ./resources/js/modules/tinymce/plugins/table/plugin.min.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/**
 * Copyright (c) Tiny Technologies, Inc. All rights reserved.
 * Licensed under the LGPL or a commercial license.
 * For LGPL see License.txt in the project root for license information.
 * For commercial licenses see https://www.tiny.cloud/
 *
 * Version: 5.1.5 (2019-12-19)
 */
!function (f) {
  "use strict";

  function o(e) {
    return e;
  }

  var R = function R(e) {
    function n() {
      return t;
    }

    var t = e;
    return {
      get: n,
      set: function set(e) {
        t = e;
      },
      clone: function clone() {
        return R(n());
      }
    };
  },
      T = function T() {},
      O = function O(t, r) {
    return function () {
      for (var e = [], n = 0; n < arguments.length; n++) {
        e[n] = arguments[n];
      }

      return t(r.apply(null, e));
    };
  },
      D = function D(e) {
    return function () {
      return e;
    };
  };

  function b(r) {
    for (var o = [], e = 1; e < arguments.length; e++) {
      o[e - 1] = arguments[e];
    }

    return function () {
      for (var e = [], n = 0; n < arguments.length; n++) {
        e[n] = arguments[n];
      }

      var t = o.concat(e);
      return r.apply(null, t);
    };
  }

  function d(t) {
    return function () {
      for (var e = [], n = 0; n < arguments.length; n++) {
        e[n] = arguments[n];
      }

      return !t.apply(null, e);
    };
  }

  function e() {
    return u;
  }

  var n,
      s = D(!1),
      i = D(!0),
      u = (n = {
    fold: function fold(e, n) {
      return e();
    },
    is: s,
    isSome: s,
    isNone: i,
    getOr: c,
    getOrThunk: r,
    getOrDie: function getOrDie(e) {
      throw new Error(e || "error: getOrDie called on none.");
    },
    getOrNull: D(null),
    getOrUndefined: D(undefined),
    or: c,
    orThunk: r,
    map: e,
    each: T,
    bind: e,
    exists: s,
    forall: i,
    filter: e,
    equals: t,
    equals_: t,
    toArray: function toArray() {
      return [];
    },
    toString: D("none()")
  }, Object.freeze && Object.freeze(n), n);

  function t(e) {
    return e.isNone();
  }

  function r(e) {
    return e();
  }

  function c(e) {
    return e;
  }

  function a(n) {
    return function (e) {
      return function (e) {
        if (null === e) return "null";

        var n = _typeof(e);

        return "object" == n && (Array.prototype.isPrototypeOf(e) || e.constructor && "Array" === e.constructor.name) ? "array" : "object" == n && (String.prototype.isPrototypeOf(e) || e.constructor && "String" === e.constructor.name) ? "string" : n;
      }(e) === n;
    };
  }

  function l(e, n) {
    return -1 < function (e, n) {
      return Ue.call(e, n);
    }(e, n);
  }

  function m(e, n) {
    for (var t = 0, r = e.length; t < r; t++) {
      if (n(e[t], t)) return !0;
    }

    return !1;
  }

  function g(e, n) {
    for (var t = e.length, r = new Array(t), o = 0; o < t; o++) {
      var i = e[o];
      r[o] = n(i, o);
    }

    return r;
  }

  function p(e, n) {
    for (var t = 0, r = e.length; t < r; t++) {
      n(e[t], t);
    }
  }

  function h(e, n) {
    for (var t = [], r = 0, o = e.length; r < o; r++) {
      var i = e[r];
      n(i, r) && t.push(i);
    }

    return t;
  }

  function v(e, n, t) {
    return function (e, n) {
      for (var t = e.length - 1; 0 <= t; t--) {
        n(e[t], t);
      }
    }(e, function (e) {
      t = n(t, e);
    }), t;
  }

  function w(e, n, t) {
    return p(e, function (e) {
      t = n(t, e);
    }), t;
  }

  function y(e, n) {
    for (var t = 0, r = e.length; t < r; t++) {
      var o = e[t];
      if (n(o, t)) return Me.some(o);
    }

    return Me.none();
  }

  function C(e, n) {
    for (var t = 0, r = e.length; t < r; t++) {
      if (n(e[t], t)) return Me.some(t);
    }

    return Me.none();
  }

  function S(e) {
    for (var n = [], t = 0, r = e.length; t < r; ++t) {
      if (!Le(e[t])) throw new Error("Arr.flatten item " + t + " was not an array, input: " + e);
      qe.apply(n, e[t]);
    }

    return n;
  }

  function x(e, n) {
    var t = g(e, n);
    return S(t);
  }

  function A(e, n) {
    for (var t = 0, r = e.length; t < r; ++t) {
      if (!0 !== n(e[t], t)) return !1;
    }

    return !0;
  }

  function E(e) {
    var n = Fe.call(e, 0);
    return n.reverse(), n;
  }

  function N(e, n) {
    for (var t = Ve(e), r = 0, o = t.length; r < o; r++) {
      var i = t[r];
      n(e[i], i);
    }
  }

  function k(e, t) {
    return Ye(e, function (e, n) {
      return {
        k: n,
        v: t(e, n)
      };
    });
  }

  function I(e, n) {
    return Ke(e, n) ? Me.from(e[n]) : Me.none();
  }

  function B() {
    for (var n = [], e = 0; e < arguments.length; e++) {
      n[e] = arguments[e];
    }

    return function () {
      for (var t = [], e = 0; e < arguments.length; e++) {
        t[e] = arguments[e];
      }

      if (n.length !== t.length) throw new Error('Wrong number of arguments to struct. Expected "[' + n.length + ']", got ' + t.length + " arguments");
      var r = {};
      return p(n, function (e, n) {
        r[e] = D(t[n]);
      }), r;
    };
  }

  function P(e) {
    return e.slice(0).sort();
  }

  function M(e, n) {
    throw new Error("All required keys (" + P(e).join(", ") + ") were not specified. Specified keys were: " + P(n).join(", ") + ".");
  }

  function W(e) {
    throw new Error("Unsupported keys for object: " + P(e).join(", "));
  }

  function _(n, e) {
    if (!Le(e)) throw new Error("The " + n + " fields must be an array. Was: " + e + ".");
    p(e, function (e) {
      if (!_e(e)) throw new Error("The value " + e + " in the " + n + " fields was not a string.");
    });
  }

  function L(e) {
    var t = P(e);
    y(t, function (e, n) {
      return n < t.length - 1 && e === t[n + 1];
    }).each(function (e) {
      throw new Error("The field: " + e + " occurs more than once in the combined fields: [" + t.join(", ") + "].");
    });
  }

  function j(e) {
    return e.dom().nodeType;
  }

  function z(n) {
    return function (e) {
      return j(e) === n;
    };
  }

  function H(e) {
    return j(e) === $e || "#comment" === en(e);
  }

  function F(e, n, t) {
    if (!(_e(t) || je(t) || He(t))) throw f.console.error("Invalid call to Attr.set. Key ", n, ":: Value ", t, ":: Element ", e), new Error("Attribute value was not simple");
    e.setAttribute(n, t + "");
  }

  function U(e, n, t) {
    F(e.dom(), n, t);
  }

  function q(e, n) {
    var t = e.dom();
    N(n, function (e, n) {
      F(t, n, e);
    });
  }

  function V(e, n) {
    var t = e.dom().getAttribute(n);
    return null === t ? undefined : t;
  }

  function G(e, n) {
    var t = e.dom();
    return !(!t || !t.hasAttribute) && t.hasAttribute(n);
  }

  function Y(e, n) {
    e.dom().removeAttribute(n);
  }

  function K(e) {
    return w(e.dom().attributes, function (e, n) {
      return e[n.name] = n.value, e;
    }, {});
  }

  function X(e, n, t) {
    return "" === n || !(e.length < n.length) && e.substr(t, t + n.length) === n;
  }

  function $(e, n) {
    return -1 !== e.indexOf(n);
  }

  function J(e, n) {
    return X(e, n, 0);
  }

  function Q(e) {
    return e.style !== undefined && ze(e.style.getPropertyValue);
  }

  function Z(t) {
    var r,
        o = !1;
    return function () {
      for (var e = [], n = 0; n < arguments.length; n++) {
        e[n] = arguments[n];
      }

      return o || (o = !0, r = t.apply(null, e)), r;
    };
  }

  function ee(e) {
    var n = tn(e) ? e.dom().parentNode : e.dom();
    return n !== undefined && null !== n && n.ownerDocument.body.contains(n);
  }

  function ne(e, n, t) {
    if (!_e(t)) throw f.console.error("Invalid call to CSS.set. Property ", n, ":: Value ", t, ":: Element ", e), new Error("CSS value must be a string: " + t);
    Q(e) && e.style.setProperty(n, t);
  }

  function te(e, n, t) {
    var r = e.dom();
    ne(r, n, t);
  }

  function re(e, n) {
    var t = e.dom();
    N(n, function (e, n) {
      ne(t, n, e);
    });
  }

  function oe(e, n) {
    var t = e.dom(),
        r = f.window.getComputedStyle(t).getPropertyValue(n),
        o = "" !== r || ee(e) ? r : an(t, n);
    return null === o ? undefined : o;
  }

  function ie(e, n) {
    var t = e.dom(),
        r = an(t, n);
    return Me.from(r).filter(function (e) {
      return 0 < e.length;
    });
  }

  function ue(e, n) {
    !function (e, n) {
      Q(e) && e.style.removeProperty(n);
    }(e.dom(), n), G(e, "style") && "" === function (e) {
      return e.replace(/^\s+|\s+$/g, "");
    }(V(e, "style")) && Y(e, "style");
  }

  function ce(e, n, t) {
    return 0 != (e.compareDocumentPosition(n) & t);
  }

  function ae(e, n) {
    var t = function (e, n) {
      for (var t = 0; t < e.length; t++) {
        var r = e[t];
        if (r.test(n)) return r;
      }

      return undefined;
    }(e, n);

    if (!t) return {
      major: 0,
      minor: 0
    };

    function r(e) {
      return Number(n.replace(t, "$" + e));
    }

    return dn(r(1), r(2));
  }

  function le(e, n) {
    return function () {
      return n === e;
    };
  }

  function fe(e, n) {
    return function () {
      return n === e;
    };
  }

  function se(e, n) {
    var t = String(n).toLowerCase();
    return y(e, function (e) {
      return e.search(t);
    });
  }

  function de(n) {
    return function (e) {
      return $(e, n);
    };
  }

  function me() {
    return En.get();
  }

  function ge(e, n) {
    var t = e.dom();
    if (t.nodeType !== Nn) return !1;
    var r = t;
    if (r.matches !== undefined) return r.matches(n);
    if (r.msMatchesSelector !== undefined) return r.msMatchesSelector(n);
    if (r.webkitMatchesSelector !== undefined) return r.webkitMatchesSelector(n);
    if (r.mozMatchesSelector !== undefined) return r.mozMatchesSelector(n);
    throw new Error("Browser lacks native selectors");
  }

  function pe(e) {
    return e.nodeType !== Nn && e.nodeType !== kn || 0 === e.childElementCount;
  }

  function he(e) {
    return on.fromDom(e.dom().ownerDocument);
  }

  function ve(e) {
    return Me.from(e.dom().parentNode).map(on.fromDom);
  }

  function be(e, n) {
    for (var t = ze(n) ? n : s, r = e.dom(), o = []; null !== r.parentNode && r.parentNode !== undefined;) {
      var i = r.parentNode,
          u = on.fromDom(i);
      if (o.push(u), !0 === t(u)) break;
      r = i;
    }

    return o;
  }

  function we(e) {
    return Me.from(e.dom().previousSibling).map(on.fromDom);
  }

  function ye(e) {
    return Me.from(e.dom().nextSibling).map(on.fromDom);
  }

  function Ce(e) {
    return g(e.dom().childNodes, on.fromDom);
  }

  function Se(e, n) {
    var t = e.dom().childNodes;
    return Me.from(t[n]).map(on.fromDom);
  }

  function xe(n, t) {
    ve(n).each(function (e) {
      e.dom().insertBefore(t.dom(), n.dom());
    });
  }

  function Re(e, n) {
    ye(e).fold(function () {
      ve(e).each(function (e) {
        Mn(e, n);
      });
    }, function (e) {
      xe(e, n);
    });
  }

  function Te(n, t) {
    (function (e) {
      return Se(e, 0);
    })(n).fold(function () {
      Mn(n, t);
    }, function (e) {
      n.dom().insertBefore(t.dom(), e.dom());
    });
  }

  function Oe(e, n) {
    xe(e, n), Mn(n, e);
  }

  function De(r, o) {
    p(o, function (e, n) {
      var t = 0 === n ? r : o[n - 1];
      Re(t, e);
    });
  }

  function Ae(n, e) {
    p(e, function (e) {
      Mn(n, e);
    });
  }

  function Ee(e) {
    e.dom().textContent = "", p(Ce(e), function (e) {
      Wn(e);
    });
  }

  function Ne(e) {
    var n = Ce(e);
    0 < n.length && function (n, e) {
      p(e, function (e) {
        xe(n, e);
      });
    }(e, n), Wn(e);
  }

  function ke(e, n, t) {
    return function (e, n, t) {
      return h(be(e, t), n);
    }(e, function (e) {
      return ge(e, n);
    }, t);
  }

  function Ie(e, n) {
    return function (e, n) {
      return h(Ce(e), n);
    }(e, function (e) {
      return ge(e, n);
    });
  }

  function Be(e, n) {
    return function (e, n) {
      var t = n === undefined ? f.document : n.dom();
      return pe(t) ? [] : g(t.querySelectorAll(e), on.fromDom);
    }(n, e);
  }

  var Pe = function Pe(t) {
    function e() {
      return o;
    }

    function n(e) {
      return e(t);
    }

    var r = D(t),
        o = {
      fold: function fold(e, n) {
        return n(t);
      },
      is: function is(e) {
        return t === e;
      },
      isSome: i,
      isNone: s,
      getOr: r,
      getOrThunk: r,
      getOrDie: r,
      getOrNull: r,
      getOrUndefined: r,
      or: e,
      orThunk: e,
      map: function map(e) {
        return Pe(e(t));
      },
      each: function each(e) {
        e(t);
      },
      bind: n,
      exists: n,
      forall: n,
      filter: function filter(e) {
        return e(t) ? o : u;
      },
      toArray: function toArray() {
        return [t];
      },
      toString: function toString() {
        return "some(" + t + ")";
      },
      equals: function equals(e) {
        return e.is(t);
      },
      equals_: function equals_(e, n) {
        return e.fold(s, function (e) {
          return n(t, e);
        });
      }
    };
    return o;
  },
      Me = {
    some: Pe,
    none: e,
    from: function from(e) {
      return null === e || e === undefined ? u : Pe(e);
    }
  },
      We = tinymce.util.Tools.resolve("tinymce.PluginManager"),
      _e = a("string"),
      Le = a("array"),
      je = a("boolean"),
      ze = a("function"),
      He = a("number"),
      Fe = Array.prototype.slice,
      Ue = Array.prototype.indexOf,
      qe = Array.prototype.push,
      Ve = (ze(Array.from) && Array.from, Object.keys),
      Ge = Object.hasOwnProperty,
      Ye = function Ye(e, r) {
    var o = {};
    return N(e, function (e, n) {
      var t = r(e, n);
      o[t.k] = t.v;
    }), o;
  },
      Ke = function Ke(e, n) {
    return Ge.call(e, n);
  },
      Xe = function Xe(o, i) {
    var u = o.concat(i);
    if (0 === u.length) throw new Error("You must specify at least one required or optional field.");
    return _("required", o), _("optional", i), L(u), function (n) {
      var t = Ve(n);
      A(o, function (e) {
        return l(t, e);
      }) || M(o, t);
      var e = h(t, function (e) {
        return !l(u, e);
      });
      0 < e.length && W(e);
      var r = {};
      return p(o, function (e) {
        r[e] = D(n[e]);
      }), p(i, function (e) {
        r[e] = D(Object.prototype.hasOwnProperty.call(n, e) ? Me.some(n[e]) : Me.none());
      }), r;
    };
  },
      $e = (f.Node.ATTRIBUTE_NODE, f.Node.CDATA_SECTION_NODE, f.Node.COMMENT_NODE),
      Je = f.Node.DOCUMENT_NODE,
      Qe = (f.Node.DOCUMENT_TYPE_NODE, f.Node.DOCUMENT_FRAGMENT_NODE, f.Node.ELEMENT_NODE),
      Ze = f.Node.TEXT_NODE,
      en = (f.Node.PROCESSING_INSTRUCTION_NODE, f.Node.ENTITY_REFERENCE_NODE, f.Node.ENTITY_NODE, f.Node.NOTATION_NODE, "undefined" != typeof f.window ? f.window : Function("return this;")(), function (e) {
    return e.dom().nodeName.toLowerCase();
  }),
      nn = z(Qe),
      tn = z(Ze),
      rn = function rn(e) {
    if (null === e || e === undefined) throw new Error("Node cannot be null or undefined");
    return {
      dom: D(e)
    };
  },
      on = {
    fromHtml: function fromHtml(e, n) {
      var t = (n || f.document).createElement("div");
      if (t.innerHTML = e, !t.hasChildNodes() || 1 < t.childNodes.length) throw f.console.error("HTML does not have a single root node", e), new Error("HTML must have a single root node");
      return rn(t.childNodes[0]);
    },
    fromTag: function fromTag(e, n) {
      var t = (n || f.document).createElement(e);
      return rn(t);
    },
    fromText: function fromText(e, n) {
      var t = (n || f.document).createTextNode(e);
      return rn(t);
    },
    fromDom: rn,
    fromPoint: function fromPoint(e, n, t) {
      var r = e.dom();
      return Me.from(r.elementFromPoint(n, t)).map(rn);
    }
  },
      un = Z(function () {
    return cn(on.fromDom(f.document));
  }),
      cn = function cn(e) {
    var n = e.dom().body;
    if (null === n || n === undefined) throw new Error("Body is not available yet");
    return on.fromDom(n);
  },
      an = function an(e, n) {
    return Q(e) ? e.style.getPropertyValue(n) : "";
  },
      ln = function ln(e, n) {
    return ce(e, n, f.Node.DOCUMENT_POSITION_CONTAINED_BY);
  },
      _fn = function fn() {
    return (_fn = Object.assign || function (e) {
      for (var n, t = 1, r = arguments.length; t < r; t++) {
        for (var o in n = arguments[t]) {
          Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o]);
        }
      }

      return e;
    }).apply(this, arguments);
  },
      sn = function sn() {
    return dn(0, 0);
  },
      dn = function dn(e, n) {
    return {
      major: e,
      minor: n
    };
  },
      mn = {
    nu: dn,
    detect: function detect(e, n) {
      var t = String(n).toLowerCase();
      return 0 === e.length ? sn() : ae(e, t);
    },
    unknown: sn
  },
      gn = "Firefox",
      pn = function pn(e) {
    var n = e.current;
    return {
      current: n,
      version: e.version,
      isEdge: le("Edge", n),
      isChrome: le("Chrome", n),
      isIE: le("IE", n),
      isOpera: le("Opera", n),
      isFirefox: le(gn, n),
      isSafari: le("Safari", n)
    };
  },
      hn = {
    unknown: function unknown() {
      return pn({
        current: undefined,
        version: mn.unknown()
      });
    },
    nu: pn,
    edge: D("Edge"),
    chrome: D("Chrome"),
    ie: D("IE"),
    opera: D("Opera"),
    firefox: D(gn),
    safari: D("Safari")
  },
      vn = "Windows",
      bn = "Android",
      wn = "Solaris",
      yn = "FreeBSD",
      Cn = function Cn(e) {
    var n = e.current;
    return {
      current: n,
      version: e.version,
      isWindows: fe(vn, n),
      isiOS: fe("iOS", n),
      isAndroid: fe(bn, n),
      isOSX: fe("OSX", n),
      isLinux: fe("Linux", n),
      isSolaris: fe(wn, n),
      isFreeBSD: fe(yn, n)
    };
  },
      Sn = {
    unknown: function unknown() {
      return Cn({
        current: undefined,
        version: mn.unknown()
      });
    },
    nu: Cn,
    windows: D(vn),
    ios: D("iOS"),
    android: D(bn),
    linux: D("Linux"),
    osx: D("OSX"),
    solaris: D(wn),
    freebsd: D(yn)
  },
      xn = function xn(e, t) {
    return se(e, t).map(function (e) {
      var n = mn.detect(e.versionRegexes, t);
      return {
        current: e.name,
        version: n
      };
    });
  },
      Rn = function Rn(e, t) {
    return se(e, t).map(function (e) {
      var n = mn.detect(e.versionRegexes, t);
      return {
        current: e.name,
        version: n
      };
    });
  },
      Tn = /.*?version\/\ ?([0-9]+)\.([0-9]+).*/,
      On = [{
    name: "Edge",
    versionRegexes: [/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],
    search: function search(e) {
      return $(e, "edge/") && $(e, "chrome") && $(e, "safari") && $(e, "applewebkit");
    }
  }, {
    name: "Chrome",
    versionRegexes: [/.*?chrome\/([0-9]+)\.([0-9]+).*/, Tn],
    search: function search(e) {
      return $(e, "chrome") && !$(e, "chromeframe");
    }
  }, {
    name: "IE",
    versionRegexes: [/.*?msie\ ?([0-9]+)\.([0-9]+).*/, /.*?rv:([0-9]+)\.([0-9]+).*/],
    search: function search(e) {
      return $(e, "msie") || $(e, "trident");
    }
  }, {
    name: "Opera",
    versionRegexes: [Tn, /.*?opera\/([0-9]+)\.([0-9]+).*/],
    search: de("opera")
  }, {
    name: "Firefox",
    versionRegexes: [/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],
    search: de("firefox")
  }, {
    name: "Safari",
    versionRegexes: [Tn, /.*?cpu os ([0-9]+)_([0-9]+).*/],
    search: function search(e) {
      return ($(e, "safari") || $(e, "mobile/")) && $(e, "applewebkit");
    }
  }],
      Dn = [{
    name: "Windows",
    search: de("win"),
    versionRegexes: [/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]
  }, {
    name: "iOS",
    search: function search(e) {
      return $(e, "iphone") || $(e, "ipad");
    },
    versionRegexes: [/.*?version\/\ ?([0-9]+)\.([0-9]+).*/, /.*cpu os ([0-9]+)_([0-9]+).*/, /.*cpu iphone os ([0-9]+)_([0-9]+).*/]
  }, {
    name: "Android",
    search: de("android"),
    versionRegexes: [/.*?android\ ?([0-9]+)\.([0-9]+).*/]
  }, {
    name: "OSX",
    search: de("os x"),
    versionRegexes: [/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]
  }, {
    name: "Linux",
    search: de("linux"),
    versionRegexes: []
  }, {
    name: "Solaris",
    search: de("sunos"),
    versionRegexes: []
  }, {
    name: "FreeBSD",
    search: de("freebsd"),
    versionRegexes: []
  }],
      An = {
    browsers: D(On),
    oses: D(Dn)
  },
      En = R(function (e, n) {
    var t = An.browsers(),
        r = An.oses(),
        o = xn(t, e).fold(hn.unknown, hn.nu),
        i = Rn(r, e).fold(Sn.unknown, Sn.nu);
    return {
      browser: o,
      os: i,
      deviceType: function (e, n, t, r) {
        var o = e.isiOS() && !0 === /ipad/i.test(t),
            i = e.isiOS() && !o,
            u = e.isiOS() || e.isAndroid(),
            c = u || r("(pointer:coarse)"),
            a = o || !i && u && r("(min-device-width:768px)"),
            l = i || u && !a,
            f = n.isSafari() && e.isiOS() && !1 === /safari/i.test(t),
            s = !l && !a && !f;
        return {
          isiPad: D(o),
          isiPhone: D(i),
          isTablet: D(a),
          isPhone: D(l),
          isTouch: D(c),
          isAndroid: e.isAndroid,
          isiOS: e.isiOS,
          isWebView: D(f),
          isDesktop: D(s)
        };
      }(i, o, e, n)
    };
  }(f.navigator.userAgent, function (e) {
    return f.window.matchMedia(e).matches;
  })),
      Nn = Qe,
      kn = Je,
      In = function In(e, n) {
    return e.dom() === n.dom();
  },
      Bn = me().browser.isIE() ? function (e, n) {
    return ln(e.dom(), n.dom());
  } : function (e, n) {
    var t = e.dom(),
        r = n.dom();
    return t !== r && t.contains(r);
  },
      Pn = ge,
      Mn = (B("element", "offset"), function (e, n) {
    e.dom().appendChild(n.dom());
  }),
      Wn = function Wn(e) {
    var n = e.dom();
    null !== n.parentNode && n.parentNode.removeChild(n);
  },
      _n = (B("width", "height"), B("width", "height"), B("rows", "columns")),
      Ln = B("row", "column"),
      jn = (B("x", "y"), B("element", "rowspan", "colspan")),
      zn = B("element", "rowspan", "colspan", "isNew"),
      Hn = B("element", "rowspan", "colspan", "row", "column"),
      Fn = B("element", "cells", "section"),
      Un = B("element", "isNew"),
      qn = B("element", "cells", "section", "isNew"),
      Vn = B("cells", "section"),
      Gn = B("details", "section"),
      Yn = B("startRow", "startCol", "finishRow", "finishCol"),
      Kn = function Kn(e, n) {
    var t = [];
    return p(Ce(e), function (e) {
      n(e) && (t = t.concat([e])), t = t.concat(Kn(e, n));
    }), t;
  };

  function Xn(e, n, t, r, o) {
    return e(t, r) ? Me.some(t) : ze(o) && o(t) ? Me.none() : n(t, r, o);
  }

  function $n(e, n, t) {
    for (var r = e.dom(), o = ze(t) ? t : D(!1); r.parentNode;) {
      r = r.parentNode;
      var i = on.fromDom(r);
      if (n(i)) return Me.some(i);
      if (o(i)) break;
    }

    return Me.none();
  }

  function Jn(e, n, t) {
    return $n(e, function (e) {
      return ge(e, n);
    }, t);
  }

  function Qn(e, n) {
    return function (e, n) {
      return y(e.dom().childNodes, function (e) {
        return n(on.fromDom(e));
      }).map(on.fromDom);
    }(e, function (e) {
      return ge(e, n);
    });
  }

  function Zn(e, n) {
    return function (e, n) {
      var t = n === undefined ? f.document : n.dom();
      return pe(t) ? Me.none() : Me.from(t.querySelector(e)).map(on.fromDom);
    }(n, e);
  }

  function et(e, n, t) {
    return Xn(ge, Jn, e, n, t);
  }

  function nt(e, n, t) {
    return void 0 === t && (t = s), t(n) ? Me.none() : l(e, en(n)) ? Me.some(n) : Jn(n, e.join(","), function (e) {
      return ge(e, "table") || t(e);
    });
  }

  function tt(n, e) {
    return ve(e).map(function (e) {
      return Ie(e, n);
    });
  }

  function rt(e, n) {
    return parseInt(V(e, n), 10);
  }

  function ot(e, n) {
    return e + "," + n;
  }

  var it = function it(e, n, t) {
    return x(Ce(e), function (e) {
      return ge(e, n) ? t(e) ? [e] : [] : it(e, n, t);
    });
  },
      ut = {
    firstLayer: function firstLayer(e, n) {
      return it(e, n, D(!0));
    },
    filterFirstLayer: it
  },
      ct = b(tt, "th,td"),
      at = b(tt, "tr"),
      lt = {
    cell: function cell(e, n) {
      return nt(["td", "th"], e, n);
    },
    firstCell: function firstCell(e) {
      return Zn(e, "th,td");
    },
    cells: function cells(e) {
      return ut.firstLayer(e, "th,td");
    },
    neighbourCells: ct,
    table: function table(e, n) {
      return et(e, "table", n);
    },
    row: function row(e, n) {
      return nt(["tr"], e, n);
    },
    rows: function rows(e) {
      return ut.firstLayer(e, "tr");
    },
    notCell: function notCell(e, n) {
      return nt(["caption", "tr", "tbody", "tfoot", "thead"], e, n);
    },
    neighbourRows: at,
    attr: rt,
    grid: function grid(e, n, t) {
      var r = rt(e, n),
          o = rt(e, t);
      return _n(r, o);
    }
  },
      ft = function ft(e) {
    var n = lt.rows(e);
    return g(n, function (e) {
      var n = e,
          t = ve(n).map(function (e) {
        var n = en(e);
        return "tfoot" === n || "thead" === n || "tbody" === n ? n : "tbody";
      }).getOr("tbody"),
          r = g(lt.cells(e), function (e) {
        var n = G(e, "rowspan") ? parseInt(V(e, "rowspan"), 10) : 1,
            t = G(e, "colspan") ? parseInt(V(e, "colspan"), 10) : 1;
        return jn(e, n, t);
      });
      return Fn(n, r, t);
    });
  },
      st = function st(e, t) {
    return g(e, function (e) {
      var n = g(lt.cells(e), function (e) {
        var n = G(e, "rowspan") ? parseInt(V(e, "rowspan"), 10) : 1,
            t = G(e, "colspan") ? parseInt(V(e, "colspan"), 10) : 1;
        return jn(e, n, t);
      });
      return Fn(e, n, t.section());
    });
  },
      dt = function dt(e, n) {
    var t = x(e.all(), function (e) {
      return e.cells();
    });
    return h(t, n);
  },
      mt = {
    generate: function generate(e) {
      var l = {},
          n = [],
          t = e.length,
          f = 0;
      p(e, function (e, c) {
        var a = [];
        p(e.cells(), function (e) {
          for (var n = 0; l[ot(c, n)] !== undefined;) {
            n++;
          }

          for (var t = Hn(e.element(), e.rowspan(), e.colspan(), c, n), r = 0; r < e.colspan(); r++) {
            for (var o = 0; o < e.rowspan(); o++) {
              var i = n + r,
                  u = ot(c + o, i);
              l[u] = t, f = Math.max(f, i + 1);
            }
          }

          a.push(t);
        }), n.push(Fn(e.element(), a, e.section()));
      });

      var r = _n(t, f);

      return {
        grid: D(r),
        access: D(l),
        all: D(n)
      };
    },
    getAt: function getAt(e, n, t) {
      var r = e.access()[ot(n, t)];
      return r !== undefined ? Me.some(r) : Me.none();
    },
    findItem: function findItem(e, n, t) {
      var r = dt(e, function (e) {
        return t(n, e.element());
      });
      return 0 < r.length ? Me.some(r[0]) : Me.none();
    },
    filterItems: dt,
    justCells: function justCells(e) {
      var n = g(e.all(), function (e) {
        return e.cells();
      });
      return S(n);
    }
  },
      gt = B("minRow", "minCol", "maxRow", "maxCol"),
      pt = function pt(e, n) {
    function t(e) {
      return ge(e.element(), n);
    }

    var r = ft(e),
        o = mt.generate(r),
        i = function (e, i) {
      var n = e.grid().columns(),
          u = e.grid().rows(),
          c = n,
          a = 0,
          l = 0;
      return N(e.access(), function (e) {
        if (i(e)) {
          var n = e.row(),
              t = n + e.rowspan() - 1,
              r = e.column(),
              o = r + e.colspan() - 1;
          n < u ? u = n : a < t && (a = t), r < c ? c = r : l < o && (l = o);
        }
      }), gt(u, c, a, l);
    }(o, t),
        u = "th:not(" + n + "),td:not(" + n + ")",
        c = ut.filterFirstLayer(e, "th,td", function (e) {
      return ge(e, u);
    });

    return p(c, Wn), function (e, n, t, r) {
      for (var o, i, u, c = n.grid().columns(), a = n.grid().rows(), l = 0; l < a; l++) {
        for (var f = !1, s = 0; s < c; s++) {
          if (!(l < t.minRow() || l > t.maxRow() || s < t.minCol() || s > t.maxCol())) mt.getAt(n, l, s).filter(r).isNone() ? (o = f, void 0, i = e[l].element(), u = on.fromTag("td"), Mn(u, on.fromTag("br")), (o ? Mn : Te)(i, u)) : f = !0;
        }
      }
    }(r, o, i, t), function (e, n) {
      var t = h(ut.firstLayer(e, "tr"), function (e) {
        return 0 === e.dom().childElementCount;
      });
      p(t, Wn), n.minCol() !== n.maxCol() && n.minRow() !== n.maxRow() || p(ut.firstLayer(e, "th,td"), function (e) {
        Y(e, "rowspan"), Y(e, "colspan");
      }), Y(e, "width"), Y(e, "height"), ue(e, "width"), ue(e, "height");
    }(e, i), e;
  };

  function ht(e) {
    return Bt.get(e);
  }

  function vt(e) {
    return Bt.getOption(e);
  }

  function bt(e, n) {
    Bt.set(e, n);
  }

  function wt(e) {
    return "img" === en(e) ? 1 : vt(e).fold(function () {
      return Ce(e).length;
    }, function (e) {
      return e.length;
    });
  }

  function yt(e) {
    return function (e) {
      return vt(e).filter(function (e) {
        return 0 !== e.trim().length || -1 < e.indexOf("\xa0");
      }).isSome();
    }(e) || l(Pt, en(e));
  }

  function Ct(e) {
    return function (e, o) {
      var i = function i(e) {
        for (var n = 0; n < e.childNodes.length; n++) {
          var t = on.fromDom(e.childNodes[n]);
          if (o(t)) return Me.some(t);
          var r = i(e.childNodes[n]);
          if (r.isSome()) return r;
        }

        return Me.none();
      };

      return i(e.dom());
    }(e, yt);
  }

  function St(e) {
    return Mt(e, yt);
  }

  function xt(e, n) {
    return on.fromDom(e.dom().cloneNode(n));
  }

  function Rt(e) {
    return xt(e, !1);
  }

  function Tt(e) {
    return xt(e, !0);
  }

  function Ot(e, n) {
    var t = function (e, n) {
      var t = on.fromTag(n),
          r = K(e);
      return q(t, r), t;
    }(e, n),
        r = Ce(Tt(e));

    return Ae(t, r), t;
  }

  function Dt() {
    var e = on.fromTag("td");
    return Mn(e, on.fromTag("br")), e;
  }

  function At(e, n, t) {
    var r = Ot(e, n);
    return N(t, function (e, n) {
      null === e ? Y(r, n) : U(r, n, e);
    }), r;
  }

  function Et(e) {
    return e;
  }

  function Nt(e) {
    return function () {
      return on.fromTag("tr", e.dom());
    };
  }

  function kt(e, n) {
    return n.column() >= e.startCol() && n.column() + n.colspan() - 1 <= e.finishCol() && n.row() >= e.startRow() && n.row() + n.rowspan() - 1 <= e.finishRow();
  }

  function It(e, n, t) {
    var r = mt.findItem(e, n, In),
        o = mt.findItem(e, t, In);
    return r.bind(function (n) {
      return o.map(function (e) {
        return function (e, n) {
          return Yn(Math.min(e.row(), n.row()), Math.min(e.column(), n.column()), Math.max(e.row() + e.rowspan() - 1, n.row() + n.rowspan() - 1), Math.max(e.column() + e.colspan() - 1, n.column() + n.colspan() - 1));
        }(n, e);
      });
    });
  }

  var Bt = function Qf(t, r) {
    var n = function n(e) {
      return t(e) ? Me.from(e.dom().nodeValue) : Me.none();
    };

    return {
      get: function get(e) {
        if (!t(e)) throw new Error("Can only get " + r + " value of a " + r + " node");
        return n(e).getOr("");
      },
      getOption: n,
      set: function set(e, n) {
        if (!t(e)) throw new Error("Can only set raw " + r + " value of a " + r + " node");
        e.dom().nodeValue = n;
      }
    };
  }(tn, "text"),
      Pt = ["img", "br"],
      Mt = function Mt(e, i) {
    var u = function u(e) {
      for (var n = Ce(e), t = n.length - 1; 0 <= t; t--) {
        var r = n[t];
        if (i(r)) return Me.some(r);
        var o = u(r);
        if (o.isSome()) return o;
      }

      return Me.none();
    };

    return u(e);
  },
      Wt = {
    cellOperations: function cellOperations(i, e, u) {
      return {
        row: Nt(e),
        cell: function cell(e) {
          var n = he(e.element()),
              t = on.fromTag(en(e.element()), n.dom()),
              r = u.getOr(["strong", "em", "b", "i", "span", "font", "h1", "h2", "h3", "h4", "h5", "h6", "p", "div"]),
              o = 0 < r.length ? function (r, o, i) {
            return Ct(r).map(function (e) {
              var n = i.join(","),
                  t = ke(e, n, function (e) {
                return In(e, r);
              });
              return v(t, function (e, n) {
                var t = Rt(n);
                return Y(t, "contenteditable"), Mn(e, t), t;
              }, o);
            }).getOr(o);
          }(e.element(), t, r) : t;
          return Mn(o, on.fromTag("br")), function (e, n) {
            var t = e.dom(),
                r = n.dom();
            Q(t) && Q(r) && (r.style.cssText = t.style.cssText);
          }(e.element(), t), ue(t, "height"), 1 !== e.colspan() && ue(e.element(), "width"), i(e.element(), t), t;
        },
        replace: At,
        gap: Dt
      };
    },
    paste: function paste(e) {
      return {
        row: Nt(e),
        cell: Dt,
        replace: Et,
        gap: Dt
      };
    }
  },
      _t = function _t(e, n) {
    var t = n.column(),
        r = n.column() + n.colspan() - 1,
        o = n.row(),
        i = n.row() + n.rowspan() - 1;
    return t <= e.finishCol() && r >= e.startCol() && o <= e.finishRow() && i >= e.startRow();
  },
      Lt = function Lt(e, n) {
    for (var t = !0, r = b(kt, n), o = n.startRow(); o <= n.finishRow(); o++) {
      for (var i = n.startCol(); i <= n.finishCol(); i++) {
        t = t && mt.getAt(e, o, i).exists(r);
      }
    }

    return t ? Me.some(n) : Me.none();
  },
      jt = It,
      zt = function zt(n, e, t) {
    return It(n, e, t).bind(function (e) {
      return Lt(n, e);
    });
  },
      Ht = function Ht(r, e, o, i) {
    return mt.findItem(r, e, In).bind(function (e) {
      var n = 0 < o ? e.row() + e.rowspan() - 1 : e.row(),
          t = 0 < i ? e.column() + e.colspan() - 1 : e.column();
      return mt.getAt(r, n + o, t + i).map(function (e) {
        return e.element();
      });
    });
  },
      Ft = function Ft(t, e, n) {
    return jt(t, e, n).map(function (e) {
      var n = mt.filterItems(t, b(_t, e));
      return g(n, function (e) {
        return e.element();
      });
    });
  },
      Ut = function Ut(e, n) {
    return mt.findItem(e, n, function (e, n) {
      return Bn(n, e);
    }).map(function (e) {
      return e.element();
    });
  },
      qt = function qt(e) {
    var n = ft(e);
    return mt.generate(n);
  },
      Vt = function Vt(t, r, o) {
    return lt.table(t).bind(function (e) {
      var n = qt(e);
      return Ht(n, t, r, o);
    });
  },
      Gt = function Gt(e, n, t) {
    var r = qt(e);
    return Ft(r, n, t);
  },
      Yt = function Yt(e, n, t, r, o) {
    var i = qt(e),
        u = In(e, t) ? Me.some(n) : Ut(i, n),
        c = In(e, o) ? Me.some(r) : Ut(i, r);
    return u.bind(function (n) {
      return c.bind(function (e) {
        return Ft(i, n, e);
      });
    });
  },
      Kt = function Kt(e, n, t) {
    var r = qt(e);
    return zt(r, n, t);
  },
      Xt = ["body", "p", "div", "article", "aside", "figcaption", "figure", "footer", "header", "nav", "section", "ol", "ul", "li", "table", "thead", "tbody", "tfoot", "caption", "tr", "td", "th", "h1", "h2", "h3", "h4", "h5", "h6", "blockquote", "pre", "address"];

  function $t() {
    return {
      up: D({
        selector: Jn,
        closest: et,
        predicate: $n,
        all: be
      }),
      down: D({
        selector: Be,
        predicate: Kn
      }),
      styles: D({
        get: oe,
        getRaw: ie,
        set: te,
        remove: ue
      }),
      attrs: D({
        get: V,
        set: U,
        remove: Y,
        copyTo: function copyTo(e, n) {
          var t = K(e);
          q(n, t);
        }
      }),
      insert: D({
        before: xe,
        after: Re,
        afterAll: De,
        append: Mn,
        appendAll: Ae,
        prepend: Te,
        wrap: Oe
      }),
      remove: D({
        unwrap: Ne,
        remove: Wn
      }),
      create: D({
        nu: on.fromTag,
        clone: function clone(e) {
          return on.fromDom(e.dom().cloneNode(!1));
        },
        text: on.fromText
      }),
      query: D({
        comparePosition: function comparePosition(e, n) {
          return e.dom().compareDocumentPosition(n.dom());
        },
        prevSibling: we,
        nextSibling: ye
      }),
      property: D({
        children: Ce,
        name: en,
        parent: ve,
        document: function document(e) {
          return e.dom().ownerDocument;
        },
        isText: tn,
        isComment: H,
        isElement: nn,
        getText: ht,
        setText: bt,
        isBoundary: function isBoundary(e) {
          return !!nn(e) && ("body" === en(e) || l(Xt, en(e)));
        },
        isEmptyTag: function isEmptyTag(e) {
          return !!nn(e) && l(["br", "img", "hr", "input"], en(e));
        }
      }),
      eq: In,
      is: Pn
    };
  }

  function Jt(e, n, t) {
    var r = e.property().children(n);
    return C(r, b(e.eq, t)).map(function (e) {
      return {
        before: D(r.slice(0, e)),
        after: D(r.slice(e + 1))
      };
    });
  }

  function Qt(e, n) {
    return b(e.eq, n);
  }

  function Zt(n, e, t, r) {
    function o(n) {
      return C(n, r).fold(function () {
        return n;
      }, function (e) {
        return n.slice(0, e + 1);
      });
    }

    void 0 === r && (r = s);
    var i = [e].concat(n.up().all(e)),
        u = [t].concat(n.up().all(t)),
        c = o(i),
        a = o(u),
        l = y(c, function (e) {
      return m(a, Qt(n, e));
    });
    return {
      firstpath: D(c),
      secondpath: D(a),
      shared: D(l)
    };
  }

  function er(e) {
    return Jn(e, "table");
  }

  function nr(c, a, r) {
    function l(n) {
      return function (e) {
        return r !== undefined && r(e) || In(e, n);
      };
    }

    return In(c, a) ? Me.some(sr.create({
      boxes: Me.some([c]),
      start: c,
      finish: a
    })) : er(c).bind(function (u) {
      return er(a).bind(function (i) {
        if (In(u, i)) return Me.some(sr.create({
          boxes: Gt(u, c, a),
          start: c,
          finish: a
        }));

        if (Bn(u, i)) {
          var e = 0 < (n = ke(a, "td,th", l(u))).length ? n[n.length - 1] : a;
          return Me.some(sr.create({
            boxes: Yt(u, c, u, a, i),
            start: c,
            finish: e
          }));
        }

        if (Bn(i, u)) {
          var n,
              t = 0 < (n = ke(c, "td,th", l(i))).length ? n[n.length - 1] : c;
          return Me.some(sr.create({
            boxes: Yt(i, c, u, a, i),
            start: c,
            finish: t
          }));
        }

        return fr.ancestors(c, a).shared().bind(function (e) {
          return et(e, "table", r).bind(function (e) {
            var n = ke(a, "td,th", l(e)),
                t = 0 < n.length ? n[n.length - 1] : a,
                r = ke(c, "td,th", l(e)),
                o = 0 < r.length ? r[r.length - 1] : c;
            return Me.some(sr.create({
              boxes: Yt(e, c, u, a, i),
              start: o,
              finish: t
            }));
          });
        });
      });
    });
  }

  function tr(e, n) {
    return Rr.cata(n.get(), D([]), o, D([e]));
  }

  function rr(e) {
    return {
      element: D(e),
      mergable: Me.none,
      unmergable: Me.none,
      selection: D([e])
    };
  }

  var or = B("left", "right"),
      ir = B("first", "second", "splits"),
      ur = function ur(r, o, e, n) {
    var t = o(r, e);
    return v(n, function (e, n) {
      var t = o(r, n);
      return cr(r, e, t);
    }, t);
  },
      cr = function cr(n, e, t) {
    return e.bind(function (e) {
      return t.filter(b(n.eq, e));
    });
  },
      ar = {
    sharedOne: function sharedOne(e, n, t) {
      return 0 < t.length ? function (e, n, t, r) {
        return r(e, n, t[0], t.slice(1));
      }(e, n, t, ur) : Me.none();
    },
    subset: function subset(n, e, t) {
      var r = Zt(n, e, t);
      return r.shared().bind(function (e) {
        return function (o, i, e, n) {
          var u = o.property().children(i);
          if (o.eq(i, e[0])) return Me.some([e[0]]);
          if (o.eq(i, n[0])) return Me.some([n[0]]);

          function t(e) {
            var n = E(e),
                t = C(n, Qt(o, i)).getOr(-1),
                r = t < n.length - 1 ? n[t + 1] : n[t];
            return C(u, Qt(o, r));
          }

          var r = t(e),
              c = t(n);
          return r.bind(function (r) {
            return c.map(function (e) {
              var n = Math.min(r, e),
                  t = Math.max(r, e);
              return u.slice(n, t + 1);
            });
          });
        }(n, e, r.firstpath(), r.secondpath());
      });
    },
    ancestors: Zt,
    breakToLeft: function breakToLeft(t, r, o) {
      return Jt(t, r, o).map(function (e) {
        var n = t.create().clone(r);
        return t.insert().appendAll(n, e.before().concat([o])), t.insert().appendAll(r, e.after()), t.insert().before(r, n), or(n, r);
      });
    },
    breakToRight: function breakToRight(t, r, e) {
      return Jt(t, r, e).map(function (e) {
        var n = t.create().clone(r);
        return t.insert().appendAll(n, e.after()), t.insert().after(r, n), or(r, n);
      });
    },
    breakPath: function breakPath(i, e, u, c) {
      var a = function a(e, n, o) {
        var t = ir(e, Me.none(), o);
        return u(e) ? ir(e, n, o) : i.property().parent(e).bind(function (r) {
          return c(i, r, e).map(function (e) {
            var n = [{
              first: e.left,
              second: e.right
            }],
                t = u(r) ? r : e.left();
            return a(t, Me.some(e.right()), o.concat(n));
          });
        }).getOr(t);
      };

      return a(e, Me.none(), []);
    }
  },
      lr = $t(),
      fr = {
    sharedOne: function sharedOne(t, e) {
      return ar.sharedOne(lr, function (e, n) {
        return t(n);
      }, e);
    },
    subset: function subset(e, n) {
      return ar.subset(lr, e, n);
    },
    ancestors: function ancestors(e, n, t) {
      return ar.ancestors(lr, e, n, t);
    },
    breakToLeft: function breakToLeft(e, n) {
      return ar.breakToLeft(lr, e, n);
    },
    breakToRight: function breakToRight(e, n) {
      return ar.breakToRight(lr, e, n);
    },
    breakPath: function breakPath(e, n, r) {
      return ar.breakPath(lr, e, n, function (e, n, t) {
        return r(n, t);
      });
    }
  },
      sr = {
    create: Xe(["boxes", "start", "finish"], [])
  },
      dr = nr,
      mr = function mr(e, n) {
    var t = Be(e, n);
    return 0 < t.length ? Me.some(t) : Me.none();
  },
      gr = function gr(e, n, t, r, o) {
    return function (e, n) {
      return y(e, function (e) {
        return ge(e, n);
      });
    }(e, o).bind(function (e) {
      return Vt(e, n, t).bind(function (e) {
        return function (n, t) {
          return Jn(n, "table").bind(function (e) {
            return Zn(e, t).bind(function (e) {
              return nr(e, n).bind(function (n) {
                return n.boxes().map(function (e) {
                  return {
                    boxes: D(e),
                    start: D(n.start()),
                    finish: D(n.finish())
                  };
                });
              });
            });
          });
        }(e, r);
      });
    });
  },
      pr = function pr(e, n, r) {
    return Zn(e, n).bind(function (t) {
      return Zn(e, r).bind(function (n) {
        return fr.sharedOne(er, [t, n]).map(function (e) {
          return {
            first: D(t),
            last: D(n),
            table: D(e)
          };
        });
      });
    });
  },
      hr = function hr(e, n) {
    return mr(e, n);
  },
      vr = function vr(o, e, n) {
    return pr(o, e, n).bind(function (t) {
      function e(e) {
        return In(o, e);
      }

      var n = Jn(t.first(), "thead,tfoot,tbody,table", e),
          r = Jn(t.last(), "thead,tfoot,tbody,table", e);
      return n.bind(function (n) {
        return r.bind(function (e) {
          return In(n, e) ? Kt(t.table(), t.first(), t.last()) : Me.none();
        });
      });
    });
  },
      br = "data-mce-selected",
      wr = "data-mce-first-selected",
      yr = "data-mce-last-selected",
      Cr = {
    selected: D(br),
    selectedSelector: D("td[data-mce-selected],th[data-mce-selected]"),
    attributeSelector: D("[data-mce-selected]"),
    firstSelected: D(wr),
    firstSelectedSelector: D("td[data-mce-first-selected],th[data-mce-first-selected]"),
    lastSelected: D(yr),
    lastSelectedSelector: D("td[data-mce-last-selected],th[data-mce-last-selected]")
  },
      Sr = function Sr(u) {
    if (!Le(u)) throw new Error("cases must be an array");
    if (0 === u.length) throw new Error("there must be at least one case");
    var c = [],
        t = {};
    return p(u, function (e, r) {
      var n = Ve(e);
      if (1 !== n.length) throw new Error("one and only one name per case");
      var o = n[0],
          i = e[o];
      if (t[o] !== undefined) throw new Error("duplicate key detected:" + o);
      if ("cata" === o) throw new Error("cannot have a case named cata (sorry)");
      if (!Le(i)) throw new Error("case arguments must be an array");
      c.push(o), t[o] = function () {
        var e = arguments.length;
        if (e !== i.length) throw new Error("Wrong number of arguments to case " + o + ". Expected " + i.length + " (" + i + "), got " + e);

        for (var t = new Array(e), n = 0; n < t.length; n++) {
          t[n] = arguments[n];
        }

        return {
          fold: function fold() {
            if (arguments.length !== u.length) throw new Error("Wrong number of arguments to fold. Expected " + u.length + ", got " + arguments.length);
            return arguments[r].apply(null, t);
          },
          match: function match(e) {
            var n = Ve(e);
            if (c.length !== n.length) throw new Error("Wrong number of arguments to match. Expected: " + c.join(",") + "\nActual: " + n.join(","));
            if (!A(c, function (e) {
              return l(n, e);
            })) throw new Error("Not all branches were specified when using match. Specified: " + n.join(", ") + "\nRequired: " + c.join(", "));
            return e[o].apply(null, t);
          },
          log: function log(e) {
            f.console.log(e, {
              constructors: c,
              constructor: o,
              params: t
            });
          }
        };
      };
    }), t;
  },
      xr = Sr([{
    none: []
  }, {
    multiple: ["elements"]
  }, {
    single: ["selection"]
  }]),
      Rr = {
    cata: function cata(e, n, t, r) {
      return e.fold(n, t, r);
    },
    none: xr.none,
    multiple: xr.multiple,
    single: xr.single
  },
      Tr = function Tr(t, e) {
    return Rr.cata(e.get(), Me.none, function (n, e) {
      return 0 === n.length ? Me.none() : vr(t, Cr.firstSelectedSelector(), Cr.lastSelectedSelector()).bind(function (e) {
        return 1 < n.length ? Me.some({
          bounds: D(e),
          cells: D(n)
        }) : Me.none();
      });
    }, Me.none);
  },
      Or = function Or(e, n) {
    var t = tr(e, n);
    return 0 < t.length && A(t, function (e) {
      return G(e, "rowspan") && 1 < parseInt(V(e, "rowspan"), 10) || G(e, "colspan") && 1 < parseInt(V(e, "colspan"), 10);
    }) ? Me.some(t) : Me.none();
  },
      Dr = tr,
      Ar = B("element", "clipboard", "generators"),
      Er = {
    noMenu: rr,
    forMenu: function forMenu(e, n, t) {
      return {
        element: D(t),
        mergable: D(Tr(n, e)),
        unmergable: D(Or(t, e)),
        selection: D(Dr(t, e))
      };
    },
    notCell: function notCell(e) {
      return rr(e);
    },
    paste: Ar,
    pasteRows: function pasteRows(e, n, t, r, o) {
      return {
        element: D(t),
        mergable: Me.none,
        unmergable: Me.none,
        selection: D(Dr(t, e)),
        clipboard: D(r),
        generators: D(o)
      };
    }
  },
      Nr = {
    registerEvents: function registerEvents(c, e, a, l) {
      c.on("BeforeGetContent", function (n) {
        !0 === n.selection && Rr.cata(e.get(), T, function (e) {
          n.preventDefault(), function (e) {
            return lt.table(e[0]).map(Tt).map(function (e) {
              return [pt(e, Cr.attributeSelector())];
            });
          }(e).each(function (e) {
            n.content = "text" === n.format ? function (e) {
              return g(e, function (e) {
                return e.dom().innerText;
              }).join("");
            }(e) : function (n, e) {
              return g(e, function (e) {
                return n.selection.serializer.serialize(e.dom(), {});
              }).join("");
            }(c, e);
          });
        }, T);
      }), c.on("BeforeSetContent", function (u) {
        !0 === u.selection && !0 === u.paste && Me.from(c.dom.getParent(c.selection.getStart(), "th,td")).each(function (e) {
          var i = on.fromDom(e);
          lt.table(i).each(function (n) {
            var e = h(function (e, n) {
              var t = (n || f.document).createElement("div");
              return t.innerHTML = e, Ce(on.fromDom(t));
            }(u.content), function (e) {
              return "meta" !== en(e);
            });

            if (1 === e.length && "table" === en(e[0])) {
              u.preventDefault();
              var t = on.fromDom(c.getDoc()),
                  r = Wt.paste(t),
                  o = Er.paste(i, e[0], r);
              a.pasteCells(n, o).each(function (e) {
                c.selection.setRng(e), c.focus(), l.clear(n);
              });
            }
          });
        });
      });
    }
  };

  function kr(r, o) {
    function e(e) {
      var n = o(e);

      if (n <= 0 || null === n) {
        var t = oe(e, r);
        return parseFloat(t) || 0;
      }

      return n;
    }

    function i(o, e) {
      return w(e, function (e, n) {
        var t = oe(o, n),
            r = t === undefined ? 0 : parseInt(t, 10);
        return isNaN(r) ? e : e + r;
      }, 0);
    }

    return {
      set: function set(e, n) {
        if (!He(n) && !n.match(/^[0-9]+$/)) throw new Error(r + ".set accepts only positive integer values. Value was " + n);
        var t = e.dom();
        Q(t) && (t.style[r] = n + "px");
      },
      get: e,
      getOuter: e,
      aggregate: i,
      max: function max(e, n, t) {
        var r = i(e, t);
        return r < n ? n - r : 0;
      }
    };
  }

  function Ir(e) {
    return Qr.get(e);
  }

  function Br(e) {
    return Qr.getOuter(e);
  }

  function Pr(e) {
    return Zr.get(e);
  }

  function Mr(e) {
    return Zr.getOuter(e);
  }

  function Wr(e, n, t) {
    return function (e, n) {
      var t = parseFloat(e);
      return isNaN(t) ? n : t;
    }(oe(e, n), t);
  }

  function _r(e, n) {
    te(e, "height", n + "px");
  }

  function Lr(e, n, t, r) {
    var o = parseInt(e, 10);
    return function (e, n) {
      return X(e, n, e.length - n.length);
    }(e, "%") && "table" !== en(n) ? function (e, t, r, n) {
      var o = lt.table(e).map(function (e) {
        var n = r(e);
        return Math.floor(t / 100 * n);
      }).getOr(t);
      return n(e, o), o;
    }(n, o, t, r) : o;
  }

  function jr(e) {
    var n = function (e) {
      return ie(e, "height").getOrThunk(function () {
        return no(e) + "px";
      });
    }(e);

    return n ? Lr(n, e, Ir, _r) : Ir(e);
  }

  function zr(e) {
    return ie(e, "width").fold(function () {
      return Me.from(V(e, "width"));
    }, function (e) {
      return Me.some(e);
    });
  }

  function Hr(e, n) {
    return e / n.pixelWidth() * 100;
  }

  function Fr(e, n) {
    return e !== undefined ? e : n !== undefined ? n : 0;
  }

  function Ur(e) {
    var n = e.dom().ownerDocument,
        t = n.body,
        r = n.defaultView,
        o = n.documentElement;
    if (t === e.dom()) return lo(t.offsetLeft, t.offsetTop);
    var i = Fr(r.pageYOffset, o.scrollTop),
        u = Fr(r.pageXOffset, o.scrollLeft),
        c = Fr(o.clientTop, t.clientTop),
        a = Fr(o.clientLeft, t.clientLeft);
    return fo(e).translate(u - a, i - c);
  }

  function qr(e) {
    return Ur(e).left() + Mr(e);
  }

  function Vr(e) {
    return Ur(e).left();
  }

  function Gr(e, n) {
    return mo(e, Vr(n));
  }

  function Yr(e, n) {
    return mo(e, qr(n));
  }

  function Kr(e) {
    return Ur(e).top();
  }

  function Xr(e, n) {
    return so(e, Kr(n));
  }

  function $r(e, n) {
    return so(e, Kr(n) + Br(n));
  }

  function Jr(t, n, r) {
    if (0 === r.length) return [];
    var e = g(r.slice(1), function (e, n) {
      return e.map(function (e) {
        return t(n, e);
      });
    }),
        o = r[r.length - 1].map(function (e) {
      return n(r.length - 1, e);
    });
    return e.concat([o]);
  }

  var Qr = kr("height", function (e) {
    var n = e.dom();
    return ee(e) ? n.getBoundingClientRect().height : n.offsetHeight;
  }),
      Zr = kr("width", function (e) {
    return e.dom().offsetWidth;
  }),
      eo = me(),
      no = function no(e) {
    return eo.browser.isIE() || eo.browser.isEdge() ? function (e) {
      var n = Wr(e, "padding-top", 0),
          t = Wr(e, "padding-bottom", 0),
          r = Wr(e, "border-top-width", 0),
          o = Wr(e, "border-bottom-width", 0),
          i = e.dom().getBoundingClientRect().height;
      return "border-box" === oe(e, "box-sizing") ? i : i - n - t - (r + o);
    }(e) : Wr(e, "height", Ir(e));
  },
      to = /(\d+(\.\d+)?)(\w|%)*/,
      ro = /(\d+(\.\d+)?)%/,
      oo = /(\d+(\.\d+)?)px|em/,
      io = function io(e, n) {
    return G(e, n) ? parseInt(V(e, n), 10) : 1;
  },
      uo = {
    percentageBasedSizeRegex: D(ro),
    pixelBasedSizeRegex: D(oo),
    setPixelWidth: function setPixelWidth(e, n) {
      te(e, "width", n + "px");
    },
    setPercentageWidth: function setPercentageWidth(e, n) {
      te(e, "width", n + "%");
    },
    setHeight: _r,
    getPixelWidth: function getPixelWidth(n, t) {
      return zr(n).fold(function () {
        return Pr(n);
      }, function (e) {
        return function (e, n, t) {
          var r = oo.exec(n);
          if (null !== r) return parseInt(r[1], 10);
          var o = ro.exec(n);
          return null === o ? Pr(e) : function (e, n) {
            return e / 100 * n.pixelWidth();
          }(parseFloat(o[1]), t);
        }(n, e, t);
      });
    },
    getPercentageWidth: function getPercentageWidth(n, t) {
      return zr(n).fold(function () {
        var e = Pr(n);
        return Hr(e, t);
      }, function (e) {
        return function (e, n, t) {
          var r = ro.exec(n);
          if (null !== r) return parseFloat(r[1]);
          var o = Pr(e);
          return Hr(o, t);
        }(n, e, t);
      });
    },
    getGenericWidth: function getGenericWidth(e) {
      return zr(e).bind(function (e) {
        var n = to.exec(e);
        return null !== n ? Me.some({
          width: D(parseFloat(n[1])),
          unit: D(n[3])
        }) : Me.none();
      });
    },
    setGenericWidth: function setGenericWidth(e, n, t) {
      te(e, "width", n + t);
    },
    getHeight: function getHeight(e) {
      return function (e, n, t) {
        return t(e) / io(e, n);
      }(e, "rowspan", jr);
    },
    getRawWidth: zr
  },
      co = function co(t, r) {
    uo.getGenericWidth(t).each(function (e) {
      var n = e.width() / 2;
      uo.setGenericWidth(t, n, e.unit()), uo.setGenericWidth(r, n, e.unit());
    });
  },
      ao = function ao(t, r) {
    return {
      left: D(t),
      top: D(r),
      translate: function translate(e, n) {
        return ao(t + e, r + n);
      }
    };
  },
      lo = ao,
      fo = function fo(e) {
    var n = e.dom(),
        t = n.ownerDocument.body;
    return t === n ? lo(t.offsetLeft, t.offsetTop) : ee(e) ? function (e) {
      var n = e.getBoundingClientRect();
      return lo(n.left, n.top);
    }(n) : lo(0, 0);
  },
      so = B("row", "y"),
      mo = B("col", "x"),
      go = {
    height: {
      delta: o,
      positions: function positions(e) {
        return Jr(Xr, $r, e);
      },
      edge: Kr
    },
    rtl: {
      delta: function delta(e) {
        return -e;
      },
      edge: qr,
      positions: function positions(e) {
        return Jr(Yr, Gr, e);
      }
    },
    ltr: {
      delta: o,
      edge: Vr,
      positions: function positions(e) {
        return Jr(Gr, Yr, e);
      }
    }
  },
      po = {
    ltr: go.ltr,
    rtl: go.rtl
  };

  function ho(n) {
    function t(e) {
      return n(e).isRtl() ? po.rtl : po.ltr;
    }

    return {
      delta: function delta(e, n) {
        return t(n).delta(e, n);
      },
      edge: function edge(e) {
        return t(e).edge(e);
      },
      positions: function positions(e, n) {
        return t(n).positions(e, n);
      }
    };
  }

  function vo(e) {
    for (var n = [], t = function t(e) {
      n.push(e);
    }, r = 0; r < e.length; r++) {
      e[r].each(t);
    }

    return n;
  }

  function bo(e, n) {
    for (var t = 0; t < e.length; t++) {
      var r = n(e[t], t);
      if (r.isSome()) return r;
    }

    return Me.none();
  }

  function wo(e, n, t, r) {
    t === r ? Y(e, n) : U(e, n, t);
  }

  function yo(e, n) {
    var t = V(e, n);
    return t === undefined || "" === t ? [] : t.split(" ");
  }

  function Co(e) {
    return e.dom().classList !== undefined;
  }

  function So(e, n) {
    return function (e, n, t) {
      var r = yo(e, n).concat([t]);
      return U(e, n, r.join(" ")), !0;
    }(e, "class", n);
  }

  function xo(e, n) {
    return function (e, n, t) {
      var r = h(yo(e, n), function (e) {
        return e !== t;
      });
      return 0 < r.length ? U(e, n, r.join(" ")) : Y(e, n), !1;
    }(e, "class", n);
  }

  function Ro(e, n) {
    Co(e) ? e.dom().classList.add(n) : So(e, n);
  }

  function To(e) {
    0 === (Co(e) ? e.dom().classList : function (e) {
      return yo(e, "class");
    }(e)).length && Y(e, "class");
  }

  function Oo(e, n) {
    return Co(e) && e.dom().classList.contains(n);
  }

  function Do(e, n) {
    for (var t = [], r = e; r < n; r++) {
      t.push(r);
    }

    return t;
  }

  function Ao(n, t) {
    if (t < 0 || t >= n.length - 1) return Me.none();
    var e = n[t].fold(function () {
      var e = E(n.slice(0, t));
      return bo(e, function (e, n) {
        return e.map(function (e) {
          return {
            value: e,
            delta: n + 1
          };
        });
      });
    }, function (e) {
      return Me.some({
        value: e,
        delta: 0
      });
    }),
        r = n[t + 1].fold(function () {
      var e = n.slice(t + 1);
      return bo(e, function (e, n) {
        return e.map(function (e) {
          return {
            value: e,
            delta: n + 1
          };
        });
      });
    }, function (e) {
      return Me.some({
        value: e,
        delta: 1
      });
    });
    return e.bind(function (t) {
      return r.map(function (e) {
        var n = e.delta + t.delta;
        return Math.abs(e.value - t.value) / n;
      });
    });
  }

  function Eo(e) {
    var n = e.replace(/\./g, "-");
    return {
      resolve: function resolve(e) {
        return n + "-" + e;
      }
    };
  }

  function No(e) {
    var n = Be(e.parent(), "." + iu);
    p(n, Wn);
  }

  function ko(t, e, r) {
    var o = t.origin();
    p(e, function (e, n) {
      e.each(function (e) {
        var n = r(o, e);
        Ro(n, iu), Mn(t.parent(), n);
      });
    });
  }

  function Io(e, n, t, r, o, i) {
    var u = Ur(n);
    !function (e, n, r, o) {
      ko(e, n, function (e, n) {
        var t = ou(n.row(), r.left() - e.left(), n.y() - e.top(), o, 7);
        return Ro(t, uu), t;
      });
    }(e, 0 < t.length ? o.positions(t, n) : [], u, Mr(n)), function (e, n, r, o) {
      ko(e, n, function (e, n) {
        var t = ru(n.col(), n.x() - e.left(), r.top() - e.top(), 7, o);
        return Ro(t, cu), t;
      });
    }(e, 0 < r.length ? i.positions(r, n) : [], u, Br(n));
  }

  function Bo(e, n) {
    var t = Be(e.parent(), "." + iu);
    p(t, n);
  }

  function Po(e, n) {
    return e.cells()[n];
  }

  function Mo(e, n) {
    if (0 === e.length) return 0;
    var t = e[0];
    return C(e, function (e) {
      return !n(t.element(), e.element());
    }).fold(function () {
      return e.length;
    }, function (e) {
      return e;
    });
  }

  function Wo(e, t) {
    return g(e, function (e) {
      var n = function (e) {
        return bo(e, function (e) {
          return ve(e.element()).map(function (e) {
            var n = ve(e).isNone();
            return Un(e, n);
          });
        }).getOrThunk(function () {
          return Un(t.row(), !0);
        });
      }(e.details());

      return qn(n.element(), e.details(), e.section(), n.isNew());
    });
  }

  function _o(e, n) {
    var t = vu(e, In);
    return Wo(t, n);
  }

  function Lo(e, n) {
    var t = S(g(e.all(), function (e) {
      return e.cells();
    }));
    return y(t, function (e) {
      return In(n, e.element());
    });
  }

  function jo(c, a, l, f, s) {
    return function (t, r, e, o, i) {
      var n = ft(r),
          u = mt.generate(n);
      return a(u, e).map(function (e) {
        var n = function (e, n) {
          return bu(e, n, !1);
        }(u, o),
            t = c(n, e, In, s(o)),
            r = _o(t.grid(), o);

        return {
          grid: D(r),
          cursor: t.cursor
        };
      }).fold(function () {
        return Me.none();
      }, function (e) {
        var n = Ji(r, e.grid());
        return l(r, e.grid(), i), f(r), au(t, r, go.height, i), Me.some({
          cursor: e.cursor,
          newRows: n.newRows,
          newCells: n.newCells
        });
      });
    };
  }

  function zo(n, e) {
    return lt.cell(e.element()).bind(function (e) {
      return Lo(n, e);
    });
  }

  function Ho(n, e) {
    var t = g(e.selection(), function (e) {
      return lt.cell(e).bind(function (e) {
        return Lo(n, e);
      });
    }),
        r = vo(t);
    return 0 < r.length ? Me.some({
      cells: r,
      generators: e.generators,
      clipboard: e.clipboard
    }) : Me.none();
  }

  function Fo(n, e) {
    var t = g(e.selection(), function (e) {
      return lt.cell(e).bind(function (e) {
        return Lo(n, e);
      });
    }),
        r = vo(t);
    return 0 < r.length ? Me.some(r) : Me.none();
  }

  function Uo(e, n) {
    return g(e, function () {
      return Un(n.cell(), !0);
    });
  }

  function qo(n, e, t) {
    return n.concat(function (e, n) {
      for (var t = [], r = 0; r < e; r++) {
        t.push(n(r));
      }

      return t;
    }(e, function (e) {
      return pu.setCells(n[n.length - 1], Uo(n[n.length - 1].cells(), t));
    }));
  }

  function Vo(e, n, t) {
    return g(e, function (e) {
      return pu.setCells(e, e.cells().concat(Uo(Do(0, n), t)));
    });
  }

  function Go(e, t, r, n) {
    return g(e, function (e) {
      return pu.mapCells(e, function (e) {
        return function (n) {
          return m(t, function (e) {
            return r(n.element(), e.element());
          });
        }(e) ? Un(n(e.element(), r), !0) : e;
      });
    });
  }

  function Yo(e, n, t, r) {
    return pu.getCellElement(e[n], t) !== undefined && 0 < n && r(pu.getCellElement(e[n - 1], t), pu.getCellElement(e[n], t));
  }

  function Ko(e, n, t) {
    return 0 < n && t(pu.getCellElement(e, n - 1), pu.getCellElement(e, n));
  }

  function Xo(e, n) {
    return G(e, n) && 1 < parseInt(V(e, n), 10);
  }

  function $o(e, n, t) {
    return ie(e, n).fold(function () {
      return t(e) + "px";
    }, function (e) {
      return e;
    });
  }

  function Jo(e, n) {
    return $o(e, "width", function (e) {
      return uo.getPixelWidth(e, n);
    });
  }

  function Qo(e) {
    return $o(e, "height", uo.getHeight);
  }

  function Zo(e, n, t, r, o) {
    var i = eu(e),
        u = g(i, function (e) {
      return e.map(n.edge);
    });
    return g(i, function (e, n) {
      return e.filter(d(Hu.hasColspan)).fold(function () {
        var e = Ao(u, n);
        return r(e);
      }, function (e) {
        return t(e, o);
      });
    });
  }

  function ei(e) {
    return e.map(function (e) {
      return e + "px";
    }).getOr("");
  }

  function ni(e, n, t, r) {
    var o = nu(e),
        i = g(o, function (e) {
      return e.map(n.edge);
    });
    return g(o, function (e, n) {
      return e.filter(d(Hu.hasRowspan)).fold(function () {
        var e = Ao(i, n);
        return r(e);
      }, function (e) {
        return t(e);
      });
    });
  }

  function ti(e, n, t) {
    for (var r = 0, o = e; o < n; o++) {
      r += t[o] !== undefined ? t[o] : 0;
    }

    return r;
  }

  function ri(e) {
    var n = o;
    return {
      width: D(e),
      pixelWidth: D(e),
      getWidths: Fu.getPixelWidths,
      getCellDelta: n,
      singleColumnWidth: function singleColumnWidth(e, n) {
        return [Math.max(Hu.minWidth(), e + n) - e];
      },
      minCellWidth: Hu.minWidth,
      setElementWidth: uo.setPixelWidth,
      setTableWidth: function setTableWidth(e, n, t) {
        var r = v(n, function (e, n) {
          return e + n;
        }, 0);
        uo.setPixelWidth(e, r);
      }
    };
  }

  function oi(e, n) {
    var t = uo.percentageBasedSizeRegex().exec(n);
    if (null !== t) return function (e, n) {
      var o = parseFloat(e),
          t = Pr(n);
      return {
        width: D(o),
        pixelWidth: D(t),
        getWidths: Fu.getPercentageWidths,
        getCellDelta: function getCellDelta(e) {
          return e / t * 100;
        },
        singleColumnWidth: function singleColumnWidth(e, n) {
          return [100 - e];
        },
        minCellWidth: function minCellWidth() {
          return Hu.minWidth() / t * 100;
        },
        setElementWidth: uo.setPercentageWidth,
        setTableWidth: function setTableWidth(e, n, t) {
          var r = t / 100 * o;
          uo.setPercentageWidth(e, o + r);
        }
      };
    }(t[1], e);
    var r = uo.pixelBasedSizeRegex().exec(n);

    if (null !== r) {
      var o = parseInt(r[1], 10);
      return ri(o);
    }

    var i = Pr(e);
    return ri(i);
  }

  function ii(e) {
    return mt.generate(e);
  }

  function ui(e) {
    var n = ft(e);
    return ii(n);
  }

  function ci(n, e) {
    var t = h(e, function (e) {
      return !l(n, e);
    });
    0 < t.length && W(t);
  }

  function ai(e) {
    return function (e, n) {
      return $u(e, n, {
        validate: ze,
        label: "function"
      });
    }(ci, e);
  }

  function li(e) {
    var n = G(e, "colspan") ? parseInt(V(e, "colspan"), 10) : 1,
        t = G(e, "rowspan") ? parseInt(V(e, "rowspan"), 10) : 1;
    return {
      element: D(e),
      colspan: D(n),
      rowspan: D(t)
    };
  }

  function fi(e, n) {
    var t = e.property().name(n);
    return l(nc, t);
  }

  function si(e, n) {
    return l(["br", "img", "hr", "input"], e.property().name(n));
  }

  function di(e) {
    0 === lt.cells(e).length && Wn(e);
  }

  function mi(e, n, t) {
    return sc(e, n, t).orThunk(function () {
      return sc(e, 0, 0);
    });
  }

  function gi(e, n, t) {
    return fc(e, sc(e, n, t));
  }

  function pi(e) {
    return w(e, function (e, n) {
      return m(e, function (e) {
        return e.row() === n.row();
      }) ? e : e.concat([n]);
    }, []).sort(function (e, n) {
      return e.row() - n.row();
    });
  }

  function hi(e) {
    return w(e, function (e, n) {
      return m(e, function (e) {
        return e.column() === n.column();
      }) ? e : e.concat([n]);
    }, []).sort(function (e, n) {
      return e.column() - n.column();
    });
  }

  function vi(e, n, t) {
    var r = st(e, t),
        o = mt.generate(r);
    return bu(o, n, !0);
  }

  function bi(e) {
    return e.getBoundingClientRect().width;
  }

  function wi(e) {
    return e.getBoundingClientRect().height;
  }

  function yi(e) {
    return /^[0-9]+$/.test(e) && (e += "px"), e;
  }

  function Ci(e) {
    var n = Be(e, "td[data-mce-style],th[data-mce-style]");
    Y(e, "data-mce-style"), p(n, function (e) {
      Y(e, "data-mce-style");
    });
  }

  function Si(e) {
    return e.getParam("table_default_attributes", yc, "object");
  }

  function xi(e) {
    return e.getParam("table_default_styles", wc, "object");
  }

  function Ri(e) {
    return e.getParam("table_cell_advtab", !0, "boolean");
  }

  function Ti(e) {
    return e.getParam("table_row_advtab", !0, "boolean");
  }

  function Oi(e) {
    return e.getParam("table_advtab", !0, "boolean");
  }

  function Di(e) {
    return e.getParam("table_style_by_css", !1, "boolean");
  }

  function Ai(e) {
    return e.getParam("table_class_list", [], "array");
  }

  function Ei(e) {
    return !1 === e.getParam("table_responsive_width");
  }

  function Ni(e, n) {
    return e.fire("newrow", {
      node: n
    });
  }

  function ki(e, n) {
    return e.fire("newcell", {
      node: n
    });
  }

  function Ii(e, n, t, r) {
    e.fire("ObjectResizeStart", {
      target: n,
      width: t,
      height: r
    });
  }

  function Bi(e, n, t, r) {
    e.fire("ObjectResized", {
      target: n,
      width: t,
      height: r
    });
  }

  function Pi(n, e) {
    function t(e) {
      return J(e, "rgb") ? n.toHex(e) : e;
    }

    return {
      borderwidth: ie(on.fromDom(e), "border-width").getOr(""),
      borderstyle: ie(on.fromDom(e), "border-style").getOr(""),
      bordercolor: ie(on.fromDom(e), "border-color").map(t).getOr(""),
      backgroundcolor: ie(on.fromDom(e), "background-color").map(t).getOr("")
    };
  }

  function Mi(e, n, t, r, o) {
    var i = {};
    return Dc.each(e.split(" "), function (e) {
      r.formatter.matchNode(o, n + e) && (i[t] = e);
    }), i[t] || (i[t] = ""), i;
  }

  function Wi(e, n) {
    e.setAttrib("scope", n.scope), e.setAttrib("class", n["class"]), e.setStyle("width", yi(n.width)), e.setStyle("height", yi(n.height));
  }

  function _i(e, n) {
    e.setStyle("background-color", n.backgroundcolor), e.setStyle("border-color", n.bordercolor), e.setStyle("border-style", n.borderstyle), e.setStyle("border-width", yi(n.borderwidth));
  }

  function Li(e, n, t) {
    var r = e.dom,
        o = t.celltype && n[0].nodeName.toLowerCase() !== t.celltype ? r.rename(n[0], t.celltype) : n[0],
        i = qc.normal(r, o);
    Wi(i, t), Ri(e) && _i(i, t), Nc(e, o), kc(e, o), t.halign && Ac(e, o, t.halign), t.valign && Ec(e, o, t.valign);
  }

  function ji(t, e, r) {
    var o = t.dom;
    Dc.each(e, function (e) {
      r.celltype && e.nodeName.toLowerCase() !== r.celltype && (e = o.rename(e, r.celltype));
      var n = qc.ifTruthy(o, e);
      Wi(n, r), Ri(t) && _i(n, r), r.halign && Ac(t, e, r.halign), r.valign && Ec(t, e, r.valign);
    });
  }

  function zi(e, n, t) {
    var r = t.getData();
    t.close(), e.undoManager.transact(function () {
      (1 === n.length ? Li : ji)(e, n, r), e.focus();
    });
  }

  function Hi(t, e, r, n) {
    var o = t.dom,
        i = n.getData();
    n.close();
    var u = 1 === e.length ? qc.normal : qc.ifTruthy;
    t.undoManager.transact(function () {
      Dc.each(e, function (e) {
        i.type !== e.parentNode.nodeName.toLowerCase() && function (e, n, t) {
          var r = e.getParent(n, "table"),
              o = n.parentNode,
              i = e.select(t, r)[0];
          i || (i = e.create(t), r.firstChild ? "CAPTION" === r.firstChild.nodeName ? e.insertAfter(i, r.firstChild) : r.insertBefore(i, r.firstChild) : r.appendChild(i)), i.appendChild(n), o.hasChildNodes() || e.remove(o);
        }(t.dom, e, i.type);
        var n = u(o, e);
        n.setAttrib("scope", i.scope), n.setAttrib("class", i["class"]), n.setStyle("height", yi(i.height)), Ti(t) && function (e, n) {
          e.setStyle("background-color", n.backgroundcolor), e.setStyle("border-color", n.bordercolor), e.setStyle("border-style", n.borderstyle);
        }(n, i), i.align !== r.align && (Nc(t, e), Ac(t, e, i.align));
      }), t.focus();
    });
  }

  function Fi(e, n, t, r, o) {
    void 0 === o && (o = Qc);
    var i = on.fromTag("table");
    re(i, o.styles), q(i, o.attributes);
    var u = on.fromTag("tbody");
    Mn(i, u);

    for (var c = [], a = 0; a < e; a++) {
      for (var l = on.fromTag("tr"), f = 0; f < n; f++) {
        var s = a < t || f < r ? on.fromTag("th") : on.fromTag("td");
        f < r && U(s, "scope", "row"), a < t && U(s, "scope", "col"), Mn(s, on.fromTag("br")), o.percentages && te(s, "width", 100 / n + "%"), Mn(l, s);
      }

      c.push(l);
    }

    return Ae(u, c), i;
  }

  function Ui(e, n) {
    e.selection.select(n.dom(), !0), e.selection.collapse(!0);
  }

  function qi(t, r, e) {
    var o,
        i = t.dom,
        u = e.getData();
    e.close(), "" === u["class"] && delete u["class"], t.undoManager.transact(function () {
      if (!r) {
        var e = parseInt(u.cols, 10) || 1,
            n = parseInt(u.rows, 10) || 1;
        r = Zc(t, e, n);
      }

      !function (e, n, t) {
        var r = e.dom,
            o = {},
            i = {};
        if (o["class"] = t["class"], i.height = yi(t.height), r.getAttrib(n, "width") && !Di(e) ? o.width = function (e) {
          return e ? e.replace(/px$/, "") : "";
        }(t.width) : i.width = yi(t.width), Di(e) ? (i["border-width"] = yi(t.border), i["border-spacing"] = yi(t.cellspacing)) : (o.border = t.border, o.cellpadding = t.cellpadding, o.cellspacing = t.cellspacing), Di(e) && n.children) for (var u = 0; u < n.children.length; u++) {
          na(r, n.children[u], {
            "border-width": yi(t.border),
            padding: yi(t.cellpadding)
          }), Oi(e) && na(r, n.children[u], {
            "border-color": t.bordercolor
          });
        }
        Oi(e) && (i["background-color"] = t.backgroundcolor, i["border-color"] = t.bordercolor, i["border-style"] = t.borderstyle), o.style = r.serializeStyle($c(xi(e), i)), r.setAttribs(n, $c(Si(e), o));
      }(t, r, u), (o = i.select("caption", r)[0]) && !u.caption && i.remove(o), !o && u.caption && ((o = i.create("caption")).innerHTML = Jc.ie ? "\xa0" : '<br data-mce-bogus="1"/>', r.insertBefore(o, r.firstChild)), "" === u.align ? Nc(t, r) : Ac(t, r, u.align), t.focus(), t.addVisual();
    });
  }

  function Vi(n) {
    return function (e) {
      return Me.from(e.dom.getParent(e.selection.getStart(), n)).map(on.fromDom);
    };
  }

  function Gi(e) {
    function n() {
      e.stopPropagation();
    }

    function t() {
      e.preventDefault();
    }

    var r = on.fromDom(e.target),
        o = O(t, n);
    return function (e, n, t, r, o, i, u) {
      return {
        target: D(e),
        x: D(n),
        y: D(t),
        stop: r,
        prevent: o,
        kill: i,
        raw: D(u)
      };
    }(r, e.clientX, e.clientY, n, t, o, e);
  }

  function Yi(e, n, t, r, o) {
    var i = function (n, t) {
      return function (e) {
        n(e) && t(Gi(e));
      };
    }(t, r);

    return e.dom().addEventListener(n, i, o), {
      unbind: b(sa, e, n, i, o)
    };
  }

  function Ki(e, n, t) {
    return function (e, n, t, r) {
      return Yi(e, n, t, r, !1);
    }(e, n, da, t);
  }

  var Xi,
      $i = function $i(e) {
    var n = ft(e);
    return mt.generate(n).grid();
  },
      Ji = function Ji(o, e) {
    function n(e, n) {
      0 < e.length ? function (e, n) {
        var t = Qn(o, n).getOrThunk(function () {
          var e = on.fromTag(n, he(o).dom());
          return Mn(o, e), e;
        });
        Ee(t);
        var r = g(e, function (e) {
          e.isNew() && i.push(e.element());
          var n = e.element();
          return Ee(n), p(e.cells(), function (e) {
            e.isNew() && u.push(e.element()), wo(e.element(), "colspan", e.colspan(), 1), wo(e.element(), "rowspan", e.rowspan(), 1), Mn(n, e.element());
          }), n;
        });
        Ae(t, r);
      }(e, n) : function (e) {
        Qn(o, e).each(Wn);
      }(n);
    }

    var i = [],
        u = [],
        t = [],
        r = [],
        c = [];
    return p(e, function (e) {
      switch (e.section()) {
        case "thead":
          t.push(e);
          break;

        case "tbody":
          r.push(e);
          break;

        case "tfoot":
          c.push(e);
      }
    }), n(t, "thead"), n(r, "tbody"), n(c, "tfoot"), {
      newRows: D(i),
      newCells: D(u)
    };
  },
      Qi = function Qi(e) {
    return g(e, function (e) {
      var t = Rt(e.element());
      return p(e.cells(), function (e) {
        var n = Tt(e.element());
        wo(n, "colspan", e.colspan(), 1), wo(n, "rowspan", e.rowspan(), 1), Mn(t, n);
      }), t;
    });
  },
      Zi = function Zi(e, n, t) {
    var r = e();
    return y(r, n).orThunk(function () {
      return Me.from(r[0]).orThunk(t);
    }).map(function (e) {
      return e.element();
    });
  },
      eu = function eu(t) {
    var e = t.grid(),
        n = Do(0, e.columns()),
        r = Do(0, e.rows());
    return g(n, function (n) {
      return Zi(function () {
        return x(r, function (e) {
          return mt.getAt(t, e, n).filter(function (e) {
            return e.column() === n;
          }).fold(D([]), function (e) {
            return [e];
          });
        });
      }, function (e) {
        return 1 === e.colspan();
      }, function () {
        return mt.getAt(t, 0, n);
      });
    });
  },
      nu = function nu(t) {
    var e = t.grid(),
        n = Do(0, e.rows()),
        r = Do(0, e.columns());
    return g(n, function (n) {
      return Zi(function () {
        return x(r, function (e) {
          return mt.getAt(t, n, e).filter(function (e) {
            return e.row() === n;
          }).fold(D([]), function (e) {
            return [e];
          });
        });
      }, function (e) {
        return 1 === e.rowspan();
      }, function () {
        return mt.getAt(t, n, 0);
      });
    });
  },
      tu = {
    resolve: Eo("ephox-snooker").resolve
  },
      ru = function ru(e, n, t, r, o) {
    var i = on.fromTag("div");
    return re(i, {
      position: "absolute",
      left: n - r / 2 + "px",
      top: t + "px",
      height: o + "px",
      width: r + "px"
    }), q(i, {
      "data-column": e,
      role: "presentation"
    }), i;
  },
      ou = function ou(e, n, t, r, o) {
    var i = on.fromTag("div");
    return re(i, {
      position: "absolute",
      left: n + "px",
      top: t - o / 2 + "px",
      height: o + "px",
      width: r + "px"
    }), q(i, {
      "data-row": e,
      role: "presentation"
    }), i;
  },
      iu = tu.resolve("resizer-bar"),
      uu = tu.resolve("resizer-rows"),
      cu = tu.resolve("resizer-cols"),
      au = function au(e, n, t, r) {
    No(e);
    var o = ft(n),
        i = mt.generate(o),
        u = nu(i),
        c = eu(i);
    Io(e, n, u, c, t, r);
  },
      lu = function lu(e) {
    Bo(e, function (e) {
      te(e, "display", "none");
    });
  },
      fu = function fu(e) {
    Bo(e, function (e) {
      te(e, "display", "block");
    });
  },
      su = No,
      du = function du(e) {
    return Oo(e, uu);
  },
      mu = function mu(e) {
    return Oo(e, cu);
  },
      gu = function gu(e, n) {
    return Vn(n, e.section());
  },
      pu = {
    addCell: function addCell(e, n, t) {
      var r = e.cells(),
          o = r.slice(0, n),
          i = r.slice(n),
          u = o.concat([t]).concat(i);
      return gu(e, u);
    },
    setCells: gu,
    mutateCell: function mutateCell(e, n, t) {
      e.cells()[n] = t;
    },
    getCell: Po,
    getCellElement: function getCellElement(e, n) {
      return Po(e, n).element();
    },
    mapCells: function mapCells(e, n) {
      var t = e.cells(),
          r = g(t, n);
      return Vn(r, e.section());
    },
    cellLength: function cellLength(e) {
      return e.cells().length;
    }
  },
      hu = function hu(e, n, t, r) {
    var o = function (e, n) {
      return e[n];
    }(e, n).cells().slice(t),
        i = Mo(o, r),
        u = function (e, n) {
      return g(e, function (e) {
        return pu.getCell(e, n);
      });
    }(e, t).slice(n),
        c = Mo(u, r);

    return {
      colspan: D(i),
      rowspan: D(c)
    };
  },
      vu = function vu(o, i) {
    var u = g(o, function (e, n) {
      return g(e.cells(), function (e, n) {
        return !1;
      });
    });
    return g(o, function (e, r) {
      var n = x(e.cells(), function (e, n) {
        if (!1 !== u[r][n]) return [];
        var t = hu(o, r, n, i);
        return function (e, n, t, r) {
          for (var o = e; o < e + t; o++) {
            for (var i = n; i < n + r; i++) {
              u[o][i] = !0;
            }
          }
        }(r, n, t.rowspan(), t.colspan()), [zn(e.element(), t.rowspan(), t.colspan(), e.isNew())];
      });
      return Gn(n, e.section());
    });
  },
      bu = function bu(e, n, t) {
    for (var r = [], o = 0; o < e.grid().rows(); o++) {
      for (var i = [], u = 0; u < e.grid().columns(); u++) {
        var c = mt.getAt(e, o, u).map(function (e) {
          return Un(e.element(), t);
        }).getOrThunk(function () {
          return Un(n.gap(), !0);
        });
        i.push(c);
      }

      var a = Vn(i, e.all()[o].section());
      r.push(a);
    }

    return r;
  },
      wu = function wu(t) {
    return {
      is: function is(e) {
        return t === e;
      },
      isValue: i,
      isError: s,
      getOr: D(t),
      getOrThunk: D(t),
      getOrDie: D(t),
      or: function or(e) {
        return wu(t);
      },
      orThunk: function orThunk(e) {
        return wu(t);
      },
      fold: function fold(e, n) {
        return n(t);
      },
      map: function map(e) {
        return wu(e(t));
      },
      mapError: function mapError(e) {
        return wu(t);
      },
      each: function each(e) {
        e(t);
      },
      bind: function bind(e) {
        return e(t);
      },
      exists: function exists(e) {
        return e(t);
      },
      forall: function forall(e) {
        return e(t);
      },
      toOption: function toOption() {
        return Me.some(t);
      }
    };
  },
      yu = function yu(t) {
    return {
      is: s,
      isValue: s,
      isError: i,
      getOr: o,
      getOrThunk: function getOrThunk(e) {
        return e();
      },
      getOrDie: function getOrDie() {
        return function (e) {
          return function () {
            throw new Error(e);
          };
        }(String(t))();
      },
      or: function or(e) {
        return e;
      },
      orThunk: function orThunk(e) {
        return e();
      },
      fold: function fold(e, n) {
        return e(t);
      },
      map: function map(e) {
        return yu(t);
      },
      mapError: function mapError(e) {
        return yu(e(t));
      },
      each: T,
      bind: function bind(e) {
        return yu(t);
      },
      exists: s,
      forall: i,
      toOption: Me.none
    };
  },
      Cu = {
    value: wu,
    error: yu,
    fromOption: function fromOption(e, n) {
      return e.fold(function () {
        return yu(n);
      }, wu);
    }
  },
      Su = function Su(e, n, t) {
    if (e.row() >= n.length || e.column() > pu.cellLength(n[0])) return Cu.error("invalid start address out of table bounds, row: " + e.row() + ", column: " + e.column());
    var r = n.slice(e.row()),
        o = r[0].cells().slice(e.column()),
        i = pu.cellLength(t[0]),
        u = t.length;
    return Cu.value({
      rowDelta: D(r.length - u),
      colDelta: D(o.length - i)
    });
  },
      xu = function xu(e, n) {
    var t = pu.cellLength(e[0]),
        r = pu.cellLength(n[0]);
    return {
      rowDelta: D(0),
      colDelta: D(t - r)
    };
  },
      Ru = function Ru(e, n, t) {
    var r = n.colDelta() < 0 ? Vo : o;
    return (n.rowDelta() < 0 ? qo : o)(r(e, Math.abs(n.colDelta()), t), Math.abs(n.rowDelta()), t);
  },
      Tu = function Tu(e, n, t, r) {
    if (0 === e.length) return e;

    for (var o = n.startRow(); o <= n.finishRow(); o++) {
      for (var i = n.startCol(); i <= n.finishCol(); i++) {
        pu.mutateCell(e[o], i, Un(r(), !1));
      }
    }

    return e;
  },
      Ou = function Ou(e, n, t, r) {
    for (var o = !0, i = 0; i < e.length; i++) {
      for (var u = 0; u < pu.cellLength(e[0]); u++) {
        var c = t(pu.getCellElement(e[i], u), n);
        !0 === c && !1 === o ? pu.mutateCell(e[i], u, Un(r(), !0)) : !0 === c && (o = !1);
      }
    }

    return e;
  },
      Du = function Du(i, t, u, c) {
    if (0 < t && t < i.length) {
      var e = function (e, t) {
        return w(e, function (e, n) {
          return m(e, function (e) {
            return t(e.element(), n.element());
          }) ? e : e.concat([n]);
        }, []);
      }(i[t - 1].cells(), u);

      p(e, function (r) {
        for (var o = Me.none(), e = function e(t) {
          for (var e = function e(n) {
            var e = i[t].cells()[n];
            u(e.element(), r.element()) && (o.isNone() && (o = Me.some(c())), o.each(function (e) {
              pu.mutateCell(i[t], n, Un(e, !0));
            }));
          }, n = 0; n < pu.cellLength(i[0]); n++) {
            e(n);
          }
        }, n = t; n < i.length; n++) {
          e(n);
        }
      });
    }

    return i;
  },
      Au = function Au(t, r, o, i, u) {
    return Su(t, r, o).map(function (e) {
      var n = Ru(r, e, i);
      return function (e, n, t, r, o) {
        for (var i, u, c, a, l, f = e.row(), s = e.column(), d = f + t.length, m = s + pu.cellLength(t[0]), g = f; g < d; g++) {
          for (var p = s; p < m; p++) {
            i = n, u = g, c = p, l = a = void 0, a = b(o, pu.getCell(i[u], c).element()), l = i[u], 1 < i.length && 1 < pu.cellLength(l) && (0 < c && a(pu.getCellElement(l, c - 1)) || c < l.cells().length - 1 && a(pu.getCellElement(l, c + 1)) || 0 < u && a(pu.getCellElement(i[u - 1], c)) || u < i.length - 1 && a(pu.getCellElement(i[u + 1], c))) && Ou(n, pu.getCellElement(n[g], p), o, r.cell);
            var h = pu.getCellElement(t[g - f], p - s),
                v = r.replace(h);
            pu.mutateCell(n[g], p, Un(v, !0));
          }
        }

        return n;
      }(t, n, o, i, u);
    });
  },
      Eu = function Eu(e, n, t, r, o) {
    Du(n, e, o, r.cell);
    var i = xu(t, n),
        u = Ru(t, i, r),
        c = xu(n, u),
        a = Ru(n, c, r);
    return a.slice(0, e).concat(u).concat(a.slice(e, a.length));
  },
      Nu = function Nu(t, r, e, o, i) {
    var n = t.slice(0, r),
        u = t.slice(r),
        c = pu.mapCells(t[e], function (e, n) {
      return 0 < r && r < t.length && o(pu.getCellElement(t[r - 1], n), pu.getCellElement(t[r], n)) ? pu.getCell(t[r], n) : Un(i(e.element(), o), !0);
    });
    return n.concat([c]).concat(u);
  },
      ku = function ku(e, t, r, o, i) {
    return g(e, function (e) {
      var n = 0 < t && t < pu.cellLength(e) && o(pu.getCellElement(e, t - 1), pu.getCellElement(e, t)) ? pu.getCell(e, t) : Un(i(pu.getCellElement(e, r), o), !0);
      return pu.addCell(e, t, n);
    });
  },
      Iu = function Iu(e, r, o, i, u) {
    var c = o + 1;
    return g(e, function (e, n) {
      var t = n === r ? Un(u(pu.getCellElement(e, o), i), !0) : pu.getCell(e, o);
      return pu.addCell(e, c, t);
    });
  },
      Bu = function Bu(e, n, t, r, o) {
    var i = n + 1,
        u = e.slice(0, i),
        c = e.slice(i),
        a = pu.mapCells(e[n], function (e, n) {
      return n === t ? Un(o(e.element(), r), !0) : e;
    });
    return u.concat([a]).concat(c);
  },
      Pu = function Pu(e, n, t) {
    return e.slice(0, n).concat(e.slice(t + 1));
  },
      Mu = function Mu(e, t, r) {
    var n = g(e, function (e) {
      var n = e.cells().slice(0, t).concat(e.cells().slice(r + 1));
      return Vn(n, e.section());
    });
    return h(n, function (e) {
      return 0 < e.cells().length;
    });
  },
      Wu = function Wu(t, r, o, e) {
    var n = x(t, function (e, n) {
      return Yo(t, n, r, o) || Ko(e, r, o) ? [] : [pu.getCell(e, r)];
    });
    return Go(t, n, o, e);
  },
      _u = function _u(t, r, o, e) {
    var i = t[r],
        n = x(i.cells(), function (e, n) {
      return Yo(t, r, n, o) || Ko(i, n, o) ? [] : [e];
    });
    return Go(t, n, o, e);
  },
      Lu = Sr([{
    none: []
  }, {
    only: ["index"]
  }, {
    left: ["index", "next"]
  }, {
    middle: ["prev", "index", "next"]
  }, {
    right: ["prev", "index"]
  }]),
      ju = _fn({}, Lu),
      zu = function zu(e, n, i, u) {
    function c(e) {
      return g(e, D(0));
    }

    function r(e, n) {
      if (0 <= i) {
        var t = Math.max(u.minCellWidth(), a[n] - i);
        return c(a.slice(0, e)).concat([i, t - a[n]]).concat(c(a.slice(n + 1)));
      }

      var r = Math.max(u.minCellWidth(), a[e] + i),
          o = a[e] - r;
      return c(a.slice(0, e)).concat([r - a[e], o]).concat(c(a.slice(n + 1)));
    }

    var a = e.slice(0),
        t = function (e, n) {
      return 0 === e.length ? ju.none() : 1 === e.length ? ju.only(0) : 0 === n ? ju.left(0, 1) : n === e.length - 1 ? ju.right(n - 1, n) : 0 < n && n < e.length - 1 ? ju.middle(n - 1, n, n + 1) : ju.none();
    }(e, n),
        o = D(c(a)),
        l = r;

    return t.fold(o, function (e) {
      return u.singleColumnWidth(a[e], i);
    }, l, function (e, n, t) {
      return r(n, t);
    }, function (e, n) {
      if (0 <= i) return c(a.slice(0, n)).concat([i]);
      var t = Math.max(u.minCellWidth(), a[n] + i);
      return c(a.slice(0, n)).concat([t - a[n]]);
    });
  },
      Hu = {
    hasColspan: function hasColspan(e) {
      return Xo(e, "colspan");
    },
    hasRowspan: function hasRowspan(e) {
      return Xo(e, "rowspan");
    },
    minWidth: D(10),
    minHeight: D(10),
    getInt: function getInt(e, n) {
      return parseInt(oe(e, n), 10);
    }
  },
      Fu = {
    getRawWidths: function getRawWidths(e, n, t) {
      return Zo(e, n, Jo, ei, t);
    },
    getPixelWidths: function getPixelWidths(e, n, t) {
      return Zo(e, n, uo.getPixelWidth, function (e) {
        return e.getOrThunk(t.minCellWidth);
      }, t);
    },
    getPercentageWidths: function getPercentageWidths(e, n, t) {
      return Zo(e, n, uo.getPercentageWidth, function (e) {
        return e.fold(function () {
          return t.minCellWidth();
        }, function (e) {
          return e / t.pixelWidth() * 100;
        });
      }, t);
    },
    getPixelHeights: function getPixelHeights(e, n) {
      return ni(e, n, uo.getHeight, function (e) {
        return e.getOrThunk(Hu.minHeight);
      });
    },
    getRawHeights: function getRawHeights(e, n) {
      return ni(e, n, Qo, ei);
    }
  },
      Uu = function Uu(e, t) {
    var n = mt.justCells(e);
    return g(n, function (e) {
      var n = ti(e.column(), e.column() + e.colspan(), t);
      return {
        element: e.element,
        width: D(n),
        colspan: e.colspan
      };
    });
  },
      qu = function qu(e, t) {
    var n = mt.justCells(e);
    return g(n, function (e) {
      var n = ti(e.row(), e.row() + e.rowspan(), t);
      return {
        element: e.element,
        height: D(n),
        rowspan: e.rowspan
      };
    });
  },
      Vu = function Vu(e, t) {
    return g(e.all(), function (e, n) {
      return {
        element: e.element,
        height: D(t[n])
      };
    });
  },
      Gu = function Gu(n) {
    return uo.getRawWidth(n).fold(function () {
      var e = Pr(n);
      return ri(e);
    }, function (e) {
      return oi(n, e);
    });
  },
      Yu = function Yu(e, n, t, r) {
    var o = Gu(e),
        i = o.getCellDelta(n),
        u = ui(e),
        c = o.getWidths(u, r, o),
        a = zu(c, t, i, o),
        l = g(a, function (e, n) {
      return e + c[n];
    }),
        f = Uu(u, l);
    p(f, function (e) {
      o.setElementWidth(e.element(), e.width());
    }), t === u.grid().columns() - 1 && o.setTableWidth(e, l, i);
  },
      Ku = function Ku(e, t, r, n) {
    var o = ui(e),
        i = Fu.getPixelHeights(o, n),
        u = g(i, function (e, n) {
      return r === n ? Math.max(t + e, Hu.minHeight()) : e;
    }),
        c = qu(o, u),
        a = Vu(o, u);
    p(a, function (e) {
      uo.setHeight(e.element(), e.height());
    }), p(c, function (e) {
      uo.setHeight(e.element(), e.height());
    });

    var l = function (e) {
      return v(e, function (e, n) {
        return e + n;
      }, 0);
    }(u);

    uo.setHeight(e, l);
  },
      Xu = function Xu(e, n, t) {
    var r = Gu(e),
        o = ii(n),
        i = r.getWidths(o, t, r),
        u = Uu(o, i);
    p(u, function (e) {
      r.setElementWidth(e.element(), e.width());
    }), 0 < u.length && r.setTableWidth(e, i, r.getCellDelta(0));
  },
      $u = function $u(r, o, i) {
    if (0 === o.length) throw new Error("You must specify at least one required field.");
    return _("required", o), L(o), function (n) {
      var t = Ve(n);
      A(o, function (e) {
        return l(t, e);
      }) || M(o, t), r(o, t);
      var e = h(o, function (e) {
        return !i.validate(n[e], e);
      });
      return 0 < e.length && function (e, n) {
        throw new Error("All values need to be of type: " + n + ". Keys (" + P(e).join(", ") + ") were not.");
      }(e, i.label), n;
    };
  },
      Ju = ai(["cell", "row", "replace", "gap"]),
      Qu = function Qu(n, t) {
    void 0 === t && (t = li), Ju(n);

    function r(e) {
      return function (e) {
        return n.cell(e);
      }(t(e));
    }

    function o(e) {
      var n = r(e);
      return i.get().isNone() && i.set(Me.some(n)), u = Me.some({
        item: e,
        replacement: n
      }), n;
    }

    var i = R(Me.none()),
        u = Me.none();
    return {
      getOrInit: function getOrInit(n, t) {
        return u.fold(function () {
          return o(n);
        }, function (e) {
          return t(n, e.item) ? e.replacement : o(n);
        });
      },
      cursor: i.get
    };
  },
      Zu = function Zu(c, a) {
    return function (r) {
      var o = R(Me.none());
      Ju(r);

      function i(e) {
        var n = {
          scope: c
        },
            t = r.replace(e, a, n);
        return u.push({
          item: e,
          sub: t
        }), o.get().isNone() && o.set(Me.some(t)), t;
      }

      var u = [];
      return {
        replaceOrInit: function replaceOrInit(n, t) {
          return function (n, t) {
            return y(u, function (e) {
              return t(e.item, n);
            });
          }(n, t).fold(function () {
            return i(n);
          }, function (e) {
            return t(n, e.item) ? e.sub : i(n);
          });
        },
        cursor: o.get
      };
    };
  },
      ec = function ec(t) {
    Ju(t);
    var e = R(Me.none());
    return {
      combine: function combine(n) {
        return e.get().isNone() && e.set(Me.some(n)), function () {
          var e = t.cell({
            element: D(n),
            colspan: D(1),
            rowspan: D(1)
          });
          return ue(e, "width"), ue(n, "width"), e;
        };
      },
      cursor: e.get
    };
  },
      nc = ["body", "p", "div", "article", "aside", "figcaption", "figure", "footer", "header", "nav", "section", "ol", "ul", "table", "thead", "tfoot", "tbody", "caption", "tr", "td", "th", "h1", "h2", "h3", "h4", "h5", "h6", "blockquote", "pre", "address"],
      tc = fi,
      rc = function rc(e, n) {
    var t = e.property().name(n);
    return l(["ol", "ul"], t);
  },
      oc = si,
      ic = $t(),
      uc = function uc(e) {
    return tc(ic, e);
  },
      cc = function cc(e) {
    return rc(ic, e);
  },
      ac = function ac(e) {
    return oc(ic, e);
  },
      lc = function lc(e) {
    function o(e) {
      return "br" === en(e);
    }

    function t(r) {
      return St(r).bind(function (n) {
        var t = function (e) {
          return ye(e).map(function (e) {
            return !!uc(e) || !!ac(e) && "img" !== en(e);
          }).getOr(!1);
        }(n);

        return ve(n).map(function (e) {
          return !0 === t || function (e) {
            return "li" === en(e) || $n(e, cc).isSome();
          }(e) || o(n) || uc(e) && !In(r, e) ? [] : [on.fromTag("br")];
        });
      }).getOr([]);
    }

    var n,
        r = 0 === (n = x(e, function (e) {
      var n = Ce(e);
      return function (e) {
        return A(e, function (e) {
          return o(e) || tn(e) && 0 === ht(e).trim().length;
        });
      }(n) ? [] : n.concat(t(e));
    })).length ? [on.fromTag("br")] : n;
    Ee(e[0]), Ae(e[0], r);
  },
      fc = B("grid", "cursor"),
      sc = function sc(e, n, t) {
    return Me.from(e[n]).bind(function (e) {
      return Me.from(e.cells()[t]).bind(function (e) {
        return Me.from(e.element());
      });
    });
  },
      dc = Xu,
      mc = {
    insertRowBefore: jo(function (e, n, t, r) {
      var o = n.row(),
          i = n.row(),
          u = Nu(e, i, o, t, r.getOrInit);
      return gi(u, i, n.column());
    }, zo, T, T, Qu),
    insertRowsBefore: jo(function (e, n, t, r) {
      var o = n[0].row(),
          i = n[0].row(),
          u = pi(n),
          c = w(u, function (e, n) {
        return Nu(e, i, o, t, r.getOrInit);
      }, e);
      return gi(c, i, n[0].column());
    }, Fo, T, T, Qu),
    insertRowAfter: jo(function (e, n, t, r) {
      var o = n.row(),
          i = n.row() + n.rowspan(),
          u = Nu(e, i, o, t, r.getOrInit);
      return gi(u, i, n.column());
    }, zo, T, T, Qu),
    insertRowsAfter: jo(function (e, n, t, r) {
      var o = pi(n),
          i = o[o.length - 1].row(),
          u = o[o.length - 1].row() + o[o.length - 1].rowspan(),
          c = w(o, function (e, n) {
        return Nu(e, u, i, t, r.getOrInit);
      }, e);
      return gi(c, u, n[0].column());
    }, Fo, T, T, Qu),
    insertColumnBefore: jo(function (e, n, t, r) {
      var o = n.column(),
          i = n.column(),
          u = ku(e, i, o, t, r.getOrInit);
      return gi(u, n.row(), i);
    }, zo, dc, T, Qu),
    insertColumnsBefore: jo(function (e, n, t, r) {
      var o = hi(n),
          i = o[0].column(),
          u = o[0].column(),
          c = w(o, function (e, n) {
        return ku(e, u, i, t, r.getOrInit);
      }, e);
      return gi(c, n[0].row(), u);
    }, Fo, dc, T, Qu),
    insertColumnAfter: jo(function (e, n, t, r) {
      var o = n.column(),
          i = n.column() + n.colspan(),
          u = ku(e, i, o, t, r.getOrInit);
      return gi(u, n.row(), i);
    }, zo, dc, T, Qu),
    insertColumnsAfter: jo(function (e, n, t, r) {
      var o = n[n.length - 1].column(),
          i = n[n.length - 1].column() + n[n.length - 1].colspan(),
          u = hi(n),
          c = w(u, function (e, n) {
        return ku(e, i, o, t, r.getOrInit);
      }, e);
      return gi(c, n[0].row(), i);
    }, Fo, dc, T, Qu),
    splitCellIntoColumns: jo(function (e, n, t, r) {
      var o = Iu(e, n.row(), n.column(), t, r.getOrInit);
      return gi(o, n.row(), n.column());
    }, zo, dc, T, Qu),
    splitCellIntoRows: jo(function (e, n, t, r) {
      var o = Bu(e, n.row(), n.column(), t, r.getOrInit);
      return gi(o, n.row(), n.column());
    }, zo, T, T, Qu),
    eraseColumns: jo(function (e, n, t, r) {
      var o = hi(n),
          i = Mu(e, o[0].column(), o[o.length - 1].column()),
          u = mi(i, n[0].row(), n[0].column());
      return fc(i, u);
    }, Fo, dc, di, Qu),
    eraseRows: jo(function (e, n, t, r) {
      var o = pi(n),
          i = Pu(e, o[0].row(), o[o.length - 1].row()),
          u = mi(i, n[0].row(), n[0].column());
      return fc(i, u);
    }, Fo, T, di, Qu),
    makeColumnHeader: jo(function (e, n, t, r) {
      var o = Wu(e, n.column(), t, r.replaceOrInit);
      return gi(o, n.row(), n.column());
    }, zo, T, T, Zu("row", "th")),
    unmakeColumnHeader: jo(function (e, n, t, r) {
      var o = Wu(e, n.column(), t, r.replaceOrInit);
      return gi(o, n.row(), n.column());
    }, zo, T, T, Zu(null, "td")),
    makeRowHeader: jo(function (e, n, t, r) {
      var o = _u(e, n.row(), t, r.replaceOrInit);

      return gi(o, n.row(), n.column());
    }, zo, T, T, Zu("col", "th")),
    unmakeRowHeader: jo(function (e, n, t, r) {
      var o = _u(e, n.row(), t, r.replaceOrInit);

      return gi(o, n.row(), n.column());
    }, zo, T, T, Zu(null, "td")),
    mergeCells: jo(function (e, n, t, r) {
      var o = n.cells();
      lc(o);
      var i = Tu(e, n.bounds(), t, D(o[0]));
      return fc(i, Me.from(o[0]));
    }, function (e, n) {
      return n.mergable();
    }, T, T, ec),
    unmergeCells: jo(function (e, n, t, r) {
      var o = v(n, function (e, n) {
        return Ou(e, n, t, r.combine(n));
      }, e);
      return fc(o, Me.from(n[0]));
    }, function (e, n) {
      return n.unmergable();
    }, dc, T, ec),
    pasteCells: jo(function (e, t, n, r) {
      var o,
          i,
          u,
          c,
          a = (o = t.clipboard(), i = t.generators(), u = ft(o), c = mt.generate(u), bu(c, i, !0)),
          l = Ln(t.row(), t.column());
      return Au(l, e, a, t.generators(), n).fold(function () {
        return fc(e, Me.some(t.element()));
      }, function (e) {
        var n = mi(e, t.row(), t.column());
        return fc(e, n);
      });
    }, function (n, t) {
      return lt.cell(t.element()).bind(function (e) {
        return Lo(n, e).map(function (e) {
          return _fn(_fn({}, e), {
            generators: t.generators,
            clipboard: t.clipboard
          });
        });
      });
    }, dc, T, Qu),
    pasteRowsBefore: jo(function (e, n, t, r) {
      var o = e[n.cells[0].row()],
          i = n.cells[0].row(),
          u = vi(n.clipboard(), n.generators(), o),
          c = Eu(i, e, u, n.generators(), t),
          a = mi(c, n.cells[0].row(), n.cells[0].column());
      return fc(c, a);
    }, Ho, T, T, Qu),
    pasteRowsAfter: jo(function (e, n, t, r) {
      var o = e[n.cells[0].row()],
          i = n.cells[n.cells.length - 1].row() + n.cells[n.cells.length - 1].rowspan(),
          u = vi(n.clipboard(), n.generators(), o),
          c = Eu(i, e, u, n.generators(), t),
          a = mi(c, n.cells[0].row(), n.cells[0].column());
      return fc(c, a);
    }, Ho, T, T, Qu)
  },
      gc = function gc(e) {
    return on.fromDom(e.getBody());
  },
      pc = function pc(n) {
    return function (e) {
      return In(e, gc(n));
    };
  },
      hc = {
    isRtl: D(!1)
  },
      vc = {
    isRtl: D(!0)
  },
      bc = {
    directionAt: function directionAt(e) {
      return "rtl" === function (e) {
        return "rtl" === oe(e, "direction") ? "rtl" : "ltr";
      }(e) ? vc : hc;
    }
  },
      wc = {
    "border-collapse": "collapse",
    width: "100%"
  },
      yc = {
    border: "1"
  },
      Cc = function Cc(e) {
    return e.getParam("table_tab_navigation", !0, "boolean");
  },
      Sc = function Sc(e) {
    var n = e.getParam("table_clone_elements");
    return _e(n) ? Me.some(n.split(/[ ,]/)) : Array.isArray(n) ? Me.some(n) : Me.none();
  },
      xc = function xc(e, n, t, r, o) {
    e.fire("TableSelectionChange", {
      cells: n,
      start: t,
      finish: r,
      otherCells: o
    });
  },
      Rc = function Rc(e) {
    e.fire("TableSelectionClear");
  },
      Tc = function Tc(f, e) {
    function t(e) {
      return "table" === en(gc(e));
    }

    function n(u, c, a, l) {
      return function (e, n) {
        Ci(e);
        var t = l(),
            r = on.fromDom(f.getDoc()),
            o = ho(bc.directionAt),
            i = Wt.cellOperations(a, r, s);
        return c(e) ? u(t, e, n, i, o).bind(function (e) {
          return p(e.newRows(), function (e) {
            Ni(f, e.dom());
          }), p(e.newCells(), function (e) {
            ki(f, e.dom());
          }), e.cursor().map(function (e) {
            var n = f.dom.createRng();
            return n.setStart(e.dom(), 0), n.setEnd(e.dom(), 0), n;
          });
        }) : Me.none();
      };
    }

    var s = Sc(f);
    return {
      deleteRow: n(mc.eraseRows, function (e) {
        var n = $i(e);
        return !1 === t(f) || 1 < n.rows();
      }, T, e),
      deleteColumn: n(mc.eraseColumns, function (e) {
        var n = $i(e);
        return !1 === t(f) || 1 < n.columns();
      }, T, e),
      insertRowsBefore: n(mc.insertRowsBefore, i, T, e),
      insertRowsAfter: n(mc.insertRowsAfter, i, T, e),
      insertColumnsBefore: n(mc.insertColumnsBefore, i, co, e),
      insertColumnsAfter: n(mc.insertColumnsAfter, i, co, e),
      mergeCells: n(mc.mergeCells, i, T, e),
      unmergeCells: n(mc.unmergeCells, i, T, e),
      pasteRowsBefore: n(mc.pasteRowsBefore, i, T, e),
      pasteRowsAfter: n(mc.pasteRowsAfter, i, T, e),
      pasteCells: n(mc.pasteCells, i, T, e)
    };
  },
      Oc = function Oc(e, n, r) {
    var t = ft(e),
        o = mt.generate(t);
    return Fo(o, n).map(function (e) {
      var n = bu(o, r, !1).slice(e[0].row(), e[e.length - 1].row() + e[e.length - 1].rowspan()),
          t = _o(n, r);

      return Qi(t);
    });
  },
      Dc = tinymce.util.Tools.resolve("tinymce.util.Tools"),
      Ac = function Ac(e, n, t) {
    t && e.formatter.apply("align" + t, {}, n);
  },
      Ec = function Ec(e, n, t) {
    t && e.formatter.apply("valign" + t, {}, n);
  },
      Nc = function Nc(n, t) {
    Dc.each("left center right".split(" "), function (e) {
      n.formatter.remove("align" + e, {}, t);
    });
  },
      kc = function kc(n, t) {
    Dc.each("top middle bottom".split(" "), function (e) {
      n.formatter.remove("valign" + e, {}, t);
    });
  },
      Ic = function Ic(o, e, i) {
    var n;
    return n = function (e, n) {
      for (var t = 0; t < n.length; t++) {
        var r = o.getStyle(n[t], i);
        if (void 0 === e && (e = r), e !== r) return "";
      }

      return e;
    }(n, o.select("td,th", e));
  },
      Bc = b(Mi, "left center right"),
      Pc = b(Mi, "top middle bottom"),
      Mc = function Mc(e, r, n) {
    var o = function o(e, t) {
      return t = t || [], Dc.each(e, function (e) {
        var n = {
          text: e.text || e.title
        };
        e.menu ? n.menu = o(e.menu) : (n.value = e.value, r && r(n)), t.push(n);
      }), t;
    };

    return o(e, n || []);
  },
      Wc = function Wc(e) {
    var o = e[0],
        n = e.slice(1),
        t = Ve(o);
    return p(n, function (e) {
      p(t, function (r) {
        N(e, function (e, n) {
          var t = o[r];
          "" !== t && r === n && t !== e && (o[r] = "");
        });
      });
    }), o;
  },
      _c = function _c(e) {
    var n = [{
      name: "borderstyle",
      type: "selectbox",
      label: "Border style",
      items: [{
        text: "Select...",
        value: ""
      }, {
        text: "Solid",
        value: "solid"
      }, {
        text: "Dotted",
        value: "dotted"
      }, {
        text: "Dashed",
        value: "dashed"
      }, {
        text: "Double",
        value: "double"
      }, {
        text: "Groove",
        value: "groove"
      }, {
        text: "Ridge",
        value: "ridge"
      }, {
        text: "Inset",
        value: "inset"
      }, {
        text: "Outset",
        value: "outset"
      }, {
        text: "None",
        value: "none"
      }, {
        text: "Hidden",
        value: "hidden"
      }]
    }, {
      name: "bordercolor",
      type: "colorinput",
      label: "Border color"
    }, {
      name: "backgroundcolor",
      type: "colorinput",
      label: "Background color"
    }];
    return {
      title: "Advanced",
      name: "advanced",
      items: "cell" === e ? [{
        name: "borderwidth",
        type: "input",
        label: "Border width"
      }].concat(n) : n
    };
  },
      Lc = function Lc(e, n, t) {
    var r,
        o,
        i,
        u = e.dom;
    return _fn(_fn({
      width: u.getStyle(n, "width") || u.getAttrib(n, "width"),
      height: u.getStyle(n, "height") || u.getAttrib(n, "height"),
      cellspacing: u.getStyle(n, "border-spacing") || u.getAttrib(n, "cellspacing"),
      cellpadding: u.getAttrib(n, "cellpadding") || Ic(e.dom, n, "padding"),
      border: (r = u, o = n, i = ie(on.fromDom(o), "border-width"), Di(e) && i.isSome() ? i.getOr("") : r.getAttrib(o, "border") || Ic(e.dom, o, "border-width") || Ic(e.dom, o, "border")),
      caption: !!u.select("caption", n)[0],
      "class": u.getAttrib(n, "class", "")
    }, Bc("align", "align", e, n)), t ? Pi(u, n) : {});
  },
      jc = function jc(e, n, t) {
    var r = e.dom;
    return _fn(_fn({
      height: r.getStyle(n, "height") || r.getAttrib(n, "height"),
      scope: r.getAttrib(n, "scope"),
      "class": r.getAttrib(n, "class", ""),
      align: "",
      type: n.parentNode.nodeName.toLowerCase()
    }, Bc("align", "align", e, n)), t ? Pi(r, n) : {});
  },
      zc = function zc(e, n, t) {
    var r = e.dom;
    return _fn(_fn(_fn({
      width: r.getStyle(n, "width") || r.getAttrib(n, "width"),
      height: r.getStyle(n, "height") || r.getAttrib(n, "height"),
      scope: r.getAttrib(n, "scope"),
      celltype: n.nodeName.toLowerCase(),
      "class": r.getAttrib(n, "class", "")
    }, Bc("align", "halign", e, n)), Pc("valign", "valign", e, n)), t ? Pi(r, n) : {});
  },
      Hc = function Hc(e, n) {
    var t,
        r,
        o,
        i,
        u = xi(e),
        c = Si(e),
        a = e.dom,
        l = n ? (t = a, r = I(u, "border-style").getOr(""), o = I(u, "border-color").getOr(""), i = I(u, "background-color").getOr(""), {
      borderstyle: r,
      bordercolor: f(o),
      backgroundcolor: f(i)
    }) : {};

    function f(e) {
      return J(e, "rgb") ? t.toHex(e) : e;
    }

    var s, d, m;
    return _fn(_fn(_fn(_fn(_fn(_fn({}, {
      height: "",
      width: "100%",
      cellspacing: "",
      cellpadding: "",
      caption: !1,
      "class": "",
      align: "",
      border: ""
    }), u), c), l), (m = u["border-width"], Di(e) && m ? {
      border: m
    } : I(c, "border").fold(function () {
      return {};
    }, function (e) {
      return {
        border: e
      };
    }))), (s = I(u, "border-spacing").or(I(c, "cellspacing")).fold(function () {
      return {};
    }, function (e) {
      return {
        cellspacing: e
      };
    }), d = I(u, "border-padding").or(I(c, "cellpadding")).fold(function () {
      return {};
    }, function (e) {
      return {
        cellpadding: e
      };
    }), _fn(_fn({}, s), d)));
  },
      Fc = [{
    name: "width",
    type: "input",
    label: "Width"
  }, {
    name: "height",
    type: "input",
    label: "Height"
  }, {
    name: "celltype",
    type: "selectbox",
    label: "Cell type",
    items: [{
      text: "Cell",
      value: "td"
    }, {
      text: "Header cell",
      value: "th"
    }]
  }, {
    name: "scope",
    type: "selectbox",
    label: "Scope",
    items: [{
      text: "None",
      value: ""
    }, {
      text: "Row",
      value: "row"
    }, {
      text: "Column",
      value: "col"
    }, {
      text: "Row group",
      value: "rowgroup"
    }, {
      text: "Column group",
      value: "colgroup"
    }]
  }, {
    name: "halign",
    type: "selectbox",
    label: "H Align",
    items: [{
      text: "None",
      value: ""
    }, {
      text: "Left",
      value: "left"
    }, {
      text: "Center",
      value: "center"
    }, {
      text: "Right",
      value: "right"
    }]
  }, {
    name: "valign",
    type: "selectbox",
    label: "V Align",
    items: [{
      text: "None",
      value: ""
    }, {
      text: "Top",
      value: "top"
    }, {
      text: "Middle",
      value: "middle"
    }, {
      text: "Bottom",
      value: "bottom"
    }]
  }],
      Uc = function Uc(e) {
    return function (n) {
      var e = function (e) {
        return e.getParam("table_cell_class_list", [], "array");
      }(n),
          t = Mc(e, function (e) {
        e.value && (e.textStyle = function () {
          return n.formatter.getCssText({
            block: "tr",
            classes: [e.value]
          });
        });
      });

      return 0 < e.length ? Me.some({
        name: "class",
        type: "selectbox",
        label: "Class",
        items: t
      }) : Me.none();
    }(e).fold(function () {
      return Fc;
    }, function (e) {
      return Fc.concat(e);
    });
  },
      qc = {
    normal: function normal(t, r) {
      return {
        setAttrib: function setAttrib(e, n) {
          t.setAttrib(r, e, n);
        },
        setStyle: function setStyle(e, n) {
          t.setStyle(r, e, n);
        }
      };
    },
    ifTruthy: function ifTruthy(t, r) {
      return {
        setAttrib: function setAttrib(e, n) {
          n && t.setAttrib(r, e, n);
        },
        setStyle: function setStyle(e, n) {
          n && t.setStyle(r, e, n);
        }
      };
    }
  },
      Vc = function Vc(n) {
    var e,
        t = [];

    if (t = n.dom.select("td[data-mce-selected],th[data-mce-selected]"), e = n.dom.getParent(n.selection.getStart(), "td,th"), !t.length && e && t.push(e), e = e || t[0]) {
      var r = Dc.map(t, function (e) {
        return zc(n, e, Ri(n));
      }),
          o = Wc(r),
          i = {
        type: "tabpanel",
        tabs: [{
          title: "General",
          name: "general",
          items: Uc(n)
        }, _c("cell")]
      },
          u = {
        type: "panel",
        items: [{
          type: "grid",
          columns: 2,
          items: Uc(n)
        }]
      };
      n.windowManager.open({
        title: "Cell Properties",
        size: "normal",
        body: Ri(n) ? i : u,
        buttons: [{
          type: "cancel",
          name: "cancel",
          text: "Cancel"
        }, {
          type: "submit",
          name: "save",
          text: "Save",
          primary: !0
        }],
        initialData: o,
        onSubmit: b(zi, n, t)
      });
    }
  },
      Gc = [{
    type: "selectbox",
    name: "type",
    label: "Row type",
    items: [{
      text: "Header",
      value: "thead"
    }, {
      text: "Body",
      value: "tbody"
    }, {
      text: "Footer",
      value: "tfoot"
    }]
  }, {
    type: "selectbox",
    name: "align",
    label: "Alignment",
    items: [{
      text: "None",
      value: ""
    }, {
      text: "Left",
      value: "left"
    }, {
      text: "Center",
      value: "center"
    }, {
      text: "Right",
      value: "right"
    }]
  }, {
    label: "Height",
    name: "height",
    type: "input"
  }],
      Yc = function Yc(e) {
    return function (n) {
      var e = function (e) {
        return e.getParam("table_row_class_list", [], "array");
      }(n),
          t = Mc(e, function (e) {
        e.value && (e.textStyle = function () {
          return n.formatter.getCssText({
            block: "tr",
            classes: [e.value]
          });
        });
      });

      return 0 < e.length ? Me.some({
        name: "class",
        type: "selectbox",
        label: "Class",
        items: t
      }) : Me.none();
    }(e).fold(function () {
      return Gc;
    }, function (e) {
      return Gc.concat(e);
    });
  },
      Kc = function Kc(n) {
    var e,
        t,
        r = n.dom,
        o = [];

    if ((e = r.getParent(n.selection.getStart(), "table")) && (t = r.getParent(n.selection.getStart(), "td,th"), Dc.each(e.rows, function (n) {
      Dc.each(n.cells, function (e) {
        if ((r.getAttrib(e, "data-mce-selected") || e === t) && o.indexOf(n) < 0) return o.push(n), !1;
      });
    }), o[0])) {
      var i = Dc.map(o, function (e) {
        return jc(n, e, Ti(n));
      }),
          u = Wc(i),
          c = {
        type: "tabpanel",
        tabs: [{
          title: "General",
          name: "general",
          items: Yc(n)
        }, _c("row")]
      },
          a = {
        type: "panel",
        items: [{
          type: "grid",
          columns: 2,
          items: Yc(n)
        }]
      };
      n.windowManager.open({
        title: "Row Properties",
        size: "normal",
        body: Ti(n) ? c : a,
        buttons: [{
          type: "cancel",
          name: "cancel",
          text: "Cancel"
        }, {
          type: "submit",
          name: "save",
          text: "Save",
          primary: !0
        }],
        initialData: u,
        onSubmit: b(Hi, n, o, u)
      });
    }
  },
      Xc = Object.prototype.hasOwnProperty,
      $c = (Xi = function Xi(e, n) {
    return n;
  }, function () {
    for (var e = new Array(arguments.length), n = 0; n < e.length; n++) {
      e[n] = arguments[n];
    }

    if (0 === e.length) throw new Error("Can't merge zero objects");

    for (var t = {}, r = 0; r < e.length; r++) {
      var o = e[r];

      for (var i in o) {
        Xc.call(o, i) && (t[i] = Xi(t[i], o[i]));
      }
    }

    return t;
  }),
      Jc = tinymce.util.Tools.resolve("tinymce.Env"),
      Qc = {
    styles: {
      "border-collapse": "collapse",
      width: "100%"
    },
    attributes: {
      border: "1"
    },
    percentages: !0
  },
      Zc = function Zc(n, e, t) {
    var r = xi(n),
        o = {
      styles: r,
      attributes: Si(n),
      percentages: function (e) {
        return _e(e) && -1 !== e.indexOf("%");
      }(r.width) && !Ei(n)
    },
        i = Fi(t, e, 0, 0, o);
    U(i, "data-mce-id", "__mce");

    var u = function (e) {
      var n = on.fromTag("div"),
          t = on.fromDom(e.dom().cloneNode(!0));
      return Mn(n, t), function (e) {
        return e.dom().innerHTML;
      }(n);
    }(i);

    return n.insertContent(u), Zn(gc(n), 'table[data-mce-id="__mce"]').map(function (e) {
      return Ei(n) && te(e, "width", oe(e, "width")), Y(e, "data-mce-id"), function (n, e) {
        p(Be(e, "tr"), function (e) {
          Ni(n, e.dom()), p(Be(e, "th,td"), function (e) {
            ki(n, e.dom());
          });
        });
      }(n, e), function (e, n) {
        Zn(n, "td,th").each(b(Ui, e));
      }(n, e), e.dom();
    }).getOr(null);
  },
      ea = function ea(n, e, t) {
    var r = t ? [{
      type: "input",
      name: "cols",
      label: "Cols",
      inputMode: "numeric"
    }, {
      type: "input",
      name: "rows",
      label: "Rows",
      inputMode: "numeric"
    }] : [],
        o = function (e) {
      return e.getParam("table_appearance_options", !0, "boolean");
    }(n) ? [{
      type: "input",
      name: "cellspacing",
      label: "Cell spacing",
      inputMode: "numeric"
    }, {
      type: "input",
      name: "cellpadding",
      label: "Cell padding",
      inputMode: "numeric"
    }, {
      type: "input",
      name: "border",
      label: "Border width"
    }, {
      type: "label",
      label: "Caption",
      items: [{
        type: "checkbox",
        name: "caption",
        label: "Show caption"
      }]
    }] : [],
        i = e ? [{
      type: "selectbox",
      name: "class",
      label: "Class",
      items: Mc(Ai(n), function (e) {
        e.value && (e.textStyle = function () {
          return n.formatter.getCssText({
            block: "table",
            classes: [e.value]
          });
        });
      })
    }] : [];
    return r.concat([{
      type: "input",
      name: "width",
      label: "Width"
    }, {
      type: "input",
      name: "height",
      label: "Height"
    }]).concat(o).concat([{
      type: "selectbox",
      name: "align",
      label: "Alignment",
      items: [{
        text: "None",
        value: ""
      }, {
        text: "Left",
        value: "left"
      }, {
        text: "Center",
        value: "center"
      }, {
        text: "Right",
        value: "right"
      }]
    }]).concat(i);
  },
      na = function na(e, n, t, r) {
    if ("TD" === n.tagName || "TH" === n.tagName) _e(t) ? e.setStyle(n, t, r) : e.setStyle(n, t);else if (n.children) for (var o = 0; o < n.children.length; o++) {
      na(e, n.children[o], t, r);
    }
  },
      ta = function ta(e, n) {
    var t,
        r = e.dom,
        o = Hc(e, Oi(e));
    !1 === n ? (t = r.getParent(e.selection.getStart(), "table")) ? o = Lc(e, t, Oi(e)) : Oi(e) && (o.borderstyle = "", o.bordercolor = "", o.backgroundcolor = "") : (o.cols = "1", o.rows = "1", Oi(e) && (o.borderstyle = "", o.bordercolor = "", o.backgroundcolor = ""));
    var i = 0 < Ai(e).length;
    i && o["class"] && (o["class"] = o["class"].replace(/\s*mce\-item\-table\s*/g, ""));
    var u = {
      type: "grid",
      columns: 2,
      items: ea(e, i, n)
    },
        c = Oi(e) ? {
      type: "tabpanel",
      tabs: [{
        title: "General",
        name: "general",
        items: [u]
      }, _c("table")]
    } : {
      type: "panel",
      items: [u]
    };
    e.windowManager.open({
      title: "Table Properties",
      size: "normal",
      body: c,
      onSubmit: b(qi, e, t),
      buttons: [{
        type: "cancel",
        name: "cancel",
        text: "Cancel"
      }, {
        type: "submit",
        name: "save",
        text: "Save",
        primary: !0
      }],
      initialData: o
    });
  },
      ra = Vi("th,td"),
      oa = Vi("th,td,caption"),
      ia = Dc.each,
      ua = {
    registerCommands: function registerCommands(c, n, a, l, t) {
      function f(e) {
        return lt.table(e, s);
      }

      function i(e) {
        return {
          width: bi(e.dom()),
          height: bi(e.dom())
        };
      }

      function r(o) {
        ra(c).each(function (r) {
          f(r).each(function (n) {
            var e = Er.forMenu(l, n, r),
                t = i(n);
            o(n, e).each(function (e) {
              !function (e, n, t) {
                var r = i(t);
                n.width === r.width && n.height === r.height || (Ii(e, t.dom(), n.width, n.height), Bi(e, t.dom(), r.width, r.height));
              }(c, t, n), c.selection.setRng(e), c.focus(), a.clear(n), Ci(n);
            });
          });
        });
      }

      function o(e) {
        return ra(c).map(function (o) {
          return f(o).bind(function (e) {
            var n = on.fromDom(c.getDoc()),
                t = Er.forMenu(l, e, o),
                r = Wt.cellOperations(T, n, Me.none());
            return Oc(e, t, r);
          });
        });
      }

      function u(u) {
        t.get().each(function (e) {
          var i = g(e, function (e) {
            return Tt(e);
          });
          ra(c).each(function (o) {
            f(o).each(function (n) {
              var e = on.fromDom(c.getDoc()),
                  t = Wt.paste(e),
                  r = Er.pasteRows(l, n, o, i, t);
              u(n, r).each(function (e) {
                c.selection.setRng(e), c.focus(), a.clear(n);
              });
            });
          });
        });
      }

      var s = pc(c);
      ia({
        mceTableSplitCells: function mceTableSplitCells() {
          r(n.unmergeCells);
        },
        mceTableMergeCells: function mceTableMergeCells() {
          r(n.mergeCells);
        },
        mceTableInsertRowBefore: function mceTableInsertRowBefore() {
          r(n.insertRowsBefore);
        },
        mceTableInsertRowAfter: function mceTableInsertRowAfter() {
          r(n.insertRowsAfter);
        },
        mceTableInsertColBefore: function mceTableInsertColBefore() {
          r(n.insertColumnsBefore);
        },
        mceTableInsertColAfter: function mceTableInsertColAfter() {
          r(n.insertColumnsAfter);
        },
        mceTableDeleteCol: function mceTableDeleteCol() {
          r(n.deleteColumn);
        },
        mceTableDeleteRow: function mceTableDeleteRow() {
          r(n.deleteRow);
        },
        mceTableCutRow: function mceTableCutRow(e) {
          o().each(function (e) {
            t.set(e), r(n.deleteRow);
          });
        },
        mceTableCopyRow: function mceTableCopyRow(e) {
          o().each(function (e) {
            t.set(e);
          });
        },
        mceTablePasteRowBefore: function mceTablePasteRowBefore(e) {
          u(n.pasteRowsBefore);
        },
        mceTablePasteRowAfter: function mceTablePasteRowAfter(e) {
          u(n.pasteRowsAfter);
        },
        mceTableDelete: function mceTableDelete() {
          oa(c).each(function (e) {
            lt.table(e, s).filter(d(s)).each(function (e) {
              var n = on.fromText("");
              if (Re(e, n), Wn(e), c.dom.isEmpty(c.getBody())) c.setContent(""), c.selection.setCursorLocation();else {
                var t = c.dom.createRng();
                t.setStart(n.dom(), 0), t.setEnd(n.dom(), 0), c.selection.setRng(t), c.nodeChanged();
              }
            });
          });
        }
      }, function (e, n) {
        c.addCommand(n, e);
      }), ia({
        mceInsertTable: b(ta, c, !0),
        mceTableProps: b(ta, c, !1),
        mceTableRowProps: b(Kc, c),
        mceTableCellProps: b(Vc, c)
      }, function (e, n) {
        c.addCommand(n, function () {
          e();
        });
      });
    }
  },
      ca = function ca(e) {
    var n = Me.from(e.dom().documentElement).map(on.fromDom).getOr(e);
    return {
      parent: D(n),
      view: D(e),
      origin: D(lo(0, 0))
    };
  },
      aa = function aa(e, n) {
    return {
      parent: D(n),
      view: D(e),
      origin: D(lo(0, 0))
    };
  },
      la = function la(e) {
    var r = B.apply(null, e),
        o = [];
    return {
      bind: function bind(e) {
        if (e === undefined) throw new Error("Event bind error: undefined handler");
        o.push(e);
      },
      unbind: function unbind(n) {
        o = h(o, function (e) {
          return e !== n;
        });
      },
      trigger: function trigger() {
        for (var e = [], n = 0; n < arguments.length; n++) {
          e[n] = arguments[n];
        }

        var t = r.apply(null, e);
        p(o, function (e) {
          e(t);
        });
      }
    };
  },
      fa = {
    create: function create(e) {
      return {
        registry: k(e, function (e) {
          return {
            bind: e.bind,
            unbind: e.unbind
          };
        }),
        trigger: k(e, function (e) {
          return e.trigger;
        })
      };
    }
  },
      sa = function sa(e, n, t, r) {
    e.dom().removeEventListener(n, t, r);
  },
      da = D(!0),
      ma = {
    resolve: Eo("ephox-dragster").resolve
  },
      ga = ai(["compare", "extract", "mutate", "sink"]),
      pa = ai(["element", "start", "stop", "destroy"]),
      ha = ai(["forceDrop", "drop", "move", "delayDrop"]),
      va = ga({
    compare: function compare(e, n) {
      return lo(n.left() - e.left(), n.top() - e.top());
    },
    extract: function extract(e) {
      return Me.some(lo(e.x(), e.y()));
    },
    sink: function sink(e, n) {
      var t = function (e) {
        var n = $c({
          layerClass: ma.resolve("blocker")
        }, e),
            t = on.fromTag("div");
        U(t, "role", "presentation"), re(t, {
          position: "fixed",
          left: "0px",
          top: "0px",
          width: "100%",
          height: "100%"
        }), Ro(t, ma.resolve("blocker")), Ro(t, n.layerClass);
        return {
          element: function element() {
            return t;
          },
          destroy: function destroy() {
            Wn(t);
          }
        };
      }(n),
          r = Ki(t.element(), "mousedown", e.forceDrop),
          o = Ki(t.element(), "mouseup", e.drop),
          i = Ki(t.element(), "mousemove", e.move),
          u = Ki(t.element(), "mouseout", e.delayDrop);

      return pa({
        element: t.element,
        start: function start(e) {
          Mn(e, t.element());
        },
        stop: function stop() {
          Wn(t.element());
        },
        destroy: function destroy() {
          t.destroy(), o.unbind(), i.unbind(), u.unbind(), r.unbind();
        }
      });
    },
    mutate: function mutate(e, n) {
      e.mutate(n.left(), n.top());
    }
  });

  function ba() {
    var r = Me.none(),
        t = fa.create({
      move: la(["info"])
    });
    return {
      onEvent: function onEvent(e, n) {
        n.extract(e).each(function (e) {
          (function (n, t) {
            var e = r.map(function (e) {
              return n.compare(e, t);
            });
            return r = Me.some(t), e;
          })(n, e).each(function (e) {
            t.trigger.move(e);
          });
        });
      },
      reset: function reset() {
        r = Me.none();
      },
      events: t.registry
    };
  }

  function wa() {
    var e = function r() {
      return {
        onEvent: T,
        reset: T
      };
    }(),
        n = ba(),
        t = e;

    return {
      on: function on() {
        t.reset(), t = n;
      },
      off: function off() {
        t.reset(), t = e;
      },
      isOn: function isOn() {
        return t === n;
      },
      onEvent: function onEvent(e, n) {
        t.onEvent(e, n);
      },
      events: n.events
    };
  }

  function ya() {
    var t = fa.create({
      drag: la(["xDelta", "yDelta", "target"])
    }),
        r = Me.none(),
        e = function () {
      var t = fa.create({
        drag: la(["xDelta", "yDelta"])
      });
      return {
        mutate: function mutate(e, n) {
          t.trigger.drag(e, n);
        },
        events: t.registry
      };
    }();

    return e.events.drag.bind(function (n) {
      r.each(function (e) {
        t.trigger.drag(n.xDelta(), n.yDelta(), e);
      });
    }), {
      assign: function assign(e) {
        r = Me.some(e);
      },
      get: function get() {
        return r;
      },
      mutate: e.mutate,
      events: t.registry
    };
  }

  function Ca(e) {
    return "true" === V(e, "contenteditable");
  }

  function Sa(o, n, i) {
    function e(e, n) {
      return Me.from(V(e, n));
    }

    var t = ya(),
        r = vl(t, {}),
        u = Me.none();

    function c(e, n) {
      return Hu.getInt(e, n) - parseInt(V(e, "data-initial-" + n), 10);
    }

    function a(e, n) {
      m.trigger.startAdjust(), t.assign(e), U(e, "data-initial-" + n, parseInt(oe(e, n), 10)), Ro(e, bl), te(e, "opacity", "0.2"), r.go(o.parent());
    }

    function l(e) {
      return In(e, o.view());
    }

    function f(e) {
      return et(e, "table", l).filter(function (e) {
        return function (e, n) {
          return et(e, "[contenteditable]", n);
        }(e, l).exists(Ca);
      });
    }

    t.events.drag.bind(function (t) {
      e(t.target(), "data-row").each(function (e) {
        var n = Hu.getInt(t.target(), "top");
        te(t.target(), "top", n + t.yDelta() + "px");
      }), e(t.target(), "data-column").each(function (e) {
        var n = Hu.getInt(t.target(), "left");
        te(t.target(), "left", n + t.xDelta() + "px");
      });
    }), r.events.stop.bind(function () {
      t.get().each(function (r) {
        u.each(function (t) {
          e(r, "data-row").each(function (e) {
            var n = c(r, "top");
            Y(r, "data-initial-top"), m.trigger.adjustHeight(t, n, parseInt(e, 10));
          }), e(r, "data-column").each(function (e) {
            var n = c(r, "left");
            Y(r, "data-initial-left"), m.trigger.adjustWidth(t, n, parseInt(e, 10));
          }), au(o, t, i, n);
        });
      });
    });
    var s = Ki(o.parent(), "mousedown", function (e) {
      du(e.target()) && a(e.target(), "top"), mu(e.target()) && a(e.target(), "left");
    }),
        d = Ki(o.view(), "mouseover", function (e) {
      f(e.target()).fold(function () {
        ee(e.target()) && su(o);
      }, function (e) {
        u = Me.some(e), au(o, e, i, n);
      });
    }),
        m = fa.create({
      adjustHeight: la(["table", "delta", "row"]),
      adjustWidth: la(["table", "delta", "column"]),
      startAdjust: la([])
    });
    return {
      destroy: function destroy() {
        s.unbind(), d.unbind(), r.destroy(), su(o);
      },
      refresh: function refresh(e) {
        au(o, e, i, n);
      },
      on: r.on,
      off: r.off,
      hideBars: b(lu, o),
      showBars: b(fu, o),
      events: m.registry
    };
  }

  function xa(e, n) {
    return bi(e.dom()) / bi(n.dom()) * 100 + "%";
  }

  function Ra(t, e) {
    return lt.table(t, e).bind(function (e) {
      var n = lt.cells(e);
      return C(n, function (e) {
        return In(t, e);
      }).map(function (e) {
        return {
          index: D(e),
          all: D(n)
        };
      });
    });
  }

  function Ta(e, n, t) {
    var r = e.document.createRange();
    return function (t, e) {
      e.fold(function (e) {
        t.setStartBefore(e.dom());
      }, function (e, n) {
        t.setStart(e.dom(), n);
      }, function (e) {
        t.setStartAfter(e.dom());
      });
    }(r, n), function (t, e) {
      e.fold(function (e) {
        t.setEndBefore(e.dom());
      }, function (e, n) {
        t.setEnd(e.dom(), n);
      }, function (e) {
        t.setEndAfter(e.dom());
      });
    }(r, t), r;
  }

  function Oa(e, n, t, r, o) {
    var i = e.document.createRange();
    return i.setStart(n.dom(), t), i.setEnd(r.dom(), o), i;
  }

  function Da(e) {
    return {
      left: D(e.left),
      top: D(e.top),
      right: D(e.right),
      bottom: D(e.bottom),
      width: D(e.width),
      height: D(e.height)
    };
  }

  function Aa(e, n, t) {
    return n(on.fromDom(t.startContainer), t.startOffset, on.fromDom(t.endContainer), t.endOffset);
  }

  function Ea(e, n) {
    return function (e, n) {
      var t = n.ltr();
      return t.collapsed ? n.rtl().filter(function (e) {
        return !1 === e.collapsed;
      }).map(function (e) {
        return Bl.rtl(on.fromDom(e.endContainer), e.endOffset, on.fromDom(e.startContainer), e.startOffset);
      }).getOrThunk(function () {
        return Aa(0, Bl.ltr, t);
      }) : Aa(0, Bl.ltr, t);
    }(0, function (o, e) {
      return e.match({
        domRange: function domRange(e) {
          return {
            ltr: D(e),
            rtl: Me.none
          };
        },
        relative: function relative(e, n) {
          return {
            ltr: Z(function () {
              return Ta(o, e, n);
            }),
            rtl: Z(function () {
              return Me.some(Ta(o, n, e));
            })
          };
        },
        exact: function exact(e, n, t, r) {
          return {
            ltr: Z(function () {
              return Oa(o, e, n, t, r);
            }),
            rtl: Z(function () {
              return Me.some(Oa(o, t, r, e, n));
            })
          };
        }
      });
    }(e, n));
  }

  function Na(e, n, t) {
    return n >= e.left && n <= e.right && t >= e.top && t <= e.bottom;
  }

  function ka(t, r, e, n, o) {
    function i(e) {
      var n = t.dom().createRange();
      return n.setStart(r.dom(), e), n.collapse(!0), n;
    }

    var u = ht(r).length,
        c = function (e, n, t, r, o) {
      if (0 === o) return 0;
      if (n === r) return o - 1;

      for (var i = r, u = 1; u < o; u++) {
        var c = e(u),
            a = Math.abs(n - c.left);

        if (t <= c.bottom) {
          if (t < c.top || i < a) return u - 1;
          i = a;
        }
      }

      return 0;
    }(function (e) {
      return i(e).getBoundingClientRect();
    }, e, n, o.right, u);

    return i(c);
  }

  function Ia(e, n) {
    return n - e.left < e.right - n;
  }

  function Ba(e, n, t) {
    var r = e.dom().createRange();
    return r.selectNode(n.dom()), r.collapse(t), r;
  }

  function Pa(n, e, t) {
    var r = n.dom().createRange();
    r.selectNode(e.dom());
    var o = r.getBoundingClientRect(),
        i = Ia(o, t);
    return (!0 === i ? Ct : St)(e).map(function (e) {
      return Ba(n, e, i);
    });
  }

  function Ma(e, n, t) {
    var r = n.dom().getBoundingClientRect(),
        o = Ia(r, t);
    return Me.some(Ba(e, n, o));
  }

  function Wa(e, n, t, r) {
    var o = e.dom().createRange();
    o.selectNode(n.dom());
    var i = o.getBoundingClientRect();
    return function (e, n, t, r) {
      var o = e.dom().createRange();
      o.selectNode(n.dom());
      var i = o.getBoundingClientRect(),
          u = Math.max(i.left, Math.min(i.right, t)),
          c = Math.max(i.top, Math.min(i.bottom, r));
      return Ml(e, n, u, c);
    }(e, n, Math.max(i.left, Math.min(i.right, t)), Math.max(i.top, Math.min(i.bottom, r)));
  }

  function _a(e, n) {
    var t = en(e);
    return "input" === t ? El.after(e) : l(["br", "img"], t) ? 0 === n ? El.before(e) : El.after(e) : El.on(e, n);
  }

  function La(e, n) {
    var t = e.fold(El.before, _a, El.after),
        r = n.fold(El.before, _a, El.after);
    return kl.relative(t, r);
  }

  function ja(e, n, t, r) {
    var o = _a(e, n),
        i = _a(t, r);

    return kl.relative(o, i);
  }

  function za(e, n, t, r) {
    var o = function (e, n, t, r) {
      var o = he(e).dom().createRange();
      return o.setStart(e.dom(), n), o.setEnd(t.dom(), r), o;
    }(e, n, t, r),
        i = In(e, t) && n === r;

    return o.collapsed && !i;
  }

  function Ha(e, n) {
    Me.from(e.getSelection()).each(function (e) {
      e.removeAllRanges(), e.addRange(n);
    });
  }

  function Fa(e, n, t, r, o) {
    var i = Oa(e, n, t, r, o);
    Ha(e, i);
  }

  function Ua(u, e) {
    return Ea(u, e).match({
      ltr: function ltr(e, n, t, r) {
        Fa(u, e, n, t, r);
      },
      rtl: function rtl(e, n, t, r) {
        var o = u.getSelection();
        if (o.setBaseAndExtent) o.setBaseAndExtent(e.dom(), n, t.dom(), r);else if (o.extend) try {
          !function (e, n, t, r, o, i) {
            n.collapse(t.dom(), r), n.extend(o.dom(), i);
          }(0, o, e, n, t, r);
        } catch (i) {
          Fa(u, t, r, e, n);
        } else Fa(u, t, r, e, n);
      }
    });
  }

  function qa(e, n, t, r, o) {
    var i = ja(n, t, r, o);
    Ua(e, i);
  }

  function Va(e, n, t) {
    var r = La(n, t);
    Ua(e, r);
  }

  function Ga(e) {
    function n(e, n, t, r) {
      return Oa(o, e, n, t, r);
    }

    var o = kl.getWin(e).dom(),
        t = function (e) {
      return e.match({
        domRange: function domRange(e) {
          var n = on.fromDom(e.startContainer),
              t = on.fromDom(e.endContainer);
          return ja(n, e.startOffset, t, e.endOffset);
        },
        relative: La,
        exact: ja
      });
    }(e);

    return Ea(o, t).match({
      ltr: n,
      rtl: n
    });
  }

  function Ya(e) {
    var n = on.fromDom(e.anchorNode),
        t = on.fromDom(e.focusNode);
    return za(n, e.anchorOffset, t, e.focusOffset) ? Me.some(Dl.create(n, e.anchorOffset, t, e.focusOffset)) : function (e) {
      if (0 < e.rangeCount) {
        var n = e.getRangeAt(0),
            t = e.getRangeAt(e.rangeCount - 1);
        return Me.some(Dl.create(on.fromDom(n.startContainer), n.startOffset, on.fromDom(t.endContainer), t.endOffset));
      }

      return Me.none();
    }(e);
  }

  function Ka(e, n) {
    var t = function (e, n) {
      var t = e.document.createRange();
      return Il(t, n), t;
    }(e, n);

    Ha(e, t);
  }

  function Xa(e) {
    return function (e) {
      return Me.from(e.getSelection()).filter(function (e) {
        return 0 < e.rangeCount;
      }).bind(Ya);
    }(e).map(function (e) {
      return kl.exact(e.start(), e.soffset(), e.finish(), e.foffset());
    });
  }

  function $a(e, n) {
    return function (e) {
      var n = e.getClientRects(),
          t = 0 < n.length ? n[0] : e.getBoundingClientRect();
      return 0 < t.width || 0 < t.height ? Me.some(t).map(Da) : Me.none();
    }(Pl(e, n));
  }

  function Ja(e, n, t) {
    return function (e, n, t) {
      var r = on.fromDom(e.document);
      return Wl(r, n, t).map(function (e) {
        return Dl.create(on.fromDom(e.startContainer), e.startOffset, on.fromDom(e.endContainer), e.endOffset);
      });
    }(e, n, t);
  }

  function Qa(e, n, t, r) {
    return Ll(e, n, Tl(t), r);
  }

  function Za(e, n, t, r) {
    return Ll(e, n, Ol(t), r);
  }

  function el(e, n) {
    var t = kl.exact(n, 0, n, 0);
    return Ga(t);
  }

  function nl(e, n) {
    return function (e) {
      return 0 === e.length ? Me.none() : Me.some(e[e.length - 1]);
    }(Be(n, "tr")).bind(function (e) {
      return Zn(e, "td,th").map(function (e) {
        return el(0, e);
      });
    });
  }

  function tl(e, n, t, r) {
    return void 0 === r && (r = Yl), e.property().parent(n).map(function (e) {
      return Gl(e, r);
    });
  }

  function rl(n) {
    return function (e) {
      return 0 === n.property().children(e).length;
    };
  }

  function ol(e, n) {
    return function (e, n, t) {
      return ef(e, n, rl(e), t);
    }(tf, e, n);
  }

  function il(e, n) {
    return function (e, n, t) {
      return nf(e, n, rl(e), t);
    }(tf, e, n);
  }

  function ul(e) {
    return et(e, "tr");
  }

  function cl(e) {
    return "br" === en(e);
  }

  function al(n, e, t, r) {
    return function (e, n) {
      return Se(e, n).filter(cl).orThunk(function () {
        return Se(e, n - 1).filter(cl);
      });
    }(e, t).bind(function (e) {
      return r.traverse(e).fold(function () {
        return lf(e, r.gather, n).map(r.relative);
      }, function (e) {
        return function (r) {
          return ve(r).bind(function (n) {
            var t = Ce(n);
            return af(t, r).map(function (e) {
              return cf(n, t, r, e);
            });
          });
        }(e).map(function (e) {
          return El.on(e.parent(), e.index());
        });
      });
    });
  }

  function ll(e) {
    return mf.nu({
      left: e.left,
      top: e.top,
      right: e.right,
      bottom: e.bottom
    });
  }

  function fl(e, n) {
    return Me.some(e.getRect(n));
  }

  function sl(n, e, t) {
    return function (e, n, t) {
      return Xn(function (e, n) {
        return n(e);
      }, $n, e, n, t);
    }(e, uc).fold(D(!1), function (e) {
      return pf(n, e).exists(function (e) {
        return function (e, n) {
          return e.left() < n.left() || Math.abs(n.right() - e.left()) < 1 || e.left() > n.right();
        }(t, e);
      });
    });
  }

  function dl(n, t, e) {
    var r = n.move(e, 5),
        o = wf(t, n, e, r, 100).getOr(r);
    return function (e, n, t) {
      return e.point(n) > t.getInnerHeight() ? Me.some(e.point(n) - t.getInnerHeight()) : e.point(n) < 0 ? Me.some(-e.point(n)) : Me.none();
    }(n, o, t).fold(function () {
      return t.situsFromPoint(o.left(), n.point(o));
    }, function (e) {
      return t.scrollBy(0, e), t.situsFromPoint(o.left(), n.point(o) - e);
    });
  }

  function ml(e, n) {
    return function (e, n, t) {
      return $n(e, n, t).isSome();
    }(e, function (e) {
      return ve(e).exists(function (e) {
        return In(e, n);
      });
    });
  }

  function gl(n, r, o, e, i) {
    return et(e, "td,th", r).bind(function (t) {
      return et(t, "table", r).bind(function (e) {
        return ml(i, e) ? Of(n, r, o).bind(function (n) {
          return et(n.finish(), "td,th", r).map(function (e) {
            return {
              start: D(t),
              finish: D(e),
              range: D(n)
            };
          });
        }) : Me.none();
      });
    });
  }

  function pl(e, n) {
    return et(e, "td,th", n);
  }

  var hl = function hl(n, t, e) {
    function r() {
      l.stop(), u.isOn() && (u.off(), i.trigger.stop());
    }

    var o = !1,
        i = fa.create({
      start: la([]),
      stop: la([])
    }),
        u = wa(),
        c = function (t, r) {
      var o = null;
      return {
        cancel: function cancel() {
          null !== o && (f.clearTimeout(o), o = null);
        },
        throttle: function throttle() {
          for (var e = [], n = 0; n < arguments.length; n++) {
            e[n] = arguments[n];
          }

          null !== o && f.clearTimeout(o), o = f.setTimeout(function () {
            t.apply(null, e), o = null;
          }, r);
        }
      };
    }(r, 200);

    u.events.move.bind(function (e) {
      t.mutate(n, e.info());
    });

    function a(t) {
      return function () {
        for (var e = [], n = 0; n < arguments.length; n++) {
          e[n] = arguments[n];
        }

        o && t.apply(null, e);
      };
    }

    var l = t.sink(ha({
      forceDrop: r,
      drop: a(r),
      move: a(function (e) {
        c.cancel(), u.onEvent(e, t);
      }),
      delayDrop: a(c.throttle)
    }), e);
    return {
      element: l.element,
      go: function go(e) {
        l.start(e), u.on(), i.trigger.start();
      },
      on: function on() {
        o = !0;
      },
      off: function off() {
        o = !1;
      },
      destroy: function destroy() {
        l.destroy();
      },
      events: i.registry
    };
  },
      vl = function vl(e, n) {
    void 0 === n && (n = {});
    var t = n.mode !== undefined ? n.mode : va;
    return hl(e, t, n);
  },
      bl = tu.resolve("resizer-bar-dragging"),
      wl = function wl(e, t) {
    var r = go.height,
        n = Sa(e, t, r),
        o = fa.create({
      beforeResize: la(["table"]),
      afterResize: la(["table"]),
      startDrag: la([])
    });
    return n.events.adjustHeight.bind(function (e) {
      o.trigger.beforeResize(e.table());
      var n = r.delta(e.delta(), e.table());
      Ku(e.table(), n, e.row(), r), o.trigger.afterResize(e.table());
    }), n.events.startAdjust.bind(function (e) {
      o.trigger.startDrag();
    }), n.events.adjustWidth.bind(function (e) {
      o.trigger.beforeResize(e.table());
      var n = t.delta(e.delta(), e.table());
      Yu(e.table(), n, e.column(), t), o.trigger.afterResize(e.table());
    }), {
      on: n.on,
      off: n.off,
      hideBars: n.hideBars,
      showBars: n.showBars,
      destroy: n.destroy,
      events: o.registry
    };
  },
      yl = function yl(e, n) {
    return e.inline ? aa(gc(e), function () {
      var e = on.fromTag("div");
      return re(e, {
        position: "static",
        height: "0",
        width: "0",
        padding: "0",
        margin: "0",
        border: "0"
      }), Mn(un(), e), e;
    }()) : ca(on.fromDom(e.getDoc()));
  },
      Cl = function Cl(e, n) {
    e.inline && Wn(n.parent());
  },
      Sl = function Sl(u) {
    function c(e) {
      return "TABLE" === e.nodeName;
    }

    function r(e) {
      var n = u.dom.getStyle(e, "width") || u.dom.getAttrib(e, "width");
      return Me.from(n).filter(function (e) {
        return 0 < e.length;
      });
    }

    function e() {
      return i;
    }

    var a,
        l,
        o = Me.none(),
        i = Me.none(),
        f = Me.none(),
        s = /(\d+(\.\d+)?)%/;
    return u.on("init", function () {
      var e = ho(bc.directionAt),
          n = yl(u);

      if (f = Me.some(n), function (e) {
        var n = e.getParam("object_resizing", !0);
        return _e(n) ? "table" === n : n;
      }(u) && function (e) {
        return e.getParam("table_resize_bars", !0, "boolean");
      }(u)) {
        var t = wl(n, e);
        t.on(), t.events.startDrag.bind(function (e) {
          o = Me.some(u.selection.getRng());
        }), t.events.beforeResize.bind(function (e) {
          var n = e.table().dom();
          Ii(u, n, bi(n), wi(n));
        }), t.events.afterResize.bind(function (e) {
          var n = e.table(),
              t = n.dom();
          Ci(n), o.each(function (e) {
            u.selection.setRng(e), u.focus();
          }), Bi(u, t, bi(t), wi(t)), u.undoManager.add();
        }), i = Me.some(t);
      }
    }), u.on("ObjectResizeStart", function (e) {
      var n = e.target;

      if (c(n)) {
        var t = r(n).map(function (e) {
          return s.test(e);
        }).getOr(!1);
        t && Ei(u) ? function (e) {
          te(on.fromDom(e), "width", bi(e).toString() + "px");
        }(n) : !t && function (e) {
          return !0 === e.getParam("table_responsive_width");
        }(u) && function (e) {
          var n = on.fromDom(e);
          ve(n).map(function (e) {
            return xa(n, e);
          }).each(function (e) {
            te(n, "width", e), p(Be(n, "tr"), function (n) {
              p(Ce(n), function (e) {
                te(e, "width", xa(e, n));
              });
            });
          });
        }(n), a = e.width, l = r(n).getOr("");
      }
    }), u.on("ObjectResized", function (e) {
      var n = e.target;

      if (c(n)) {
        var t = n;

        if (s.test(l)) {
          var r = parseFloat(s.exec(l)[1]),
              o = e.width * r / a;
          u.dom.setStyle(t, "width", o + "%");
        } else {
          var i = [];
          Dc.each(t.rows, function (e) {
            Dc.each(e.cells, function (e) {
              var n = u.dom.getStyle(e, "width", !0);
              i.push({
                cell: e,
                width: n
              });
            });
          }), Dc.each(i, function (e) {
            u.dom.setStyle(e.cell, "width", e.width), u.dom.setAttrib(e.cell, "width", null);
          });
        }
      }
    }), u.on("SwitchMode", function () {
      e().each(function (e) {
        u.readonly ? e.hideBars() : e.showBars();
      });
    }), {
      lazyResize: e,
      lazyWire: function lazyWire() {
        return f.getOr(ca(on.fromDom(u.getBody())));
      },
      destroy: function destroy() {
        i.each(function (e) {
          e.destroy();
        }), f.each(function (e) {
          Cl(u, e);
        });
      }
    };
  },
      xl = Sr([{
    none: ["current"]
  }, {
    first: ["current"]
  }, {
    middle: ["current", "target"]
  }, {
    last: ["current"]
  }]),
      Rl = _fn(_fn({}, xl), {
    none: function none(e) {
      return void 0 === e && (e = undefined), xl.none(e);
    }
  }),
      Tl = function Tl(n, e) {
    return Ra(n, e).fold(function () {
      return Rl.none(n);
    }, function (e) {
      return e.index() + 1 < e.all().length ? Rl.middle(n, e.all()[e.index() + 1]) : Rl.last(n);
    });
  },
      Ol = function Ol(n, e) {
    return Ra(n, e).fold(function () {
      return Rl.none();
    }, function (e) {
      return 0 <= e.index() - 1 ? Rl.middle(n, e.all()[e.index() - 1]) : Rl.first(n);
    });
  },
      Dl = {
    create: B("start", "soffset", "finish", "foffset")
  },
      Al = Sr([{
    before: ["element"]
  }, {
    on: ["element", "offset"]
  }, {
    after: ["element"]
  }]),
      El = {
    before: Al.before,
    on: Al.on,
    after: Al.after,
    cata: function cata(e, n, t, r) {
      return e.fold(n, t, r);
    },
    getStart: function getStart(e) {
      return e.fold(o, o, o);
    }
  },
      Nl = Sr([{
    domRange: ["rng"]
  }, {
    relative: ["startSitu", "finishSitu"]
  }, {
    exact: ["start", "soffset", "finish", "foffset"]
  }]),
      kl = {
    domRange: Nl.domRange,
    relative: Nl.relative,
    exact: Nl.exact,
    exactFromRange: function exactFromRange(e) {
      return Nl.exact(e.start(), e.soffset(), e.finish(), e.foffset());
    },
    getWin: function getWin(e) {
      return function (e) {
        return on.fromDom(e.dom().ownerDocument.defaultView);
      }(function (e) {
        return e.match({
          domRange: function domRange(e) {
            return on.fromDom(e.startContainer);
          },
          relative: function relative(e, n) {
            return El.getStart(e);
          },
          exact: function exact(e, n, t, r) {
            return e;
          }
        });
      }(e));
    },
    range: Dl.create
  },
      Il = function Il(e, n) {
    e.selectNodeContents(n.dom());
  },
      Bl = Sr([{
    ltr: ["start", "soffset", "finish", "foffset"]
  }, {
    rtl: ["start", "soffset", "finish", "foffset"]
  }]),
      Pl = function Pl(i, e) {
    return Ea(i, e).match({
      ltr: function ltr(e, n, t, r) {
        var o = i.document.createRange();
        return o.setStart(e.dom(), n), o.setEnd(t.dom(), r), o;
      },
      rtl: function rtl(e, n, t, r) {
        var o = i.document.createRange();
        return o.setStart(t.dom(), r), o.setEnd(e.dom(), n), o;
      }
    });
  },
      Ml = function Ml(e, n, t, r) {
    return tn(n) ? function (n, t, r, o) {
      var e = n.dom().createRange();
      e.selectNode(t.dom());
      var i = e.getClientRects();
      return bo(i, function (e) {
        return Na(e, r, o) ? Me.some(e) : Me.none();
      }).map(function (e) {
        return ka(n, t, r, o, e);
      });
    }(e, n, t, r) : function (n, e, t, r) {
      var o = n.dom().createRange(),
          i = Ce(e);
      return bo(i, function (e) {
        return o.selectNode(e.dom()), Na(o.getBoundingClientRect(), t, r) ? Ml(n, e, t, r) : Me.none();
      });
    }(e, n, t, r);
  },
      Wl = document.caretPositionFromPoint ? function (t, e, n) {
    return Me.from(t.dom().caretPositionFromPoint(e, n)).bind(function (e) {
      if (null === e.offsetNode) return Me.none();
      var n = t.dom().createRange();
      return n.setStart(e.offsetNode, e.offset), n.collapse(), Me.some(n);
    });
  } : document.caretRangeFromPoint ? function (e, n, t) {
    return Me.from(e.dom().caretRangeFromPoint(n, t));
  } : function (t, r, o) {
    return on.fromPoint(t, r, o).bind(function (e) {
      function n() {
        return function (e, n, t) {
          return (0 === Ce(n).length ? Ma : Pa)(e, n, t);
        }(t, e, r);
      }

      return 0 === Ce(e).length ? n() : Wa(t, e, r, o).orThunk(n);
    });
  },
      _l = tinymce.util.Tools.resolve("tinymce.util.VK"),
      Ll = function Ll(r, e, n, o, t) {
    return n.fold(Me.none, Me.none, function (e, n) {
      return Ct(n).map(function (e) {
        return el(0, e);
      });
    }, function (t) {
      return lt.table(t, e).bind(function (e) {
        var n = Er.noMenu(t);
        return r.undoManager.transact(function () {
          o.insertRowsAfter(e, n);
        }), nl(0, e);
      });
    });
  },
      jl = ["table", "li", "dl"],
      zl = {
    handle: function handle(n, t, r, o) {
      if (n.keyCode === _l.TAB) {
        var i = gc(t),
            u = function u(e) {
          var n = en(e);
          return In(e, i) || l(jl, n);
        },
            e = t.selection.getRng();

        if (e.collapsed) {
          var c = on.fromDom(e.startContainer);
          lt.cell(c, u).each(function (e) {
            n.preventDefault(), (n.shiftKey ? Za : Qa)(t, u, e, r, o).each(function (e) {
              t.selection.setRng(e);
            });
          });
        }
      }
    }
  },
      Hl = {
    create: B("selection", "kill")
  },
      Fl = function Fl(e, n, t, r) {
    return {
      start: D(El.on(e, n)),
      finish: D(El.on(t, r))
    };
  },
      Ul = {
    convertToRange: function convertToRange(e, n) {
      var t = Pl(e, n);
      return Dl.create(on.fromDom(t.startContainer), t.startOffset, on.fromDom(t.endContainer), t.endOffset);
    },
    makeSitus: Fl
  },
      ql = function ql(t, e, r, n, o) {
    return In(r, n) ? Me.none() : dr(r, n, e).bind(function (e) {
      var n = e.boxes().getOr([]);
      return 0 < n.length ? (o(t, n, e.start(), e.finish()), Me.some(Hl.create(Me.some(Ul.makeSitus(r, 0, r, wt(r))), !0))) : Me.none();
    });
  },
      Vl = {
    sync: function sync(t, r, e, n, o, i, u) {
      return In(e, o) && n === i ? Me.none() : et(e, "td,th", r).bind(function (n) {
        return et(o, "td,th", r).bind(function (e) {
          return ql(t, r, n, e, u);
        });
      });
    },
    detect: ql,
    update: function update(e, n, t, r, o) {
      return gr(r, e, n, o.firstSelectedSelector(), o.lastSelectedSelector()).map(function (e) {
        return o.clearBeforeUpdate(t), o.selectRange(t, e.boxes(), e.start(), e.finish()), e.boxes();
      });
    }
  },
      Gl = B("item", "mode"),
      Yl = function Yl(e, n, t, r) {
    return void 0 === r && (r = Kl), t.sibling(e, n).map(function (e) {
      return Gl(e, r);
    });
  },
      Kl = function Kl(e, n, t, r) {
    void 0 === r && (r = Kl);
    var o = e.property().children(n);
    return t.first(o).map(function (e) {
      return Gl(e, r);
    });
  },
      Xl = [{
    current: tl,
    next: Yl,
    fallback: Me.none()
  }, {
    current: Yl,
    next: Kl,
    fallback: Me.some(tl)
  }, {
    current: Kl,
    next: Kl,
    fallback: Me.some(Yl)
  }],
      $l = function $l(n, t, r, o, e) {
    return void 0 === e && (e = Xl), y(e, function (e) {
      return e.current === r;
    }).bind(function (e) {
      return e.current(n, t, o, e.next).orThunk(function () {
        return e.fallback.bind(function (e) {
          return $l(n, t, e, o);
        });
      });
    });
  },
      Jl = function Jl() {
    return {
      sibling: function sibling(e, n) {
        return e.query().prevSibling(n);
      },
      first: function first(e) {
        return 0 < e.length ? Me.some(e[e.length - 1]) : Me.none();
      }
    };
  },
      Ql = function Ql() {
    return {
      sibling: function sibling(e, n) {
        return e.query().nextSibling(n);
      },
      first: function first(e) {
        return 0 < e.length ? Me.some(e[0]) : Me.none();
      }
    };
  },
      Zl = function Zl(n, e, t, r, o, i) {
    return $l(n, e, r, o).bind(function (e) {
      return i(e.item()) ? Me.none() : t(e.item()) ? Me.some(e.item()) : Zl(n, e.item(), t, e.mode(), o, i);
    });
  },
      ef = function ef(e, n, t, r) {
    return Zl(e, n, t, Yl, Jl(), r);
  },
      nf = function nf(e, n, t, r) {
    return Zl(e, n, t, Yl, Ql(), r);
  },
      tf = $t(),
      rf = B("element", "offset"),
      of = (B("element", "deltaOffset"), B("element", "start", "finish"), B("begin", "end"), B("element", "text"), Sr([{
    none: ["message"]
  }, {
    success: []
  }, {
    failedUp: ["cell"]
  }, {
    failedDown: ["cell"]
  }])),
      uf = _fn(_fn({}, of), {
    verify: function verify(t, n, e, r, o, i, u) {
      return et(r, "td,th", u).bind(function (e) {
        return et(n, "td,th", u).map(function (n) {
          return In(e, n) ? In(r, e) && wt(e) === o ? i(n) : of.none("in same cell") : fr.sharedOne(ul, [e, n]).fold(function () {
            return function (e, n, t) {
              var r = e.getRect(n),
                  o = e.getRect(t);
              return o.right > r.left && o.left < r.right;
            }(t, n, e) ? of.success() : i(n);
          }, function (e) {
            return i(n);
          });
        });
      }).getOr(of.none("default"));
    },
    cata: function cata(e, n, t, r, o) {
      return e.fold(n, t, r, o);
    }
  }),
      cf = (B("ancestor", "descendants", "element", "index"), B("parent", "children", "element", "index")),
      af = function af(e, n) {
    return C(e, b(In, n));
  },
      lf = function lf(e, n, t) {
    return n(e, t).bind(function (e) {
      return tn(e) && 0 === ht(e).trim().length ? lf(e, n, t) : Me.some(e);
    });
  },
      ff = function ff(e, n, t, r) {
    return (cl(n) ? function (e, n, t) {
      return t.traverse(n).orThunk(function () {
        return lf(n, t.gather, e);
      }).map(t.relative);
    }(e, n, r) : al(e, n, t, r)).map(function (e) {
      return {
        start: D(e),
        finish: D(e)
      };
    });
  },
      sf = function sf(e) {
    return uf.cata(e, function (e) {
      return Me.none();
    }, function () {
      return Me.none();
    }, function (e) {
      return Me.some(rf(e, 0));
    }, function (e) {
      return Me.some(rf(e, wt(e)));
    });
  },
      df = Xe(["left", "top", "right", "bottom"], []),
      mf = {
    nu: df,
    moveUp: function moveUp(e, n) {
      return df({
        left: e.left(),
        top: e.top() - n,
        right: e.right(),
        bottom: e.bottom() - n
      });
    },
    moveDown: function moveDown(e, n) {
      return df({
        left: e.left(),
        top: e.top() + n,
        right: e.right(),
        bottom: e.bottom() + n
      });
    },
    moveBottomTo: function moveBottomTo(e, n) {
      var t = e.bottom() - e.top();
      return df({
        left: e.left(),
        top: n - t,
        right: e.right(),
        bottom: n
      });
    },
    moveTopTo: function moveTopTo(e, n) {
      var t = e.bottom() - e.top();
      return df({
        left: e.left(),
        top: n,
        right: e.right(),
        bottom: n + t
      });
    },
    getTop: function getTop(e) {
      return e.top();
    },
    getBottom: function getBottom(e) {
      return e.bottom();
    },
    translate: function translate(e, n, t) {
      return df({
        left: e.left() + n,
        top: e.top() + t,
        right: e.right() + n,
        bottom: e.bottom() + t
      });
    },
    toString: function toString(e) {
      return "(" + e.left() + ", " + e.top() + ") -> (" + e.right() + ", " + e.bottom() + ")";
    }
  },
      gf = function gf(e, n, t) {
    return nn(n) ? fl(e, n).map(ll) : tn(n) ? function (e, n, t) {
      return 0 <= t && t < wt(n) ? e.getRangedRect(n, t, n, t + 1) : 0 < t ? e.getRangedRect(n, t - 1, n, t) : Me.none();
    }(e, n, t).map(ll) : Me.none();
  },
      pf = function pf(e, n) {
    return nn(n) ? fl(e, n).map(ll) : tn(n) ? e.getRangedRect(n, 0, n, wt(n)).map(ll) : Me.none();
  },
      hf = Sr([{
    none: []
  }, {
    retry: ["caret"]
  }]),
      vf = {
    point: mf.getTop,
    adjuster: function adjuster(e, n, t, r, o) {
      var i = mf.moveUp(o, 5);
      return Math.abs(t.top() - r.top()) < 1 ? hf.retry(i) : t.bottom() < o.top() ? hf.retry(i) : t.bottom() === o.top() ? hf.retry(mf.moveUp(o, 1)) : sl(e, n, o) ? hf.retry(mf.translate(i, 5, 0)) : hf.none();
    },
    move: mf.moveUp,
    gather: ol
  },
      bf = {
    point: mf.getBottom,
    adjuster: function adjuster(e, n, t, r, o) {
      var i = mf.moveDown(o, 5);
      return Math.abs(t.bottom() - r.bottom()) < 1 ? hf.retry(i) : t.top() > o.bottom() ? hf.retry(i) : t.top() === o.bottom() ? hf.retry(mf.moveDown(o, 1)) : sl(e, n, o) ? hf.retry(mf.translate(i, 5, 0)) : hf.none();
    },
    move: mf.moveDown,
    gather: il
  },
      wf = function wf(t, r, o, i, u) {
    return 0 === u ? Me.some(i) : function (e, n, t) {
      return e.elementFromPoint(n, t).filter(function (e) {
        return "table" === en(e);
      }).isSome();
    }(t, i.left(), r.point(i)) ? function (e, n, t, r, o) {
      return wf(e, n, t, n.move(r, 5), o);
    }(t, r, o, i, u - 1) : t.situsFromPoint(i.left(), r.point(i)).bind(function (e) {
      return e.start().fold(Me.none, function (n) {
        return pf(t, n).bind(function (e) {
          return r.adjuster(t, n, e, o, i).fold(Me.none, function (e) {
            return wf(t, r, o, e, u - 1);
          });
        }).orThunk(function () {
          return Me.some(i);
        });
      }, Me.none);
    });
  },
      yf = {
    tryUp: b(dl, vf),
    tryDown: b(dl, bf),
    ieTryUp: function ieTryUp(e, n) {
      return e.situsFromPoint(n.left(), n.top() - 5);
    },
    ieTryDown: function ieTryDown(e, n) {
      return e.situsFromPoint(n.left(), n.bottom() + 5);
    },
    getJumpSize: D(5)
  },
      Cf = me(),
      Sf = function Sf(r, o, i, u, c, a) {
    return 0 === a ? Me.none() : Tf(r, o, i, u, c).bind(function (e) {
      var n = r.fromSitus(e),
          t = uf.verify(r, i, u, n.finish(), n.foffset(), c.failure, o);
      return uf.cata(t, function () {
        return Me.none();
      }, function () {
        return Me.some(e);
      }, function (e) {
        return In(i, e) && 0 === u ? xf(r, i, u, mf.moveUp, c) : Sf(r, o, e, 0, c, a - 1);
      }, function (e) {
        return In(i, e) && u === wt(e) ? xf(r, i, u, mf.moveDown, c) : Sf(r, o, e, wt(e), c, a - 1);
      });
    });
  },
      xf = function xf(n, e, t, r, o) {
    return gf(n, e, t).bind(function (e) {
      return Rf(n, o, r(e, yf.getJumpSize()));
    });
  },
      Rf = function Rf(e, n, t) {
    return Cf.browser.isChrome() || Cf.browser.isSafari() || Cf.browser.isFirefox() || Cf.browser.isEdge() ? n.otherRetry(e, t) : Cf.browser.isIE() ? n.ieRetry(e, t) : Me.none();
  },
      Tf = function Tf(n, e, t, r, o) {
    return gf(n, t, r).bind(function (e) {
      return Rf(n, o, e);
    });
  },
      Of = function Of(n, t, r) {
    return function (o, i, u) {
      return o.getSelection().bind(function (r) {
        return ff(i, r.finish(), r.foffset(), u).fold(function () {
          return Me.some(rf(r.finish(), r.foffset()));
        }, function (e) {
          var n = o.fromSitus(e),
              t = uf.verify(o, r.finish(), r.foffset(), n.finish(), n.foffset(), u.failure, i);
          return sf(t);
        });
      });
    }(n, t, r).bind(function (e) {
      return Sf(n, t, e.element(), e.offset(), r, 20).map(n.fromSitus);
    });
  },
      Df = me(),
      Af = function Af(e, n, t, r, o, i) {
    return Df.browser.isIE() ? Me.none() : i(r, n).orThunk(function () {
      return gl(e, n, t, r, o).map(function (e) {
        var n = e.range();
        return Hl.create(Me.some(Ul.makeSitus(n.start(), n.soffset(), n.finish(), n.foffset())), !0);
      });
    });
  },
      Ef = function Ef(e, n, t, r, o, i, u) {
    return gl(e, t, r, o, i).bind(function (e) {
      return Vl.detect(n, t, e.start(), e.finish(), u);
    });
  },
      Nf = function Nf(e, r) {
    return et(e, "tr", r).bind(function (t) {
      return et(t, "table", r).bind(function (e) {
        var n = Be(e, "tr");
        return In(t, n[0]) ? function (e, n, t) {
          return ef(tf, e, n, t);
        }(e, function (e) {
          return St(e).isSome();
        }, r).map(function (e) {
          var n = wt(e);
          return Hl.create(Me.some(Ul.makeSitus(e, n, e, n)), !0);
        }) : Me.none();
      });
    });
  },
      kf = function kf(e, r) {
    return et(e, "tr", r).bind(function (t) {
      return et(t, "table", r).bind(function (e) {
        var n = Be(e, "tr");
        return In(t, n[n.length - 1]) ? function (e, n, t) {
          return nf(tf, e, n, t);
        }(e, function (e) {
          return Ct(e).isSome();
        }, r).map(function (e) {
          return Hl.create(Me.some(Ul.makeSitus(e, 0, e, 0)), !0);
        }) : Me.none();
      });
    });
  };

  function If(n) {
    return function (e) {
      return e === n;
    };
  }

  function Bf(c) {
    return {
      elementFromPoint: function elementFromPoint(e, n) {
        return on.fromPoint(on.fromDom(c.document), e, n);
      },
      getRect: function getRect(e) {
        return e.dom().getBoundingClientRect();
      },
      getRangedRect: function getRangedRect(e, n, t, r) {
        var o = kl.exact(e, n, t, r);
        return $a(c, o).map(jf);
      },
      getSelection: function getSelection() {
        return Xa(c).map(function (e) {
          return Ul.convertToRange(c, e);
        });
      },
      fromSitus: function fromSitus(e) {
        var n = kl.relative(e.start(), e.finish());
        return Ul.convertToRange(c, n);
      },
      situsFromPoint: function situsFromPoint(e, n) {
        return Ja(c, e, n).map(function (e) {
          return Fl(e.start(), e.soffset(), e.finish(), e.foffset());
        });
      },
      clearSelection: function clearSelection() {
        !function (e) {
          e.getSelection().removeAllRanges();
        }(c);
      },
      collapseSelection: function collapseSelection(u) {
        void 0 === u && (u = !1), Xa(c).each(function (e) {
          return e.fold(function (e) {
            return e.collapse(u);
          }, function (e, n) {
            var t = u ? e : n;
            Va(c, t, t);
          }, function (e, n, t, r) {
            var o = u ? e : t,
                i = u ? n : r;
            qa(c, o, i, o, i);
          });
        });
      },
      setSelection: function setSelection(e) {
        qa(c, e.start(), e.soffset(), e.finish(), e.foffset());
      },
      setRelativeSelection: function setRelativeSelection(e, n) {
        Va(c, e, n);
      },
      selectContents: function selectContents(e) {
        Ka(c, e);
      },
      getInnerHeight: function getInnerHeight() {
        return c.innerHeight;
      },
      getScrollY: function getScrollY() {
        return function (e) {
          var n = e !== undefined ? e.dom() : f.document,
              t = n.body.scrollLeft || n.documentElement.scrollLeft,
              r = n.body.scrollTop || n.documentElement.scrollTop;
          return lo(t, r);
        }(on.fromDom(c.document)).top();
      },
      scrollBy: function scrollBy(e, n) {
        !function (e, n, t) {
          (t !== undefined ? t.dom() : f.document).defaultView.scrollBy(e, n);
        }(e, n, on.fromDom(c.document));
      }
    };
  }

  function Pf(n, e) {
    p(e, function (e) {
      !function (e, n) {
        Co(e) ? e.dom().classList.remove(n) : xo(e, n);
        To(e);
      }(n, e);
    });
  }

  var Mf = {
    down: {
      traverse: ye,
      gather: il,
      relative: El.before,
      otherRetry: yf.tryDown,
      ieRetry: yf.ieTryDown,
      failure: uf.failedDown
    },
    up: {
      traverse: we,
      gather: ol,
      relative: El.before,
      otherRetry: yf.tryUp,
      ieRetry: yf.ieTryUp,
      failure: uf.failedUp
    }
  },
      Wf = If(38),
      _f = If(40),
      Lf = {
    ltr: {
      isBackward: If(37),
      isForward: If(39)
    },
    rtl: {
      isBackward: If(39),
      isForward: If(37)
    },
    isUp: Wf,
    isDown: _f,
    isNavigation: function isNavigation(e) {
      return 37 <= e && e <= 40;
    }
  },
      jf = function jf(e) {
    return {
      left: e.left(),
      top: e.top(),
      right: e.right(),
      bottom: e.bottom(),
      width: e.width(),
      height: e.height()
    };
  },
      zf = (me().browser.isSafari(), B("rows", "cols")),
      Hf = {
    mouse: function mouse(e, n, t, r) {
      var o = function c(o, i, n, u) {
        function t() {
          r = Me.none();
        }

        var r = Me.none();
        return {
          mousedown: function mousedown(e) {
            u.clear(i), r = pl(e.target(), n);
          },
          mouseover: function mouseover(e) {
            r.each(function (r) {
              u.clearBeforeUpdate(i), pl(e.target(), n).each(function (t) {
                dr(r, t, n).each(function (e) {
                  var n = e.boxes().getOr([]);
                  (1 < n.length || 1 === n.length && !In(r, t)) && (u.selectRange(i, n, e.start(), e.finish()), o.selectContents(t));
                });
              });
            });
          },
          mouseup: function mouseup(e) {
            r.each(t);
          }
        };
      }(Bf(e), n, t, r);

      return {
        mousedown: o.mousedown,
        mouseover: o.mouseover,
        mouseup: o.mouseup
      };
    },
    keyboard: function keyboard(e, l, f, s) {
      function d() {
        return s.clear(l), Me.none();
      }

      var m = Bf(e);
      return {
        keydown: function keydown(e, n, t, r, o, i) {
          var u = e.raw(),
              c = u.which,
              a = !0 === u.shiftKey;
          return mr(l, s.selectedSelector()).fold(function () {
            return Lf.isDown(c) && a ? b(Ef, m, l, f, Mf.down, r, n, s.selectRange) : Lf.isUp(c) && a ? b(Ef, m, l, f, Mf.up, r, n, s.selectRange) : Lf.isDown(c) ? b(Af, m, f, Mf.down, r, n, kf) : Lf.isUp(c) ? b(Af, m, f, Mf.up, r, n, Nf) : Me.none;
          }, function (n) {
            function e(e) {
              return function () {
                return bo(e, function (e) {
                  return Vl.update(e.rows(), e.cols(), l, n, s);
                }).fold(function () {
                  return pr(l, s.firstSelectedSelector(), s.lastSelectedSelector()).map(function (e) {
                    var n = Lf.isDown(c) || i.isForward(c) ? El.after : El.before;
                    return m.setRelativeSelection(El.on(e.first(), 0), n(e.table())), s.clear(l), Hl.create(Me.none(), !0);
                  });
                }, function (e) {
                  return Me.some(Hl.create(Me.none(), !0));
                });
              };
            }

            return Lf.isDown(c) && a ? e([zf(1, 0)]) : Lf.isUp(c) && a ? e([zf(-1, 0)]) : i.isBackward(c) && a ? e([zf(0, -1), zf(-1, 0)]) : i.isForward(c) && a ? e([zf(0, 1), zf(1, 0)]) : Lf.isNavigation(c) && !1 == a ? d : Me.none;
          })();
        },
        keyup: function keyup(t, r, o, i, u) {
          return mr(l, s.selectedSelector()).fold(function () {
            var e = t.raw(),
                n = e.which;
            return !1 == (!0 === e.shiftKey) ? Me.none() : Lf.isNavigation(n) ? Vl.sync(l, f, r, o, i, u, s.selectRange) : Me.none();
          }, Me.none);
        }
      };
    },
    external: function external(e, r, n, o) {
      var i = Bf(e);
      return function (e, t) {
        o.clearBeforeUpdate(r), dr(e, t, n).each(function (e) {
          var n = e.boxes().getOr([]);
          o.selectRange(r, n, e.start(), e.finish()), i.selectContents(t), i.collapseSelection();
        });
      };
    }
  },
      Ff = {
    byClass: function byClass(o) {
      function i(e) {
        var n = Be(e, o.selectedSelector());
        p(n, t);
      }

      var u = function (n) {
        return function (e) {
          Ro(e, n);
        };
      }(o.selected()),
          t = function (n) {
        return function (e) {
          Pf(e, n);
        };
      }([o.selected(), o.lastSelected(), o.firstSelected()]);

      return {
        clearBeforeUpdate: i,
        clear: i,
        selectRange: function selectRange(e, n, t, r) {
          i(e), p(n, u), Ro(t, o.firstSelected()), Ro(r, o.lastSelected());
        },
        selectedSelector: o.selectedSelector,
        firstSelectedSelector: o.firstSelectedSelector,
        lastSelectedSelector: o.lastSelectedSelector
      };
    },
    byAttr: function byAttr(o, i, n) {
      function t(e) {
        Y(e, o.selected()), Y(e, o.firstSelected()), Y(e, o.lastSelected());
      }

      function u(e) {
        U(e, o.selected(), "1");
      }

      function c(e) {
        r(e), n();
      }

      var r = function r(e) {
        var n = Be(e, o.selectedSelector());
        p(n, t);
      };

      return {
        clearBeforeUpdate: r,
        clear: c,
        selectRange: function selectRange(e, n, t, r) {
          c(e), p(n, u), U(t, o.firstSelected(), "1"), U(r, o.lastSelected(), "1"), i(n, t, r);
        },
        selectedSelector: o.selectedSelector,
        firstSelectedSelector: o.firstSelectedSelector,
        lastSelectedSelector: o.lastSelectedSelector
      };
    }
  },
      Uf = {
    getOtherCells: function getOtherCells(e, n, t) {
      var r = ft(e),
          o = mt.generate(r);
      return Fo(o, n).map(function (e) {
        var n = bu(o, t, !1);
        return {
          upOrLeftCells: function (e, t, n) {
            var r = e.slice(0, t[t.length - 1].row() + 1),
                o = _o(r, n);

            return x(o, function (e) {
              var n = e.cells().slice(0, t[t.length - 1].column() + 1);
              return g(n, function (e) {
                return e.element();
              });
            });
          }(n, e, t),
          downOrRightCells: function (e, t, n) {
            var r = e.slice(t[0].row() + t[0].rowspan() - 1, e.length),
                o = _o(r, n);

            return x(o, function (e) {
              var n = e.cells().slice(t[0].column() + t[0].colspan() - 1, +e.cells().length);
              return g(n, function (e) {
                return e.element();
              });
            });
          }(n, e, t)
        };
      });
    }
  },
      qf = function qf(e) {
    return !1 === Oo(on.fromDom(e.target), "ephox-snooker-resizer-bar");
  };

  function Vf(w, y, e) {
    var C = Xe(["mousedown", "mouseover", "mouseup", "keyup", "keydown"], []),
        S = Me.none(),
        a = Sc(w),
        x = Ff.byAttr(Cr, function (i, u, c) {
      e.targets().each(function (o) {
        lt.table(u).each(function (e) {
          var n = on.fromDom(w.getDoc()),
              t = Wt.cellOperations(T, n, a),
              r = Uf.getOtherCells(e, o, t);
          xc(w, i, u, c, r);
        });
      });
    }, function () {
      Rc(w);
    });
    w.on("init", function (e) {
      var r = w.getWin(),
          o = gc(w),
          n = pc(w),
          t = Hf.mouse(r, o, n, x),
          c = Hf.keyboard(r, o, n, x),
          i = Hf.external(r, o, n, x);
      w.on("TableSelectorChange", function (e) {
        i(e.start, e.finish);
      });

      function a(e, n) {
        !function (e) {
          return !0 === e.raw().shiftKey;
        }(e) || (n.kill() && e.kill(), n.selection().each(function (e) {
          var n = kl.relative(e.start(), e.finish()),
              t = Pl(r, n);
          w.selection.setRng(t);
        }));
      }

      function u(e) {
        var n = v(e);

        if (n.raw().shiftKey && Lf.isNavigation(n.raw().which)) {
          var t = w.selection.getRng(),
              r = on.fromDom(t.startContainer),
              o = on.fromDom(t.endContainer);
          c.keyup(n, r, t.startOffset, o, t.endOffset).each(function (e) {
            a(n, e);
          });
        }
      }

      function l(e) {
        var n = v(e);
        y().each(function (e) {
          e.hideBars();
        });
        var t = w.selection.getRng(),
            r = on.fromDom(w.selection.getStart()),
            o = on.fromDom(t.startContainer),
            i = on.fromDom(t.endContainer),
            u = bc.directionAt(r).isRtl() ? Lf.rtl : Lf.ltr;
        c.keydown(n, o, t.startOffset, i, t.endOffset, u).each(function (e) {
          a(n, e);
        }), y().each(function (e) {
          e.showBars();
        });
      }

      function f(e) {
        return e.hasOwnProperty("x") && e.hasOwnProperty("y");
      }

      function s(e) {
        return 0 === e.button;
      }

      function d(e) {
        s(e) && qf(e) && t.mousedown(v(e));
      }

      function m(e) {
        (function (e) {
          return e.buttons === undefined || 0 != (1 & e.buttons);
        })(e) && qf(e) && t.mouseover(v(e));
      }

      function g(e) {
        s(e) && qf(e) && t.mouseup(v(e));
      }

      var p,
          h,
          v = function v(e) {
        function n() {
          e.stopPropagation();
        }

        function t() {
          e.preventDefault();
        }

        var r = on.fromDom(e.target),
            o = O(t, n);
        return {
          target: D(r),
          x: D(f(e) ? e.x : null),
          y: D(f(e) ? e.y : null),
          stop: n,
          prevent: t,
          kill: o,
          raw: D(e)
        };
      },
          b = (p = R(on.fromDom(o)), h = R(0), {
        touchEnd: function touchEnd(e) {
          var n = on.fromDom(e.target);

          if ("td" === en(n) || "th" === en(n)) {
            var t = p.get(),
                r = h.get();
            In(t, n) && e.timeStamp - r < 300 && (e.preventDefault(), i(n, n));
          }

          p.set(n), h.set(e.timeStamp);
        }
      });

      w.on("mousedown", d), w.on("mouseover", m), w.on("mouseup", g), w.on("touchend", b.touchEnd), w.on("keyup", u), w.on("keydown", l), w.on("NodeChange", function () {
        var e = w.selection,
            n = on.fromDom(e.getStart()),
            t = on.fromDom(e.getEnd());
        fr.sharedOne(lt.table, [n, t]).fold(function () {
          x.clear(o);
        }, T);
      }), S = Me.some(C({
        mousedown: d,
        mouseover: m,
        mouseup: g,
        keyup: u,
        keydown: l
      }));
    });
    return {
      clear: x.clear,
      destroy: function destroy() {
        S.each(function (e) {});
      }
    };
  }

  var Gf = function Gf(n) {
    return {
      get: function get() {
        var e = gc(n);
        return hr(e, Cr.selectedSelector()).fold(function () {
          return n.selection.getStart() === undefined ? Rr.none() : Rr.single(n.selection);
        }, function (e) {
          return Rr.multiple(e);
        });
      }
    };
  },
      Yf = function Yf(e, t) {
    function n() {
      return oa(e).bind(function (n) {
        return lt.table(n).map(function (e) {
          return "caption" === en(n) ? Er.notCell(n) : Er.forMenu(t, e, n);
        });
      });
    }

    function r() {
      i.set(Z(n)()), p(u.get(), function (e) {
        return e();
      });
    }

    function o(n, t) {
      function r() {
        return i.get().fold(function () {
          n.setDisabled(!0);
        }, function (e) {
          n.setDisabled(t(e));
        });
      }

      return r(), u.set(u.get().concat([r])), function () {
        u.set(h(u.get(), function (e) {
          return e !== r;
        }));
      };
    }

    var i = R(Me.none()),
        u = R([]);
    return e.on("NodeChange TableSelectorChange", r), {
      onSetupTable: function onSetupTable(e) {
        return o(e, function (e) {
          return !1;
        });
      },
      onSetupCellOrRow: function onSetupCellOrRow(e) {
        return o(e, function (e) {
          return "caption" === en(e.element());
        });
      },
      onSetupMergeable: function onSetupMergeable(e) {
        return o(e, function (e) {
          return e.mergable().isNone();
        });
      },
      onSetupUnmergeable: function onSetupUnmergeable(e) {
        return o(e, function (e) {
          return e.unmergable().isNone();
        });
      },
      resetTargets: r,
      targets: function targets() {
        return i.get();
      }
    };
  },
      Kf = {
    addButtons: function addButtons(n, e) {
      n.ui.registry.addMenuButton("table", {
        tooltip: "Table",
        icon: "table",
        fetch: function fetch(e) {
          return e("inserttable | cell row column | advtablesort | tableprops deletetable");
        }
      });

      function t(e) {
        return function () {
          return n.execCommand(e);
        };
      }

      n.ui.registry.addButton("tableprops", {
        tooltip: "Table properties",
        onAction: t("mceTableProps"),
        icon: "table",
        onSetup: e.onSetupTable
      }), n.ui.registry.addButton("tabledelete", {
        tooltip: "Delete table",
        onAction: t("mceTableDelete"),
        icon: "table-delete-table",
        onSetup: e.onSetupTable
      }), n.ui.registry.addButton("tablecellprops", {
        tooltip: "Cell properties",
        onAction: t("mceTableCellProps"),
        icon: "table-cell-properties",
        onSetup: e.onSetupCellOrRow
      }), n.ui.registry.addButton("tablemergecells", {
        tooltip: "Merge cells",
        onAction: t("mceTableMergeCells"),
        icon: "table-merge-cells",
        onSetup: e.onSetupMergeable
      }), n.ui.registry.addButton("tablesplitcells", {
        tooltip: "Split cell",
        onAction: t("mceTableSplitCells"),
        icon: "table-split-cells",
        onSetup: e.onSetupUnmergeable
      }), n.ui.registry.addButton("tableinsertrowbefore", {
        tooltip: "Insert row before",
        onAction: t("mceTableInsertRowBefore"),
        icon: "table-insert-row-above",
        onSetup: e.onSetupCellOrRow
      }), n.ui.registry.addButton("tableinsertrowafter", {
        tooltip: "Insert row after",
        onAction: t("mceTableInsertRowAfter"),
        icon: "table-insert-row-after",
        onSetup: e.onSetupCellOrRow
      }), n.ui.registry.addButton("tabledeleterow", {
        tooltip: "Delete row",
        onAction: t("mceTableDeleteRow"),
        icon: "table-delete-row",
        onSetup: e.onSetupCellOrRow
      }), n.ui.registry.addButton("tablerowprops", {
        tooltip: "Row properties",
        onAction: t("mceTableRowProps"),
        icon: "table-row-properties",
        onSetup: e.onSetupCellOrRow
      }), n.ui.registry.addButton("tableinsertcolbefore", {
        tooltip: "Insert column before",
        onAction: t("mceTableInsertColBefore"),
        icon: "table-insert-column-before",
        onSetup: e.onSetupCellOrRow
      }), n.ui.registry.addButton("tableinsertcolafter", {
        tooltip: "Insert column after",
        onAction: t("mceTableInsertColAfter"),
        icon: "table-insert-column-after",
        onSetup: e.onSetupCellOrRow
      }), n.ui.registry.addButton("tabledeletecol", {
        tooltip: "Delete column",
        onAction: t("mceTableDeleteCol"),
        icon: "table-delete-column",
        onSetup: e.onSetupCellOrRow
      }), n.ui.registry.addButton("tablecutrow", {
        tooltip: "Cut row",
        onAction: t("mceTableCutRow"),
        icon: "temporary-placeholder",
        onSetup: e.onSetupCellOrRow
      }), n.ui.registry.addButton("tablecopyrow", {
        tooltip: "Copy row",
        onAction: t("mceTableCopyRow"),
        icon: "temporary-placeholder",
        onSetup: e.onSetupCellOrRow
      }), n.ui.registry.addButton("tablepasterowbefore", {
        tooltip: "Paste row before",
        onAction: t("mceTablePasteRowBefore"),
        icon: "temporary-placeholder",
        onSetup: e.onSetupCellOrRow
      }), n.ui.registry.addButton("tablepasterowafter", {
        tooltip: "Paste row after",
        onAction: t("mceTablePasteRowAfter"),
        icon: "temporary-placeholder",
        onSetup: e.onSetupCellOrRow
      }), n.ui.registry.addButton("tableinsertdialog", {
        tooltip: "Insert table",
        onAction: t("mceInsertTable"),
        icon: "table"
      });
    },
    addToolbars: function addToolbars(n) {
      var e = function (e) {
        return e.getParam("table_toolbar", "tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol");
      }(n);

      0 < e.length && n.ui.registry.addContextToolbar("table", {
        predicate: function predicate(e) {
          return n.dom.is(e, "table") && n.getBody().contains(e);
        },
        items: e,
        scope: "node",
        position: "node"
      });
    }
  },
      Xf = {
    addMenuItems: function addMenuItems(r, e) {
      function n(e) {
        return function () {
          return r.execCommand(e);
        };
      }

      function t(e) {
        var n = e.numRows,
            t = e.numColumns;
        r.undoManager.transact(function () {
          Zc(r, t, n);
        }), r.addVisual();
      }

      var o = {
        text: "Table properties",
        onSetup: e.onSetupTable,
        onAction: n("mceTableProps")
      },
          i = {
        text: "Delete table",
        icon: "table-delete-table",
        onSetup: e.onSetupTable,
        onAction: n("mceTableDelete")
      },
          u = [{
        type: "menuitem",
        text: "Insert row before",
        icon: "table-insert-row-above",
        onAction: n("mceTableInsertRowBefore"),
        onSetup: e.onSetupCellOrRow
      }, {
        type: "menuitem",
        text: "Insert row after",
        icon: "table-insert-row-after",
        onAction: n("mceTableInsertRowAfter"),
        onSetup: e.onSetupCellOrRow
      }, {
        type: "menuitem",
        text: "Delete row",
        icon: "table-delete-row",
        onAction: n("mceTableDeleteRow"),
        onSetup: e.onSetupCellOrRow
      }, {
        type: "menuitem",
        text: "Row properties",
        icon: "table-row-properties",
        onAction: n("mceTableRowProps"),
        onSetup: e.onSetupCellOrRow
      }, {
        type: "separator"
      }, {
        type: "menuitem",
        text: "Cut row",
        onAction: n("mceTableCutRow"),
        onSetup: e.onSetupCellOrRow
      }, {
        type: "menuitem",
        text: "Copy row",
        onAction: n("mceTableCopyRow"),
        onSetup: e.onSetupCellOrRow
      }, {
        type: "menuitem",
        text: "Paste row before",
        onAction: n("mceTablePasteRowBefore"),
        onSetup: e.onSetupCellOrRow
      }, {
        type: "menuitem",
        text: "Paste row after",
        onAction: n("mceTablePasteRowAfter"),
        onSetup: e.onSetupCellOrRow
      }],
          c = {
        type: "nestedmenuitem",
        text: "Row",
        getSubmenuItems: function getSubmenuItems() {
          return u;
        }
      },
          a = [{
        type: "menuitem",
        text: "Insert column before",
        icon: "table-insert-column-before",
        onAction: n("mceTableInsertColBefore"),
        onSetup: e.onSetupCellOrRow
      }, {
        type: "menuitem",
        text: "Insert column after",
        icon: "table-insert-column-after",
        onAction: n("mceTableInsertColAfter"),
        onSetup: e.onSetupCellOrRow
      }, {
        type: "menuitem",
        text: "Delete column",
        icon: "table-delete-column",
        onAction: n("mceTableDeleteCol"),
        onSetup: e.onSetupCellOrRow
      }],
          l = {
        type: "nestedmenuitem",
        text: "Column",
        getSubmenuItems: function getSubmenuItems() {
          return a;
        }
      },
          f = [{
        type: "menuitem",
        text: "Cell properties",
        icon: "table-cell-properties",
        onAction: n("mceTableCellProps"),
        onSetup: e.onSetupCellOrRow
      }, {
        type: "menuitem",
        text: "Merge cells",
        icon: "table-merge-cells",
        onAction: n("mceTableMergeCells"),
        onSetup: e.onSetupMergeable
      }, {
        type: "menuitem",
        text: "Split cell",
        icon: "table-split-cells",
        onAction: n("mceTableSplitCells"),
        onSetup: e.onSetupUnmergeable
      }],
          s = {
        type: "nestedmenuitem",
        text: "Cell",
        getSubmenuItems: function getSubmenuItems() {
          return f;
        }
      };
      !1 === function (e) {
        return e.getParam("table_grid", !0, "boolean");
      }(r) ? r.ui.registry.addMenuItem("inserttable", {
        text: "Table",
        icon: "table",
        onAction: n("mceInsertTable")
      }) : r.ui.registry.addNestedMenuItem("inserttable", {
        text: "Table",
        icon: "table",
        getSubmenuItems: function getSubmenuItems() {
          return [{
            type: "fancymenuitem",
            fancytype: "inserttable",
            onAction: t
          }];
        }
      }), r.ui.registry.addMenuItem("inserttabledialog", {
        text: "Insert table",
        icon: "table",
        onAction: n("mceInsertTable")
      }), r.ui.registry.addMenuItem("tableprops", o), r.ui.registry.addMenuItem("deletetable", i), r.ui.registry.addNestedMenuItem("row", c), r.ui.registry.addNestedMenuItem("column", l), r.ui.registry.addNestedMenuItem("cell", s), r.ui.registry.addContextMenu("table", {
        update: function update() {
          return e.resetTargets(), e.targets().fold(function () {
            return "";
          }, function (e) {
            return "caption" === en(e.element()) ? "tableprops deletetable" : "cell row column | advtablesort | tableprops deletetable";
          });
        }
      });
    }
  },
      $f = function $f(t, n, e, r) {
    return {
      insertTable: function insertTable(e, n) {
        return Zc(t, e, n);
      },
      setClipboardRows: function setClipboardRows(e) {
        return function (e, n) {
          var t = g(e, on.fromDom);
          n.set(Me.from(t));
        }(e, n);
      },
      getClipboardRows: function getClipboardRows() {
        return function (e) {
          return e.get().fold(function () {}, function (e) {
            return g(e, function (e) {
              return e.dom();
            });
          });
        }(n);
      },
      resizeHandler: e,
      selectionTargets: r
    };
  };

  function Jf(n) {
    var e = Gf(n),
        t = Yf(n, e),
        r = Sl(n),
        o = Vf(n, r.lazyResize, t),
        i = Tc(n, r.lazyWire),
        u = R(Me.none());
    return ua.registerCommands(n, i, o, e, u), Nr.registerEvents(n, e, i, o), Xf.addMenuItems(n, t), Kf.addButtons(n, t), Kf.addToolbars(n), n.on("PreInit", function () {
      n.serializer.addTempAttr(Cr.firstSelected()), n.serializer.addTempAttr(Cr.lastSelected());
    }), Cc(n) && n.on("keydown", function (e) {
      zl.handle(e, n, i, r.lazyWire);
    }), n.on("remove", function () {
      r.destroy(), o.destroy();
    }), $f(n, u, r, t);
  }

  !function Zf() {
    We.add("table", Jf);
  }();
}(window);

/***/ }),

/***/ "./resources/js/modules/tinymce/themes/silver/theme.min.js":
/*!*****************************************************************!*\
  !*** ./resources/js/modules/tinymce/themes/silver/theme.min.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/**
 * Copyright (c) Tiny Technologies, Inc. All rights reserved.
 * Licensed under the LGPL or a commercial license.
 * For LGPL see License.txt in the project root for license information.
 * For commercial licenses see https://www.tiny.cloud/
 *
 * Version: 5.1.5 (2019-12-19)
 */
!function (v) {
  "use strict";

  function Z() {}

  function i(e, o) {
    return function () {
      for (var n = [], t = 0; t < arguments.length; t++) {
        n[t] = arguments[t];
      }

      return e(o.apply(null, n));
    };
  }

  function l(n) {
    return n;
  }

  var nn = function nn(n) {
    return function () {
      return n;
    };
  };

  function d(o) {
    for (var r = [], n = 1; n < arguments.length; n++) {
      r[n - 1] = arguments[n];
    }

    return function () {
      for (var n = [], t = 0; t < arguments.length; t++) {
        n[t] = arguments[t];
      }

      var e = r.concat(n);
      return o.apply(null, e);
    };
  }

  function b(e) {
    return function () {
      for (var n = [], t = 0; t < arguments.length; t++) {
        n[t] = arguments[t];
      }

      return !e.apply(null, n);
    };
  }

  function r(n) {
    return function () {
      throw new Error(n);
    };
  }

  var u = nn(!1),
      a = nn(!0),
      n = tinymce.util.Tools.resolve("tinymce.ThemeManager"),
      _N = function N() {
    return (_N = Object.assign || function (n) {
      for (var t, e = 1, o = arguments.length; e < o; e++) {
        for (var r in t = arguments[e]) {
          Object.prototype.hasOwnProperty.call(t, r) && (n[r] = t[r]);
        }
      }

      return n;
    }).apply(this, arguments);
  };

  function c(n, t) {
    var e = {};

    for (var o in n) {
      Object.prototype.hasOwnProperty.call(n, o) && t.indexOf(o) < 0 && (e[o] = n[o]);
    }

    if (null != n && "function" == typeof Object.getOwnPropertySymbols) {
      var r = 0;

      for (o = Object.getOwnPropertySymbols(n); r < o.length; r++) {
        t.indexOf(o[r]) < 0 && Object.prototype.propertyIsEnumerable.call(n, o[r]) && (e[o[r]] = n[o[r]]);
      }
    }

    return e;
  }

  function g() {
    for (var n = 0, t = 0, e = arguments.length; t < e; t++) {
      n += arguments[t].length;
    }

    var o = Array(n),
        r = 0;

    for (t = 0; t < e; t++) {
      for (var i = arguments[t], u = 0, a = i.length; u < a; u++, r++) {
        o[r] = i[u];
      }
    }

    return o;
  }

  function t() {
    return s;
  }

  var e,
      s = (e = {
    fold: function fold(n, t) {
      return n();
    },
    is: u,
    isSome: u,
    isNone: a,
    getOr: m,
    getOrThunk: f,
    getOrDie: function getOrDie(n) {
      throw new Error(n || "error: getOrDie called on none.");
    },
    getOrNull: nn(null),
    getOrUndefined: nn(undefined),
    or: m,
    orThunk: f,
    map: t,
    each: Z,
    bind: t,
    exists: u,
    forall: a,
    filter: t,
    equals: o,
    equals_: o,
    toArray: function toArray() {
      return [];
    },
    toString: nn("none()")
  }, Object.freeze && Object.freeze(e), e);

  function o(n) {
    return n.isNone();
  }

  function f(n) {
    return n();
  }

  function m(n) {
    return n;
  }

  function p(t) {
    return function (n) {
      return function (n) {
        if (null === n) return "null";

        var t = _typeof(n);

        return "object" == t && (Array.prototype.isPrototypeOf(n) || n.constructor && "Array" === n.constructor.name) ? "array" : "object" == t && (String.prototype.isPrototypeOf(n) || n.constructor && "String" === n.constructor.name) ? "string" : t;
      }(n) === t;
    };
  }

  function h(n, t) {
    if (fn(n)) {
      for (var e = 0, o = n.length; e < o; ++e) {
        if (!0 !== t(n[e])) return !1;
      }

      return !0;
    }

    return !1;
  }

  function y(n, t) {
    return pn.call(n, t);
  }

  function x(n, t) {
    for (var e = 0, o = n.length; e < o; e++) {
      if (t(n[e], e)) return !0;
    }

    return !1;
  }

  function w(n, t) {
    for (var e = [], o = 0; o < n.length; o += t) {
      var r = gn.call(n, o, o + t);
      e.push(r);
    }

    return e;
  }

  function S(n, t) {
    for (var e = n.length, o = new Array(e), r = 0; r < e; r++) {
      var i = n[r];
      o[r] = t(i, r);
    }

    return o;
  }

  function C(n, t) {
    for (var e = [], o = 0, r = n.length; o < r; o++) {
      var i = n[o];
      t(i, o) && e.push(i);
    }

    return e;
  }

  function k(n, t, e) {
    return function (n, t) {
      for (var e = n.length - 1; 0 <= e; e--) {
        t(n[e], e);
      }
    }(n, function (n) {
      e = t(e, n);
    }), e;
  }

  function O(n, t, e) {
    return bn(n, function (n) {
      e = t(e, n);
    }), e;
  }

  function E(n, t) {
    for (var e = 0, o = n.length; e < o; e++) {
      var r = n[e];
      if (t(r, e)) return on.some(r);
    }

    return on.none();
  }

  function T(n, t) {
    for (var e = 0, o = n.length; e < o; e++) {
      if (t(n[e], e)) return on.some(e);
    }

    return on.none();
  }

  function H(n) {
    for (var t = [], e = 0, o = n.length; e < o; ++e) {
      if (!fn(n[e])) throw new Error("Arr.flatten item " + e + " was not an array, input: " + n);
      hn.apply(t, n[e]);
    }

    return t;
  }

  function B(n, t) {
    var e = S(n, t);
    return H(e);
  }

  function D(n, t) {
    for (var e = 0, o = n.length; e < o; ++e) {
      if (!0 !== t(n[e], e)) return !1;
    }

    return !0;
  }

  function A(n) {
    var t = gn.call(n, 0);
    return t.reverse(), t;
  }

  function _(n, t) {
    return C(n, function (n) {
      return !vn(t, n);
    });
  }

  function M(n) {
    return [n];
  }

  function F(n) {
    return 0 === n.length ? on.none() : on.some(n[n.length - 1]);
  }

  function P(n, e) {
    return kn(n, function (n, t) {
      return {
        k: t,
        v: e(n, t)
      };
    });
  }

  function I(n, t) {
    for (var e = wn(n), o = 0, r = e.length; o < r; o++) {
      var i = e[o],
          u = n[i];
      if (t(u, i, n)) return on.some(u);
    }

    return on.none();
  }

  function R(n) {
    return On(n, function (n) {
      return n;
    });
  }

  function V(n, t) {
    return En(n, t) ? on.from(n[t]) : on.none();
  }

  function z(u) {
    return function () {
      for (var n = new Array(arguments.length), t = 0; t < n.length; t++) {
        n[t] = arguments[t];
      }

      if (0 === n.length) throw new Error("Can't merge zero objects");

      for (var e = {}, o = 0; o < n.length; o++) {
        var r = n[o];

        for (var i in r) {
          Bn.call(r, i) && (e[i] = u(e[i], r[i]));
        }
      }

      return e;
    };
  }

  function L(e) {
    var o,
        r = !1;
    return function () {
      for (var n = [], t = 0; t < arguments.length; t++) {
        n[t] = arguments[t];
      }

      return r || (r = !0, o = e.apply(null, n)), o;
    };
  }

  function j(n) {
    return _n.defaultedThunk(nn(n));
  }

  function U(t) {
    return function (n) {
      return En(n, t) ? on.from(n[t]) : on.none();
    };
  }

  function W(n, t) {
    return U(t)(n);
  }

  function G(n, t) {
    var e = {};
    return e[n] = t, e;
  }

  function X(n, t) {
    return function (n, e) {
      var o = {};
      return Cn(n, function (n, t) {
        vn(e, t) || (o[t] = n);
      }), o;
    }(n, t);
  }

  function Y(n, t) {
    return function (t, e) {
      return function (n) {
        return En(n, t) ? n[t] : e;
      };
    }(n, t);
  }

  function q(n, t) {
    return G(n, t);
  }

  function K(n) {
    return function (n) {
      var t = {};
      return bn(n, function (n) {
        t[n.key] = n.value;
      }), t;
    }(n);
  }

  function J(n, t) {
    var e = function (n) {
      var t = [],
          e = [];
      return bn(n, function (n) {
        n.fold(function (n) {
          t.push(n);
        }, function (n) {
          e.push(n);
        });
      }), {
        errors: t,
        values: e
      };
    }(n);

    return 0 < e.errors.length ? function (n) {
      return an.error(H(n));
    }(e.errors) : function (n, t) {
      return 0 === n.length ? an.value(t) : an.value(Dn(t, An.apply(undefined, n)));
    }(e.values, t);
  }

  function $(n, t) {
    return function (n, t) {
      return En(n, t) && n[t] !== undefined && null !== n[t];
    }(n, t);
  }

  var Q,
      tn,
      en = function en(e) {
    function n() {
      return r;
    }

    function t(n) {
      return n(e);
    }

    var o = nn(e),
        r = {
      fold: function fold(n, t) {
        return t(e);
      },
      is: function is(n) {
        return e === n;
      },
      isSome: a,
      isNone: u,
      getOr: o,
      getOrThunk: o,
      getOrDie: o,
      getOrNull: o,
      getOrUndefined: o,
      or: n,
      orThunk: n,
      map: function map(n) {
        return en(n(e));
      },
      each: function each(n) {
        n(e);
      },
      bind: t,
      exists: t,
      forall: t,
      filter: function filter(n) {
        return n(e) ? r : s;
      },
      toArray: function toArray() {
        return [e];
      },
      toString: function toString() {
        return "some(" + e + ")";
      },
      equals: function equals(n) {
        return n.is(e);
      },
      equals_: function equals_(n, t) {
        return n.fold(u, function (n) {
          return t(e, n);
        });
      }
    };
    return r;
  },
      on = {
    some: en,
    none: t,
    from: function from(n) {
      return null === n || n === undefined ? s : en(n);
    }
  },
      rn = function rn(e) {
    return {
      is: function is(n) {
        return e === n;
      },
      isValue: a,
      isError: u,
      getOr: nn(e),
      getOrThunk: nn(e),
      getOrDie: nn(e),
      or: function or(n) {
        return rn(e);
      },
      orThunk: function orThunk(n) {
        return rn(e);
      },
      fold: function fold(n, t) {
        return t(e);
      },
      map: function map(n) {
        return rn(n(e));
      },
      mapError: function mapError(n) {
        return rn(e);
      },
      each: function each(n) {
        n(e);
      },
      bind: function bind(n) {
        return n(e);
      },
      exists: function exists(n) {
        return n(e);
      },
      forall: function forall(n) {
        return n(e);
      },
      toOption: function toOption() {
        return on.some(e);
      }
    };
  },
      un = function un(e) {
    return {
      is: u,
      isValue: u,
      isError: a,
      getOr: l,
      getOrThunk: function getOrThunk(n) {
        return n();
      },
      getOrDie: function getOrDie() {
        return r(String(e))();
      },
      or: function or(n) {
        return n;
      },
      orThunk: function orThunk(n) {
        return n();
      },
      fold: function fold(n, t) {
        return n(e);
      },
      map: function map(n) {
        return un(e);
      },
      mapError: function mapError(n) {
        return un(n(e));
      },
      each: Z,
      bind: function bind(n) {
        return un(e);
      },
      exists: u,
      forall: a,
      toOption: on.none
    };
  },
      an = {
    value: rn,
    error: un,
    fromOption: function fromOption(n, t) {
      return n.fold(function () {
        return un(t);
      }, rn);
    }
  },
      cn = p("string"),
      sn = p("object"),
      fn = p("array"),
      ln = p("boolean"),
      dn = p("function"),
      mn = p("number"),
      gn = Array.prototype.slice,
      pn = Array.prototype.indexOf,
      hn = Array.prototype.push,
      vn = function vn(n, t) {
    return -1 < y(n, t);
  },
      bn = function bn(n, t) {
    for (var e = 0, o = n.length; e < o; e++) {
      t(n[e], e);
    }
  },
      yn = function yn(n) {
    return 0 === n.length ? on.none() : on.some(n[0]);
  },
      xn = dn(Array.from) ? Array.from : function (n) {
    return gn.call(n);
  },
      wn = Object.keys,
      Sn = Object.hasOwnProperty,
      Cn = function Cn(n, t) {
    for (var e = wn(n), o = 0, r = e.length; o < r; o++) {
      var i = e[o];
      t(n[i], i);
    }
  },
      kn = function kn(n, o) {
    var r = {};
    return Cn(n, function (n, t) {
      var e = o(n, t);
      r[e.k] = e.v;
    }), r;
  },
      On = function On(n, e) {
    var o = [];
    return Cn(n, function (n, t) {
      o.push(e(n, t));
    }), o;
  },
      En = function En(n, t) {
    return Sn.call(n, t);
  },
      Tn = function Tn(u) {
    if (!fn(u)) throw new Error("cases must be an array");
    if (0 === u.length) throw new Error("there must be at least one case");
    var a = [],
        e = {};
    return bn(u, function (n, o) {
      var t = wn(n);
      if (1 !== t.length) throw new Error("one and only one name per case");
      var r = t[0],
          i = n[r];
      if (e[r] !== undefined) throw new Error("duplicate key detected:" + r);
      if ("cata" === r) throw new Error("cannot have a case named cata (sorry)");
      if (!fn(i)) throw new Error("case arguments must be an array");
      a.push(r), e[r] = function () {
        var n = arguments.length;
        if (n !== i.length) throw new Error("Wrong number of arguments to case " + r + ". Expected " + i.length + " (" + i + "), got " + n);

        for (var e = new Array(n), t = 0; t < e.length; t++) {
          e[t] = arguments[t];
        }

        return {
          fold: function fold() {
            if (arguments.length !== u.length) throw new Error("Wrong number of arguments to fold. Expected " + u.length + ", got " + arguments.length);
            return arguments[o].apply(null, e);
          },
          match: function match(n) {
            var t = wn(n);
            if (a.length !== t.length) throw new Error("Wrong number of arguments to match. Expected: " + a.join(",") + "\nActual: " + t.join(","));
            if (!D(a, function (n) {
              return vn(t, n);
            })) throw new Error("Not all branches were specified when using match. Specified: " + t.join(", ") + "\nRequired: " + a.join(", "));
            return n[r].apply(null, e);
          },
          log: function log(n) {
            v.console.log(n, {
              constructors: a,
              constructor: r,
              params: e
            });
          }
        };
      };
    }), e;
  },
      Bn = Object.prototype.hasOwnProperty,
      Dn = z(function (n, t) {
    return sn(n) && sn(t) ? Dn(n, t) : t;
  }),
      An = z(function (n, t) {
    return t;
  }),
      _n = Tn([{
    strict: []
  }, {
    defaultedThunk: ["fallbackThunk"]
  }, {
    asOption: []
  }, {
    asDefaultedOptionThunk: ["fallbackThunk"]
  }, {
    mergeWithThunk: ["baseThunk"]
  }]),
      Mn = _n.strict,
      Fn = _n.asOption,
      In = _n.defaultedThunk,
      Rn = _n.mergeWithThunk,
      Vn = (Tn([{
    bothErrors: ["error1", "error2"]
  }, {
    firstError: ["error1", "value2"]
  }, {
    secondError: ["value1", "error2"]
  }, {
    bothValues: ["value1", "value2"]
  }]), function (n) {
    return U(n);
  }),
      Nn = function Nn(n, t) {
    return W(n, t);
  };

  (tn = Q = Q || {})[tn.Error = 0] = "Error", tn[tn.Value = 1] = "Value";

  function Hn(n, t, e) {
    return n.stype === Q.Error ? t(n.serror) : e(n.svalue);
  }

  function Pn(n) {
    return {
      stype: Q.Value,
      svalue: n
    };
  }

  function zn(n) {
    return {
      stype: Q.Error,
      serror: n
    };
  }

  function Ln(n) {
    return i(qt, H)(n);
  }

  function jn(n) {
    return sn(n) && 100 < wn(n).length ? " removed due to size" : JSON.stringify(n, null, 2);
  }

  function Un(n, t) {
    return qt([{
      path: n,
      getErrorInfo: t
    }]);
  }

  function Wn(n, t, e) {
    return W(t, e).fold(function () {
      return function (n, t, e) {
        return Un(n, function () {
          return 'Could not find valid *strict* value for "' + t + '" in ' + jn(e);
        });
      }(n, e, t);
    }, Xt);
  }

  function Gn(n, t, e) {
    var o = W(n, t).fold(function () {
      return e(n);
    }, l);
    return Xt(o);
  }

  function Xn(u, a, n, c) {
    return n.fold(function (o, e, n, r) {
      function i(n) {
        var t = r.extract(u.concat([o]), c, n);
        return $t(t, function (n) {
          return G(e, c(n));
        });
      }

      function t(n) {
        return n.fold(function () {
          var n = G(e, c(on.none()));
          return Xt(n);
        }, function (n) {
          var t = r.extract(u.concat([o]), c, n);
          return $t(t, function (n) {
            return G(e, c(on.some(n)));
          });
        });
      }

      return n.fold(function () {
        return Kt(Wn(u, a, o), i);
      }, function (n) {
        return Kt(Gn(a, o, n), i);
      }, function () {
        return Kt(function (n, t) {
          return Xt(W(n, t));
        }(a, o), t);
      }, function (n) {
        return Kt(function (t, n, e) {
          var o = W(t, n).map(function (n) {
            return !0 === n ? e(t) : n;
          });
          return Xt(o);
        }(a, o, n), t);
      }, function (n) {
        var t = n(a),
            e = $t(Gn(a, o, nn({})), function (n) {
          return Dn(t, n);
        });
        return Kt(e, i);
      });
    }, function (n, t) {
      var e = t(a);
      return Xt(G(n, c(e)));
    });
  }

  function Yn(o) {
    return {
      extract: function extract(t, n, e) {
        return Jt(o(e, n), function (n) {
          return function (n, t) {
            return Un(n, function () {
              return t;
            });
          }(t, n);
        });
      },
      toString: function toString() {
        return "val";
      },
      toDsl: function toDsl() {
        return te.itemOf(o);
      }
    };
  }

  function qn(n) {
    var i = re(n),
        u = k(n, function (t, n) {
      return n.fold(function (n) {
        return Dn(t, q(n, !0));
      }, nn(t));
    }, {});
    return {
      extract: function extract(n, t, e) {
        var o = ln(e) ? [] : function (t) {
          var n = wn(t);
          return C(n, function (n) {
            return $(t, n);
          });
        }(e),
            r = C(o, function (n) {
          return !$(u, n);
        });
        return 0 === r.length ? i.extract(n, t, e) : function (n, t) {
          return Un(n, function () {
            return "There are unsupported fields: [" + t.join(", ") + "] specified";
          });
        }(n, r);
      },
      toString: i.toString,
      toDsl: i.toDsl
    };
  }

  function Kn(r) {
    return {
      extract: function extract(e, o, n) {
        var t = S(n, function (n, t) {
          return r.extract(e.concat(["[" + t + "]"]), o, n);
        });
        return ne(t);
      },
      toString: function toString() {
        return "array(" + r.toString() + ")";
      },
      toDsl: function toDsl() {
        return te.arrOf(r);
      }
    };
  }

  function Jn(i, u) {
    return {
      extract: function extract(e, o, r) {
        var n = wn(r),
            t = function (n, t) {
          return Kn(Yn(i)).extract(n, l, t);
        }(e, n);

        return Kt(t, function (n) {
          var t = S(n, function (n) {
            return oe.field(n, n, Mn(), u);
          });
          return re(t).extract(e, o, r);
        });
      },
      toString: function toString() {
        return "setOf(" + u.toString() + ")";
      },
      toDsl: function toDsl() {
        return te.setOf(i, u);
      }
    };
  }

  function $n(t, e, o, n, r) {
    return Nn(n, r).fold(function () {
      return function (n, t, e) {
        return Un(n, function () {
          return 'The chosen schema: "' + e + '" did not exist in branches: ' + jn(t);
        });
      }(t, n, r);
    }, function (n) {
      return n.extract(t.concat(["branch: " + r]), e, o);
    });
  }

  function Qn(n, r) {
    return {
      extract: function extract(t, e, o) {
        return Nn(o, n).fold(function () {
          return function (n, t) {
            return Un(n, function () {
              return 'Choice schema did not contain choice key: "' + t + '"';
            });
          }(t, n);
        }, function (n) {
          return $n(t, e, o, r, n);
        });
      },
      toString: function toString() {
        return "chooseOn(" + n + "). Possible values: " + wn(r);
      },
      toDsl: function toDsl() {
        return te.choiceOf(n, r);
      }
    };
  }

  function Zn(t) {
    return Yn(function (n) {
      return t(n).fold(qt, Xt);
    });
  }

  function nt(t, n) {
    return Jn(function (n) {
      return Wt(t(n));
    }, n);
  }

  function tt(n, t, e) {
    return Gt(function (n, t, e, o) {
      var r = t.extract([n], e, o);
      return Qt(r, function (n) {
        return {
          input: o,
          errors: n
        };
      });
    }(n, t, l, e));
  }

  function et(n) {
    return n.fold(function (n) {
      throw new Error(le(n));
    }, l);
  }

  function ot(n, t, e) {
    return et(tt(n, t, e));
  }

  function rt(n, t) {
    return Qn(n, t);
  }

  function it(n, t) {
    return Qn(n, P(t, re));
  }

  function ut(e, o) {
    return Yn(function (n) {
      var t = _typeof(n);

      return e(n) ? Xt(n) : qt("Expected type: " + o + " but got: " + t);
    });
  }

  function at(t) {
    return Zn(function (n) {
      return vn(t, n) ? an.value(n) : an.error('Unsupported value: "' + n + '", choose one of "' + t.join(", ") + '".');
    });
  }

  function ct(n) {
    return ce(n, n, Mn(), ie());
  }

  function st(n, t) {
    return ce(n, n, Mn(), t);
  }

  function ft(n) {
    return st(n, ge);
  }

  function lt(n, t) {
    return ce(n, n, Mn(), at(t));
  }

  function dt(n) {
    return st(n, he);
  }

  function mt(n, t) {
    return ce(n, n, Mn(), re(t));
  }

  function gt(n, t) {
    return ce(n, n, Mn(), ue(t));
  }

  function pt(n, t) {
    return ce(n, n, Mn(), Kn(t));
  }

  function ht(n) {
    return ce(n, n, Fn(), ie());
  }

  function vt(n, t) {
    return ce(n, n, Fn(), t);
  }

  function bt(n) {
    return vt(n, me);
  }

  function yt(n) {
    return vt(n, ge);
  }

  function xt(n) {
    return vt(n, he);
  }

  function wt(n, t) {
    return vt(n, re(t));
  }

  function St(n, t) {
    return ce(n, n, j(t), ie());
  }

  function Ct(n, t, e) {
    return ce(n, n, j(t), e);
  }

  function kt(n, t) {
    return Ct(n, t, me);
  }

  function Ot(n, t) {
    return Ct(n, t, ge);
  }

  function Et(n, t, e) {
    return Ct(n, t, at(e));
  }

  function Tt(n, t) {
    return Ct(n, t, pe);
  }

  function Bt(n, t) {
    return Ct(n, t, he);
  }

  function Dt(n, t, e) {
    return Ct(n, t, re(e));
  }

  function At(n, t) {
    return ae(n, t);
  }

  function _t(n, t, e) {
    return 0 != (n.compareDocumentPosition(t) & e);
  }

  function Mt(n, t) {
    var e = function (n, t) {
      for (var e = 0; e < n.length; e++) {
        var o = n[e];
        if (o.test(t)) return o;
      }

      return undefined;
    }(n, t);

    if (!e) return {
      major: 0,
      minor: 0
    };

    function o(n) {
      return Number(t.replace(e, "$" + n));
    }

    return ke(o(1), o(2));
  }

  function Ft(n, t) {
    return function () {
      return t === n;
    };
  }

  function It(n, t) {
    return function () {
      return t === n;
    };
  }

  function Rt(n, t) {
    var e = String(t).toLowerCase();
    return E(n, function (n) {
      return n.search(e);
    });
  }

  function Vt(n, t) {
    return -1 !== n.indexOf(t);
  }

  function Nt(t) {
    return function (n) {
      return Vt(n, t);
    };
  }

  function Ht() {
    return Le.get();
  }

  function Pt(n, t) {
    var e = n.dom();
    if (e.nodeType !== Ge) return !1;
    var o = e;
    if (o.matches !== undefined) return o.matches(t);
    if (o.msMatchesSelector !== undefined) return o.msMatchesSelector(t);
    if (o.webkitMatchesSelector !== undefined) return o.webkitMatchesSelector(t);
    if (o.mozMatchesSelector !== undefined) return o.mozMatchesSelector(t);
    throw new Error("Browser lacks native selectors");
  }

  function zt(n) {
    return n.nodeType !== Ge && n.nodeType !== Xe || 0 === n.childElementCount;
  }

  function Lt(n, t) {
    var e = t === undefined ? v.document : t.dom();
    return zt(e) ? [] : S(e.querySelectorAll(n), we.fromDom);
  }

  function jt(n, t) {
    return n.dom() === t.dom();
  }

  function Ut(n, t) {
    return jt(n.element(), t.event().target());
  }

  var Wt = function Wt(n) {
    return n.fold(zn, Pn);
  },
      Gt = function Gt(n) {
    return Hn(n, an.error, an.value);
  },
      Xt = Pn,
      Yt = function Yt(n) {
    var t = [],
        e = [];
    return bn(n, function (n) {
      Hn(n, function (n) {
        return e.push(n);
      }, function (n) {
        return t.push(n);
      });
    }), {
      values: t,
      errors: e
    };
  },
      qt = zn,
      Kt = function Kt(n, t) {
    return n.stype === Q.Value ? t(n.svalue) : n;
  },
      Jt = function Jt(n, t) {
    return n.stype === Q.Error ? t(n.serror) : n;
  },
      $t = function $t(n, t) {
    return n.stype === Q.Value ? {
      stype: Q.Value,
      svalue: t(n.svalue)
    } : n;
  },
      Qt = function Qt(n, t) {
    return n.stype === Q.Error ? {
      stype: Q.Error,
      serror: t(n.serror)
    } : n;
  },
      Zt = function Zt(n, t) {
    var e = Yt(n);
    return 0 < e.errors.length ? Ln(e.errors) : function (n, t) {
      return 0 < n.length ? Xt(Dn(t, An.apply(undefined, n))) : Xt(t);
    }(e.values, t);
  },
      ne = function ne(n) {
    var t = Yt(n);
    return 0 < t.errors.length ? Ln(t.errors) : Xt(t.values);
  },
      te = Tn([{
    setOf: ["validator", "valueType"]
  }, {
    arrOf: ["valueType"]
  }, {
    objOf: ["fields"]
  }, {
    itemOf: ["validator"]
  }, {
    choiceOf: ["key", "branches"]
  }, {
    thunk: ["description"]
  }, {
    func: ["args", "outputSchema"]
  }]),
      ee = Tn([{
    field: ["name", "presence", "type"]
  }, {
    state: ["name"]
  }]),
      oe = Tn([{
    field: ["key", "okey", "presence", "prop"]
  }, {
    state: ["okey", "instantiator"]
  }]),
      re = function re(o) {
    return {
      extract: function extract(n, t, e) {
        return function (t, e, n, o) {
          var r = S(n, function (n) {
            return Xn(t, e, n, o);
          });
          return Zt(r, {});
        }(n, e, o, t);
      },
      toString: function toString() {
        return "obj{\n" + S(o, function (n) {
          return n.fold(function (n, t, e, o) {
            return n + " -> " + o.toString();
          }, function (n, t) {
            return "state(" + n + ")";
          });
        }).join("\n") + "}";
      },
      toDsl: function toDsl() {
        return te.objOf(S(o, function (n) {
          return n.fold(function (n, t, e, o) {
            return ee.field(n, e, o);
          }, function (n, t) {
            return ee.state(n);
          });
        }));
      }
    };
  },
      ie = nn(Yn(Xt)),
      ue = i(Kn, re),
      ae = oe.state,
      ce = oe.field,
      se = Yn(Xt),
      fe = function fe(o) {
    return {
      extract: function extract(n, t, e) {
        return o().extract(n, t, e);
      },
      toString: function toString() {
        return o().toString();
      },
      toDsl: function toDsl() {
        return o().toDsl();
      }
    };
  },
      le = function le(n) {
    return "Errors: \n" + function (n) {
      var t = 10 < n.length ? n.slice(0, 10).concat([{
        path: [],
        getErrorInfo: function getErrorInfo() {
          return "... (only showing first ten failures)";
        }
      }]) : n;
      return S(t, function (n) {
        return "Failed path: (" + n.path.join(" > ") + ")\n" + n.getErrorInfo();
      });
    }(n.errors) + "\n\nInput object: " + jn(n.input);
  },
      de = nn(se),
      me = ut(mn, "number"),
      ge = ut(cn, "string"),
      pe = ut(ln, "boolean"),
      he = ut(dn, "function"),
      ve = function ve(t) {
    function n(n, t) {
      for (var e = n.next(); !e.done;) {
        if (!t(e.value)) return !1;
        e = n.next();
      }

      return !0;
    }

    if (Object(t) !== t) return !0;

    switch ({}.toString.call(t).slice(8, -1)) {
      case "Boolean":
      case "Number":
      case "String":
      case "Date":
      case "RegExp":
      case "Blob":
      case "FileList":
      case "ImageData":
      case "ImageBitmap":
      case "ArrayBuffer":
        return !0;

      case "Array":
      case "Object":
        return Object.keys(t).every(function (n) {
          return ve(t[n]);
        });

      case "Map":
        return n(t.keys(), ve) && n(t.values(), ve);

      case "Set":
        return n(t.keys(), ve);

      default:
        return !1;
    }
  },
      be = Yn(function (n) {
    return ve(n) ? Xt(n) : qt("Expected value to be acceptable for sending via postMessage");
  }),
      ye = function ye(n) {
    function t() {
      return e;
    }

    var e = n;
    return {
      get: t,
      set: function set(n) {
        e = n;
      },
      clone: function clone() {
        return ye(t());
      }
    };
  },
      xe = function xe(n) {
    if (null === n || n === undefined) throw new Error("Node cannot be null or undefined");
    return {
      dom: nn(n)
    };
  },
      we = {
    fromHtml: function fromHtml(n, t) {
      var e = (t || v.document).createElement("div");
      if (e.innerHTML = n, !e.hasChildNodes() || 1 < e.childNodes.length) throw v.console.error("HTML does not have a single root node", n), new Error("HTML must have a single root node");
      return xe(e.childNodes[0]);
    },
    fromTag: function fromTag(n, t) {
      var e = (t || v.document).createElement(n);
      return xe(e);
    },
    fromText: function fromText(n, t) {
      var e = (t || v.document).createTextNode(n);
      return xe(e);
    },
    fromDom: xe,
    fromPoint: function fromPoint(n, t, e) {
      var o = n.dom();
      return on.from(o.elementFromPoint(t, e)).map(xe);
    }
  },
      Se = function Se(n, t) {
    return _t(n, t, v.Node.DOCUMENT_POSITION_CONTAINED_BY);
  },
      Ce = function Ce() {
    return ke(0, 0);
  },
      ke = function ke(n, t) {
    return {
      major: n,
      minor: t
    };
  },
      Oe = {
    nu: ke,
    detect: function detect(n, t) {
      var e = String(t).toLowerCase();
      return 0 === n.length ? Ce() : Mt(n, e);
    },
    unknown: Ce
  },
      Ee = "Firefox",
      Te = function Te(n) {
    var t = n.current;
    return {
      current: t,
      version: n.version,
      isEdge: Ft("Edge", t),
      isChrome: Ft("Chrome", t),
      isIE: Ft("IE", t),
      isOpera: Ft("Opera", t),
      isFirefox: Ft(Ee, t),
      isSafari: Ft("Safari", t)
    };
  },
      Be = {
    unknown: function unknown() {
      return Te({
        current: undefined,
        version: Oe.unknown()
      });
    },
    nu: Te,
    edge: nn("Edge"),
    chrome: nn("Chrome"),
    ie: nn("IE"),
    opera: nn("Opera"),
    firefox: nn(Ee),
    safari: nn("Safari")
  },
      De = "Windows",
      Ae = "Android",
      _e = "Solaris",
      Me = "FreeBSD",
      Fe = function Fe(n) {
    var t = n.current;
    return {
      current: t,
      version: n.version,
      isWindows: It(De, t),
      isiOS: It("iOS", t),
      isAndroid: It(Ae, t),
      isOSX: It("OSX", t),
      isLinux: It("Linux", t),
      isSolaris: It(_e, t),
      isFreeBSD: It(Me, t)
    };
  },
      Ie = {
    unknown: function unknown() {
      return Fe({
        current: undefined,
        version: Oe.unknown()
      });
    },
    nu: Fe,
    windows: nn(De),
    ios: nn("iOS"),
    android: nn(Ae),
    linux: nn("Linux"),
    osx: nn("OSX"),
    solaris: nn(_e),
    freebsd: nn(Me)
  },
      Re = function Re(n, e) {
    return Rt(n, e).map(function (n) {
      var t = Oe.detect(n.versionRegexes, e);
      return {
        current: n.name,
        version: t
      };
    });
  },
      Ve = function Ve(n, e) {
    return Rt(n, e).map(function (n) {
      var t = Oe.detect(n.versionRegexes, e);
      return {
        current: n.name,
        version: t
      };
    });
  },
      Ne = /.*?version\/\ ?([0-9]+)\.([0-9]+).*/,
      He = [{
    name: "Edge",
    versionRegexes: [/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],
    search: function search(n) {
      return Vt(n, "edge/") && Vt(n, "chrome") && Vt(n, "safari") && Vt(n, "applewebkit");
    }
  }, {
    name: "Chrome",
    versionRegexes: [/.*?chrome\/([0-9]+)\.([0-9]+).*/, Ne],
    search: function search(n) {
      return Vt(n, "chrome") && !Vt(n, "chromeframe");
    }
  }, {
    name: "IE",
    versionRegexes: [/.*?msie\ ?([0-9]+)\.([0-9]+).*/, /.*?rv:([0-9]+)\.([0-9]+).*/],
    search: function search(n) {
      return Vt(n, "msie") || Vt(n, "trident");
    }
  }, {
    name: "Opera",
    versionRegexes: [Ne, /.*?opera\/([0-9]+)\.([0-9]+).*/],
    search: Nt("opera")
  }, {
    name: "Firefox",
    versionRegexes: [/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],
    search: Nt("firefox")
  }, {
    name: "Safari",
    versionRegexes: [Ne, /.*?cpu os ([0-9]+)_([0-9]+).*/],
    search: function search(n) {
      return (Vt(n, "safari") || Vt(n, "mobile/")) && Vt(n, "applewebkit");
    }
  }],
      Pe = [{
    name: "Windows",
    search: Nt("win"),
    versionRegexes: [/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]
  }, {
    name: "iOS",
    search: function search(n) {
      return Vt(n, "iphone") || Vt(n, "ipad");
    },
    versionRegexes: [/.*?version\/\ ?([0-9]+)\.([0-9]+).*/, /.*cpu os ([0-9]+)_([0-9]+).*/, /.*cpu iphone os ([0-9]+)_([0-9]+).*/]
  }, {
    name: "Android",
    search: Nt("android"),
    versionRegexes: [/.*?android\ ?([0-9]+)\.([0-9]+).*/]
  }, {
    name: "OSX",
    search: Nt("os x"),
    versionRegexes: [/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]
  }, {
    name: "Linux",
    search: Nt("linux"),
    versionRegexes: []
  }, {
    name: "Solaris",
    search: Nt("sunos"),
    versionRegexes: []
  }, {
    name: "FreeBSD",
    search: Nt("freebsd"),
    versionRegexes: []
  }],
      ze = {
    browsers: nn(He),
    oses: nn(Pe)
  },
      Le = ye(function (n, t) {
    var e = ze.browsers(),
        o = ze.oses(),
        r = Re(e, n).fold(Be.unknown, Be.nu),
        i = Ve(o, n).fold(Ie.unknown, Ie.nu);
    return {
      browser: r,
      os: i,
      deviceType: function (n, t, e, o) {
        var r = n.isiOS() && !0 === /ipad/i.test(e),
            i = n.isiOS() && !r,
            u = n.isiOS() || n.isAndroid(),
            a = u || o("(pointer:coarse)"),
            c = r || !i && u && o("(min-device-width:768px)"),
            s = i || u && !c,
            f = t.isSafari() && n.isiOS() && !1 === /safari/i.test(e),
            l = !s && !c && !f;
        return {
          isiPad: nn(r),
          isiPhone: nn(i),
          isTablet: nn(c),
          isPhone: nn(s),
          isTouch: nn(a),
          isAndroid: n.isAndroid,
          isiOS: n.isiOS,
          isWebView: nn(f),
          isDesktop: nn(l)
        };
      }(i, r, n, t)
    };
  }(v.navigator.userAgent, function (n) {
    return v.window.matchMedia(n).matches;
  })),
      je = (v.Node.ATTRIBUTE_NODE, v.Node.CDATA_SECTION_NODE, v.Node.COMMENT_NODE, v.Node.DOCUMENT_NODE),
      Ue = (v.Node.DOCUMENT_TYPE_NODE, v.Node.DOCUMENT_FRAGMENT_NODE, v.Node.ELEMENT_NODE),
      We = v.Node.TEXT_NODE,
      Ge = (v.Node.PROCESSING_INSTRUCTION_NODE, v.Node.ENTITY_REFERENCE_NODE, v.Node.ENTITY_NODE, v.Node.NOTATION_NODE, Ue),
      Xe = je,
      Ye = Ht().browser.isIE() ? function (n, t) {
    return Se(n.dom(), t.dom());
  } : function (n, t) {
    var e = n.dom(),
        o = t.dom();
    return e !== o && e.contains(o);
  };

  function qe(n, t, e, o, r) {
    return n(e, o) ? on.some(e) : dn(r) && r(e) ? on.none() : t(e, o, r);
  }

  function Ke(n) {
    return n.dom().nodeName.toLowerCase();
  }

  function Je(t) {
    return function (n) {
      return function (n) {
        return n.dom().nodeType;
      }(n) === t;
    };
  }

  "undefined" != typeof v.window ? v.window : Function("return this;")();

  function $e(n) {
    var t = Pr(n) ? n.dom().parentNode : n.dom();
    return t !== undefined && null !== t && t.ownerDocument.body.contains(t);
  }

  function Qe(n, t, e) {
    for (var o = n.dom(), r = dn(e) ? e : nn(!1); o.parentNode;) {
      o = o.parentNode;
      var i = we.fromDom(o);
      if (t(i)) return on.some(i);
      if (r(i)) break;
    }

    return on.none();
  }

  function Ze(n, t, e) {
    return qe(function (n, t) {
      return t(n);
    }, Qe, n, t, e);
  }

  function no(n, r) {
    var i = function i(n) {
      for (var t = 0; t < n.childNodes.length; t++) {
        var e = we.fromDom(n.childNodes[t]);
        if (r(e)) return on.some(e);
        var o = i(n.childNodes[t]);
        if (o.isSome()) return o;
      }

      return on.none();
    };

    return i(n.dom());
  }

  function to(n) {
    if (!$(n, "can") && !$(n, "abort") && !$(n, "run")) throw new Error("EventHandler defined by: " + JSON.stringify(n, null, 2) + " does not have can, abort, or run!");
    return ot("Extracting event.handler", qn([St("can", nn(!0)), St("abort", nn(!1)), St("run", Z)]), n);
  }

  function eo(e) {
    var n = function (t, o) {
      return function () {
        for (var e = [], n = 0; n < arguments.length; n++) {
          e[n] = arguments[n];
        }

        return O(t, function (n, t) {
          return n && o(t).apply(undefined, e);
        }, !0);
      };
    }(e, function (n) {
      return n.can;
    }),
        t = function (t, o) {
      return function () {
        for (var e = [], n = 0; n < arguments.length; n++) {
          e[n] = arguments[n];
        }

        return O(t, function (n, t) {
          return n || o(t).apply(undefined, e);
        }, !1);
      };
    }(e, function (n) {
      return n.abort;
    });

    return to({
      can: n,
      abort: t,
      run: function run() {
        for (var t = [], n = 0; n < arguments.length; n++) {
          t[n] = arguments[n];
        }

        bn(e, function (n) {
          n.run.apply(undefined, t);
        });
      }
    });
  }

  function oo(n, t) {
    Fi(n, n.element(), t, {});
  }

  function ro(n, t, e) {
    Fi(n, n.element(), t, e);
  }

  function io(n) {
    oo(n, di());
  }

  function uo(n, t, e) {
    Fi(n, t, e, {});
  }

  function ao(n, t, e, o) {
    n.getSystem().triggerEvent(e, t, o.event());
  }

  function co(n) {
    return K(n);
  }

  function so(n, t) {
    return {
      key: n,
      value: to({
        abort: t
      })
    };
  }

  function fo(n) {
    return {
      key: n,
      value: to({
        run: function run(n, t) {
          t.event().prevent();
        }
      })
    };
  }

  function lo(n, t) {
    return {
      key: n,
      value: to({
        run: t
      })
    };
  }

  function mo(n, e, o) {
    return {
      key: n,
      value: to({
        run: function run(n, t) {
          e.apply(undefined, [n, t].concat(o));
        }
      })
    };
  }

  function go(n) {
    return function (e) {
      return {
        key: n,
        value: to({
          run: function run(n, t) {
            Ut(n, t) && e(n, t);
          }
        })
      };
    };
  }

  function po(n, t, e) {
    return function (e, o) {
      return lo(e, function (n, t) {
        n.getSystem().getByUid(o).each(function (n) {
          ao(n, n.element(), e, t);
        });
      });
    }(n, t.partUids[e]);
  }

  function ho(n, r) {
    return lo(n, function (t, n) {
      var e = n.event(),
          o = t.getSystem().getByDom(e.target()).fold(function () {
        return jr(e.target(), function (n) {
          return t.getSystem().getByDom(n).toOption();
        }, nn(!1)).getOr(t);
      }, function (n) {
        return n;
      });
      r(t, o, n);
    });
  }

  function vo(n) {
    return lo(n, function (n, t) {
      t.cut();
    });
  }

  function bo(n, t) {
    return go(n)(t);
  }

  function yo() {
    for (var t = [], n = 0; n < arguments.length; n++) {
      t[n] = arguments[n];
    }

    return function () {
      for (var e = [], n = 0; n < arguments.length; n++) {
        e[n] = arguments[n];
      }

      if (t.length !== e.length) throw new Error('Wrong number of arguments to struct. Expected "[' + t.length + ']", got ' + e.length + " arguments");
      var o = {};
      return bn(t, function (n, t) {
        o[n] = nn(e[t]);
      }), o;
    };
  }

  function xo(n) {
    return n.slice(0).sort();
  }

  function wo(t, n) {
    if (!fn(n)) throw new Error("The " + t + " fields must be an array. Was: " + n + ".");
    bn(n, function (n) {
      if (!cn(n)) throw new Error("The value " + n + " in the " + t + " fields was not a string.");
    });
  }

  function So(r, i) {
    var u = r.concat(i);
    if (0 === u.length) throw new Error("You must specify at least one required or optional field.");
    return wo("required", r), wo("optional", i), function (n) {
      var e = xo(n);
      E(e, function (n, t) {
        return t < e.length - 1 && n === e[t + 1];
      }).each(function (n) {
        throw new Error("The field: " + n + " occurs more than once in the combined fields: [" + e.join(", ") + "].");
      });
    }(u), function (t) {
      var e = wn(t);
      D(r, function (n) {
        return vn(e, n);
      }) || function (n, t) {
        throw new Error("All required keys (" + xo(n).join(", ") + ") were not specified. Specified keys were: " + xo(t).join(", ") + ".");
      }(r, e);
      var n = C(e, function (n) {
        return !vn(u, n);
      });
      0 < n.length && function (n) {
        throw new Error("Unsupported keys for object: " + xo(n).join(", "));
      }(n);
      var o = {};
      return bn(r, function (n) {
        o[n] = nn(t[n]);
      }), bn(i, function (n) {
        o[n] = nn(Object.prototype.hasOwnProperty.call(t, n) ? on.some(t[n]) : on.none());
      }), o;
    };
  }

  function Co(n) {
    return we.fromDom(n.dom().ownerDocument);
  }

  function ko(n) {
    return we.fromDom(n.dom().ownerDocument.documentElement);
  }

  function Oo(n) {
    return we.fromDom(n.dom().ownerDocument.defaultView);
  }

  function Eo(n) {
    return on.from(n.dom().parentNode).map(we.fromDom);
  }

  function To(n) {
    return on.from(n.dom().offsetParent).map(we.fromDom);
  }

  function Bo(n) {
    return S(n.dom().childNodes, we.fromDom);
  }

  function Do(n, t) {
    var e = n.dom().childNodes;
    return on.from(e[t]).map(we.fromDom);
  }

  function Ao(t, e) {
    Eo(t).each(function (n) {
      n.dom().insertBefore(e.dom(), t.dom());
    });
  }

  function _o(n, t) {
    (function (n) {
      return on.from(n.dom().nextSibling).map(we.fromDom);
    })(n).fold(function () {
      Eo(n).each(function (n) {
        Hi(n, t);
      });
    }, function (n) {
      Ao(n, t);
    });
  }

  function Mo(t, e) {
    (function (n) {
      return Do(n, 0);
    })(t).fold(function () {
      Hi(t, e);
    }, function (n) {
      t.dom().insertBefore(e.dom(), n.dom());
    });
  }

  function Fo(t, n) {
    bn(n, function (n) {
      Hi(t, n);
    });
  }

  function Io(n) {
    n.dom().textContent = "", bn(Bo(n), function (n) {
      Pi(n);
    });
  }

  function Ro(n) {
    var t = Bo(n);
    0 < t.length && function (t, n) {
      bn(n, function (n) {
        Ao(t, n);
      });
    }(n, t), Pi(n);
  }

  function Vo(n) {
    return n.dom().innerHTML;
  }

  function No(n, t) {
    var e = Co(n).dom(),
        o = we.fromDom(e.createDocumentFragment()),
        r = function (n, t) {
      var e = (t || v.document).createElement("div");
      return e.innerHTML = n, Bo(we.fromDom(e));
    }(t, e);

    Fo(o, r), Io(n), Hi(n, o);
  }

  function Ho(n, t, e) {
    if (!(cn(e) || ln(e) || mn(e))) throw v.console.error("Invalid call to Attr.set. Key ", t, ":: Value ", e, ":: Element ", n), new Error("Attribute value was not simple");
    n.setAttribute(t, e + "");
  }

  function Po(n, t, e) {
    Ho(n.dom(), t, e);
  }

  function zo(n, t) {
    var e = n.dom().getAttribute(t);
    return null === e ? undefined : e;
  }

  function Lo(n, t) {
    var e = n.dom();
    return !(!e || !e.hasAttribute) && e.hasAttribute(t);
  }

  function jo(n, t) {
    n.dom().removeAttribute(t);
  }

  function Uo(n) {
    return function (n, t) {
      return we.fromDom(n.dom().cloneNode(t));
    }(n, !1);
  }

  function Wo(n) {
    return function (n) {
      var t = we.fromTag("div"),
          e = we.fromDom(n.dom().cloneNode(!0));
      return Hi(t, e), Vo(t);
    }(Uo(n));
  }

  function Go(n) {
    return Wo(n);
  }

  function Xo(n) {
    var t = new Date().getTime();
    return n + "_" + Math.floor(1e9 * Math.random()) + ++ji + String(t);
  }

  function Yo(n) {
    return Xo(n);
  }

  function qo(t) {
    function n(n) {
      return function () {
        throw new Error("The component must be in a context to send: " + n + "\n" + Go(t().element()) + " is not in context.");
      };
    }

    return {
      debugInfo: nn("fake"),
      triggerEvent: n("triggerEvent"),
      triggerFocus: n("triggerFocus"),
      triggerEscape: n("triggerEscape"),
      build: n("build"),
      addToWorld: n("addToWorld"),
      removeFromWorld: n("removeFromWorld"),
      addToGui: n("addToGui"),
      removeFromGui: n("removeFromGui"),
      getByUid: n("getByUid"),
      getByDom: n("getByDom"),
      broadcast: n("broadcast"),
      broadcastOn: n("broadcastOn"),
      broadcastEvent: n("broadcastEvent"),
      isConnected: nn(!1)
    };
  }

  function Ko(n, t) {
    var e = n.toString(),
        o = e.indexOf(")") + 1,
        r = e.indexOf("("),
        i = e.substring(r + 1, o - 1).split(/,\s*/);
    return n.toFunctionAnnotation = function () {
      return {
        name: t,
        parameters: $i(i)
      };
    }, n;
  }

  function Jo(n) {
    return q(Qi, n);
  }

  function $o(o) {
    return function (n, t) {
      var e = t.toString(),
          o = e.indexOf(")") + 1,
          r = e.indexOf("("),
          i = e.substring(r + 1, o - 1).split(/,\s*/);
      return n.toFunctionAnnotation = function () {
        return {
          name: "OVERRIDE",
          parameters: $i(i.slice(1))
        };
      }, n;
    }(function (n) {
      for (var t = [], e = 1; e < arguments.length; e++) {
        t[e - 1] = arguments[e];
      }

      return o.apply(undefined, [n.getApis()].concat([n].concat(t)));
    }, o);
  }

  function Qo(n, r) {
    var i = {};
    return Cn(n, function (n, o) {
      Cn(n, function (n, t) {
        var e = Y(t, [])(i);
        i[t] = e.concat([r(o, n)]);
      });
    }), i;
  }

  function Zo(n) {
    return {
      classes: n.classes !== undefined ? n.classes : [],
      attributes: n.attributes !== undefined ? n.attributes : {},
      styles: n.styles !== undefined ? n.styles : {}
    };
  }

  function nr(n) {
    return n.cHandler;
  }

  function tr(n, t) {
    return {
      name: nn(n),
      handler: nn(t)
    };
  }

  function er(n, t, e) {
    var o = _N(_N({}, e), function (n, t) {
      var e = {};
      return bn(n, function (n) {
        e[n.name()] = n.handlers(t);
      }), e;
    }(t, n));

    return Qo(o, tr);
  }

  function or(n) {
    var i = function (n) {
      return dn(n) ? {
        can: nn(!0),
        abort: nn(!1),
        run: n
      } : n;
    }(n);

    return function (n, t) {
      for (var e = [], o = 2; o < arguments.length; o++) {
        e[o - 2] = arguments[o];
      }

      var r = [n, t].concat(e);
      i.abort.apply(undefined, r) ? t.stop() : i.can.apply(undefined, r) && i.run.apply(undefined, r);
    };
  }

  function rr(n, t, e) {
    var o = t[e];
    return o ? function (u, a, n, c) {
      var t = n.slice(0);

      try {
        var e = t.sort(function (n, t) {
          var e = n[a](),
              o = t[a](),
              r = c.indexOf(e),
              i = c.indexOf(o);
          if (-1 === r) throw new Error("The ordering for " + u + " does not have an entry for " + e + ".\nOrder specified: " + JSON.stringify(c, null, 2));
          if (-1 === i) throw new Error("The ordering for " + u + " does not have an entry for " + o + ".\nOrder specified: " + JSON.stringify(c, null, 2));
          return r < i ? -1 : i < r ? 1 : 0;
        });
        return an.value(e);
      } catch (o) {
        return an.error([o]);
      }
    }("Event: " + e, "name", n, o).map(function (n) {
      var t = S(n, function (n) {
        return n.handler();
      });
      return eo(t);
    }) : function (n, t) {
      return an.error(["The event (" + n + ') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: ' + JSON.stringify(S(t, function (n) {
        return n.name();
      }), null, 2)]);
    }(e, n);
  }

  function ir(n) {
    return tt("custom.definition", re([ce("dom", "dom", Mn(), re([ct("tag"), St("styles", {}), St("classes", []), St("attributes", {}), ht("value"), ht("innerHtml")])), ct("components"), ct("uid"), St("events", {}), St("apis", {}), ce("eventOrder", "eventOrder", function (n) {
      return _n.mergeWithThunk(nn(n));
    }({
      "alloy.execute": ["disabling", "alloy.base.behaviour", "toggling", "typeaheadevents"],
      "alloy.focus": ["alloy.base.behaviour", "focusing", "keying"],
      "alloy.system.init": ["alloy.base.behaviour", "disabling", "toggling", "representing"],
      input: ["alloy.base.behaviour", "representing", "streaming", "invalidating"],
      "alloy.system.detached": ["alloy.base.behaviour", "representing", "item-events", "tooltipping"],
      mousedown: ["focusing", "alloy.base.behaviour", "item-type-events"],
      touchstart: ["focusing", "alloy.base.behaviour", "item-type-events"],
      mouseover: ["item-type-events", "tooltipping"]
    }), de()), ht("domModification")]), n);
  }

  function ur(n, t) {
    var e = zo(n, t);
    return e === undefined || "" === e ? [] : e.split(" ");
  }

  function ar(n) {
    return n.dom().classList !== undefined;
  }

  function cr(n, t) {
    return function (n, t, e) {
      var o = ur(n, t).concat([e]);
      return Po(n, t, o.join(" ")), !0;
    }(n, "class", t);
  }

  function sr(n, t) {
    return function (n, t, e) {
      var o = C(ur(n, t), function (n) {
        return n !== e;
      });
      return 0 < o.length ? Po(n, t, o.join(" ")) : jo(n, t), !1;
    }(n, "class", t);
  }

  function fr(n, t) {
    ar(n) ? n.dom().classList.add(t) : cr(n, t);
  }

  function lr(n) {
    0 === (ar(n) ? n.dom().classList : function (n) {
      return ur(n, "class");
    }(n)).length && jo(n, "class");
  }

  function dr(n, t) {
    ar(n) ? n.dom().classList.remove(t) : sr(n, t), lr(n);
  }

  function mr(n, t) {
    return ar(n) && n.dom().classList.contains(t);
  }

  function gr(t, n) {
    bn(n, function (n) {
      fr(t, n);
    });
  }

  function pr(t, n) {
    bn(n, function (n) {
      dr(t, n);
    });
  }

  function hr(n) {
    return n.style !== undefined && dn(n.style.getPropertyValue);
  }

  function vr(n, t, e) {
    if (!cn(e)) throw v.console.error("Invalid call to CSS.set. Property ", t, ":: Value ", e, ":: Element ", n), new Error("CSS value must be a string: " + e);
    hr(n) && n.style.setProperty(t, e);
  }

  function br(n, t) {
    hr(n) && n.style.removeProperty(t);
  }

  function yr(n, t, e) {
    var o = n.dom();
    vr(o, t, e);
  }

  function xr(n, t) {
    var e = n.dom();
    Cn(t, function (n, t) {
      vr(e, t, n);
    });
  }

  function wr(n, t) {
    var e = n.dom(),
        o = v.window.getComputedStyle(e).getPropertyValue(t),
        r = "" !== o || $e(n) ? o : ou(e, t);
    return null === r ? undefined : r;
  }

  function Sr(n, t) {
    var e = n.dom(),
        o = ou(e, t);
    return on.from(o).filter(function (n) {
      return 0 < n.length;
    });
  }

  function Cr(n, t, e) {
    var o = we.fromTag(n);
    return yr(o, t, e), Sr(o, t).isSome();
  }

  function kr(n, t) {
    var e = n.dom();
    br(e, t), Lo(n, "style") && "" === function (n) {
      return n.replace(/^\s+|\s+$/g, "");
    }(zo(n, "style")) && jo(n, "style");
  }

  function Or(n) {
    return n.dom().offsetWidth;
  }

  function Er(n) {
    return n.dom().value;
  }

  function Tr(n, t) {
    if (t === undefined) throw new Error("Value.set was undefined");
    n.dom().value = t;
  }

  function Br(n) {
    var t = we.fromTag(n.tag);
    !function (n, t) {
      var e = n.dom();
      Cn(t, function (n, t) {
        Ho(e, t, n);
      });
    }(t, n.attributes), gr(t, n.classes), xr(t, n.styles), n.innerHtml.each(function (n) {
      return No(t, n);
    });
    var e = n.domChildren;
    return Fo(t, e), n.value.each(function (n) {
      Tr(t, n);
    }), n.uid, Yi(t, n.uid), t;
  }

  function Dr(n, t) {
    return function (t, n) {
      var e = S(n, function (n) {
        return wt(n.name(), [ct("config"), St("state", Zi)]);
      }),
          o = tt("component.behaviours", re(e), t.behaviours).fold(function (n) {
        throw new Error(le(n) + "\nComplete spec:\n" + JSON.stringify(t, null, 2));
      }, function (n) {
        return n;
      });
      return {
        list: n,
        data: P(o, function (n) {
          var t = n.map(function (n) {
            return {
              config: n.config,
              state: n.state.init(n.config)
            };
          });
          return function () {
            return t;
          };
        })
      };
    }(n, t);
  }

  function Ar(n) {
    var t = function (n) {
      var t = Y("behaviours", {})(n),
          e = C(wn(t), function (n) {
        return t[n] !== undefined;
      });
      return S(e, function (n) {
        return t[n].me;
      });
    }(n);

    return Dr(n, t);
  }

  function _r(n, t, e) {
    var o = function (n) {
      return _N(_N({}, n.dom), {
        uid: n.uid,
        domChildren: S(n.components, function (n) {
          return n.element();
        })
      });
    }(n),
        r = function (n) {
      return n.domModification.fold(function () {
        return Zo({});
      }, Zo);
    }(n),
        i = {
      "alloy.base.modification": r
    };

    return function (n, t) {
      return _N(_N({}, n), {
        attributes: _N(_N({}, n.attributes), t.attributes),
        styles: _N(_N({}, n.styles), t.styles),
        classes: n.classes.concat(t.classes)
      });
    }(o, 0 < t.length ? function (t, n, e, o) {
      var r = _N({}, n);

      bn(e, function (n) {
        r[n.name()] = n.exhibit(t, o);
      });

      function i(n) {
        return k(n, function (n, t) {
          return _N(_N({}, t.modification), n);
        }, {});
      }

      var u = Qo(r, function (n, t) {
        return {
          name: n,
          modification: t
        };
      }),
          a = k(u.classes, function (n, t) {
        return t.modification.concat(n);
      }, []),
          c = i(u.attributes),
          s = i(u.styles);
      return Zo({
        classes: a,
        attributes: c,
        styles: s
      });
    }(e, i, t, o) : r);
  }

  function Mr(n, t, e) {
    var o = {
      "alloy.base.behaviour": function (n) {
        return n.events;
      }(n)
    };
    return function (n, t, e, o) {
      var r = er(n, e, o);
      return eu(r, t);
    }(e, n.eventOrder, t, o).getOrDie();
  }

  function Fr(n) {
    var t = Ki(n),
        e = t.events,
        o = c(t, ["events"]),
        r = function (n) {
      var t = Y("components", [])(n);
      return S(t, uu);
    }(o),
        i = _N(_N({}, o), {
      events: _N(_N({}, Li), e),
      components: r
    });

    return an.value(function (e) {
      function n() {
        return l;
      }

      var o = ye(Ji),
          t = et(ir(e)),
          r = Ar(e),
          i = function (n) {
        return n.list;
      }(r),
          u = function (n) {
        return n.data;
      }(r),
          a = _r(t, i, u),
          c = Br(a),
          s = Mr(t, i, u),
          f = ye(t.components),
          l = {
        getSystem: o.get,
        config: function config(n) {
          var t = u;
          return (dn(t[n.name()]) ? t[n.name()] : function () {
            throw new Error("Could not find " + n.name() + " in " + JSON.stringify(e, null, 2));
          })();
        },
        hasConfigured: function hasConfigured(n) {
          return dn(u[n.name()]);
        },
        spec: nn(e),
        readState: function readState(n) {
          return u[n]().map(function (n) {
            return n.state.readState();
          }).getOr("not enabled");
        },
        getApis: function getApis() {
          return t.apis;
        },
        connect: function connect(n) {
          o.set(n);
        },
        disconnect: function disconnect() {
          o.set(qo(n));
        },
        element: nn(c),
        syncComponents: function syncComponents() {
          var n = Bo(c),
              t = B(n, function (n) {
            return o.get().getByDom(n).fold(function () {
              return [];
            }, function (n) {
              return [n];
            });
          });
          f.set(t);
        },
        components: f.get,
        events: nn(s)
      };

      return l;
    }(i));
  }

  function Ir(n) {
    var t = we.fromText(n);
    return ru({
      element: t
    });
  }

  var Rr,
      Vr,
      Nr,
      Hr = Je(Ue),
      Pr = Je(We),
      zr = L(function () {
    return Lr(we.fromDom(v.document));
  }),
      Lr = function Lr(n) {
    var t = n.dom().body;
    if (null === t || t === undefined) throw new Error("Body is not available yet");
    return we.fromDom(t);
  },
      jr = function jr(n, t, e) {
    return Ze(n, function (n) {
      return t(n).isSome();
    }, e).bind(t);
  },
      Ur = nn("touchstart"),
      Wr = nn("touchmove"),
      Gr = nn("touchend"),
      Xr = nn("touchcancel"),
      Yr = nn("mousedown"),
      qr = nn("mousemove"),
      Kr = nn("mouseout"),
      Jr = nn("mouseup"),
      $r = nn("mouseover"),
      Qr = nn("focusin"),
      Zr = nn("focusout"),
      ni = nn("keydown"),
      ti = nn("keyup"),
      ei = nn("input"),
      oi = nn("change"),
      ri = nn("click"),
      ii = nn("transitionend"),
      ui = nn("selectstart"),
      ai = {
    tap: nn("alloy.tap")
  },
      ci = nn("alloy.focus"),
      si = nn("alloy.blur.post"),
      fi = nn("alloy.paste.post"),
      li = nn("alloy.receive"),
      di = nn("alloy.execute"),
      mi = nn("alloy.focus.item"),
      gi = ai.tap,
      pi = nn("alloy.longpress"),
      hi = nn("alloy.sandbox.close"),
      vi = nn("alloy.typeahead.cancel"),
      bi = nn("alloy.system.init"),
      yi = nn("alloy.system.touchmove"),
      xi = nn("alloy.system.touchend"),
      wi = nn("alloy.system.scroll"),
      Si = nn("alloy.system.resize"),
      Ci = nn("alloy.system.attached"),
      ki = nn("alloy.system.detached"),
      Oi = nn("alloy.system.dismissRequested"),
      Ei = nn("alloy.system.repositionRequested"),
      Ti = nn("alloy.focusmanager.shifted"),
      Bi = nn("alloy.slotcontainer.visibility"),
      Di = nn("alloy.change.tab"),
      Ai = nn("alloy.dismiss.tab"),
      _i = nn("alloy.highlight"),
      Mi = nn("alloy.dehighlight"),
      Fi = function Fi(n, t, e, o) {
    var r = _N({
      target: t
    }, o);

    n.getSystem().triggerEvent(e, t, P(r, nn));
  },
      Ii = go(Ci()),
      Ri = go(ki()),
      Vi = go(bi()),
      Ni = (Rr = di(), function (n) {
    return lo(Rr, n);
  }),
      Hi = (yo("element", "offset"), function (n, t) {
    n.dom().appendChild(t.dom());
  }),
      Pi = function Pi(n) {
    var t = n.dom();
    null !== t.parentNode && t.parentNode.removeChild(t);
  },
      zi = co([(Vr = ci(), Nr = function Nr(n, t) {
    var e = t.event().originator(),
        o = t.event().target();
    return !function (n, t, e) {
      return jt(t, n.element()) && !jt(t, e);
    }(n, e, o) || (v.console.warn(ci() + " did not get interpreted by the desired target. \nOriginator: " + Go(e) + "\nTarget: " + Go(o) + "\nCheck the " + ci() + " event handlers"), !1);
  }, {
    key: Vr,
    value: to({
      can: Nr
    })
  })]),
      Li =
  /* */
  Object.freeze({
    events: zi
  }),
      ji = 0,
      Ui = nn("alloy-id-"),
      Wi = nn("data-alloy-id"),
      Gi = Ui(),
      Xi = Wi(),
      Yi = function Yi(n, t) {
    Object.defineProperty(n.dom(), Xi, {
      value: t,
      writable: !0
    });
  },
      qi = function qi(n) {
    var t = Hr(n) ? n.dom()[Xi] : null;
    return on.from(t);
  },
      Ki = l,
      Ji = qo(),
      $i = function $i(n) {
    return S(n, function (n) {
      return function (n, t) {
        return function (n, t, e) {
          return "" === t || !(n.length < t.length) && n.substr(e, e + t.length) === t;
        }(n, t, n.length - t.length);
      }(n, "/*") ? n.substring(0, n.length - "/*".length) : n;
    });
  },
      Qi = Xo("alloy-premade"),
      Zi = {
    init: function init() {
      return nu({
        readState: function readState() {
          return "No State required";
        }
      });
    }
  },
      nu = function nu(n) {
    return n;
  },
      tu = function tu(n, t) {
    return function (n, t) {
      return {
        cHandler: n,
        purpose: nn(t)
      };
    }(d.apply(undefined, [n.handler].concat(t)), n.purpose());
  },
      eu = function eu(n, i) {
    var t = On(n, function (o, r) {
      return (1 === o.length ? an.value(o[0].handler()) : rr(o, i, r)).map(function (n) {
        var t = or(n),
            e = 1 < o.length ? C(i[r], function (t) {
          return x(o, function (n) {
            return n.name() === t;
          });
        }).join(" > ") : o[0].name();
        return q(r, function (n, t) {
          return {
            handler: n,
            purpose: nn(t)
          };
        }(t, e));
      });
    });
    return J(t, {});
  },
      ou = function ou(n, t) {
    return hr(n) ? n.style.getPropertyValue(t) : "";
  },
      ru = function ru(n) {
    var t = ot("external.component", qn([ct("element"), ht("uid")]), n),
        e = ye(qo());
    t.uid.each(function (n) {
      Yi(t.element, n);
    });
    var o = {
      getSystem: e.get,
      config: on.none,
      hasConfigured: nn(!1),
      connect: function connect(n) {
        e.set(n);
      },
      disconnect: function disconnect() {
        e.set(qo(function () {
          return o;
        }));
      },
      getApis: function getApis() {
        return {};
      },
      element: nn(t.element),
      spec: nn(n),
      readState: nn("No state"),
      syncComponents: Z,
      components: nn([]),
      events: nn({})
    };
    return Jo(o);
  },
      iu = Yo,
      uu = function uu(t) {
    return function (n) {
      return Nn(n, Qi);
    }(t).fold(function () {
      var n = t.hasOwnProperty("uid") ? t : _N({
        uid: iu("")
      }, t);
      return Fr(n).getOrDie();
    }, function (n) {
      return n;
    });
  },
      au = Jo;

  function cu(o, r) {
    function n(n) {
      var t = r(n);

      if (t <= 0 || null === t) {
        var e = wr(n, o);
        return parseFloat(e) || 0;
      }

      return t;
    }

    function i(r, n) {
      return O(n, function (n, t) {
        var e = wr(r, t),
            o = e === undefined ? 0 : parseInt(e, 10);
        return isNaN(o) ? n : n + o;
      }, 0);
    }

    return {
      set: function set(n, t) {
        if (!mn(t) && !t.match(/^[0-9]+$/)) throw new Error(o + ".set accepts only positive integer values. Value was " + t);
        var e = n.dom();
        hr(e) && (e.style[o] = t + "px");
      },
      get: n,
      getOuter: n,
      aggregate: i,
      max: function max(n, t, e) {
        var o = i(n, e);
        return o < t ? t - o : 0;
      }
    };
  }

  function su(n) {
    return Mu.get(n);
  }

  function fu(n) {
    return Mu.getOuter(n);
  }

  function lu(n, t) {
    return n !== undefined ? n : t !== undefined ? t : 0;
  }

  function du(n) {
    var t = n.dom().ownerDocument,
        e = t.body,
        o = t.defaultView,
        r = t.documentElement;
    if (e === n.dom()) return Iu(e.offsetLeft, e.offsetTop);
    var i = lu(o.pageYOffset, r.scrollTop),
        u = lu(o.pageXOffset, r.scrollLeft),
        a = lu(r.clientTop, e.clientTop),
        c = lu(r.clientLeft, e.clientLeft);
    return Ru(n).translate(u - c, i - a);
  }

  function mu(n) {
    return Vu.get(n);
  }

  function gu(n) {
    return Vu.getOuter(n);
  }

  function pu(n) {
    var t = n !== undefined ? n.dom() : v.document,
        e = t.body.scrollLeft || t.documentElement.scrollLeft,
        o = t.body.scrollTop || t.documentElement.scrollTop;
    return Iu(e, o);
  }

  function hu(n, t, e, o) {
    return {
      x: nn(n),
      y: nn(t),
      width: nn(e),
      height: nn(o),
      right: nn(n + e),
      bottom: nn(t + o)
    };
  }

  function vu(n) {
    var t = n === undefined ? v.window : n,
        e = t.document,
        o = pu(we.fromDom(e)),
        r = t.visualViewport;
    if (r !== undefined) return hu(Math.max(r.pageLeft, o.left()), Math.max(r.pageTop, o.top()), r.width, r.height);
    var i = e.documentElement,
        u = i.clientWidth,
        a = i.clientHeight;
    return hu(o.left(), o.top(), u, a);
  }

  function bu(o) {
    var n = we.fromDom(v.document),
        r = pu(n);
    return function (n, t) {
      var e = t.owner(n),
          o = Nu(t, e);
      return on.some(o);
    }(o, Hu).fold(d(du, o), function (n) {
      var t = Ru(o),
          e = k(n, function (n, t) {
        var e = Ru(t);
        return {
          left: n.left + e.left(),
          top: n.top + e.top()
        };
      }, {
        left: 0,
        top: 0
      });
      return Iu(e.left + t.left() + r.left(), e.top + t.top() + r.top());
    });
  }

  function yu(n, t, e, o) {
    return {
      x: nn(n),
      y: nn(t),
      width: nn(e),
      height: nn(o),
      right: nn(n + e),
      bottom: nn(t + o)
    };
  }

  function xu(n) {
    var t = du(n),
        e = gu(n),
        o = fu(n);
    return yu(t.left(), t.top(), e, o);
  }

  function wu(n) {
    var t = bu(n),
        e = gu(n),
        o = fu(n);
    return yu(t.left(), t.top(), e, o);
  }

  function Su() {
    return vu(v.window);
  }

  function Cu(n, t, e) {
    return Qe(n, function (n) {
      return Pt(n, t);
    }, e);
  }

  function ku(n, t) {
    return function (n, t) {
      var e = t === undefined ? v.document : t.dom();
      return zt(e) ? on.none() : on.from(e.querySelector(n)).map(we.fromDom);
    }(t, n);
  }

  function Ou(n, t, e) {
    return qe(Pt, Cu, n, t, e);
  }

  function Eu() {
    var t = Xo("aria-owns");
    return {
      id: nn(t),
      link: function link(n) {
        Po(n, "aria-owns", t);
      },
      unlink: function unlink(n) {
        jo(n, "aria-owns");
      }
    };
  }

  function Tu(t, n) {
    return function (n) {
      return Ze(n, function (n) {
        if (!Hr(n)) return !1;
        var t = zo(n, "id");
        return t !== undefined && -1 < t.indexOf("aria-owns");
      }).bind(function (n) {
        var t = zo(n, "id"),
            e = Co(n);
        return ku(e, '[aria-owns="' + t + '"]');
      });
    }(n).exists(function (n) {
      return Lu(t, n);
    });
  }

  function Bu(n) {
    for (var t = [], e = function e(n) {
      t.push(n);
    }, o = 0; o < n.length; o++) {
      n[o].each(e);
    }

    return t;
  }

  function Du(n, t) {
    for (var e = 0; e < n.length; e++) {
      var o = t(n[e], e);
      if (o.isSome()) return o;
    }

    return on.none();
  }

  var Au,
      _u,
      Mu = cu("height", function (n) {
    var t = n.dom();
    return $e(n) ? t.getBoundingClientRect().height : t.offsetHeight;
  }),
      Fu = function Fu(e, o) {
    return {
      left: nn(e),
      top: nn(o),
      translate: function translate(n, t) {
        return Fu(e + n, o + t);
      }
    };
  },
      Iu = Fu,
      Ru = function Ru(n) {
    var t = n.dom(),
        e = t.ownerDocument.body;
    return e === t ? Iu(e.offsetLeft, e.offsetTop) : $e(n) ? function (n) {
      var t = n.getBoundingClientRect();
      return Iu(t.left, t.top);
    }(t) : Iu(0, 0);
  },
      Vu = cu("width", function (n) {
    return n.dom().offsetWidth;
  }),
      Nu = (Ht().browser.isSafari(), function (o, n) {
    return o.view(n).fold(nn([]), function (n) {
      var t = o.owner(n),
          e = Nu(o, t);
      return [n].concat(e);
    });
  }),
      Hu =
  /* */
  Object.freeze({
    view: function view(n) {
      return (n.dom() === v.document ? on.none() : on.from(n.dom().defaultView.frameElement)).map(we.fromDom);
    },
    owner: function owner(n) {
      return Co(n);
    }
  }),
      Pu = yo("point", "width", "height"),
      zu = yo("x", "y", "width", "height"),
      Lu = function Lu(t, n) {
    return function (n, t, e) {
      return Ze(n, t, e).isSome();
    }(n, function (n) {
      return jt(n, t.element());
    }, nn(!1)) || Tu(t, n);
  },
      ju = "unknown";

  (_u = Au = Au || {})[_u.STOP = 0] = "STOP", _u[_u.NORMAL = 1] = "NORMAL", _u[_u.LOGGING = 2] = "LOGGING";

  function Uu(t, n, e) {
    switch (Nn(Pa.get(), t).orThunk(function () {
      var n = wn(Pa.get());
      return Du(n, function (n) {
        return -1 < t.indexOf(n) ? on.some(Pa.get()[n]) : on.none();
      });
    }).getOr(Au.NORMAL)) {
      case Au.NORMAL:
        return e(La());

      case Au.LOGGING:
        var o = function (t, e) {
          var o = [],
              r = new Date().getTime();
          return {
            logEventCut: function logEventCut(n, t, e) {
              o.push({
                outcome: "cut",
                target: t,
                purpose: e
              });
            },
            logEventStopped: function logEventStopped(n, t, e) {
              o.push({
                outcome: "stopped",
                target: t,
                purpose: e
              });
            },
            logNoParent: function logNoParent(n, t, e) {
              o.push({
                outcome: "no-parent",
                target: t,
                purpose: e
              });
            },
            logEventNoHandlers: function logEventNoHandlers(n, t) {
              o.push({
                outcome: "no-handlers-left",
                target: t
              });
            },
            logEventResponse: function logEventResponse(n, t, e) {
              o.push({
                outcome: "response",
                purpose: e,
                target: t
              });
            },
            write: function write() {
              var n = new Date().getTime();
              vn(["mousemove", "mouseover", "mouseout", bi()], t) || v.console.log(t, {
                event: t,
                time: n - r,
                target: e.dom(),
                sequence: S(o, function (n) {
                  return vn(["cut", "stopped", "response"], n.outcome) ? "{" + n.purpose + "} " + n.outcome + " at (" + Go(n.target) + ")" : n.outcome;
                })
              });
            }
          };
        }(t, n),
            r = e(o);

        return o.write(), r;

      case Au.STOP:
        return !0;
    }
  }

  function Wu(n, t, e) {
    return Uu(n, t, e);
  }

  function Gu() {
    return mt("markers", [ct("backgroundMenu")].concat(ja()).concat(Ua()));
  }

  function Xu(n) {
    return mt("markers", S(n, ct));
  }

  function Yu(n, t, e) {
    return function () {
      var n = new Error();
      if (n.stack === undefined) return;
      var t = n.stack.split("\n");
      E(t, function (t) {
        return 0 < t.indexOf("alloy") && !x(za, function (n) {
          return -1 < t.indexOf(n);
        });
      }).getOr(ju);
    }(), ce(t, t, e, Zn(function (e) {
      return an.value(function () {
        for (var n = [], t = 0; t < arguments.length; t++) {
          n[t] = arguments[t];
        }

        return e.apply(undefined, n);
      });
    }));
  }

  function qu(n) {
    return Yu(0, n, j(Z));
  }

  function Ku(n) {
    return Yu(0, n, j(on.none));
  }

  function Ju(n) {
    return Yu(0, n, Mn());
  }

  function $u(n) {
    return Yu(0, n, Mn());
  }

  function Qu(n, t) {
    return At(n, nn(t));
  }

  function Zu(n) {
    return At(n, l);
  }

  function na(n) {
    return n.x();
  }

  function ta(n, t) {
    return n.x() + n.width() / 2 - t.width() / 2;
  }

  function ea(n, t) {
    return n.x() + n.width() - t.width();
  }

  function oa(n, t) {
    return n.y() - t.height();
  }

  function ra(n) {
    return n.y() + n.height();
  }

  function ia(n, t) {
    return n.y() + n.height() / 2 - t.height() / 2;
  }

  function ua(n, t, e) {
    return Ya(na(n), ra(n), e.southeast(), Ka(), "layout-se");
  }

  function aa(n, t, e) {
    return Ya(ea(n, t), ra(n), e.southwest(), Ja(), "layout-sw");
  }

  function ca(n, t, e) {
    return Ya(na(n), oa(n, t), e.northeast(), $a(), "layout-ne");
  }

  function sa(n, t, e) {
    return Ya(ea(n, t), oa(n, t), e.northwest(), Qa(), "layout-nw");
  }

  function fa(n, t, e) {
    return Ya(function (n) {
      return n.x() + n.width();
    }(n), ia(n, t), e.east(), tc(), "layout-e");
  }

  function la(n, t, e) {
    return Ya(function (n, t) {
      return n.x() - t.width();
    }(n, t), ia(n, t), e.west(), ec(), "layout-w");
  }

  function da() {
    return [ua, aa, ca, sa, rc, oc];
  }

  function ma() {
    return [aa, ua, sa, ca, rc, oc];
  }

  function ga(e, o, r) {
    return Vi(function (n, t) {
      r(n, e, o);
    });
  }

  function pa(n, t, e, o, r, i) {
    var u = qn(n),
        a = wt(t, [function (n, t) {
      return vt(n, qn(t));
    }("config", n)]);
    return ic(u, a, t, e, o, r, i);
  }

  function ha(r, i, u) {
    return function (n, t, e) {
      var o = e.toString(),
          r = o.indexOf(")") + 1,
          i = o.indexOf("("),
          u = o.substring(i + 1, r - 1).split(/,\s*/);
      return n.toFunctionAnnotation = function () {
        return {
          name: t,
          parameters: $i(u.slice(0, 1).concat(u.slice(3)))
        };
      }, n;
    }(function (e) {
      for (var n = [], t = 1; t < arguments.length; t++) {
        n[t - 1] = arguments[t];
      }

      var o = [e].concat(n);
      return e.config({
        name: nn(r)
      }).fold(function () {
        throw new Error("We could not find any behaviour configuration for: " + r + ". Using API: " + u);
      }, function (n) {
        var t = Array.prototype.slice.call(o, 1);
        return i.apply(undefined, [e, n.config, n.state].concat(t));
      });
    }, u, i);
  }

  function va(n) {
    return {
      key: n,
      value: undefined
    };
  }

  function ba(n) {
    return K(n);
  }

  function ya(n) {
    var t = ot("Creating behaviour: " + n.name, uc, n);
    return pa(t.fields, t.name, t.active, t.apis, t.extra, t.state);
  }

  function xa(n) {
    var t = ot("Creating behaviour: " + n.name, ac, n);
    return function (n, t, e, o, r, i) {
      var u = n,
          a = wt(t, [vt("config", n)]);
      return ic(u, a, t, e, o, r, i);
    }(it(t.branchKey, t.branches), t.name, t.active, t.apis, t.extra, t.state);
  }

  function wa(n) {
    n.dom().focus();
  }

  function Sa(n) {
    var t = n !== undefined ? n.dom() : v.document;
    return on.from(t.activeElement).map(we.fromDom);
  }

  function Ca(t) {
    return Sa(Co(t)).filter(function (n) {
      return t.dom().contains(n.dom());
    });
  }

  function ka(n, e) {
    var o = Co(e),
        t = Sa(o).bind(function (t) {
      function n(n) {
        return jt(t, n);
      }

      return n(e) ? on.some(e) : no(e, n);
    }),
        r = n(e);
    return t.each(function (t) {
      Sa(o).filter(function (n) {
        return jt(n, t);
      }).fold(function () {
        wa(t);
      }, Z);
    }), r;
  }

  function Oa(n, t, e) {
    function r(n) {
      return Nn(e, n).getOr([]);
    }

    function o(n, t, e) {
      var o = _(mc, e);

      return {
        offset: function offset() {
          return Iu(n, t);
        },
        classesOn: function classesOn() {
          return B(e, r);
        },
        classesOff: function classesOff() {
          return B(o, r);
        }
      };
    }

    return {
      southeast: function southeast() {
        return o(-n, t, ["top", "alignLeft"]);
      },
      southwest: function southwest() {
        return o(n, t, ["top", "alignRight"]);
      },
      south: function south() {
        return o(-n / 2, t, ["top", "alignCentre"]);
      },
      northeast: function northeast() {
        return o(-n, -t, ["bottom", "alignLeft"]);
      },
      northwest: function northwest() {
        return o(n, -t, ["bottom", "alignRight"]);
      },
      north: function north() {
        return o(-n / 2, -t, ["bottom", "alignCentre"]);
      },
      east: function east() {
        return o(n, -t / 2, ["valignCentre", "left"]);
      },
      west: function west() {
        return o(-n, -t / 2, ["valignCentre", "right"]);
      },
      innerNorthwest: function innerNorthwest() {
        return o(-n, t, ["top", "alignRight"]);
      },
      innerNortheast: function innerNortheast() {
        return o(n, t, ["top", "alignLeft"]);
      },
      innerNorth: function innerNorth() {
        return o(-n / 2, t, ["top", "alignCentre"]);
      },
      innerSouthwest: function innerSouthwest() {
        return o(-n, -t, ["bottom", "alignRight"]);
      },
      innerSoutheast: function innerSoutheast() {
        return o(n, -t, ["bottom", "alignLeft"]);
      },
      innerSouth: function innerSouth() {
        return o(-n / 2, -t, ["bottom", "alignCentre"]);
      },
      innerWest: function innerWest() {
        return o(n, -t / 2, ["valignCentre", "right"]);
      },
      innerEast: function innerEast() {
        return o(-n, -t / 2, ["valignCentre", "left"]);
      }
    };
  }

  function Ea() {
    return Oa(0, 0, {});
  }

  function Ta(n, t, e, o, r, i) {
    var u = t.x() - e,
        a = t.y() - o,
        c = r - (u + t.width()),
        s = i - (a + t.height()),
        f = on.some(u),
        l = on.some(a),
        d = on.some(c),
        m = on.some(s),
        g = on.none();
    return function (n, t, e, o, r, i, u, a, c) {
      return n.fold(t, e, o, r, i, u, a, c);
    }(t.direction(), function () {
      return pc(n, f, l, g, g);
    }, function () {
      return pc(n, g, l, d, g);
    }, function () {
      return pc(n, f, g, g, m);
    }, function () {
      return pc(n, g, g, d, m);
    }, function () {
      return pc(n, f, l, g, g);
    }, function () {
      return pc(n, f, g, g, m);
    }, function () {
      return pc(n, f, l, g, g);
    }, function () {
      return pc(n, g, l, d, g);
    });
  }

  function Ba(n, t) {
    var e = d(bu, t),
        o = n.fold(e, e, function () {
      var n = pu();
      return bu(t).translate(-n.left(), -n.top());
    }),
        r = gu(t),
        i = fu(t);
    return yu(o.left(), o.top(), r, i);
  }

  function Da(n) {
    return n;
  }

  function Aa(t, e) {
    return function (n) {
      return "rtl" === xc(n) ? e : t;
    };
  }

  function _a() {
    return wt("layouts", [ct("onLtr"), ct("onRtl")]);
  }

  function Ma(t, n, e, o) {
    var r = n.layouts.map(function (n) {
      return n.onLtr(t);
    }).getOr(e),
        i = n.layouts.map(function (n) {
      return n.onRtl(t);
    }).getOr(o);
    return Aa(r, i)(t);
  }

  function Fa(n, t, e) {
    var o = n.document.createRange();
    return function (e, n) {
      n.fold(function (n) {
        e.setStartBefore(n.dom());
      }, function (n, t) {
        e.setStart(n.dom(), t);
      }, function (n) {
        e.setStartAfter(n.dom());
      });
    }(o, t), function (e, n) {
      n.fold(function (n) {
        e.setEndBefore(n.dom());
      }, function (n, t) {
        e.setEnd(n.dom(), t);
      }, function (n) {
        e.setEndAfter(n.dom());
      });
    }(o, e), o;
  }

  function Ia(n, t, e, o, r) {
    var i = n.document.createRange();
    return i.setStart(t.dom(), e), i.setEnd(o.dom(), r), i;
  }

  function Ra(n) {
    return {
      left: nn(n.left),
      top: nn(n.top),
      right: nn(n.right),
      bottom: nn(n.bottom),
      width: nn(n.width),
      height: nn(n.height)
    };
  }

  function Va(n, t, e) {
    return t(we.fromDom(e.startContainer), e.startOffset, we.fromDom(e.endContainer), e.endOffset);
  }

  function Na(n, t) {
    return function (n, t) {
      var e = t.ltr();
      return e.collapsed ? t.rtl().filter(function (n) {
        return !1 === n.collapsed;
      }).map(function (n) {
        return Bc.rtl(we.fromDom(n.endContainer), n.endOffset, we.fromDom(n.startContainer), n.startOffset);
      }).getOrThunk(function () {
        return Va(0, Bc.ltr, e);
      }) : Va(0, Bc.ltr, e);
    }(0, function (r, n) {
      return n.match({
        domRange: function domRange(n) {
          return {
            ltr: nn(n),
            rtl: on.none
          };
        },
        relative: function relative(n, t) {
          return {
            ltr: L(function () {
              return Fa(r, n, t);
            }),
            rtl: L(function () {
              return on.some(Fa(r, t, n));
            })
          };
        },
        exact: function exact(n, t, e, o) {
          return {
            ltr: L(function () {
              return Ia(r, n, t, e, o);
            }),
            rtl: L(function () {
              return on.some(Ia(r, e, o, n, t));
            })
          };
        }
      });
    }(n, t));
  }

  function Ha(n, t, e) {
    return t >= n.left && t <= n.right && e >= n.top && e <= n.bottom;
  }

  var Pa = ye({}),
      za = ["alloy/data/Fields", "alloy/debugging/Debugging"],
      La = nn({
    logEventCut: Z,
    logEventStopped: Z,
    logNoParent: Z,
    logEventNoHandlers: Z,
    logEventResponse: Z,
    write: Z
  }),
      ja = nn([ct("menu"), ct("selectedMenu")]),
      Ua = nn([ct("item"), ct("selectedItem")]),
      Wa = (nn(re(Ua().concat(ja()))), nn(re(Ua()))),
      Ga = mt("initSize", [ct("numColumns"), ct("numRows")]),
      Xa = nn(Ga),
      Ya = yo("x", "y", "bubble", "direction", "label"),
      qa = Tn([{
    southeast: []
  }, {
    southwest: []
  }, {
    northeast: []
  }, {
    northwest: []
  }, {
    south: []
  }, {
    north: []
  }, {
    east: []
  }, {
    west: []
  }]),
      Ka = qa.southeast,
      Ja = qa.southwest,
      $a = qa.northeast,
      Qa = qa.northwest,
      Za = qa.south,
      nc = qa.north,
      tc = qa.east,
      ec = qa.west,
      oc = function oc(n, t, e) {
    return Ya(ta(n, t), oa(n, t), e.north(), nc(), "layout-n");
  },
      rc = function rc(n, t, e) {
    return Ya(ta(n, t), ra(n), e.south(), Za(), "layout-s");
  },
      ic = function ic(e, n, o, r, t, i, u) {
    function a(n) {
      return $(n, o) ? n[o]() : on.none();
    }

    var c = P(t, function (n, t) {
      return ha(o, n, t);
    }),
        s = P(i, function (n, t) {
      return Ko(n, t);
    }),
        f = _N(_N(_N({}, s), c), {
      revoke: d(va, o),
      config: function config(n) {
        var t = ot(o + "-config", e, n);
        return {
          key: o,
          value: {
            config: t,
            me: f,
            configAsRaw: L(function () {
              return ot(o + "-config", e, n);
            }),
            initialConfig: n,
            state: u
          }
        };
      },
      schema: function schema() {
        return n;
      },
      exhibit: function exhibit(n, e) {
        return a(n).bind(function (t) {
          return Nn(r, "exhibit").map(function (n) {
            return n(e, t.config, t.state);
          });
        }).getOr(Zo({}));
      },
      name: function name() {
        return o;
      },
      handlers: function handlers(n) {
        return a(n).map(function (n) {
          return Y("events", function (n, t) {
            return {};
          })(r)(n.config, n.state);
        }).getOr({});
      }
    });

    return f;
  },
      uc = qn([ct("fields"), ct("name"), St("active", {}), St("apis", {}), St("state", Zi), St("extra", {})]),
      ac = qn([ct("branchKey"), ct("branches"), ct("name"), St("active", {}), St("apis", {}), St("state", Zi), St("extra", {})]),
      cc = nn(undefined),
      sc =
  /* */
  Object.freeze({
    events: function events(t) {
      return co([lo(li(), function (r, i) {
        var u = t.channels,
            n = function (n, t) {
          return t.universal() ? n : C(n, function (n) {
            return vn(t.channels(), n);
          });
        }(wn(u), i);

        bn(n, function (n) {
          var t = u[n],
              e = t.schema,
              o = ot("channel[" + n + "] data\nReceiver: " + Go(r.element()), e, i.data());
          t.onReceive(r, o);
        });
      })]);
    }
  }),
      fc = [st("channels", nt(an.value, qn([Ju("onReceive"), St("schema", de())])))],
      lc = ya({
    fields: fc,
    name: "receiving",
    active: sc
  }),
      dc =
  /* */
  Object.freeze({
    exhibit: function exhibit(n, t) {
      return Zo({
        classes: [],
        styles: t.useFixed() ? {} : {
          position: "relative"
        }
      });
    }
  }),
      mc = ["valignCentre", "alignLeft", "alignRight", "alignCentre", "top", "bottom", "left", "right"],
      gc = So(["x", "y", "width", "height", "maxHeight", "maxWidth", "direction", "classes", "label", "candidateYforTest"], []),
      pc = yo("position", "left", "top", "right", "bottom"),
      hc = Tn([{
    none: []
  }, {
    relative: ["x", "y", "width", "height"]
  }, {
    fixed: ["x", "y", "width", "height"]
  }]),
      vc = function vc(n, t, e) {
    var o = Iu(t, e);
    return n.fold(nn(o), nn(o), function () {
      var n = pu();
      return o.translate(-n.left(), -n.top());
    });
  },
      bc = hc.relative,
      yc = hc.fixed,
      xc = function xc(n) {
    return "rtl" === wr(n, "direction") ? "rtl" : "ltr";
  },
      wc = [ct("hotspot"), ht("bubble"), St("overrides", {}), _a(), Qu("placement", function (n, t, e) {
    var o = t.hotspot,
        r = Ba(e, o.element()),
        i = Ma(n.element(), t, da(), ma());
    return on.some(Da({
      anchorBox: r,
      bubble: t.bubble.getOr(Ea()),
      overrides: t.overrides,
      layouts: i,
      placer: on.none()
    }));
  })],
      Sc = [ct("x"), ct("y"), St("height", 0), St("width", 0), St("bubble", Ea()), St("overrides", {}), _a(), Qu("placement", function (n, t, e) {
    var o = vc(e, t.x, t.y),
        r = yu(o.left(), o.top(), t.width, t.height),
        i = Ma(n.element(), t, [ua, aa, ca, sa, rc, oc, fa, la], [aa, ua, sa, ca, rc, oc, fa, la]);
    return on.some(Da({
      anchorBox: r,
      bubble: t.bubble,
      overrides: t.overrides,
      layouts: i,
      placer: on.none()
    }));
  })],
      Cc = {
    create: yo("start", "soffset", "finish", "foffset")
  },
      kc = Tn([{
    before: ["element"]
  }, {
    on: ["element", "offset"]
  }, {
    after: ["element"]
  }]),
      Oc = (kc.before, kc.on, kc.after, function (n) {
    return n.fold(l, l, l);
  }),
      Ec = Tn([{
    domRange: ["rng"]
  }, {
    relative: ["startSitu", "finishSitu"]
  }, {
    exact: ["start", "soffset", "finish", "foffset"]
  }]),
      Tc = {
    domRange: Ec.domRange,
    relative: Ec.relative,
    exact: Ec.exact,
    exactFromRange: function exactFromRange(n) {
      return Ec.exact(n.start(), n.soffset(), n.finish(), n.foffset());
    },
    getWin: function getWin(n) {
      var t = function (n) {
        return n.match({
          domRange: function domRange(n) {
            return we.fromDom(n.startContainer);
          },
          relative: function relative(n, t) {
            return Oc(n);
          },
          exact: function exact(n, t, e, o) {
            return n;
          }
        });
      }(n);

      return Oo(t);
    },
    range: Cc.create
  },
      Bc = Tn([{
    ltr: ["start", "soffset", "finish", "foffset"]
  }, {
    rtl: ["start", "soffset", "finish", "foffset"]
  }]);

  function Dc(n) {
    return rf.get(n);
  }

  function Ac(n) {
    return rf.getOption(n);
  }

  function _c(e, o, n, t, r) {
    function i(n) {
      var t = e.dom().createRange();
      return t.setStart(o.dom(), n), t.collapse(!0), t;
    }

    var u = Dc(o).length,
        a = function (n, t, e, o, r) {
      if (0 === r) return 0;
      if (t === o) return r - 1;

      for (var i = o, u = 1; u < r; u++) {
        var a = n(u),
            c = Math.abs(t - a.left);

        if (e <= a.bottom) {
          if (e < a.top || i < c) return u - 1;
          i = c;
        }
      }

      return 0;
    }(function (n) {
      return i(n).getBoundingClientRect();
    }, n, t, r.right, u);

    return i(a);
  }

  function Mc(n) {
    return function (n) {
      return Ac(n).filter(function (n) {
        return 0 !== n.trim().length || -1 < n.indexOf("\xa0");
      }).isSome();
    }(n) || vn(af, Ke(n));
  }

  function Fc(n) {
    return no(n, Mc);
  }

  function Ic(n) {
    return cf(n, Mc);
  }

  function Rc(n, t) {
    return t - n.left < n.right - t;
  }

  function Vc(n, t, e) {
    var o = n.dom().createRange();
    return o.selectNode(t.dom()), o.collapse(e), o;
  }

  function Nc(t, n, e) {
    var o = t.dom().createRange();
    o.selectNode(n.dom());
    var r = o.getBoundingClientRect(),
        i = Rc(r, e);
    return (!0 === i ? Fc : Ic)(n).map(function (n) {
      return Vc(t, n, i);
    });
  }

  function Hc(n, t, e) {
    var o = t.dom().getBoundingClientRect(),
        r = Rc(o, e);
    return on.some(Vc(n, t, r));
  }

  function Pc(n, t, e, o) {
    var r = n.dom().createRange();
    r.selectNode(t.dom());
    var i = r.getBoundingClientRect();
    return function (n, t, e, o) {
      var r = n.dom().createRange();
      r.selectNode(t.dom());
      var i = r.getBoundingClientRect(),
          u = Math.max(i.left, Math.min(i.right, e)),
          a = Math.max(i.top, Math.min(i.bottom, o));
      return uf(n, t, u, a);
    }(n, t, Math.max(i.left, Math.min(i.right, e)), Math.max(i.top, Math.min(i.bottom, o)));
  }

  function zc(n, t) {
    return Lt(t, n);
  }

  function Lc(n, t, e, o) {
    var r = function (n, t, e, o) {
      var r = Co(n).dom().createRange();
      return r.setStart(n.dom(), t), r.setEnd(e.dom(), o), r;
    }(n, t, e, o),
        i = jt(n, e) && t === o;

    return r.collapsed && !i;
  }

  function jc(n) {
    var t = we.fromDom(n.anchorNode),
        e = we.fromDom(n.focusNode);
    return Lc(t, n.anchorOffset, e, n.focusOffset) ? on.some(Cc.create(t, n.anchorOffset, e, n.focusOffset)) : function (n) {
      if (0 < n.rangeCount) {
        var t = n.getRangeAt(0),
            e = n.getRangeAt(n.rangeCount - 1);
        return on.some(Cc.create(we.fromDom(t.startContainer), t.startOffset, we.fromDom(e.endContainer), e.endOffset));
      }

      return on.none();
    }(n);
  }

  function Uc(n, t) {
    return function (n) {
      var t = n.getClientRects(),
          e = 0 < t.length ? t[0] : n.getBoundingClientRect();
      return 0 < e.width || 0 < e.height ? on.some(e).map(Ra) : on.none();
    }(function (i, n) {
      return Na(i, n).match({
        ltr: function ltr(n, t, e, o) {
          var r = i.document.createRange();
          return r.setStart(n.dom(), t), r.setEnd(e.dom(), o), r;
        },
        rtl: function rtl(n, t, e, o) {
          var r = i.document.createRange();
          return r.setStart(e.dom(), o), r.setEnd(n.dom(), t), r;
        }
      });
    }(n, t));
  }

  function Wc(n) {
    return n.fold(function (n) {
      return n;
    }, function (n, t, e) {
      return n.translate(-t, -e);
    });
  }

  function Gc(n) {
    return n.fold(function (n) {
      return n;
    }, function (n, t, e) {
      return n;
    });
  }

  function Xc(n) {
    return O(n, function (n, t) {
      return n.translate(t.left(), t.top());
    }, Iu(0, 0));
  }

  function Yc(n) {
    var t = S(n, Gc);
    return Xc(t);
  }

  function qc(n, t, e) {
    var o = Co(n.element()),
        r = pu(o),
        i = function (o, n, t) {
      var e = Oo(t.root).dom();
      return on.from(e.frameElement).map(we.fromDom).filter(function (n) {
        var t = Co(n),
            e = Co(o.element());
        return jt(t, e);
      }).map(du);
    }(n, 0, e).getOr(r);

    return df(i, r.left(), r.top());
  }

  function Kc(n, t) {
    return Pr(n) ? pf(n, t) : function (n, t) {
      var e = Bo(n);
      if (0 === e.length) return sf(n, t);
      if (t < e.length) return sf(e[t], 0);
      var o = e[e.length - 1],
          r = Pr(o) ? Dc(o).length : Bo(o).length;
      return sf(o, r);
    }(n, t);
  }

  function Jc(n, t) {
    return t.getSelection.getOrThunk(function () {
      return function () {
        return function (n) {
          return on.from(n.getSelection()).filter(function (n) {
            return 0 < n.rangeCount;
          }).bind(jc);
        }(n);
      };
    })().map(function (n) {
      var t = Kc(n.start(), n.soffset()),
          e = Kc(n.finish(), n.foffset());
      return Tc.range(t.element(), t.offset(), e.element(), e.offset());
    });
  }

  function $c(n) {
    return n.x() + n.width();
  }

  function Qc(n, t) {
    return n.x() - t.width();
  }

  function Zc(n, t) {
    return n.y() - t.height() + n.height();
  }

  function ns(n) {
    return n.y();
  }

  function ts(n, t, e) {
    return Ya($c(n), ns(n), e.southeast(), Ka(), "link-layout-se");
  }

  function es(n, t, e) {
    return Ya(Qc(n, t), ns(n), e.southwest(), Ja(), "link-layout-sw");
  }

  function os(n, t, e) {
    return Ya($c(n), Zc(n, t), e.northeast(), $a(), "link-layout-ne");
  }

  function rs(n, t, e) {
    return Ya(Qc(n, t), Zc(n, t), e.northwest(), Qa(), "link-layout-nw");
  }

  function is(n, t, e, o) {
    var r = n + t;
    return o < r ? e : r < e ? o : r;
  }

  function us(n, t, e) {
    return n <= t ? t : e <= n ? e : n;
  }

  function as(n, t, e, o) {
    var r = n.x(),
        i = n.y(),
        u = n.bubble().offset().left(),
        a = n.bubble().offset().top(),
        c = o.y(),
        s = o.bottom(),
        f = o.x(),
        l = o.right(),
        d = i + a,
        m = function (n, t, e, o, r) {
      var i = r.x(),
          u = r.y(),
          a = r.width(),
          c = r.height(),
          s = i <= n,
          f = u <= t,
          l = s && f,
          d = n + e <= i + a && t + o <= u + c,
          m = Math.abs(Math.min(e, s ? i + a - n : i - (n + e))),
          g = Math.abs(Math.min(o, f ? u + c - t : u - (t + o)));
      return {
        originInBounds: l,
        sizeInBounds: d,
        limitX: us(n, r.x(), r.right()),
        limitY: us(t, r.y(), r.bottom()),
        deltaW: m,
        deltaH: g
      };
    }(r + u, d, t, e, o),
        g = m.originInBounds,
        p = m.sizeInBounds,
        h = m.limitX,
        v = m.limitY,
        b = m.deltaW,
        y = m.deltaH,
        x = nn(v + y - c),
        w = nn(s - v),
        S = function (n, t, e, o) {
      return n.fold(t, t, o, o, t, o, e, e);
    }(n.direction(), w, w, x),
        C = nn(h + b - f),
        k = nn(l - h),
        O = function (n, t, e, o) {
      return n.fold(t, o, t, o, e, e, t, o);
    }(n.direction(), k, k, C),
        E = gc({
      x: h,
      y: v,
      width: b,
      height: y,
      maxHeight: S,
      maxWidth: O,
      direction: n.direction(),
      classes: {
        on: n.bubble().classesOn(),
        off: n.bubble().classesOff()
      },
      label: n.label(),
      candidateYforTest: d
    });

    return g && p ? wf.fit(E) : wf.nofit(E, b, y);
  }

  function cs(n, t, e, o) {
    kr(t, "max-height"), kr(t, "max-width");

    var r = function (n) {
      return {
        width: nn(gu(n)),
        height: nn(fu(n))
      };
    }(t);

    return function (n, e, u, a, c) {
      function o(n, o, r, i) {
        var t = n(e, u, a);
        return as(t, s, f, c).fold(wf.fit, function (n, t, e) {
          return i < e || r < t ? wf.nofit(n, t, e) : wf.nofit(o, r, i);
        });
      }

      var s = u.width(),
          f = u.height();
      return O(n, function (n, t) {
        var e = d(o, t);
        return n.fold(wf.fit, e);
      }, wf.nofit(gc({
        x: e.x(),
        y: e.y(),
        width: u.width(),
        height: u.height(),
        maxHeight: u.height(),
        maxWidth: u.width(),
        direction: Ka(),
        classes: {
          on: [],
          off: []
        },
        label: "none",
        candidateYforTest: e.y()
      }), -1, -1)).fold(l, l);
    }(o.preference(), n, r, e, o.bounds());
  }

  function ss(n, t, e) {
    function o(n) {
      return n + "px";
    }

    var r = function (n, r) {
      return n.fold(function () {
        return pc("absolute", on.some(r.x()), on.some(r.y()), on.none(), on.none());
      }, function (n, t, e, o) {
        return Ta("absolute", r, n, t, e, o);
      }, function (n, t, e, o) {
        return Ta("fixed", r, n, t, e, o);
      });
    }(e.origin(), t);

    !function (n, t) {
      var e = n.dom();
      Cn(t, function (n, t) {
        n.fold(function () {
          br(e, t);
        }, function (n) {
          vr(e, t, n);
        });
      });
    }(n, {
      position: on.some(r.position()),
      left: r.left().map(o),
      top: r.top().map(o),
      right: r.right().map(o),
      bottom: r.bottom().map(o)
    });
  }

  function fs(n, t) {
    !function (n, t) {
      var e = Mu.max(n, t, ["margin-top", "border-top-width", "padding-top", "padding-bottom", "border-bottom-width", "margin-bottom"]);
      yr(n, "max-height", e + "px");
    }(n, Math.floor(t));
  }

  function ls(n, t, e) {
    return n[t] === undefined ? e : n[t];
  }

  function ds(n, t, e, o, r, i) {
    var u = ls(i, "maxHeightFunction", Sf()),
        a = ls(i, "maxWidthFunction", Z),
        c = n.anchorBox(),
        s = n.origin(),
        f = kf({
      bounds: function (o, n) {
        return n.fold(function () {
          return o.fold(Su, Su, yu);
        }, function (e) {
          return o.fold(e, e, function () {
            var n = e(),
                t = vc(o, n.x(), n.y());
            return yu(t.left(), t.top(), n.width(), n.height());
          });
        });
      }(s, r),
      origin: s,
      preference: o,
      maxHeightFunction: u,
      maxWidthFunction: a
    });
    Of(c, t, e, f);
  }

  function ms(n, t, e, o, r) {
    var i = function (n, t) {
      return xf(n, t);
    }(e.anchorBox, t);

    ds(i, r.element(), e.bubble, e.layouts, o, e.overrides);
  }

  function gs(n, t) {
    Hi(n.element(), t.element());
  }

  function ps(t, n) {
    var e = t.components();
    !function (n) {
      bn(n.components(), function (n) {
        return Pi(n.element());
      }), Io(n.element()), n.syncComponents();
    }(t);

    var o = _(e, n);

    bn(o, function (n) {
      _f(n), t.getSystem().removeFromWorld(n);
    }), bn(n, function (n) {
      n.getSystem().isConnected() ? gs(t, n) : (t.getSystem().addToWorld(n), gs(t, n), $e(t.element()) && Mf(n)), t.syncComponents();
    });
  }

  function hs(n, t) {
    Ff(n, t, Hi);
  }

  function vs(n) {
    _f(n), Pi(n.element()), n.getSystem().removeFromWorld(n);
  }

  function bs(t) {
    var n = Eo(t.element()).bind(function (n) {
      return t.getSystem().getByDom(n).toOption();
    });
    vs(t), n.each(function (n) {
      n.syncComponents();
    });
  }

  function ys(n) {
    var t = n.components();
    bn(t, vs), Io(n.element()), n.syncComponents();
  }

  function xs(n, t) {
    If(n, t, Hi);
  }

  function ws(t) {
    var n = Bo(t.element());
    bn(n, function (n) {
      t.getByDom(n).each(_f);
    }), Pi(t.element());
  }

  function Ss(t, n, e, o) {
    e.get().each(function (n) {
      ys(t);
    });
    var r = n.getAttachPoint(t);
    hs(r, t);
    var i = t.getSystem().build(o);
    return hs(t, i), e.set(i), i;
  }

  function Cs(n, t, e, o) {
    var r = Ss(n, t, e, o);
    return t.onOpen(n, r), r;
  }

  function ks(t, e, o) {
    o.get().each(function (n) {
      ys(t), bs(t), e.onClose(t, n), o.clear();
    });
  }

  function Os(n, t, e) {
    return e.isOpen();
  }

  function Es(n) {
    var t,
        e = ot("Dismissal", Wf, n);
    return (t = {})[Lf()] = {
      schema: qn([ct("target")]),
      onReceive: function onReceive(t, n) {
        zf.isOpen(t) && (zf.isPartOf(t, n.target) || e.isExtraPart(t, n.target) || e.fireEventInstead.fold(function () {
          return zf.close(t);
        }, function (n) {
          return oo(t, n.event);
        }));
      }
    }, t;
  }

  function Ts(n) {
    var t,
        e = ot("Reposition", Gf, n);
    return (t = {})[jf()] = {
      onReceive: function onReceive(t) {
        zf.isOpen(t) && e.fireEventInstead.fold(function () {
          return e.doReposition(t);
        }, function (n) {
          return oo(t, n.event);
        });
      }
    }, t;
  }

  function Bs(n, t, e) {
    t.store.manager.onLoad(n, t, e);
  }

  function Ds(n, t, e) {
    t.store.manager.onUnload(n, t, e);
  }

  function As() {
    var n = ye(null);
    return nu({
      set: n.set,
      get: n.get,
      isNotSet: function isNotSet() {
        return null === n.get();
      },
      clear: function clear() {
        n.set(null);
      },
      readState: function readState() {
        return {
          mode: "memory",
          value: n.get()
        };
      }
    });
  }

  function _s() {
    var i = ye({}),
        u = ye({});
    return nu({
      readState: function readState() {
        return {
          mode: "dataset",
          dataByValue: i.get(),
          dataByText: u.get()
        };
      },
      lookup: function lookup(n) {
        return Nn(i.get(), n).orThunk(function () {
          return Nn(u.get(), n);
        });
      },
      update: function update(n) {
        var t = i.get(),
            e = u.get(),
            o = {},
            r = {};
        bn(n, function (t) {
          o[t.value] = t, Nn(t, "meta").each(function (n) {
            Nn(n, "text").each(function (n) {
              r[n] = t;
            });
          });
        }), i.set(_N(_N({}, t), o)), u.set(_N(_N({}, e), r));
      },
      clear: function clear() {
        i.set({}), u.set({});
      }
    });
  }

  function Ms(n, t, e, o) {
    var r = t.store;
    e.update([o]), r.setValue(n, o), t.onSetValue(n, o);
  }

  function Fs(t, n) {
    return Dt(t, {}, S(n, function (n) {
      return function (t, e) {
        return ce(t, t, Fn(), Yn(function (n) {
          return qt("The field: " + t + " is forbidden. " + e);
        }));
      }(n.name(), "Cannot configure " + n.name() + " for " + t);
    }).concat([At("dump", l)]));
  }

  function Is(n) {
    return n.dump;
  }

  function Rs(n, t) {
    return _N(_N({}, n.dump), ba(t));
  }

  function Vs(n, t, e, o) {
    return e.uiType === el ? function (n, t, e, o) {
      return n.exists(function (n) {
        return n !== e.owner;
      }) ? ol.single(!0, nn(e)) : Nn(o, e.name).fold(function () {
        throw new Error("Unknown placeholder component: " + e.name + "\nKnown: [" + wn(o) + "]\nNamespace: " + n.getOr("none") + "\nSpec: " + JSON.stringify(e, null, 2));
      }, function (n) {
        return n.replace();
      });
    }(n, 0, e, o) : ol.single(!1, nn(e));
  }

  function Ns(t, e, n, o) {
    var r = P(o, function (n, t) {
      return function (n, t) {
        var e = !1;
        return {
          name: nn(n),
          required: function required() {
            return t.fold(function (n, t) {
              return n;
            }, function (n, t) {
              return n;
            });
          },
          used: function used() {
            return e;
          },
          replace: function replace() {
            if (!0 === e) throw new Error("Trying to use the same placeholder more than once: " + n);
            return e = !0, t;
          }
        };
      }(t, n);
    }),
        i = function (t, e, n, o) {
      return B(n, function (n) {
        return rl(t, e, n, o);
      });
    }(t, e, n, r);

    return Cn(r, function (n) {
      if (!1 === n.used() && n.required()) throw new Error("Placeholder: " + n.name() + " was not found in components list\nNamespace: " + t.getOr("none") + "\nComponents: " + JSON.stringify(e.components, null, 2));
    }), i;
  }

  function Hs(n) {
    return n.fold(on.some, on.none, on.some, on.some);
  }

  function Ps(n) {
    function t(n) {
      return n.name;
    }

    return n.fold(t, t, t, t);
  }

  function zs(e, o) {
    return function (n) {
      var t = ot("Converting part type", o, n);
      return e(t);
    };
  }

  function Ls(n, t, e, o) {
    return Dn(t.defaults(n, e, o), e, {
      uid: n.partUids[t.name]
    }, t.overrides(n, e, o));
  }

  function js(r, n) {
    var t = {};
    return bn(n, function (n) {
      Hs(n).each(function (e) {
        var o = El(r, e.pname);

        t[e.name] = function (n) {
          var t = ot("Part: " + e.name + " in " + r, re(e.schema), n);
          return _N(_N({}, o), {
            config: n,
            validated: t
          });
        };
      });
    }), t;
  }

  function Us(n, t, e) {
    return {
      uiType: al(),
      owner: n,
      name: t,
      config: e,
      validated: {}
    };
  }

  function Ws(n) {
    return B(n, function (n) {
      return n.fold(on.none, on.some, on.none, on.none).map(function (n) {
        return mt(n.name, n.schema.concat([Zu(kl())]));
      }).toArray();
    });
  }

  function Gs(n) {
    return S(n, Ps);
  }

  function Xs(n, t, e) {
    return function (n, e, t) {
      var i = {},
          o = {};
      return bn(t, function (n) {
        n.fold(function (o) {
          i[o.pname] = il(!0, function (n, t, e) {
            return o.factory.sketch(Ls(n, o, t, e));
          });
        }, function (n) {
          var t = e.parts[n.name];
          o[n.name] = nn(n.factory.sketch(Ls(e, n, t[kl()]), t));
        }, function (o) {
          i[o.pname] = il(!1, function (n, t, e) {
            return o.factory.sketch(Ls(n, o, t, e));
          });
        }, function (r) {
          i[r.pname] = ul(!0, function (t, n, e) {
            var o = t[r.name];
            return S(o, function (n) {
              return r.factory.sketch(Dn(r.defaults(t, n, e), n, r.overrides(t, n)));
            });
          });
        });
      }), {
        internals: nn(i),
        externals: nn(o)
      };
    }(0, t, e);
  }

  function Ys(n, t, e) {
    return Ns(on.some(n), t, t.components, e);
  }

  function qs(n, t, e) {
    var o = t.partUids[e];
    return n.getSystem().getByUid(o).toOption();
  }

  function Ks(n, t, e) {
    return qs(n, t, e).getOrDie("Could not find part: " + e);
  }

  function Js(n, t, e) {
    var o = {},
        r = t.partUids,
        i = n.getSystem();
    return bn(e, function (n) {
      o[n] = nn(i.getByUid(r[n]));
    }), o;
  }

  function $s(n, t) {
    var e = n.getSystem();
    return P(t.partUids, function (n, t) {
      return nn(e.getByUid(n));
    });
  }

  function Qs(n) {
    return wn(n.partUids);
  }

  function Zs(n, t, e) {
    var o = {},
        r = t.partUids,
        i = n.getSystem();
    return bn(e, function (n) {
      o[n] = nn(i.getByUid(r[n]).getOrDie());
    }), o;
  }

  function nf(t, n) {
    var e = Gs(n);
    return K(S(e, function (n) {
      return {
        key: n,
        value: t + "-" + n
      };
    }));
  }

  function tf(t) {
    return ce("partUids", "partUids", Rn(function (n) {
      return nf(n.uid, t);
    }), de());
  }

  function ef(n, t, e, o, r) {
    var i = function (n, t) {
      return (0 < n.length ? [mt("parts", n)] : []).concat([ct("uid"), St("dom", {}), St("components", []), Zu("originalSpec"), St("debug.sketcher", {})]).concat(t);
    }(o, r);

    return ot(n + " [SpecSchema]", qn(i.concat(t)), e);
  }

  function of(n, t, e, o, r) {
    var i = Bl(r),
        u = Ws(e),
        a = tf(e),
        c = ef(n, t, i, u, [a]),
        s = Xs(0, c, e);
    return o(c, Ys(n, c, s.internals()), i, s.externals());
  }

  var rf = function rI(e, o) {
    var t = function t(n) {
      return e(n) ? on.from(n.dom().nodeValue) : on.none();
    };

    return {
      get: function get(n) {
        if (!e(n)) throw new Error("Can only get " + o + " value of a " + o + " node");
        return t(n).getOr("");
      },
      getOption: t,
      set: function set(n, t) {
        if (!e(n)) throw new Error("Can only set raw " + o + " value of a " + o + " node");
        n.dom().nodeValue = t;
      }
    };
  }(Pr, "text"),
      uf = function uf(n, t, e, o) {
    return Pr(t) ? function (t, e, o, r) {
      var n = t.dom().createRange();
      n.selectNode(e.dom());
      var i = n.getClientRects();
      return Du(i, function (n) {
        return Ha(n, o, r) ? on.some(n) : on.none();
      }).map(function (n) {
        return _c(t, e, o, r, n);
      });
    }(n, t, e, o) : function (t, n, e, o) {
      var r = t.dom().createRange(),
          i = Bo(n);
      return Du(i, function (n) {
        return r.selectNode(n.dom()), Ha(r.getBoundingClientRect(), e, o) ? uf(t, n, e, o) : on.none();
      });
    }(n, t, e, o);
  },
      af = ["img", "br"],
      cf = function cf(n, i) {
    var u = function u(n) {
      for (var t = Bo(n), e = t.length - 1; 0 <= e; e--) {
        var o = t[e];
        if (i(o)) return on.some(o);
        var r = u(o);
        if (r.isSome()) return r;
      }

      return on.none();
    };

    return u(n);
  },
      sf = (document.caretPositionFromPoint || document.caretRangeFromPoint, yo("element", "offset")),
      ff = Tn([{
    screen: ["point"]
  }, {
    absolute: ["point", "scrollLeft", "scrollTop"]
  }]),
      lf = ff.screen,
      df = ff.absolute,
      mf = function mf(n, t, e, o) {
    var r = n,
        i = t,
        u = e,
        a = o;
    n < 0 && (r = 0, u = e + n), t < 0 && (i = 0, a = o + t);
    var c = lf(Iu(r, i));
    return on.some(Pu(c, u, a));
  },
      gf = function gf(n, i, u, a, c) {
    return n.map(function (n) {
      var t = [i, n.point()],
          e = function (n, t, e, o) {
        return n.fold(t, e, o);
      }(a, function () {
        return Yc(t);
      }, function () {
        return Yc(t);
      }, function () {
        return function (n) {
          var t = S(n, Wc);
          return Xc(t);
        }(t);
      }),
          o = zu(e.left(), e.top(), n.width(), n.height()),
          r = Ma(c, u, u.showAbove ? [ca, sa, ua, aa, oc, rc] : [ua, aa, ca, sa, rc, rc], u.showAbove ? [sa, ca, aa, ua, oc, rc] : [aa, ua, sa, ca, rc, oc]);

      return Da({
        anchorBox: o,
        bubble: u.bubble.getOr(Ea()),
        overrides: u.overrides,
        layouts: r,
        placer: on.none()
      });
    });
  },
      pf = yo("element", "offset"),
      hf = [ht("getSelection"), ct("root"), ht("bubble"), _a(), St("overrides", {}), St("showAbove", !1), Qu("placement", function (n, t, e) {
    var o = Oo(t.root).dom(),
        r = qc(n, 0, t),
        i = Jc(o, t).bind(function (n) {
      return Uc(o, Tc.exactFromRange(n)).orThunk(function () {
        var t = we.fromText("\uFEFF");
        return Ao(n.start(), t), Uc(o, Tc.exact(t, 0, t, 1)).map(function (n) {
          return Pi(t), n;
        });
      }).bind(function (n) {
        return mf(n.left(), n.top(), n.width(), n.height());
      });
    }),
        u = Jc(o, t).bind(function (n) {
      return Hr(n.start()) ? on.some(n.start()) : Eo(n.start());
    }).getOr(n.element());
    return gf(i, r, t, e, u);
  })],
      vf = [ct("node"), ct("root"), ht("bubble"), _a(), St("overrides", {}), St("showAbove", !1), Qu("placement", function (r, i, u) {
    var a = qc(r, 0, i);
    return i.node.bind(function (n) {
      var t = n.dom().getBoundingClientRect(),
          e = mf(t.left, t.top, t.width, t.height),
          o = i.node.getOr(r.element());
      return gf(e, a, i, u, o);
    });
  })],
      bf = [ct("item"), _a(), St("overrides", {}), Qu("placement", function (n, t, e) {
    var o = Ba(e, t.item.element()),
        r = Ma(n.element(), t, [ts, es, os, rs], [es, ts, rs, os]);
    return on.some(Da({
      anchorBox: o,
      bubble: Ea(),
      overrides: t.overrides,
      layouts: r,
      placer: on.none()
    }));
  })],
      yf = it("anchor", {
    selection: hf,
    node: vf,
    hotspot: wc,
    submenu: bf,
    makeshift: Sc
  }),
      xf = yo("anchorBox", "origin"),
      wf = Tn([{
    fit: ["reposition"]
  }, {
    nofit: ["reposition", "deltaW", "deltaH"]
  }]),
      Sf = nn(function (n, t) {
    fs(n, t), xr(n, {
      "overflow-x": "hidden",
      "overflow-y": "auto"
    });
  }),
      Cf = nn(function (n, t) {
    fs(n, t);
  }),
      kf = So(["bounds", "origin", "preference", "maxHeightFunction", "maxWidthFunction"], []),
      Of = function Of(n, t, e, o) {
    var r = cs(n, t, e, o);
    ss(t, r, o), function (n, t) {
      var e = t.classes();
      pr(n, e.off), gr(n, e.on);
    }(t, r), function (n, t, e) {
      e.maxHeightFunction()(n, t.maxHeight());
    }(t, r, o), function (n, t, e) {
      e.maxWidthFunction()(n, t.maxWidth());
    }(t, r, o);
  },
      Ef = function Ef(n, t, e, o, r, i) {
    var u = i.map(xu);
    return Tf(n, t, e, o, r, u);
  },
      Tf = function Tf(r, i, n, t, u, a) {
    var c = ot("positioning anchor.info", yf, t);
    ka(function () {
      yr(u.element(), "position", "fixed");
      var n = Sr(u.element(), "visibility");
      yr(u.element(), "visibility", "hidden");
      var t = i.useFixed() ? function () {
        var n = v.document.documentElement;
        return yc(0, 0, n.clientWidth, n.clientHeight);
      }() : function (n) {
        var t = du(n.element()),
            e = n.element().dom().getBoundingClientRect();
        return bc(t.left(), t.top(), e.width, e.height);
      }(r),
          e = c.placement,
          o = a.map(nn).or(i.getBounds);
      e(r, c, t).each(function (n) {
        n.placer.getOr(ms)(r, t, n, o, u);
      }), n.fold(function () {
        kr(u.element(), "visibility");
      }, function (n) {
        yr(u.element(), "visibility", n);
      }), Sr(u.element(), "left").isNone() && Sr(u.element(), "top").isNone() && Sr(u.element(), "right").isNone() && Sr(u.element(), "bottom").isNone() && Sr(u.element(), "position").is("fixed") && kr(u.element(), "position");
    }, u.element());
  },
      Bf =
  /* */
  Object.freeze({
    position: function position(n, t, e, o, r) {
      Ef(n, t, e, o, r, on.none());
    },
    positionWithin: Ef,
    positionWithinBounds: Tf,
    getMode: function getMode(n, t, e) {
      return t.useFixed() ? "fixed" : "absolute";
    }
  }),
      Df = [St("useFixed", u), ht("getBounds")],
      Af = ya({
    fields: Df,
    name: "positioning",
    active: dc,
    apis: Bf
  }),
      _f = function _f(n) {
    oo(n, ki());
    var t = n.components();
    bn(t, _f);
  },
      Mf = function Mf(n) {
    var t = n.components();
    bn(t, Mf), oo(n, Ci());
  },
      Ff = function Ff(n, t, e) {
    n.getSystem().addToWorld(t), e(n.element(), t.element()), $e(n.element()) && Mf(t), n.syncComponents();
  },
      If = function If(n, t, e) {
    e(n, t.element());
    var o = Bo(t.element());
    bn(o, function (n) {
      t.getByDom(n).each(Mf);
    });
  },
      Rf = function Rf(n, t, e) {
    var o = t.getAttachPoint(n);
    yr(n.element(), "position", Af.getMode(o)), function (t, n, e, o) {
      Sr(t.element(), n).fold(function () {
        jo(t.element(), e);
      }, function (n) {
        Po(t.element(), e, n);
      }), yr(t.element(), n, o);
    }(n, "visibility", t.cloakVisibilityAttr, "hidden");
  },
      Vf = function Vf(n, t, e) {
    !function (t) {
      return x(["top", "left", "right", "bottom"], function (n) {
        return Sr(t, n).isSome();
      });
    }(n.element()) && kr(n.element(), "position"), function (n, t, e) {
      if (Lo(n.element(), e)) {
        var o = zo(n.element(), e);
        yr(n.element(), t, o);
      } else kr(n.element(), t);
    }(n, "visibility", t.cloakVisibilityAttr);
  },
      Nf =
  /* */
  Object.freeze({
    cloak: Rf,
    decloak: Vf,
    open: Cs,
    openWhileCloaked: function openWhileCloaked(n, t, e, o, r) {
      Rf(n, t), Cs(n, t, e, o), r(), Vf(n, t);
    },
    close: ks,
    isOpen: Os,
    isPartOf: function isPartOf(t, e, n, o) {
      return Os(0, 0, n) && n.get().exists(function (n) {
        return e.isPartOf(t, n, o);
      });
    },
    getState: function getState(n, t, e) {
      return e.get();
    },
    setContent: function setContent(n, t, e, o) {
      return e.get().map(function () {
        return Ss(n, t, e, o);
      });
    }
  }),
      Hf =
  /* */
  Object.freeze({
    events: function events(e, o) {
      return co([lo(hi(), function (n, t) {
        ks(n, e, o);
      })]);
    }
  }),
      Pf = [qu("onOpen"), qu("onClose"), ct("isPartOf"), ct("getAttachPoint"), St("cloakVisibilityAttr", "data-precloak-visibility")],
      zf = ya({
    fields: Pf,
    name: "sandboxing",
    active: Hf,
    apis: Nf,
    state:
    /* */
    Object.freeze({
      init: function init() {
        var t = ye(on.none()),
            n = nn("not-implemented");
        return nu({
          readState: n,
          isOpen: function isOpen() {
            return t.get().isSome();
          },
          clear: function clear() {
            t.set(on.none());
          },
          set: function set(n) {
            t.set(on.some(n));
          },
          get: function get(n) {
            return t.get();
          }
        });
      }
    })
  }),
      Lf = nn("dismiss.popups"),
      jf = nn("reposition.popups"),
      Uf = nn("mouse.released"),
      Wf = qn([St("isExtraPart", nn(!1)), wt("fireEventInstead", [St("event", Oi())])]),
      Gf = qn([St("isExtraPart", nn(!1)), wt("fireEventInstead", [St("event", Ei())]), dt("doReposition")]),
      Xf =
  /* */
  Object.freeze({
    onLoad: Bs,
    onUnload: Ds,
    setValue: function setValue(n, t, e, o) {
      t.store.manager.setValue(n, t, e, o);
    },
    getValue: function getValue(n, t, e) {
      return t.store.manager.getValue(n, t, e);
    },
    getState: function getState(n, t, e) {
      return e;
    }
  }),
      Yf =
  /* */
  Object.freeze({
    events: function events(e, o) {
      var n = e.resetOnDom ? [Ii(function (n, t) {
        Bs(n, e, o);
      }), Ri(function (n, t) {
        Ds(n, e, o);
      })] : [ga(e, o, Bs)];
      return co(n);
    }
  }),
      qf =
  /* */
  Object.freeze({
    memory: As,
    dataset: _s,
    manual: function manual() {
      return nu({
        readState: function readState() {}
      });
    },
    init: function init(n) {
      return n.store.manager.state(n);
    }
  }),
      Kf = [ht("initialValue"), ct("getFallbackEntry"), ct("getDataKey"), ct("setValue"), Qu("manager", {
    setValue: Ms,
    getValue: function getValue(n, t, e) {
      var o = t.store,
          r = o.getDataKey(n);
      return e.lookup(r).fold(function () {
        return o.getFallbackEntry(r);
      }, function (n) {
        return n;
      });
    },
    onLoad: function onLoad(t, e, o) {
      e.store.initialValue.each(function (n) {
        Ms(t, e, o, n);
      });
    },
    onUnload: function onUnload(n, t, e) {
      e.clear();
    },
    state: _s
  })],
      Jf = [ct("getValue"), St("setValue", Z), ht("initialValue"), Qu("manager", {
    setValue: function setValue(n, t, e, o) {
      t.store.setValue(n, o), t.onSetValue(n, o);
    },
    getValue: function getValue(n, t, e) {
      return t.store.getValue(n);
    },
    onLoad: function onLoad(t, e, n) {
      e.store.initialValue.each(function (n) {
        e.store.setValue(t, n);
      });
    },
    onUnload: Z,
    state: Zi.init
  })],
      $f = [ht("initialValue"), Qu("manager", {
    setValue: function setValue(n, t, e, o) {
      e.set(o), t.onSetValue(n, o);
    },
    getValue: function getValue(n, t, e) {
      return e.get();
    },
    onLoad: function onLoad(n, t, e) {
      t.store.initialValue.each(function (n) {
        e.isNotSet() && e.set(n);
      });
    },
    onUnload: function onUnload(n, t, e) {
      e.clear();
    },
    state: As
  })],
      Qf = [Ct("store", {
    mode: "memory"
  }, it("mode", {
    memory: $f,
    manual: Jf,
    dataset: Kf
  })), qu("onSetValue"), St("resetOnDom", !1)],
      Zf = ya({
    fields: Qf,
    name: "representing",
    active: Yf,
    apis: Xf,
    extra: {
      setValueFrom: function setValueFrom(n, t) {
        var e = Zf.getValue(t);
        Zf.setValue(n, e);
      }
    },
    state: qf
  }),
      nl = Fs,
      tl = Rs,
      el = "placeholder",
      ol = Tn([{
    single: ["required", "valueThunk"]
  }, {
    multiple: ["required", "valueThunks"]
  }]),
      rl = function rl(i, u, a, c) {
    return Vs(i, 0, a, c).fold(function (n, t) {
      var e = t(u, a.config, a.validated),
          o = Nn(e, "components").getOr([]),
          r = B(o, function (n) {
        return rl(i, u, n, c);
      });
      return [_N(_N({}, e), {
        components: r
      })];
    }, function (n, t) {
      var e = t(u, a.config, a.validated);
      return a.validated.preprocess.getOr(l)(e);
    });
  },
      il = ol.single,
      ul = ol.multiple,
      al = nn(el),
      cl = Tn([{
    required: ["data"]
  }, {
    external: ["data"]
  }, {
    optional: ["data"]
  }, {
    group: ["data"]
  }]),
      sl = St("factory", {
    sketch: l
  }),
      fl = St("schema", []),
      ll = ct("name"),
      dl = ce("pname", "pname", In(function (n) {
    return "<alloy." + Xo(n.name) + ">";
  }), de()),
      ml = At("schema", function () {
    return [ht("preprocess")];
  }),
      gl = St("defaults", nn({})),
      pl = St("overrides", nn({})),
      hl = re([sl, fl, ll, dl, gl, pl]),
      vl = re([sl, fl, ll, gl, pl]),
      bl = re([sl, fl, ll, dl, gl, pl]),
      yl = re([sl, ml, ll, ct("unit"), dl, gl, pl]),
      xl = zs(cl.required, hl),
      wl = zs(cl.external, vl),
      Sl = zs(cl.optional, bl),
      Cl = zs(cl.group, yl),
      kl = nn("entirety"),
      Ol =
  /* */
  Object.freeze({
    required: xl,
    external: wl,
    optional: Sl,
    group: Cl,
    asNamedPart: Hs,
    name: Ps,
    asCommon: function asCommon(n) {
      return n.fold(l, l, l, l);
    },
    original: kl
  }),
      El = function El(n, t) {
    return {
      uiType: al(),
      owner: n,
      name: t
    };
  },
      Tl =
  /* */
  Object.freeze({
    generate: js,
    generateOne: Us,
    schemas: Ws,
    names: Gs,
    substitutes: Xs,
    components: Ys,
    defaultUids: nf,
    defaultUidsSchema: tf,
    getAllParts: $s,
    getAllPartNames: Qs,
    getPart: qs,
    getPartOrDie: Ks,
    getParts: Js,
    getPartsOrDie: Zs
  }),
      Bl = function Bl(n) {
    return n.hasOwnProperty("uid") ? n : _N(_N({}, n), {
      uid: Yo("uid")
    });
  };

  function Dl(n) {
    var t = ot("Sketcher for " + n.name, Kl, n),
        e = P(t.apis, $o),
        o = P(t.extraApis, function (n, t) {
      return Ko(n, t);
    });
    return _N(_N({
      name: nn(t.name),
      partFields: nn([]),
      configFields: nn(t.configFields),
      sketch: function sketch(n) {
        return function (n, t, e, o) {
          var r = Bl(o);
          return e(ef(n, t, r, [], []), r);
        }(t.name, t.configFields, t.factory, n);
      }
    }, e), o);
  }

  function Al(n) {
    var t = ot("Sketcher for " + n.name, Jl, n),
        e = js(t.name, t.partFields),
        o = P(t.apis, $o),
        r = P(t.extraApis, function (n, t) {
      return Ko(n, t);
    });
    return _N(_N({
      name: nn(t.name),
      partFields: nn(t.partFields),
      configFields: nn(t.configFields),
      sketch: function sketch(n) {
        return of(t.name, t.configFields, t.partFields, t.factory, n);
      },
      parts: nn(e)
    }, o), r);
  }

  function _l(n) {
    return "input" === Ke(n) && "radio" !== zo(n, "type") || "textarea" === Ke(n);
  }

  function Ml(e, o, n, r) {
    var t = zc(e.element(), "." + o.highlightClass);
    bn(t, function (t) {
      x(r, function (n) {
        return n.element() === t;
      }) || (dr(t, o.highlightClass), e.getSystem().getByDom(t).each(function (n) {
        o.onDehighlight(e, n), oo(n, Mi());
      }));
    });
  }

  function Fl(n, t, e, o) {
    Ml(n, t, 0, [o]), nd(n, t, e, o) || (fr(o.element(), t.highlightClass), t.onHighlight(n, o), oo(o, _i()));
  }

  function Il(e, t, n, o) {
    var r = zc(e.element(), "." + t.itemClass);
    return T(r, function (n) {
      return mr(n, t.highlightClass);
    }).bind(function (n) {
      var t = is(n, o, 0, r.length - 1);
      return e.getSystem().getByDom(r[t]).toOption();
    });
  }

  function Rl(n, t, e) {
    var o = A(n.slice(0, t)),
        r = A(n.slice(t + 1));
    return E(o.concat(r), e);
  }

  function Vl(n, t, e) {
    var o = A(n.slice(0, t));
    return E(o, e);
  }

  function Nl(n, t, e) {
    var o = n.slice(0, t),
        r = n.slice(t + 1);
    return E(r.concat(o), e);
  }

  function Hl(n, t, e) {
    var o = n.slice(t + 1);
    return E(o, e);
  }

  function Pl(e) {
    return function (n) {
      var t = n.raw();
      return vn(e, t.which);
    };
  }

  function zl(n) {
    return function (t) {
      return D(n, function (n) {
        return n(t);
      });
    };
  }

  function Ll(n) {
    return !0 === n.raw().shiftKey;
  }

  function jl(n) {
    return !0 === n.raw().ctrlKey;
  }

  function Ul(n, t) {
    return {
      matches: n,
      classification: t
    };
  }

  function Wl(n, t, e) {
    t.exists(function (t) {
      return e.exists(function (n) {
        return jt(n, t);
      });
    }) || ro(n, Ti(), {
      prevFocus: t,
      newFocus: e
    });
  }

  function Gl() {
    function r(n) {
      return Ca(n.element());
    }

    return {
      get: r,
      set: function set(n, t) {
        var e = r(n);
        n.getSystem().triggerFocus(t, n.element());
        var o = r(n);
        Wl(n, e, o);
      }
    };
  }

  function Xl() {
    function r(n) {
      return ad.getHighlighted(n).map(function (n) {
        return n.element();
      });
    }

    return {
      get: r,
      set: function set(t, n) {
        var e = r(t);
        t.getSystem().getByDom(n).fold(Z, function (n) {
          ad.highlight(t, n);
        });
        var o = r(t);
        Wl(t, e, o);
      }
    };
  }

  var Yl,
      ql,
      Kl = qn([ct("name"), ct("factory"), ct("configFields"), St("apis", {}), St("extraApis", {})]),
      Jl = qn([ct("name"), ct("factory"), ct("configFields"), ct("partFields"), St("apis", {}), St("extraApis", {})]),
      $l =
  /* */
  Object.freeze({
    getCurrent: function getCurrent(n, t, e) {
      return t.find(n);
    }
  }),
      Ql = [ct("find")],
      Zl = ya({
    fields: Ql,
    name: "composing",
    apis: $l
  }),
      nd = function nd(n, t, e, o) {
    return mr(o.element(), t.highlightClass);
  },
      td = function td(n, t, e, o) {
    var r = zc(n.element(), "." + t.itemClass);
    return on.from(r[o]).fold(function () {
      return an.error("No element found with index " + o);
    }, n.getSystem().getByDom);
  },
      ed = function ed(t, n, e) {
    return ku(t.element(), "." + n.itemClass).bind(function (n) {
      return t.getSystem().getByDom(n).toOption();
    });
  },
      od = function od(t, n, e) {
    var o = zc(t.element(), "." + n.itemClass);
    return (0 < o.length ? on.some(o[o.length - 1]) : on.none()).bind(function (n) {
      return t.getSystem().getByDom(n).toOption();
    });
  },
      rd = function rd(t, n, e) {
    var o = zc(t.element(), "." + n.itemClass);
    return Bu(S(o, function (n) {
      return t.getSystem().getByDom(n).toOption();
    }));
  },
      id =
  /* */
  Object.freeze({
    dehighlightAll: function dehighlightAll(n, t, e) {
      return Ml(n, t, 0, []);
    },
    dehighlight: function dehighlight(n, t, e, o) {
      nd(n, t, e, o) && (dr(o.element(), t.highlightClass), t.onDehighlight(n, o), oo(o, Mi()));
    },
    highlight: Fl,
    highlightFirst: function highlightFirst(t, e, o) {
      ed(t, e).each(function (n) {
        Fl(t, e, o, n);
      });
    },
    highlightLast: function highlightLast(t, e, o) {
      od(t, e).each(function (n) {
        Fl(t, e, o, n);
      });
    },
    highlightAt: function highlightAt(t, e, o, n) {
      td(t, e, o, n).fold(function (n) {
        throw new Error(n);
      }, function (n) {
        Fl(t, e, o, n);
      });
    },
    highlightBy: function highlightBy(t, e, o, n) {
      var r = rd(t, e);
      E(r, n).each(function (n) {
        Fl(t, e, o, n);
      });
    },
    isHighlighted: nd,
    getHighlighted: function getHighlighted(t, n, e) {
      return ku(t.element(), "." + n.highlightClass).bind(function (n) {
        return t.getSystem().getByDom(n).toOption();
      });
    },
    getFirst: ed,
    getLast: od,
    getPrevious: function getPrevious(n, t, e) {
      return Il(n, t, 0, -1);
    },
    getNext: function getNext(n, t, e) {
      return Il(n, t, 0, 1);
    },
    getCandidates: rd
  }),
      ud = [ct("highlightClass"), ct("itemClass"), qu("onHighlight"), qu("onDehighlight")],
      ad = ya({
    fields: ud,
    name: "highlighting",
    apis: id
  }),
      cd = b(Ll);

  (ql = Yl = Yl || {}).OnFocusMode = "onFocus", ql.OnEnterOrSpaceMode = "onEnterOrSpace", ql.OnApiMode = "onApi";

  function sd(n, t, e, i, u) {
    function a(t, e, n, o, r) {
      return function (n, t) {
        return E(n, function (n) {
          return n.matches(t);
        }).map(function (n) {
          return n.classification;
        });
      }(n(t, e, o, r), e.event()).bind(function (n) {
        return n(t, e, o, r);
      });
    }

    var o = {
      schema: function schema() {
        return n.concat([St("focusManager", Gl()), Ct("focusInside", "onFocus", Zn(function (n) {
          return vn(["onFocus", "onEnterOrSpace", "onApi"], n) ? an.value(n) : an.error("Invalid value for focusInside");
        })), Qu("handler", o), Qu("state", t), Qu("sendFocusIn", u)]);
      },
      processKey: a,
      toEvents: function toEvents(o, r) {
        var n = o.focusInside !== Yl.OnFocusMode ? on.none() : u(o).map(function (e) {
          return lo(ci(), function (n, t) {
            e(n, o, r), t.stop();
          });
        });
        return co(n.toArray().concat([lo(ni(), function (n, t) {
          a(n, t, e, o, r).fold(function () {
            !function (t, e) {
              var n = Pl([32].concat([13]))(e.event());
              o.focusInside === Yl.OnEnterOrSpaceMode && n && Ut(t, e) && u(o).each(function (n) {
                n(t, o, r), e.stop();
              });
            }(n, t);
          }, function (n) {
            t.stop();
          });
        }), lo(ti(), function (n, t) {
          a(n, t, i, o, r).each(function (n) {
            t.stop();
          });
        })]));
      }
    };
    return o;
  }

  function fd(n) {
    function i(n, t) {
      var e = n.visibilitySelector.bind(function (n) {
        return Ou(t, n);
      }).getOr(t);
      return 0 < su(e);
    }

    function t(t, e) {
      (function (n, t) {
        var e = zc(n.element(), t.selector),
            o = C(e, function (n) {
          return i(t, n);
        });
        return on.from(o[t.firstTabstop]);
      })(t, e).each(function (n) {
        e.focusManager.set(t, n);
      });
    }

    function u(t, n, e, o, r) {
      return r(n, e, function (n) {
        return function (n, t) {
          return i(n, t) && n.useTabstopAt(t);
        }(o, n);
      }).fold(function () {
        return o.cyclic ? on.some(!0) : on.none();
      }, function (n) {
        return o.focusManager.set(t, n), on.some(!0);
      });
    }

    function a(t, n, e, o) {
      var r = zc(t.element(), e.selector);
      return function (n, t) {
        return t.focusManager.get(n).bind(function (n) {
          return Ou(n, t.selector);
        });
      }(t, e).bind(function (n) {
        return T(r, d(jt, n)).bind(function (n) {
          return u(t, r, n, e, o);
        });
      });
    }

    var e = [ht("onEscape"), ht("onEnter"), St("selector", '[data-alloy-tabstop="true"]:not(:disabled)'), St("firstTabstop", 0), St("useTabstopAt", nn(!0)), ht("visibilitySelector")].concat([n]),
        o = nn([Ul(zl([Ll, Pl([9])]), function (n, t, e, o) {
      var r = e.cyclic ? Rl : Vl;
      return a(n, 0, e, r);
    }), Ul(Pl([9]), function (n, t, e, o) {
      var r = e.cyclic ? Nl : Hl;
      return a(n, 0, e, r);
    }), Ul(Pl([27]), function (t, e, n, o) {
      return n.onEscape.bind(function (n) {
        return n(t, e);
      });
    }), Ul(zl([cd, Pl([13])]), function (t, e, n, o) {
      return n.onEnter.bind(function (n) {
        return n(t, e);
      });
    })]),
        r = nn([]);
    return sd(e, Zi.init, o, r, function () {
      return on.some(t);
    });
  }

  function ld(n, t, e) {
    return _l(e) && Pl([32])(t.event()) ? on.none() : function (n, t, e) {
      return uo(n, e, di()), on.some(!0);
    }(n, 0, e);
  }

  function dd(n, t) {
    return on.some(!0);
  }

  function md(n, t, e) {
    return e.execute(n, t, n.element());
  }

  function gd(n) {
    var e = ye(on.none());
    return nu({
      readState: function readState() {
        return e.get().map(function (n) {
          return {
            numRows: n.numRows(),
            numColumns: n.numColumns()
          };
        }).getOr({
          numRows: "?",
          numColumns: "?"
        });
      },
      setGridSize: function setGridSize(n, t) {
        e.set(on.some({
          numRows: nn(n),
          numColumns: nn(t)
        }));
      },
      getNumRows: function getNumRows() {
        return e.get().map(function (n) {
          return n.numRows();
        });
      },
      getNumColumns: function getNumColumns() {
        return e.get().map(function (n) {
          return n.numColumns();
        });
      }
    });
  }

  function pd(i) {
    return function (n, t, e, o) {
      var r = i(n.element());
      return Em(r, n, t, e, o);
    };
  }

  function hd(n, t) {
    var e = Aa(n, t);
    return pd(e);
  }

  function vd(n, t) {
    var e = Aa(t, n);
    return pd(e);
  }

  function bd(r) {
    return function (n, t, e, o) {
      return Em(r, n, t, e, o);
    };
  }

  function yd(n) {
    return !function (n) {
      return n.offsetWidth <= 0 && n.offsetHeight <= 0;
    }(n.dom());
  }

  function xd(n, t, e) {
    var o = d(jt, t),
        r = zc(n, e);
    return function (t, n) {
      return T(t, n).map(function (n) {
        return Am({
          index: n,
          candidates: t
        });
      });
    }(C(r, yd), o);
  }

  function wd(n, t) {
    return T(n, function (n) {
      return jt(t, n);
    });
  }

  function Sd(e, n, o, t) {
    return t(Math.floor(n / o), n % o).bind(function (n) {
      var t = n.row() * o + n.column();
      return 0 <= t && t < e.length ? on.some(e[t]) : on.none();
    });
  }

  function Cd(r, n, i, u, a) {
    return Sd(r, n, u, function (n, t) {
      var e = n === i - 1 ? r.length - n * u : u,
          o = is(t, a, 0, e - 1);
      return on.some({
        row: nn(n),
        column: nn(o)
      });
    });
  }

  function kd(i, n, u, a, c) {
    return Sd(i, n, a, function (n, t) {
      var e = is(n, c, 0, u - 1),
          o = e === u - 1 ? i.length - e * a : a,
          r = us(t, 0, o - 1);
      return on.some({
        row: nn(e),
        column: nn(r)
      });
    });
  }

  function Od(t, e, n) {
    ku(t.element(), e.selector).each(function (n) {
      e.focusManager.set(t, n);
    });
  }

  function Ed(r) {
    return function (n, t, e, o) {
      return xd(n, t, e.selector).bind(function (n) {
        return r(n.candidates(), n.index(), o.getNumRows().getOr(e.initSize.numRows), o.getNumColumns().getOr(e.initSize.numColumns));
      });
    };
  }

  function Td(n, t, e, o) {
    return e.captureTab ? on.some(!0) : on.none();
  }

  function Bd(n, t, e, r) {
    var i = function i(n, t, e) {
      var o = is(t, r, 0, e.length - 1);
      return o === n ? on.none() : function (n) {
        return "button" === Ke(n) && "disabled" === zo(n, "disabled");
      }(e[o]) ? i(n, o, e) : on.from(e[o]);
    };

    return xd(n, e, t).bind(function (n) {
      var t = n.index(),
          e = n.candidates();
      return i(t, t, e);
    });
  }

  function Dd(t, e, o) {
    return function (n, t) {
      return t.focusManager.get(n).bind(function (n) {
        return Ou(n, t.selector);
      });
    }(t, o).bind(function (n) {
      return o.execute(t, e, n);
    });
  }

  function Ad(t, e) {
    e.getInitial(t).orThunk(function () {
      return ku(t.element(), e.selector);
    }).each(function (n) {
      e.focusManager.set(t, n);
    });
  }

  function _d(n, t, e) {
    return Bd(n, e.selector, t, -1);
  }

  function Md(n, t, e) {
    return Bd(n, e.selector, t, 1);
  }

  function Fd(o) {
    return function (n, t, e) {
      return o(n, t, e).bind(function () {
        return e.executeOnMove ? Dd(n, t, e) : on.some(!0);
      });
    };
  }

  function Id(n, t, e, o) {
    return e.onEscape(n, t);
  }

  function Rd(n, t, e) {
    return on.from(n[t]).bind(function (n) {
      return on.from(n[e]).map(function (n) {
        return jm({
          rowIndex: t,
          columnIndex: e,
          cell: n
        });
      });
    });
  }

  function Vd(n, t, e, o) {
    var r = n[t].length,
        i = is(e, o, 0, r - 1);
    return Rd(n, t, i);
  }

  function Nd(n, t, e, o) {
    var r = is(e, o, 0, n.length - 1),
        i = n[r].length,
        u = us(t, 0, i - 1);
    return Rd(n, r, u);
  }

  function Hd(n, t, e, o) {
    var r = n[t].length,
        i = us(e + o, 0, r - 1);
    return Rd(n, t, i);
  }

  function Pd(n, t, e, o) {
    var r = us(e + o, 0, n.length - 1),
        i = n[r].length,
        u = us(t, 0, i - 1);
    return Rd(n, r, u);
  }

  function zd(t, e) {
    e.previousSelector(t).orThunk(function () {
      var n = e.selectors;
      return ku(t.element(), n.cell);
    }).each(function (n) {
      e.focusManager.set(t, n);
    });
  }

  function Ld(n, t) {
    return function (r, e, i) {
      var u = i.cycles ? n : t;
      return Ou(e, i.selectors.row).bind(function (n) {
        var t = zc(n, i.selectors.cell);
        return wd(t, e).bind(function (e) {
          var o = zc(r, i.selectors.row);
          return wd(o, n).bind(function (n) {
            var t = function (n, t) {
              return S(n, function (n) {
                return zc(n, t.selectors.cell);
              });
            }(o, i);

            return u(t, n, e).map(function (n) {
              return n.cell();
            });
          });
        });
      });
    };
  }

  function jd(t, e, o) {
    return o.focusManager.get(t).bind(function (n) {
      return o.execute(t, e, n);
    });
  }

  function Ud(t, e) {
    ku(t.element(), e.selector).each(function (n) {
      e.focusManager.set(t, n);
    });
  }

  function Wd(n, t, e) {
    return Bd(n, e.selector, t, -1);
  }

  function Gd(n, t, e) {
    return Bd(n, e.selector, t, 1);
  }

  function Xd(n, t, e, o) {
    var r = n.getSystem().build(o);
    Ff(n, r, e);
  }

  function Yd(n, t, e, o) {
    var r = dg(n);
    E(r, function (n) {
      return jt(o.element(), n.element());
    }).each(bs);
  }

  function qd(t, n, e, o, r) {
    var i = dg(t);
    return on.from(i[o]).map(function (n) {
      return Yd(t, 0, 0, n), r.each(function (n) {
        Xd(t, 0, function (n, t) {
          !function (n, t, e) {
            Do(n, e).fold(function () {
              Hi(n, t);
            }, function (n) {
              Ao(n, t);
            });
          }(n, t, o);
        }, n);
      }), n;
    });
  }

  function Kd(n, t) {
    return {
      key: n,
      value: {
        config: {},
        me: function (n, t) {
          var e = co(t);
          return ya({
            fields: [ct("enabled")],
            name: n,
            active: {
              events: nn(e)
            }
          });
        }(n, t),
        configAsRaw: nn({}),
        initialConfig: {},
        state: Zi
      }
    };
  }

  function Jd(n, t) {
    t.ignore || (wa(n.element()), t.onFocus(n));
  }

  function $d(n, t, e) {
    var o = t.aria;
    o.update(n, o, e.get());
  }

  function Qd(t, n, e) {
    n.toggleClass.each(function (n) {
      e.get() ? fr(t.element(), n) : dr(t.element(), n);
    });
  }

  function Zd(n, t, e) {
    bg(n, t, e, !e.get());
  }

  function nm(n, t, e) {
    e.set(!0), Qd(n, t, e), $d(n, t, e);
  }

  function tm(n, t, e) {
    e.set(!1), Qd(n, t, e), $d(n, t, e);
  }

  function em(n, t, e) {
    bg(n, t, e, t.selected);
  }

  function om() {
    function n(n, t) {
      t.stop(), io(n);
    }

    return [lo(ri(), n), lo(gi(), n), vo(Ur()), vo(Yr())];
  }

  function rm(n) {
    return co(H([n.map(function (e) {
      return Ni(function (n, t) {
        e(n), t.stop();
      });
    }).toArray(), om()]));
  }

  function im(n) {
    (Ca(n.element()).isNone() || vg.isFocused(n)) && (vg.isFocused(n) || vg.focus(n), ro(n, kg, {
      item: n
    }));
  }

  function um(n) {
    ro(n, Og, {
      item: n
    });
  }

  function am(n, t) {
    var e = {};
    Cn(n, function (n, t) {
      bn(n, function (n) {
        e[n] = t;
      });
    });

    var o = t,
        r = function (n) {
      return kn(n, function (n, t) {
        return {
          k: n,
          v: t
        };
      });
    }(t),
        i = P(r, function (n, t) {
      return [t].concat(Ng(e, o, r, t));
    });

    return P(e, function (n) {
      return Nn(i, n).getOr([n]);
    });
  }

  function cm(n) {
    return n.x();
  }

  function sm(n, t) {
    return n.x() + n.width() / 2 - t.width() / 2;
  }

  function fm(n, t) {
    return n.x() + n.width() - t.width();
  }

  function lm(n) {
    return n.y();
  }

  function dm(n, t) {
    return n.y() + n.height() - t.height();
  }

  function mm(n, t, e) {
    return Ya(cm(n), dm(n, t), e.innerSoutheast(), Ka(), "layout-se");
  }

  function gm(n, t, e) {
    return Ya(fm(n, t), dm(n, t), e.innerSouthwest(), Ja(), "layout-sw");
  }

  function pm(n, t, e) {
    return Ya(cm(n), lm(n), e.innerNortheast(), $a(), "layout-ne");
  }

  function hm(n, t, e) {
    return Ya(fm(n, t), lm(n), e.innerNorthwest(), Qa(), "layout-nw");
  }

  function vm(n) {
    var t = function e(n) {
      return n.uid !== undefined;
    }(n) && $(n, "uid") ? n.uid : Yo("memento");
    return {
      get: function get(n) {
        return n.getSystem().getByUid(t).getOrDie();
      },
      getOpt: function getOpt(n) {
        return n.getSystem().getByUid(t).toOption();
      },
      asSpec: function asSpec() {
        return _N(_N({}, n), {
          uid: t
        });
      }
    };
  }

  function bm(n) {
    return on.from(n()["temporary-placeholder"]).getOr("!not found!");
  }

  function ym(n, t) {
    return on.from(t()[n]).getOrThunk(function () {
      return bm(t);
    });
  }

  var xm,
      wm = fd(At("cyclic", nn(!1))),
      Sm = fd(At("cyclic", nn(!0))),
      Cm = [St("execute", ld), St("useSpace", !1), St("useEnter", !0), St("useControlEnter", !1), St("useDown", !1)],
      km = sd(Cm, Zi.init, function (n, t, e, o) {
    var r = e.useSpace && !_l(n.element()) ? [32] : [],
        i = e.useEnter ? [13] : [],
        u = e.useDown ? [40] : [],
        a = r.concat(i).concat(u);
    return [Ul(Pl(a), md)].concat(e.useControlEnter ? [Ul(zl([jl, Pl([13])]), md)] : []);
  }, function (n, t, e, o) {
    return e.useSpace && !_l(n.element()) ? [Ul(Pl([32]), dd)] : [];
  }, function () {
    return on.none();
  }),
      Om =
  /* */
  Object.freeze({
    flatgrid: gd,
    init: function init(n) {
      return n.state(n);
    }
  }),
      Em = function Em(t, e, n, o, r) {
    return o.focusManager.get(e).bind(function (n) {
      return t(e.element(), n, o, r);
    }).map(function (n) {
      return o.focusManager.set(e, n), !0;
    });
  },
      Tm = bd,
      Bm = bd,
      Dm = bd,
      Am = So(["index", "candidates"], []),
      _m = [ct("selector"), St("execute", ld), Ku("onEscape"), St("captureTab", !1), Xa()],
      Mm = Ed(function (n, t, e, o) {
    return Cd(n, t, e, o, -1);
  }),
      Fm = Ed(function (n, t, e, o) {
    return Cd(n, t, e, o, 1);
  }),
      Im = Ed(function (n, t, e, o) {
    return kd(n, t, e, o, -1);
  }),
      Rm = Ed(function (n, t, e, o) {
    return kd(n, t, e, o, 1);
  }),
      Vm = nn([Ul(Pl([37]), hd(Mm, Fm)), Ul(Pl([39]), vd(Mm, Fm)), Ul(Pl([38]), Tm(Im)), Ul(Pl([40]), Bm(Rm)), Ul(zl([Ll, Pl([9])]), Td), Ul(zl([cd, Pl([9])]), Td), Ul(Pl([27]), function (n, t, e, o) {
    return e.onEscape(n, t);
  }), Ul(Pl([32].concat([13])), function (t, e, o, n) {
    return function (n, t) {
      return t.focusManager.get(n).bind(function (n) {
        return Ou(n, t.selector);
      });
    }(t, o).bind(function (n) {
      return o.execute(t, e, n);
    });
  })]),
      Nm = nn([Ul(Pl([32]), dd)]),
      Hm = sd(_m, gd, Vm, Nm, function () {
    return on.some(Od);
  }),
      Pm = [ct("selector"), St("getInitial", on.none), St("execute", ld), Ku("onEscape"), St("executeOnMove", !1), St("allowVertical", !0)],
      zm = nn([Ul(Pl([32]), dd)]),
      Lm = sd(Pm, Zi.init, function (n, t, e, o) {
    var r = [37].concat(e.allowVertical ? [38] : []),
        i = [39].concat(e.allowVertical ? [40] : []);
    return [Ul(Pl(r), Fd(hd(_d, Md))), Ul(Pl(i), Fd(vd(_d, Md))), Ul(Pl([13]), Dd), Ul(Pl([32]), Dd), Ul(Pl([27]), Id)];
  }, zm, function () {
    return on.some(Ad);
  }),
      jm = So(["rowIndex", "columnIndex", "cell"], []),
      Um = [mt("selectors", [ct("row"), ct("cell")]), St("cycles", !0), St("previousSelector", on.none), St("execute", ld)],
      Wm = Ld(function (n, t, e) {
    return Vd(n, t, e, -1);
  }, function (n, t, e) {
    return Hd(n, t, e, -1);
  }),
      Gm = Ld(function (n, t, e) {
    return Vd(n, t, e, 1);
  }, function (n, t, e) {
    return Hd(n, t, e, 1);
  }),
      Xm = Ld(function (n, t, e) {
    return Nd(n, e, t, -1);
  }, function (n, t, e) {
    return Pd(n, e, t, -1);
  }),
      Ym = Ld(function (n, t, e) {
    return Nd(n, e, t, 1);
  }, function (n, t, e) {
    return Pd(n, e, t, 1);
  }),
      qm = nn([Ul(Pl([37]), hd(Wm, Gm)), Ul(Pl([39]), vd(Wm, Gm)), Ul(Pl([38]), Tm(Xm)), Ul(Pl([40]), Bm(Ym)), Ul(Pl([32].concat([13])), function (t, e, o) {
    return Ca(t.element()).bind(function (n) {
      return o.execute(t, e, n);
    });
  })]),
      Km = nn([Ul(Pl([32]), dd)]),
      Jm = sd(Um, Zi.init, qm, Km, function () {
    return on.some(zd);
  }),
      $m = [ct("selector"), St("execute", ld), St("moveOnTab", !1)],
      Qm = nn([Ul(Pl([38]), Dm(Wd)), Ul(Pl([40]), Dm(Gd)), Ul(zl([Ll, Pl([9])]), function (n, t, e) {
    return e.moveOnTab ? Dm(Wd)(n, t, e) : on.none();
  }), Ul(zl([cd, Pl([9])]), function (n, t, e) {
    return e.moveOnTab ? Dm(Gd)(n, t, e) : on.none();
  }), Ul(Pl([13]), jd), Ul(Pl([32]), jd)]),
      Zm = nn([Ul(Pl([32]), dd)]),
      ng = sd($m, Zi.init, Qm, Zm, function () {
    return on.some(Ud);
  }),
      tg = [Ku("onSpace"), Ku("onEnter"), Ku("onShiftEnter"), Ku("onLeft"), Ku("onRight"), Ku("onTab"), Ku("onShiftTab"), Ku("onUp"), Ku("onDown"), Ku("onEscape"), St("stopSpaceKeyup", !1), ht("focusIn")],
      eg = sd(tg, Zi.init, function (n, t, e) {
    return [Ul(Pl([32]), e.onSpace), Ul(zl([cd, Pl([13])]), e.onEnter), Ul(zl([Ll, Pl([13])]), e.onShiftEnter), Ul(zl([Ll, Pl([9])]), e.onShiftTab), Ul(zl([cd, Pl([9])]), e.onTab), Ul(Pl([38]), e.onUp), Ul(Pl([40]), e.onDown), Ul(Pl([37]), e.onLeft), Ul(Pl([39]), e.onRight), Ul(Pl([32]), e.onSpace), Ul(Pl([27]), e.onEscape)];
  }, function (n, t, e) {
    return e.stopSpaceKeyup ? [Ul(Pl([32]), dd)] : [];
  }, function (n) {
    return n.focusIn;
  }),
      og = wm.schema(),
      rg = Sm.schema(),
      ig = Lm.schema(),
      ug = Hm.schema(),
      ag = Jm.schema(),
      cg = km.schema(),
      sg = ng.schema(),
      fg = eg.schema(),
      lg = xa({
    branchKey: "mode",
    branches:
    /* */
    Object.freeze({
      acyclic: og,
      cyclic: rg,
      flow: ig,
      flatgrid: ug,
      matrix: ag,
      execution: cg,
      menu: sg,
      special: fg
    }),
    name: "keying",
    active: {
      events: function events(n, t) {
        return n.handler.toEvents(n, t);
      }
    },
    apis: {
      focusIn: function focusIn(t, e, o) {
        e.sendFocusIn(e).fold(function () {
          t.getSystem().triggerFocus(t.element(), t.element());
        }, function (n) {
          n(t, e, o);
        });
      },
      setGridSize: function setGridSize(n, t, e, o, r) {
        $(e, "setGridSize") ? e.setGridSize(o, r) : v.console.error("Layout does not support setGridSize");
      }
    },
    state: Om
  }),
      dg = function dg(n, t) {
    return n.components();
  },
      mg = ya({
    fields: [],
    name: "replacing",
    apis:
    /* */
    Object.freeze({
      append: function append(n, t, e, o) {
        Xd(n, 0, Hi, o);
      },
      prepend: function prepend(n, t, e, o) {
        Xd(n, 0, Mo, o);
      },
      remove: Yd,
      replaceAt: qd,
      replaceBy: function replaceBy(t, n, e, o, r) {
        var i = dg(t);
        return T(i, o).bind(function (n) {
          return qd(t, 0, 0, n, r);
        });
      },
      set: function set(t, n, e, o) {
        ka(function () {
          var n = S(o, t.getSystem().build);
          ps(t, n);
        }, t.element());
      },
      contents: dg
    })
  }),
      gg =
  /* */
  Object.freeze({
    focus: Jd,
    blur: function blur(n, t) {
      t.ignore || function (n) {
        n.dom().blur();
      }(n.element());
    },
    isFocused: function isFocused(n) {
      return function (n) {
        var t = Co(n).dom();
        return n.dom() === t.activeElement;
      }(n.element());
    }
  }),
      pg =
  /* */
  Object.freeze({
    exhibit: function exhibit(n, t) {
      var e = t.ignore ? {} : {
        attributes: {
          tabindex: "-1"
        }
      };
      return Zo(e);
    },
    events: function events(e) {
      return co([lo(ci(), function (n, t) {
        Jd(n, e), t.stop();
      })].concat(e.stopMousedown ? [lo(Yr(), function (n, t) {
        t.event().prevent();
      })] : []));
    }
  }),
      hg = [qu("onFocus"), St("stopMousedown", !1), St("ignore", !1)],
      vg = ya({
    fields: hg,
    name: "focusing",
    active: pg,
    apis: gg
  }),
      bg = function bg(n, t, e, o) {
    (o ? nm : tm)(n, t, e);
  },
      yg =
  /* */
  Object.freeze({
    onLoad: em,
    toggle: Zd,
    isOn: function isOn(n, t, e) {
      return e.get();
    },
    on: nm,
    off: tm,
    set: bg
  }),
      xg =
  /* */
  Object.freeze({
    exhibit: function exhibit(n, t, e) {
      return Zo({});
    },
    events: function events(n, t) {
      var e = function (t, e, o) {
        return Ni(function (n) {
          o(n, t, e);
        });
      }(n, t, Zd),
          o = ga(n, t, em);

      return co(H([n.toggleOnExecute ? [e] : [], [o]]));
    }
  }),
      wg = function wg(n, t, e) {
    Po(n.element(), "aria-expanded", e);
  },
      Sg = [St("selected", !1), ht("toggleClass"), St("toggleOnExecute", !0), Ct("aria", {
    mode: "none"
  }, it("mode", {
    pressed: [St("syncWithExpanded", !1), Qu("update", function (n, t, e) {
      Po(n.element(), "aria-pressed", e), t.syncWithExpanded && wg(n, t, e);
    })],
    checked: [Qu("update", function (n, t, e) {
      Po(n.element(), "aria-checked", e);
    })],
    expanded: [Qu("update", wg)],
    selected: [Qu("update", function (n, t, e) {
      Po(n.element(), "aria-selected", e);
    })],
    none: [Qu("update", Z)]
  }))],
      Cg = ya({
    fields: Sg,
    name: "toggling",
    active: xg,
    apis: yg,
    state: (xm = !1, {
      init: function init() {
        var t = ye(xm);
        return {
          get: function get() {
            return t.get();
          },
          set: function set(n) {
            return t.set(n);
          },
          clear: function clear() {
            return t.set(xm);
          },
          readState: function readState() {
            return t.get();
          }
        };
      }
    })
  }),
      kg = "alloy.item-hover",
      Og = "alloy.item-focus",
      Eg = nn(kg),
      Tg = nn(Og),
      Bg = [ct("data"), ct("components"), ct("dom"), St("hasSubmenu", !1), ht("toggling"), nl("itemBehaviours", [Cg, vg, lg, Zf]), St("ignoreFocus", !1), St("domModification", {}), Qu("builder", function (n) {
    return {
      dom: n.dom,
      domModification: _N(_N({}, n.domModification), {
        attributes: _N(_N(_N({
          role: n.toggling.isSome() ? "menuitemcheckbox" : "menuitem"
        }, n.domModification.attributes), {
          "aria-haspopup": n.hasSubmenu
        }), n.hasSubmenu ? {
          "aria-expanded": !1
        } : {})
      }),
      behaviours: tl(n.itemBehaviours, [n.toggling.fold(Cg.revoke, function (n) {
        return Cg.config(_N({
          aria: {
            mode: "checked"
          }
        }, n));
      }), vg.config({
        ignore: n.ignoreFocus,
        stopMousedown: n.ignoreFocus,
        onFocus: function onFocus(n) {
          um(n);
        }
      }), lg.config({
        mode: "execution"
      }), Zf.config({
        store: {
          mode: "memory",
          initialValue: n.data
        }
      }), Kd("item-type-events", g(om(), [lo($r(), im), lo(mi(), vg.focus)]))]),
      components: n.components,
      eventOrder: n.eventOrder
    };
  }), St("eventOrder", {})],
      Dg = [ct("dom"), ct("components"), Qu("builder", function (n) {
    return {
      dom: n.dom,
      components: n.components,
      events: co([function (n) {
        return lo(n, function (n, t) {
          t.stop();
        });
      }(mi())])
    };
  })],
      Ag = nn([xl({
    name: "widget",
    overrides: function overrides(t) {
      return {
        behaviours: ba([Zf.config({
          store: {
            mode: "manual",
            getValue: function getValue(n) {
              return t.data;
            },
            setValue: function setValue() {}
          }
        })])
      };
    }
  })]),
      _g = [ct("uid"), ct("data"), ct("components"), ct("dom"), St("autofocus", !1), St("ignoreFocus", !1), nl("widgetBehaviours", [Zf, vg, lg]), St("domModification", {}), tf(Ag()), Qu("builder", function (e) {
    function o(n) {
      return qs(n, e, "widget").map(function (n) {
        return lg.focusIn(n), n;
      });
    }

    function n(n, t) {
      return _l(t.event().target()) || e.autofocus && t.setSource(n.element()), on.none();
    }

    var t = Xs(0, e, Ag()),
        r = Ys("item-widget", e, t.internals());
    return {
      dom: e.dom,
      components: r,
      domModification: e.domModification,
      events: co([Ni(function (n, t) {
        o(n).each(function (n) {
          t.stop();
        });
      }), lo($r(), im), lo(mi(), function (n, t) {
        e.autofocus ? o(n) : vg.focus(n);
      })]),
      behaviours: tl(e.widgetBehaviours, [Zf.config({
        store: {
          mode: "memory",
          initialValue: e.data
        }
      }), vg.config({
        ignore: e.ignoreFocus,
        onFocus: function onFocus(n) {
          um(n);
        }
      }), lg.config({
        mode: "special",
        focusIn: e.autofocus ? function (n) {
          o(n);
        } : cc(),
        onLeft: n,
        onRight: n,
        onEscape: function onEscape(n, t) {
          return vg.isFocused(n) || e.autofocus ? (e.autofocus && t.setSource(n.element()), on.none()) : (vg.focus(n), on.some(!0));
        }
      })])
    };
  })],
      Mg = it("type", {
    widget: _g,
    item: Bg,
    separator: Dg
  }),
      Fg = nn([Cl({
    factory: {
      sketch: function sketch(n) {
        var t = ot("menu.spec item", Mg, n);
        return t.builder(t);
      }
    },
    name: "items",
    unit: "item",
    defaults: function defaults(n, t) {
      return t.hasOwnProperty("uid") ? t : _N(_N({}, t), {
        uid: Yo("item")
      });
    },
    overrides: function overrides(n, t) {
      return {
        type: t.type,
        ignoreFocus: n.fakeFocus,
        domModification: {
          classes: [n.markers.item]
        }
      };
    }
  })]),
      Ig = nn([ct("value"), ct("items"), ct("dom"), ct("components"), St("eventOrder", {}), Fs("menuBehaviours", [ad, Zf, Zl, lg]), Ct("movement", {
    mode: "menu",
    moveOnTab: !0
  }, it("mode", {
    grid: [Xa(), Qu("config", function (n, t) {
      return {
        mode: "flatgrid",
        selector: "." + n.markers.item,
        initSize: {
          numColumns: t.initSize.numColumns,
          numRows: t.initSize.numRows
        },
        focusManager: n.focusManager
      };
    })],
    matrix: [Qu("config", function (n, t) {
      return {
        mode: "matrix",
        selectors: {
          row: t.rowSelector,
          cell: "." + n.markers.item
        },
        focusManager: n.focusManager
      };
    }), ct("rowSelector")],
    menu: [St("moveOnTab", !0), Qu("config", function (n, t) {
      return {
        mode: "menu",
        selector: "." + n.markers.item,
        moveOnTab: t.moveOnTab,
        focusManager: n.focusManager
      };
    })]
  })), st("markers", Wa()), St("fakeFocus", !1), St("focusManager", Gl()), qu("onHighlight")]),
      Rg = nn("alloy.menu-focus"),
      Vg = Al({
    name: "Menu",
    configFields: Ig(),
    partFields: Fg(),
    factory: function factory(n, t, e, o) {
      return {
        uid: n.uid,
        dom: n.dom,
        markers: n.markers,
        behaviours: Rs(n.menuBehaviours, [ad.config({
          highlightClass: n.markers.selectedItem,
          itemClass: n.markers.item,
          onHighlight: n.onHighlight
        }), Zf.config({
          store: {
            mode: "memory",
            initialValue: n.value
          }
        }), Zl.config({
          find: on.some
        }), lg.config(n.movement.config(n, n.movement))]),
        events: co([lo(Tg(), function (t, e) {
          var n = e.event();
          t.getSystem().getByDom(n.target()).each(function (n) {
            ad.highlight(t, n), e.stop(), ro(t, Rg(), {
              menu: t,
              item: n
            });
          });
        }), lo(Eg(), function (n, t) {
          var e = t.event().item();
          ad.highlight(n, e);
        })]),
        components: t,
        eventOrder: n.eventOrder,
        domModification: {
          attributes: {
            role: "menu"
          }
        }
      };
    }
  }),
      Ng = function Ng(e, o, r, n) {
    return Nn(r, n).bind(function (n) {
      return Nn(e, n).bind(function (n) {
        var t = Ng(e, o, r, n);
        return on.some([n].concat(t));
      });
    }).getOr([]);
  },
      Hg = function Hg(n) {
    return "prepared" === n.type ? on.some(n.menu) : on.none();
  },
      Pg = {
    init: function init() {
      function r(n, e, o) {
        return f(n).bind(function (t) {
          return function (e) {
            return I(i.get(), function (n, t) {
              return n === e;
            });
          }(n).bind(function (n) {
            return e(n).map(function (n) {
              return {
                triggeredMenu: t,
                triggeringItem: n,
                triggeringPath: o
              };
            });
          });
        });
      }

      var i = ye({}),
          u = ye({}),
          a = ye({}),
          c = ye(on.none()),
          s = ye({}),
          f = function f(n) {
        return t(n).bind(Hg);
      },
          t = function t(n) {
        return Nn(u.get(), n);
      },
          e = function e(n) {
        return Nn(i.get(), n);
      };

      return {
        setMenuBuilt: function setMenuBuilt(n, t) {
          var e;
          u.set(_N(_N({}, u.get()), ((e = {})[n] = {
            type: "prepared",
            menu: t
          }, e)));
        },
        setContents: function setContents(n, t, e, o) {
          c.set(on.some(n)), i.set(e), u.set(t), s.set(o);
          var r = am(o, e);
          a.set(r);
        },
        expand: function expand(e) {
          return Nn(i.get(), e).map(function (n) {
            var t = Nn(a.get(), e).getOr([]);
            return [n].concat(t);
          });
        },
        refresh: function refresh(n) {
          return Nn(a.get(), n);
        },
        collapse: function collapse(n) {
          return Nn(a.get(), n).bind(function (n) {
            return 1 < n.length ? on.some(n.slice(1)) : on.none();
          });
        },
        lookupMenu: t,
        lookupItem: e,
        otherMenus: function otherMenus(n) {
          var t = s.get();
          return _(wn(t), n);
        },
        getPrimary: function getPrimary() {
          return c.get().bind(f);
        },
        getMenus: function getMenus() {
          return u.get();
        },
        clear: function clear() {
          i.set({}), u.set({}), a.set({}), c.set(on.none());
        },
        isClear: function isClear() {
          return c.get().isNone();
        },
        getTriggeringPath: function getTriggeringPath(n, o) {
          var t = C(e(n).toArray(), function (n) {
            return f(n).isSome();
          });
          return Nn(a.get(), n).bind(function (n) {
            var e = A(t.concat(n));
            return function (n) {
              for (var t = [], e = 0; e < n.length; e++) {
                var o = n[e];
                if (!o.isSome()) return on.none();
                t.push(o.getOrDie());
              }

              return on.some(t);
            }(B(e, function (n, t) {
              return r(n, o, e.slice(0, t + 1)).fold(function () {
                return c.get().is(n) ? [] : [on.none()];
              }, function (n) {
                return [on.some(n)];
              });
            }));
          });
        }
      };
    },
    extractPreparedMenu: Hg
  },
      zg = nn("collapse-item"),
      Lg = Dl({
    name: "TieredMenu",
    configFields: [$u("onExecute"), $u("onEscape"), Ju("onOpenMenu"), Ju("onOpenSubmenu"), Ju("onRepositionMenu"), qu("onCollapseMenu"), St("highlightImmediately", !0), mt("data", [ct("primary"), ct("menus"), ct("expansions")]), St("fakeFocus", !1), qu("onHighlight"), qu("onHover"), Gu(), ct("dom"), St("navigateOnHover", !0), St("stayInDom", !1), Fs("tmenuBehaviours", [lg, ad, Zl, mg]), St("eventOrder", {})],
    apis: {
      collapseMenu: function collapseMenu(n, t) {
        n.collapseMenu(t);
      },
      highlightPrimary: function highlightPrimary(n, t) {
        n.highlightPrimary(t);
      },
      repositionMenus: function repositionMenus(n, t) {
        n.repositionMenus(t);
      }
    },
    factory: function factory(a, n) {
      function e(n) {
        var t = function (o, r, n) {
          return P(n, function (n, t) {
            function e() {
              return Vg.sketch(_N(_N({
                dom: n.dom
              }, n), {
                value: t,
                items: n.items,
                markers: a.markers,
                fakeFocus: a.fakeFocus,
                onHighlight: a.onHighlight,
                focusManager: a.fakeFocus ? Xl() : Gl()
              }));
            }

            return t === r ? {
              type: "prepared",
              menu: o.getSystem().build(e())
            } : {
              type: "notbuilt",
              nbMenu: e
            };
          });
        }(n, a.data.primary, a.data.menus),
            e = o();

        return g.setContents(a.data.primary, t, a.data.expansions, e), g.getPrimary();
      }

      function c(n) {
        return Zf.getValue(n).value;
      }

      function u(t, n) {
        ad.highlight(t, n), ad.getHighlighted(n).orThunk(function () {
          return ad.getFirst(n);
        }).each(function (n) {
          uo(t, n.element(), mi());
        });
      }

      function s(t, n) {
        return Bu(S(n, function (n) {
          return t.lookupMenu(n).bind(function (n) {
            return "prepared" === n.type ? on.some(n.menu) : on.none();
          });
        }));
      }

      function f(t, n, e) {
        var o = s(n, n.otherMenus(e));
        bn(o, function (n) {
          pr(n.element(), [a.markers.backgroundMenu]), a.stayInDom || mg.remove(t, n);
        });
      }

      function l(n, o) {
        var t = function (o) {
          return r.get().getOrThunk(function () {
            var e = {},
                n = zc(o.element(), "." + a.markers.item),
                t = C(n, function (n) {
              return "true" === zo(n, "aria-haspopup");
            });
            return bn(t, function (n) {
              o.getSystem().getByDom(n).each(function (n) {
                var t = c(n);
                e[t] = n;
              });
            }), r.set(on.some(e)), e;
          });
        }(n);

        Cn(t, function (n, t) {
          var e = vn(o, t);
          Po(n.element(), "aria-expanded", e);
        });
      }

      function d(o, r, i) {
        return on.from(i[0]).bind(function (n) {
          return r.lookupMenu(n).bind(function (n) {
            if ("notbuilt" === n.type) return on.none();
            var t = n.menu,
                e = s(r, i.slice(1));
            return bn(e, function (n) {
              fr(n.element(), a.markers.backgroundMenu);
            }), $e(t.element()) || mg.append(o, au(t)), pr(t.element(), [a.markers.backgroundMenu]), u(o, t), f(o, r, i), on.some(t);
          });
        });
      }

      var m,
          t,
          r = ye(on.none()),
          g = Pg.init(),
          o = function o(n) {
        return P(a.data.menus, function (n, t) {
          return B(n.items, function (n) {
            return "separator" === n.type ? [] : [n.data.value];
          });
        });
      };

      (t = m = m || {})[t.HighlightSubmenu = 0] = "HighlightSubmenu", t[t.HighlightParent = 1] = "HighlightParent";

      function i(r, i, u) {
        void 0 === u && (u = m.HighlightSubmenu);
        var n = c(i);
        return g.expand(n).bind(function (o) {
          return l(r, o), on.from(o[0]).bind(function (e) {
            return g.lookupMenu(e).bind(function (n) {
              var t = function (n, t, e) {
                if ("notbuilt" !== e.type) return e.menu;
                var o = n.getSystem().build(e.nbMenu());
                return g.setMenuBuilt(t, o), o;
              }(r, e, n);

              return $e(t.element()) || mg.append(r, au(t)), a.onOpenSubmenu(r, i, t, A(o)), u === m.HighlightSubmenu ? (ad.highlightFirst(t), d(r, g, o)) : (ad.dehighlightAll(t), on.some(i));
            });
          });
        });
      }

      function p(t, e) {
        var n = c(e);
        return g.collapse(n).bind(function (n) {
          return l(t, n), d(t, g, n).map(function (n) {
            return a.onCollapseMenu(t, e, n), n;
          });
        });
      }

      function h(e) {
        return function (t, n) {
          return Ou(n.getSource(), "." + a.markers.item).bind(function (n) {
            return t.getSystem().getByDom(n).toOption().bind(function (n) {
              return e(t, n).map(function () {
                return !0;
              });
            });
          });
        };
      }

      function v(n) {
        return ad.getHighlighted(n).bind(ad.getHighlighted);
      }

      var b = co([lo(Rg(), function (e, o) {
        var n = o.event().item();
        g.lookupItem(c(n)).each(function () {
          var n = o.event().menu();
          ad.highlight(e, n);
          var t = c(o.event().item());
          g.refresh(t).each(function (n) {
            return f(e, g, n);
          });
        });
      }), Ni(function (t, n) {
        var e = n.event().target();
        t.getSystem().getByDom(e).each(function (n) {
          0 === c(n).indexOf("collapse-item") && p(t, n), i(t, n, m.HighlightSubmenu).fold(function () {
            a.onExecute(t, n);
          }, function () {});
        });
      }), Ii(function (t, n) {
        e(t).each(function (n) {
          mg.append(t, au(n)), a.onOpenMenu(t, n), a.highlightImmediately && u(t, n);
        });
      })].concat(a.navigateOnHover ? [lo(Eg(), function (n, t) {
        var e = t.event().item();
        !function (t, n) {
          var e = c(n);
          g.refresh(e).bind(function (n) {
            return l(t, n), d(t, g, n);
          });
        }(n, e), i(n, e, m.HighlightParent), a.onHover(n, e);
      })] : [])),
          y = {
        collapseMenu: function collapseMenu(t) {
          v(t).each(function (n) {
            p(t, n);
          });
        },
        highlightPrimary: function highlightPrimary(t) {
          g.getPrimary().each(function (n) {
            u(t, n);
          });
        },
        repositionMenus: function repositionMenus(o) {
          g.getPrimary().bind(function (t) {
            return v(o).bind(function (n) {
              var t = c(n),
                  e = R(g.getMenus()),
                  o = Bu(S(e, Pg.extractPreparedMenu));
              return g.getTriggeringPath(t, function (n) {
                return function (n, t, e) {
                  return Du(t, function (n) {
                    if (!n.getSystem().isConnected()) return on.none();
                    var t = ad.getCandidates(n);
                    return E(t, function (n) {
                      return c(n) === e;
                    });
                  });
                }(0, o, n);
              });
            }).map(function (n) {
              return {
                primary: t,
                triggeringPath: n
              };
            });
          }).fold(function () {
            (function (n) {
              return on.from(n.components()[0]).filter(function (n) {
                return "menu" === zo(n.element(), "role");
              });
            })(o).each(function (n) {
              a.onRepositionMenu(o, n, []);
            });
          }, function (n) {
            var t = n.primary,
                e = n.triggeringPath;
            a.onRepositionMenu(o, t, e);
          });
        }
      };
      return {
        uid: a.uid,
        dom: a.dom,
        markers: a.markers,
        behaviours: Rs(a.tmenuBehaviours, [lg.config({
          mode: "special",
          onRight: h(function (n, t) {
            return _l(t.element()) ? on.none() : i(n, t, m.HighlightSubmenu);
          }),
          onLeft: h(function (n, t) {
            return _l(t.element()) ? on.none() : p(n, t);
          }),
          onEscape: h(function (n, t) {
            return p(n, t).orThunk(function () {
              return a.onEscape(n, t).map(function () {
                return n;
              });
            });
          }),
          focusIn: function focusIn(t, n) {
            g.getPrimary().each(function (n) {
              uo(t, n.element(), mi());
            });
          }
        }), ad.config({
          highlightClass: a.markers.selectedMenu,
          itemClass: a.markers.menu
        }), Zl.config({
          find: function find(n) {
            return ad.getHighlighted(n);
          }
        }), mg.config({})]),
        eventOrder: a.eventOrder,
        apis: y,
        events: b
      };
    },
    extraApis: {
      tieredData: function tieredData(n, t, e) {
        return {
          primary: n,
          menus: t,
          expansions: e
        };
      },
      singleData: function singleData(n, t) {
        return {
          primary: n,
          menus: q(n, t),
          expansions: {}
        };
      },
      collapseItem: function collapseItem(n) {
        return {
          value: Xo(zg()),
          meta: {
            text: n
          }
        };
      }
    }
  }),
      jg = Dl({
    name: "InlineView",
    configFields: [ct("lazySink"), qu("onShow"), qu("onHide"), xt("onEscape"), Fs("inlineBehaviours", [zf, Zf, lc]), wt("fireDismissalEventInstead", [St("event", Oi())]), wt("fireRepositionEventInstead", [St("event", Ei())]), St("getRelated", on.none), St("eventOrder", on.none)],
    factory: function factory(i, n) {
      function t(e) {
        zf.isOpen(e) && Zf.getValue(e).each(function (n) {
          switch (n.mode) {
            case "menu":
              zf.getState(e).each(function (n) {
                Lg.repositionMenus(n);
              });
              break;

            case "position":
              var t = i.lazySink(e).getOrDie();
              Af.positionWithinBounds(t, n.anchor, e, n.getBounds());
          }
        });
      }

      var o = function o(n, t, e, _o2) {
        r(n, t, e, function () {
          return _o2.map(function (n) {
            return xu(n);
          });
        });
      },
          r = function r(n, t, e, o) {
        var r = i.lazySink(n).getOrDie();
        zf.openWhileCloaked(n, e, function () {
          return Af.positionWithinBounds(r, t, n, o());
        }), Zf.setValue(n, on.some({
          mode: "position",
          anchor: t,
          getBounds: o
        }));
      },
          u = function u(n, t, e, o) {
        var r = function (n, t, r, e, i) {
          function u() {
            return n.lazySink(t);
          }

          function a(n) {
            return function (n) {
              return 2 === n.length;
            }(n) ? o : {};
          }

          var o = "horizontal" === e.type ? {
            layouts: {
              onLtr: function onLtr() {
                return da();
              },
              onRtl: function onRtl() {
                return ma();
              }
            }
          } : {};
          return Lg.sketch({
            dom: {
              tag: "div"
            },
            data: e.data,
            markers: e.menu.markers,
            onEscape: function onEscape() {
              return zf.close(t), n.onEscape.map(function (n) {
                return n(t);
              }), on.some(!0);
            },
            onExecute: function onExecute() {
              return on.some(!0);
            },
            onOpenMenu: function onOpenMenu(n, t) {
              Af.positionWithinBounds(u().getOrDie(), r, t, i());
            },
            onOpenSubmenu: function onOpenSubmenu(n, t, e, o) {
              var r = u().getOrDie();
              Af.position(r, _N({
                anchor: "submenu",
                item: t
              }, a(o)), e);
            },
            onRepositionMenu: function onRepositionMenu(n, t, e) {
              var o = u().getOrDie();
              Af.positionWithinBounds(o, r, t, i()), bn(e, function (n) {
                var t = a(n.triggeringPath);
                Af.position(o, _N({
                  anchor: "submenu",
                  item: n.triggeringItem
                }, t), n.triggeredMenu);
              });
            }
          });
        }(i, n, t, e, o);

        zf.open(n, r), Zf.setValue(n, on.some({
          mode: "menu",
          menu: r
        }));
      },
          e = {
        setContent: function setContent(n, t) {
          zf.setContent(n, t);
        },
        showAt: function showAt(n, t, e) {
          o(n, t, e, on.none());
        },
        showWithin: o,
        showWithinBounds: r,
        showMenuAt: function showMenuAt(n, t, e) {
          u(n, t, e, function () {
            return on.none();
          });
        },
        showMenuWithinBounds: u,
        hide: function hide(n) {
          Zf.setValue(n, on.none()), zf.close(n);
        },
        getContent: function getContent(n) {
          return zf.getState(n);
        },
        reposition: t,
        isOpen: zf.isOpen
      };

      return {
        uid: i.uid,
        dom: i.dom,
        behaviours: Rs(i.inlineBehaviours, [zf.config({
          isPartOf: function isPartOf(n, t, e) {
            return Lu(t, e) || function (n, t) {
              return i.getRelated(n).exists(function (n) {
                return Lu(n, t);
              });
            }(n, e);
          },
          getAttachPoint: function getAttachPoint(n) {
            return i.lazySink(n).getOrDie();
          },
          onOpen: function onOpen(n) {
            i.onShow(n);
          },
          onClose: function onClose(n) {
            i.onHide(n);
          }
        }), Zf.config({
          store: {
            mode: "memory",
            initialValue: on.none()
          }
        }), lc.config({
          channels: _N(_N({}, Es(_N({
            isExtraPart: nn(!1)
          }, i.fireDismissalEventInstead.map(function (n) {
            return {
              fireEventInstead: {
                event: n.event
              }
            };
          }).getOr({})))), Ts(_N(_N({
            isExtraPart: nn(!1)
          }, i.fireRepositionEventInstead.map(function (n) {
            return {
              fireEventInstead: {
                event: n.event
              }
            };
          }).getOr({})), {
            doReposition: t
          })))
        })]),
        eventOrder: i.eventOrder,
        apis: e
      };
    },
    apis: {
      showAt: function showAt(n, t, e, o) {
        n.showAt(t, e, o);
      },
      showWithin: function showWithin(n, t, e, o, r) {
        n.showWithin(t, e, o, r);
      },
      showWithinBounds: function showWithinBounds(n, t, e, o, r) {
        n.showWithinBounds(t, e, o, r);
      },
      showMenuAt: function showMenuAt(n, t, e, o) {
        n.showMenuAt(t, e, o);
      },
      showMenuWithinBounds: function showMenuWithinBounds(n, t, e, o, r) {
        n.showMenuWithinBounds(t, e, o, r);
      },
      hide: function hide(n, t) {
        n.hide(t);
      },
      isOpen: function isOpen(n, t) {
        return n.isOpen(t);
      },
      getContent: function getContent(n, t) {
        return n.getContent(t);
      },
      setContent: function setContent(n, t, e) {
        n.setContent(t, e);
      },
      reposition: function reposition(n, t) {
        n.reposition(t);
      }
    }
  }),
      Ug = function Ug(n, t, e) {
    return Ya(sm(n, t), lm(n), e.innerNorth(), nc(), "layout-n");
  },
      Wg = function Wg(n, t, e) {
    return Ya(sm(n, t), dm(n, t), e.innerSouth(), Za(), "layout-s");
  },
      Gg = Dl({
    name: "Button",
    factory: function factory(n) {
      function e(t) {
        return Nn(n.dom, "attributes").bind(function (n) {
          return Nn(n, t);
        });
      }

      var t = rm(n.action),
          o = n.dom.tag;
      return {
        uid: n.uid,
        dom: n.dom,
        components: n.components,
        events: t,
        behaviours: tl(n.buttonBehaviours, [vg.config({}), lg.config({
          mode: "execution",
          useSpace: !0,
          useEnter: !0
        })]),
        domModification: {
          attributes: function () {
            if ("button" !== o) return {
              role: e("role").getOr("button")
            };
            var n = e("type").getOr("button"),
                t = e("role").map(function (n) {
              return {
                role: n
              };
            }).getOr({});
            return _N({
              type: n
            }, t);
          }()
        },
        eventOrder: n.eventOrder
      };
    },
    configFields: [St("uid", undefined), ct("dom"), St("components", []), nl("buttonBehaviours", [vg, lg]), ht("action"), ht("role"), St("eventOrder", {})]
  }),
      Xg = {
    success: "checkmark",
    error: "warning",
    err: "error",
    warning: "warning",
    warn: "warning",
    info: "info"
  },
      Yg = Dl({
    name: "Notification",
    factory: function factory(t) {
      function e(n) {
        return {
          dom: {
            tag: "div",
            classes: ["tox-bar"],
            attributes: {
              style: "width: " + n + "%"
            }
          }
        };
      }

      function o(n) {
        return {
          dom: {
            tag: "div",
            classes: ["tox-text"],
            innerHtml: n + "%"
          }
        };
      }

      var r = vm({
        dom: {
          tag: "p",
          innerHtml: t.translationProvider(t.text)
        },
        behaviours: ba([mg.config({})])
      }),
          i = vm({
        dom: {
          tag: "div",
          classes: t.progress ? ["tox-progress-bar", "tox-progress-indicator"] : ["tox-progress-bar"]
        },
        components: [{
          dom: {
            tag: "div",
            classes: ["tox-bar-container"]
          },
          components: [e(0)]
        }, o(0)],
        behaviours: ba([mg.config({})])
      }),
          n = {
        updateProgress: function updateProgress(n, t) {
          n.getSystem().isConnected() && i.getOpt(n).each(function (n) {
            mg.set(n, [{
              dom: {
                tag: "div",
                classes: ["tox-bar-container"]
              },
              components: [e(t)]
            }, o(t)]);
          });
        },
        updateText: function updateText(n, t) {
          if (n.getSystem().isConnected()) {
            var e = r.get(n);
            mg.set(e, [Ir(t)]);
          }
        }
      },
          u = H([t.icon.toArray(), t.level.toArray(), t.level.bind(function (n) {
        return on.from(Xg[n]);
      }).toArray()]);
      return {
        uid: t.uid,
        dom: {
          tag: "div",
          attributes: {
            role: "alert"
          },
          classes: t.level.map(function (n) {
            return ["tox-notification", "tox-notification--in", "tox-notification--" + n];
          }).getOr(["tox-notification", "tox-notification--in"])
        },
        components: [{
          dom: {
            tag: "div",
            classes: ["tox-notification__icon"],
            innerHtml: function (n, t) {
              return Du(n, function (n) {
                return on.from(t()[n]);
              }).getOrThunk(function () {
                return bm(t);
              });
            }(u, t.iconProvider)
          }
        }, {
          dom: {
            tag: "div",
            classes: ["tox-notification__body"]
          },
          components: [r.asSpec()],
          behaviours: ba([mg.config({})])
        }].concat(t.progress ? [i.asSpec()] : []).concat(Gg.sketch({
          dom: {
            tag: "button",
            classes: ["tox-notification__dismiss", "tox-button", "tox-button--naked", "tox-button--icon"]
          },
          components: [{
            dom: {
              tag: "div",
              classes: ["tox-icon"],
              innerHtml: ym("close", t.iconProvider),
              attributes: {
                "aria-label": t.translationProvider("Close")
              }
            }
          }],
          action: function action(n) {
            t.onAction(n);
          }
        })),
        apis: n
      };
    },
    configFields: [ht("level"), ct("progress"), ct("icon"), ct("onAction"), ct("text"), ct("iconProvider"), ct("translationProvider")],
    apis: {
      updateProgress: function updateProgress(n, t, e) {
        n.updateProgress(t, e);
      },
      updateText: function updateText(n, t, e) {
        n.updateText(t, e);
      }
    }
  }),
      qg = tinymce.util.Tools.resolve("tinymce.util.Delay");

  function Kg(n, u, o) {
    var a = u.backstage;
    return {
      open: function open(n, t) {
        function e() {
          t(), jg.hide(i);
        }

        var r = uu(Yg.sketch({
          text: n.text,
          level: vn(["success", "error", "warning", "warn", "info"], n.type) ? n.type : undefined,
          progress: !0 === n.progressBar,
          icon: on.from(n.icon),
          onAction: e,
          iconProvider: a.shared.providers.icons,
          translationProvider: a.shared.providers.translate
        })),
            i = uu(jg.sketch({
          dom: {
            tag: "div",
            classes: ["tox-notifications-container"]
          },
          lazySink: u.backstage.shared.getSink,
          fireDismissalEventInstead: {}
        }));
        return o.add(i), 0 < n.timeout && qg.setTimeout(function () {
          e();
        }, n.timeout), {
          close: e,
          moveTo: function moveTo(n, t) {
            jg.showAt(i, {
              anchor: "makeshift",
              x: n,
              y: t
            }, au(r));
          },
          moveRel: function moveRel(n, t) {
            if ("banner" !== t) {
              var e = function (n) {
                switch (n) {
                  case "bc-bc":
                    return Wg;

                  case "tc-tc":
                    return Ug;

                  case "tc-bc":
                    return oc;

                  case "bc-tc":
                  default:
                    return rc;
                }
              }(t),
                  o = {
                anchor: "node",
                root: zr(),
                node: on.some(we.fromDom(n)),
                layouts: {
                  onRtl: function onRtl() {
                    return [e];
                  },
                  onLtr: function onLtr() {
                    return [e];
                  }
                }
              };

              jg.showAt(i, o, au(r));
            } else jg.showAt(i, u.backstage.shared.anchors.banner(), au(r));
          },
          text: function text(n) {
            Yg.updateText(r, n);
          },
          settings: n,
          getEl: function getEl() {
            return r.element().dom();
          },
          progressBar: {
            value: function value(n) {
              Yg.updateProgress(r, n);
            }
          }
        };
      },
      close: function close(n) {
        n.close();
      },
      reposition: function reposition(n) {
        !function (n) {
          bn(n, function (n) {
            return n.moveTo(0, 0);
          });
        }(n), function (e) {
          0 < e.length && (yn(e).each(function (n) {
            return n.moveRel(null, "banner");
          }), bn(e, function (n, t) {
            0 < t && n.moveRel(e[t - 1].getEl(), "bc-tc");
          }));
        }(n);
      },
      getArgs: function getArgs(n) {
        return n.settings;
      }
    };
  }

  function Jg(e, o) {
    var r = null;
    return {
      cancel: function cancel() {
        null !== r && (v.clearTimeout(r), r = null);
      },
      throttle: function throttle() {
        for (var n = [], t = 0; t < arguments.length; t++) {
          n[t] = arguments[t];
        }

        null !== r && v.clearTimeout(r), r = v.setTimeout(function () {
          e.apply(null, n), r = null;
        }, o);
      }
    };
  }

  function $g(n, t, e, o, r) {
    var i = new Ap(t, r || n.getRoot());
    return Fp(n, t, on.some(e), o, i.prev, on.none());
  }

  function Qg(t, e) {
    return Ip(we.fromDom(t.selection.getNode())).getOrThunk(function () {
      var n = we.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>', t.getDoc());
      return Hi(n, we.fromDom(e.extractContents())), e.insertNode(n.dom()), Eo(n).each(function (n) {
        return n.dom().normalize();
      }), Ic(n).map(function (n) {
        t.selection.setCursorLocation(n.dom(), function (n) {
          return "img" === Ke(n) ? 1 : Ac(n).fold(function () {
            return Bo(n).length;
          }, function (n) {
            return n.length;
          });
        }(n));
      }), n;
    });
  }

  function Zg(n, t) {
    return n.toString().substring(t.length).replace(/\u00A0/g, " ").replace(/\uFEFF/g, "");
  }

  function np(n, u, a, c) {
    return void 0 === c && (c = 0), function (n) {
      return n.collapsed && 3 === n.startContainer.nodeType;
    }(u) ? $g(n, u.startContainer, u.startOffset, function (e, o, r, n) {
      var i = n.getOr(r.length);
      return function (n, t, e, o) {
        var r;

        for (r = t - 1; 0 <= r; r--) {
          var i = n.charAt(r);
          if (Rp.test(i)) return on.none();
          if (i === e) break;
        }

        return -1 === r || t - r < o ? on.none() : on.some(n.substring(r + 1, t));
      }(r, i, a, 1).fold(function () {
        return r.match(Rp) ? e.abort() : e.kontinue();
      }, function (n) {
        var t = u.cloneRange();
        return t.setStart(o, i - n.length - 1), t.setEnd(u.endContainer, u.endOffset), r.length < c ? e.abort() : e.finish({
          text: Zg(t, a),
          range: t,
          triggerChar: a
        });
      });
    }).fold(on.none, on.none, on.some) : on.none();
  }

  function tp(e, n, o, t) {
    return void 0 === t && (t = 0), Ip(we.fromDom(n.startContainer)).fold(function () {
      return np(e, n, o, t);
    }, function (n) {
      var t = e.createRng();
      return t.selectNode(n.dom()), on.some({
        range: t,
        text: Zg(t, o),
        triggerChar: o
      });
    });
  }

  function ep(n, t) {
    return {
      element: n,
      offset: t
    };
  }

  function op(t, e) {
    var n = e(),
        o = t.selection.getRng();
    return function (t, e, n) {
      return Du(n.triggerChars, function (n) {
        return tp(t, e, n);
      });
    }(t.dom, o, n).bind(function (n) {
      return zp(t, e, n);
    });
  }

  function rp(n) {
    var t = n.ui.registry.getAll().popups,
        e = P(t, function (n) {
      return function (n) {
        return tt("Autocompleter", Up, n);
      }(n).fold(function (n) {
        throw new Error(le(n));
      }, function (n) {
        return n;
      });
    }),
        o = function (n) {
      var t = {};
      return bn(n, function (n) {
        t[n] = {};
      }), wn(t);
    }(On(e, function (n) {
      return n.ch;
    })),
        r = R(e);

    return {
      dataset: e,
      triggerChars: o,
      lookupByChar: function lookupByChar(t) {
        return C(r, function (n) {
          return n.ch === t;
        });
      }
    };
  }

  function ip(n, o, t) {
    var r = zc(n.element(), "." + t);

    if (0 < r.length) {
      var e = T(r, function (n) {
        var t = n.dom().getBoundingClientRect().top,
            e = r[0].dom().getBoundingClientRect().top;
        return Math.abs(t - e) > o;
      }).getOr(r.length);
      return on.some({
        numColumns: e,
        numRows: Math.ceil(r.length / e)
      });
    }

    return on.none();
  }

  function up(n, t) {
    return ba([Kd(n, t)]);
  }

  function ap(n, t, e) {
    n.getSystem().broadcastOn([Zp], {});
  }

  function cp(n) {
    var t = we.fromHtml(n),
        e = Bo(t),
        o = function (n) {
      var t = n.dom().attributes !== undefined ? n.dom().attributes : [];
      return O(t, function (n, t) {
        var e;
        return "class" === t.name ? n : _N(_N({}, n), ((e = {})[t.name] = t.value, e));
      }, {});
    }(t),
        r = function (n) {
      return Array.prototype.slice.call(n.dom().classList, 0);
    }(t),
        i = 0 === e.length ? {} : {
      innerHtml: Vo(t)
    };

    return _N({
      tag: Ke(t),
      classes: r,
      attributes: o
    }, i);
  }

  function sp(n) {
    return Nn(ch, n).getOr(ih);
  }

  function fp(n) {
    return {
      dom: {
        tag: "div",
        classes: [fh],
        innerHtml: n
      }
    };
  }

  function lp(n) {
    return {
      dom: {
        tag: "div",
        classes: [lh]
      },
      components: [Ir(rh.translate(n))]
    };
  }

  function dp(n, t) {
    return {
      dom: {
        tag: "div",
        classes: [lh]
      },
      components: [{
        dom: {
          tag: n.tag,
          attributes: {
            style: n.styleAttr
          }
        },
        components: [Ir(rh.translate(t))]
      }]
    };
  }

  function mp(n) {
    return {
      dom: {
        tag: "div",
        classes: ["tox-collection__item-accessory"],
        innerHtml: ph(n)
      }
    };
  }

  function gp(n) {
    return {
      dom: {
        tag: "div",
        classes: [fh, "tox-collection__item-checkmark"],
        innerHtml: ym("checkmark", n)
      }
    };
  }

  function pp(n, t, e, o, r) {
    var i = e ? n.checkMark.orThunk(function () {
      return t.or(on.some("")).map(fp);
    }) : on.none(),
        u = n.ariaLabel.map(function (n) {
      return {
        attributes: {
          title: rh.translate(n)
        }
      };
    }).getOr({});
    return {
      dom: An({
        tag: "div",
        classes: [ih, uh].concat(r ? ["tox-collection__item-icon-rtl"] : [])
      }, u),
      optComponents: [i, n.htmlContent.fold(function () {
        return n.textContent.map(o);
      }, function (n) {
        return on.some(function (n) {
          return {
            dom: {
              tag: "div",
              classes: [lh],
              innerHtml: n
            }
          };
        }(n));
      }), n.shortcutContent.map(mp), n.caret]
    };
  }

  function hp(n, t, e, o) {
    void 0 === o && (o = on.none());
    var r = rh.isRtl() && n.iconContent.exists(function (n) {
      return vn(vh, n);
    }),
        i = n.iconContent.map(function (n) {
      return rh.isRtl() && vn(hh, n) ? n + "-rtl" : n;
    }).map(function (n) {
      return function (n, t, e) {
        return on.from(t()[n]).or(e).getOrThunk(function () {
          return bm(t);
        });
      }(n, t.icons, o);
    }),
        u = on.from(n.meta).fold(function () {
      return lp;
    }, function (n) {
      return En(n, "style") ? d(dp, n.style) : lp;
    });
    return "color" === n.presets ? function (n, t, e, o) {
      var r, i, u;
      return {
        dom: (r = ah, i = e.getOr(""), u = n.map(function (n) {
          return ' title="' + o.translate(n) + '"';
        }).getOr(""), cp("custom" === t ? '<button class="' + r + ' tox-swatches__picker-btn"' + u + ">" + i + "</button>" : "remove" === t ? '<div class="' + r + ' tox-swatch--remove"' + u + ">" + i + "</div>" : '<div class="' + r + '" style="background-color: ' + t + '" data-mce-color="' + t + '"' + u + "></div>")),
        optComponents: []
      };
    }(n.ariaLabel, n.value, i, t) : pp(n, i, e, u, r);
  }

  function vp(n, t, e) {
    t.disabled && yh(n, t);
  }

  function bp(n, t) {
    return !0 === t.useNative && vn(bh, Ke(n.element()));
  }

  function yp(n) {
    Po(n.element(), "disabled", "disabled");
  }

  function xp(n) {
    jo(n.element(), "disabled");
  }

  function wp(n) {
    Po(n.element(), "aria-disabled", "true");
  }

  function Sp(n) {
    Po(n.element(), "aria-disabled", "false");
  }

  function Cp(t, n, e) {
    n.disableClass.each(function (n) {
      dr(t.element(), n);
    }), (bp(t, n) ? xp : Sp)(t), n.onEnabled(t);
  }

  function kp(n, t) {
    return bp(n, t) ? function (n) {
      return Lo(n.element(), "disabled");
    }(n) : function (n) {
      return "true" === zo(n.element(), "aria-disabled");
    }(n);
  }

  function Op(n, t) {
    var e = n.getApi(t);
    return function (n) {
      n(e);
    };
  }

  function Ep(e, o) {
    return Ii(function (n) {
      Op(e, n)(function (n) {
        var t = e.onSetup(n);
        null !== t && t !== undefined && o.set(t);
      });
    });
  }

  function Tp(t, e) {
    return Ri(function (n) {
      return Op(t, n)(e.get());
    });
  }

  var Bp,
      Dp,
      Ap = tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),
      _p = Tn([{
    aborted: []
  }, {
    edge: ["element"]
  }, {
    success: ["info"]
  }]),
      Mp = Tn([{
    abort: []
  }, {
    kontinue: []
  }, {
    finish: ["info"]
  }]),
      Fp = function Fp(t, e, n, o, r, i) {
    function u() {
      return i.fold(_p.aborted, _p.edge);
    }

    function a() {
      var n = r();
      return n ? Fp(t, n, on.none(), o, r, on.some(e)) : u();
    }

    if (function (n, t) {
      return n.isBlock(t) || vn(["BR", "IMG", "HR", "INPUT"], t.nodeName) || "false" === n.getContentEditable(t);
    }(t, e)) return u();

    if (function (n) {
      return n.nodeType === v.Node.TEXT_NODE;
    }(e)) {
      var c = e.textContent;
      return o(Mp, e, c, n).fold(_p.aborted, function () {
        return a();
      }, _p.success);
    }

    return a();
  },
      Ip = function Ip(n) {
    return Ou(n, "[data-mce-autocompleter]");
  },
      Rp = /[\u00a0 \t\r\n]/,
      Vp = function Vp(e, n) {
    n.on("keypress compositionend", e.onKeypress.throttle), n.on("remove", e.onKeypress.cancel);

    function o(n, t) {
      ro(n, ni(), {
        raw: t
      });
    }

    n.on("keydown", function (t) {
      function n() {
        return e.getView().bind(ad.getHighlighted);
      }

      8 === t.which && e.onKeypress.throttle(t), e.isActive() && (27 === t.which && e.cancelIfNecessary(), e.isMenuOpen() ? 13 === t.which ? (n().each(io), t.preventDefault()) : 40 === t.which ? (n().fold(function () {
        e.getView().each(ad.highlightFirst);
      }, function (n) {
        o(n, t);
      }), t.preventDefault(), t.stopImmediatePropagation()) : 37 !== t.which && 38 !== t.which && 39 !== t.which || n().each(function (n) {
        o(n, t), t.preventDefault(), t.stopImmediatePropagation();
      }) : 13 !== t.which && 38 !== t.which && 40 !== t.which || e.cancelIfNecessary());
    }), n.on("NodeChange", function (n) {
      e.isActive() && !e.isProcessingAction() && Ip(we.fromDom(n.element)).isNone() && e.cancelIfNecessary();
    });
  },
      Np = tinymce.util.Tools.resolve("tinymce.util.Promise"),
      Hp = function Hp(n) {
    if (function (n) {
      return n.nodeType === v.Node.TEXT_NODE;
    }(n)) return ep(n, n.data.length);
    var t = n.childNodes;
    return 0 < t.length ? Hp(t[t.length - 1]) : ep(n, t.length);
  },
      Pp = function Pp(n, t) {
    var e = n.childNodes;
    return 0 < e.length && t < e.length ? Pp(e[t], 0) : 0 < e.length && function (n) {
      return n.nodeType === v.Node.ELEMENT_NODE;
    }(n) && e.length === t ? Hp(e[e.length - 1]) : ep(n, t);
  },
      zp = function zp(t, n, e, o) {
    void 0 === o && (o = {});
    var r = n(),
        i = t.selection.getRng().startContainer.nodeValue,
        u = C(r.lookupByChar(e.triggerChar), function (n) {
      return e.text.length >= n.minChars && n.matches.getOrThunk(function () {
        return function (e) {
          function o(n, t, e, o) {
            var r = o.getOr(e.length);
            return 0 === r ? n.kontinue() : n.finish(/\s/.test(e.charAt(r - 1)));
          }

          return function (n) {
            var t = Pp(n.startContainer, n.startOffset);
            return $g(e, t.element, t.offset, o).fold(nn(!0), nn(!0), l);
          };
        }(t.dom);
      })(e.range, i, e.text);
    });
    if (0 === u.length) return on.none();
    var a = Np.all(S(u, function (t) {
      return t.fetch(e.text, t.maxResults, o).then(function (n) {
        return {
          matchText: e.text,
          items: n,
          columns: t.columns,
          onAction: t.onAction
        };
      });
    }));
    return on.some({
      lookupData: a,
      context: e
    });
  },
      Lp = re([ft("type"), yt("text")]),
      jp = re([At("type", function () {
    return "autocompleteitem";
  }), At("active", function () {
    return !1;
  }), At("disabled", function () {
    return !1;
  }), St("meta", {}), ft("value"), yt("text"), yt("icon")]),
      Up = re([ft("type"), ft("ch"), kt("minChars", 1), St("columns", 1), kt("maxResults", 10), xt("matches"), dt("fetch"), dt("onAction")]),
      Wp = [Tt("disabled", !1), yt("text"), yt("shortcut"), ce("value", "value", In(function () {
    return Xo("menuitem-value");
  }), de()), St("meta", {})],
      Gp = re([ft("type"), Bt("onSetup", function () {
    return Z;
  }), Bt("onAction", Z), yt("icon")].concat(Wp)),
      Xp = re([ft("type"), dt("getSubmenuItems"), Bt("onSetup", function () {
    return Z;
  }), yt("icon")].concat(Wp)),
      Yp = re([ft("type"), Tt("active", !1), Bt("onSetup", function () {
    return Z;
  }), dt("onAction")].concat(Wp)),
      qp = re([ft("type"), Tt("active", !1), yt("icon")].concat(Wp)),
      Kp = re([ft("type"), lt("fancytype", ["inserttable", "colorswatch"]), Bt("onAction", Z)]),
      Jp = function Jp(n) {
    return up(Xo("unnamed-events"), n);
  },
      $p = [ct("lazySink"), ct("tooltipDom"), St("exclusive", !0), St("tooltipComponents", []), St("delay", 300), Et("mode", "normal", ["normal", "follow-highlight"]), St("anchor", function (n) {
    return {
      anchor: "hotspot",
      hotspot: n,
      layouts: {
        onLtr: nn([rc, oc, ua, ca, aa, sa]),
        onRtl: nn([rc, oc, ua, ca, aa, sa])
      }
    };
  }), qu("onHide"), qu("onShow")],
      Qp =
  /* */
  Object.freeze({
    init: function init() {
      function e() {
        o.get().each(function (n) {
          v.clearTimeout(n);
        });
      }

      var o = ye(on.none()),
          t = ye(on.none()),
          n = nn("not-implemented");
      return nu({
        getTooltip: function getTooltip() {
          return t.get();
        },
        isShowing: function isShowing() {
          return t.get().isSome();
        },
        setTooltip: function setTooltip(n) {
          t.set(on.some(n));
        },
        clearTooltip: function clearTooltip() {
          t.set(on.none());
        },
        clearTimer: e,
        resetTimer: function resetTimer(n, t) {
          e(), o.set(on.some(v.setTimeout(function () {
            n();
          }, t)));
        },
        readState: n
      });
    }
  }),
      Zp = Xo("tooltip.exclusive"),
      nh = Xo("tooltip.show"),
      th = Xo("tooltip.hide"),
      eh =
  /* */
  Object.freeze({
    hideAllExclusive: ap,
    setComponents: function setComponents(n, t, e, o) {
      e.getTooltip().each(function (n) {
        n.getSystem().isConnected() && mg.set(n, o);
      });
    }
  }),
      oh = ya({
    fields: $p,
    name: "tooltipping",
    active:
    /* */
    Object.freeze({
      events: function events(o, r) {
        function e(t) {
          r.getTooltip().each(function (n) {
            bs(n), o.onHide(t, n), r.clearTooltip();
          }), r.clearTimer();
        }

        return co(H([[lo(nh, function (n) {
          r.resetTimer(function () {
            !function (t) {
              if (!r.isShowing()) {
                ap(t);
                var n = o.lazySink(t).getOrDie(),
                    e = t.getSystem().build({
                  dom: o.tooltipDom,
                  components: o.tooltipComponents,
                  events: co("normal" === o.mode ? [lo($r(), function (n) {
                    oo(t, nh);
                  }), lo(Kr(), function (n) {
                    oo(t, th);
                  })] : []),
                  behaviours: ba([mg.config({})])
                });
                r.setTooltip(e), hs(n, e), o.onShow(t, e), Af.position(n, o.anchor(t), e);
              }
            }(n);
          }, o.delay);
        }), lo(th, function (n) {
          r.resetTimer(function () {
            e(n);
          }, o.delay);
        }), lo(li(), function (n, t) {
          vn(t.channels(), Zp) && e(n);
        }), Ri(function (n) {
          e(n);
        })], "normal" === o.mode ? [lo(Qr(), function (n) {
          oo(n, nh);
        }), lo(si(), function (n) {
          oo(n, th);
        }), lo($r(), function (n) {
          oo(n, nh);
        }), lo(Kr(), function (n) {
          oo(n, th);
        })] : [lo(_i(), function (n, t) {
          oo(n, nh);
        }), lo(Mi(), function (n) {
          oo(n, th);
        })]]));
      }
    }),
    state: Qp,
    apis: eh
  }),
      rh = tinymce.util.Tools.resolve("tinymce.util.I18n"),
      ih = "tox-menu-nav__js",
      uh = "tox-collection__item",
      ah = "tox-swatch",
      ch = {
    normal: ih,
    color: ah
  },
      sh = "tox-collection__item--enabled",
      fh = "tox-collection__item-icon",
      lh = "tox-collection__item-label",
      dh = "tox-collection__item-caret",
      mh = "tox-collection__item--active",
      gh = tinymce.util.Tools.resolve("tinymce.Env"),
      ph = function ph(n) {
    var e = gh.mac ? {
      alt: "&#x2325;",
      ctrl: "&#x2303;",
      shift: "&#x21E7;",
      meta: "&#x2318;",
      access: "&#x2303;&#x2325;"
    } : {
      meta: "Ctrl",
      access: "Shift+Alt"
    },
        t = n.split("+"),
        o = S(t, function (n) {
      var t = n.toLowerCase().trim();
      return En(e, t) ? e[t] : n;
    });
    return gh.mac ? o.join("") : o.join("+");
  },
      hh = ["list-num-default", "list-num-lower-alpha", "list-num-lower-greek", "list-num-lower-roman", "list-num-upper-alpha", "list-num-upper-roman"],
      vh = ["list-bull-circle", "list-bull-default", "list-bull-square"],
      bh = ["input", "button", "textarea", "select"],
      yh = function yh(t, n, e) {
    n.disableClass.each(function (n) {
      fr(t.element(), n);
    }), (bp(t, n) ? yp : wp)(t), n.onDisabled(t);
  },
      xh =
  /* */
  Object.freeze({
    enable: Cp,
    disable: yh,
    isDisabled: kp,
    onLoad: vp,
    set: function set(n, t, e, o) {
      (o ? yh : Cp)(n, t, e);
    }
  }),
      wh =
  /* */
  Object.freeze({
    exhibit: function exhibit(n, t, e) {
      return Zo({
        classes: t.disabled ? t.disableClass.map(M).getOr([]) : []
      });
    },
    events: function events(e, n) {
      return co([so(di(), function (n, t) {
        return kp(n, e);
      }), ga(e, n, vp)]);
    }
  }),
      Sh = [St("disabled", !1), St("useNative", !0), ht("disableClass"), qu("onDisabled"), qu("onEnabled")],
      Ch = ya({
    fields: Sh,
    name: "disabling",
    active: wh,
    apis: xh
  }),
      kh = function kh(n) {
    return Ch.config({
      disabled: n,
      disableClass: "tox-collection__item--state-disabled"
    });
  },
      Oh = function Oh(n) {
    return Ch.config({
      disabled: n
    });
  },
      Eh = function Eh(n) {
    return Ch.config({
      disabled: n,
      disableClass: "tox-tbtn--disabled"
    });
  },
      Th = function Th(n) {
    return Ch.config({
      disabled: n,
      disableClass: "tox-tbtn--disabled",
      useNative: !1
    });
  };

  (Dp = Bp = Bp || {})[Dp.CLOSE_ON_EXECUTE = 0] = "CLOSE_ON_EXECUTE", Dp[Dp.BUBBLE_TO_SANDBOX = 1] = "BUBBLE_TO_SANDBOX";

  function Bh(n) {
    return B(n, function (n) {
      return n.toArray();
    });
  }

  function Dh(n, t, e) {
    var o = ye(Z);
    return {
      type: "item",
      dom: t.dom,
      components: Bh(t.optComponents),
      data: n.data,
      eventOrder: Ih,
      hasSubmenu: n.triggersSubmenu,
      itemBehaviours: ba([Kd("item-events", [function (e, o) {
        return Ni(function (n, t) {
          Op(e, n)(e.onAction), e.triggersSubmenu || o !== Fh.CLOSE_ON_EXECUTE || (oo(n, hi()), t.stop());
        });
      }(n, e), Ep(n, o), Tp(n, o)]), kh(n.disabled), mg.config({})].concat(n.itemBehaviours))
    };
  }

  function Ah(n) {
    return {
      value: n.value,
      meta: An({
        text: n.text.getOr("")
      }, n.meta)
    };
  }

  function _h(n, t) {
    var e = function (n) {
      return Rh.DOM.encode(n);
    }(rh.translate(n));

    if (0 < t.length) {
      var o = new RegExp(function (n) {
        return n.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
      }(t), "gi");
      return e.replace(o, function (n) {
        return '<span class="tox-autocompleter-highlight">' + n + "</span>";
      });
    }

    return e;
  }

  function Mh(t, e, n) {
    function o(n) {
      return ro(n, Hh, {
        row: t,
        col: e
      });
    }

    function r(n, t) {
      t.stop(), o(n);
    }

    var i;
    return uu({
      dom: {
        tag: "div",
        attributes: (i = {
          role: "button"
        }, i["aria-labelledby"] = n, i)
      },
      behaviours: ba([Kd("insert-table-picker-cell", [lo($r(), vg.focus), lo(di(), o), lo(ri(), r), lo(gi(), r)]), Cg.config({
        toggleClass: "tox-insert-table-picker__selected",
        toggleOnExecute: !1
      }), vg.config({
        onFocus: function onFocus(n) {
          return ro(n, Nh, {
            row: t,
            col: e
          });
        }
      })])
    });
  }

  var Fh = Bp,
      Ih = {
    "alloy.execute": ["disabling", "alloy.base.behaviour", "toggling", "item-events"]
  },
      Rh = tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),
      Vh = nn(js("item-widget", Ag())),
      Nh = Xo("cell-over"),
      Hh = Xo("cell-execute");

  function Ph(n) {
    return {
      value: nn(n)
    };
  }

  function zh(n) {
    return Jh.test(n) || $h.test(n);
  }

  function Lh(n) {
    var t = function (n) {
      var t = n.value().replace(Jh, function (n, t, e, o) {
        return t + t + e + e + o + o;
      });
      return {
        value: nn(t)
      };
    }(n),
        e = $h.exec(t.value());

    return null === e ? ["FFFFFF", "FF", "FF", "FF"] : e;
  }

  function jh(n) {
    var t = n.toString(16);
    return 1 === t.length ? "0" + t : t;
  }

  function Uh(n) {
    var t = jh(n.red()) + jh(n.green()) + jh(n.blue());
    return Ph(t);
  }

  function Wh(n, t, e, o) {
    return {
      red: nn(n),
      green: nn(t),
      blue: nn(e),
      alpha: nn(o)
    };
  }

  function Gh(n) {
    var t = parseInt(n, 10);
    return t.toString() === n && 0 <= t && t <= 255;
  }

  function Xh(n) {
    var t,
        e,
        o,
        r = (n.hue() || 0) % 360,
        i = n.saturation() / 100,
        u = n.value() / 100;
    if (i = Zh(0, Qh(i, 1)), u = Zh(0, Qh(u, 1)), 0 === i) return t = e = o = nv(255 * u), Wh(t, e, o, 1);
    var a = r / 60,
        c = u * i,
        s = c * (1 - Math.abs(a % 2 - 1)),
        f = u - c;

    switch (Math.floor(a)) {
      case 0:
        t = c, e = s, o = 0;
        break;

      case 1:
        t = s, e = c, o = 0;
        break;

      case 2:
        t = 0, e = c, o = s;
        break;

      case 3:
        t = 0, e = s, o = c;
        break;

      case 4:
        t = s, e = 0, o = c;
        break;

      case 5:
        t = c, e = 0, o = s;
        break;

      default:
        t = e = o = 0;
    }

    return t = nv(255 * (t + f)), e = nv(255 * (e + f)), o = nv(255 * (o + f)), Wh(t, e, o, 1);
  }

  function Yh(n) {
    var t = Lh(n),
        e = parseInt(t[1], 16),
        o = parseInt(t[2], 16),
        r = parseInt(t[3], 16);
    return Wh(e, o, r, 1);
  }

  function qh(n, t, e, o) {
    var r = parseInt(n, 10),
        i = parseInt(t, 10),
        u = parseInt(e, 10),
        a = parseFloat(o);
    return Wh(r, i, u, a);
  }

  function Kh(n) {
    return "rgba(" + n.red() + "," + n.green() + "," + n.blue() + "," + n.alpha() + ")";
  }

  var Jh = /^#?([a-f\d])([a-f\d])([a-f\d])$/i,
      $h = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,
      Qh = Math.min,
      Zh = Math.max,
      nv = Math.round,
      tv = /^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,
      ev = /^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,
      ov = nn(Wh(255, 0, 0, 1)),
      rv = tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),
      iv = "tinymce-custom-colors";

  function uv(n) {
    var t = [],
        u = v.document.createElement("canvas");
    u.height = 1, u.width = 1;

    for (var a = u.getContext("2d"), c = function c(n, t) {
      var e = t / 255;
      return ("0" + Math.round(n * e + 255 * (1 - e)).toString(16)).slice(-2).toUpperCase();
    }, e = function e(n) {
      if (/^[0-9A-Fa-f]{6}$/.test(n)) return "#" + n.toUpperCase();
      a.clearRect(0, 0, u.width, u.height), a.fillStyle = "#FFFFFF", a.fillStyle = n, a.fillRect(0, 0, 1, 1);
      var t = a.getImageData(0, 0, 1, 1).data,
          e = t[0],
          o = t[1],
          r = t[2],
          i = t[3];
      return "#" + c(e, i) + c(o, i) + c(r, i);
    }, o = 0; o < n.length; o += 2) {
      t.push({
        text: n[o + 1],
        value: e(n[o]),
        type: "choiceitem"
      });
    }

    return t;
  }

  function av(n) {
    return n.getParam("color_map");
  }

  function cv(n, e) {
    var o;
    return n.dom.getParents(n.selection.getStart(), function (n) {
      var t;
      (t = n.style["forecolor" === e ? "color" : "background-color"]) && (o = o || t);
    }), o;
  }

  function sv(n) {
    return Math.max(5, Math.ceil(Math.sqrt(n)));
  }

  function fv(n) {
    var t = Iv(n),
        e = sv(t.length);
    return Mv(n, e);
  }

  function lv(t, e, n, o) {
    "custom" === n ? jv(t)(function (n) {
      n.each(function (n) {
        Vv(n), t.execCommand("mceApplyTextcolor", e, n), o(n);
      });
    }, "#000000") : "remove" === n ? (o(""), t.execCommand("mceRemoveTextcolor", e)) : (o(n), t.execCommand("mceApplyTextcolor", e, n));
  }

  function dv(n, t) {
    return n.concat(Rv().concat(function (n) {
      var t = "choiceitem",
          e = {
        type: t,
        text: "Remove color",
        icon: "color-swatch-remove-color",
        value: "remove"
      };
      return n ? [e, {
        type: t,
        text: "Custom color",
        icon: "color-picker",
        value: "custom"
      }] : [e];
    }(t)));
  }

  function mv(t, e) {
    return function (n) {
      n(dv(t, e));
    };
  }

  function gv(n, t, e) {
    var o, r;
    o = "forecolor" === t ? "tox-icon-text-color__color" : "tox-icon-highlight-bg-color__color", r = e, n.setIconFill(o, r), n.setIconStroke(o, r);
  }

  function pv(o, e, r, n, i) {
    o.ui.registry.addSplitButton(e, {
      tooltip: n,
      presets: "color",
      icon: "forecolor" === e ? "text-color" : "highlight-bg-color",
      select: function select(e) {
        return on.from(cv(o, r)).bind(function (n) {
          return function (n) {
            if ("transparent" === n) return on.some(Wh(0, 0, 0, 0));
            var t = tv.exec(n);
            if (null !== t) return on.some(qh(t[1], t[2], t[3], "1"));
            var e = ev.exec(n);
            return null !== e ? on.some(qh(e[1], e[2], e[3], e[4])) : on.none();
          }(n).map(function (n) {
            var t = Uh(n).value();
            return Vt(e.toLowerCase(), t);
          });
        }).getOr(!1);
      },
      columns: fv(o),
      fetch: mv(Iv(o), Fv(o)),
      onAction: function onAction(n) {
        null !== i.get() && lv(o, r, i.get(), function () {});
      },
      onItemAction: function onItemAction(n, t) {
        lv(o, r, t, function (n) {
          i.set(n), Lv(o, {
            name: e,
            color: n
          });
        });
      },
      onSetup: function onSetup(t) {
        null !== i.get() && gv(t, e, i.get());

        function n(n) {
          n.name === e && gv(t, n.name, n.color);
        }

        return o.on("TextColorChange", n), function () {
          o.off("TextColorChange", n);
        };
      }
    });
  }

  function hv(t, n, e, o) {
    t.ui.registry.addNestedMenuItem(n, {
      text: o,
      icon: "forecolor" === n ? "text-color" : "highlight-bg-color",
      getSubmenuItems: function getSubmenuItems() {
        return [{
          type: "fancymenuitem",
          fancytype: "colorswatch",
          onAction: function onAction(n) {
            lv(t, e, n.value, Z);
          }
        }];
      }
    });
  }

  function vv(e, o) {
    return function (n) {
      var t = w(n, o);
      return S(t, function (n) {
        return {
          dom: e,
          components: n
        };
      });
    };
  }

  function bv(n, e) {
    var o = [],
        r = [];
    return bn(n, function (n, t) {
      e(n, t) ? (0 < r.length && o.push(r), r = [], En(n.dom, "innerHtml") && r.push(n)) : r.push(n);
    }), 0 < r.length && o.push(r), S(o, function (n) {
      return {
        dom: {
          tag: "div",
          classes: ["tox-collection__group"]
        },
        components: n
      };
    });
  }

  function yv(t, e, n) {
    return {
      dom: {
        tag: "div",
        classes: ["tox-menu", "tox-collection"].concat(1 === t ? ["tox-collection--list"] : ["tox-collection--grid"])
      },
      components: [Vg.parts().items({
        preprocess: function preprocess(n) {
          return "auto" !== t && 1 < t ? vv({
            tag: "div",
            classes: ["tox-collection__group"]
          }, t)(n) : bv(n, function (n, t) {
            return "separator" === e[t].type;
          });
        }
      })]
    };
  }

  function xv(n) {
    return {
      backgroundMenu: "tox-background-menu",
      selectedMenu: "tox-selected-menu",
      selectedItem: "tox-collection__item--active",
      hasIcons: "tox-menu--has-icons",
      menu: function (n) {
        return "color" === n ? "tox-swatches" : "tox-menu";
      }(n),
      tieredMenu: "tox-tiered-menu"
    };
  }

  function wv(n) {
    var t = xv(n);
    return {
      backgroundMenu: t.backgroundMenu,
      selectedMenu: t.selectedMenu,
      menu: t.menu,
      selectedItem: t.selectedItem,
      item: sp(n)
    };
  }

  function Sv(n, t, e) {
    var o = xv(e);
    return {
      dom: {
        tag: "div",
        classes: H([[o.tieredMenu]])
      },
      markers: wv(e)
    };
  }

  function Cv(n) {
    return n.icon !== undefined || "togglemenuitem" === n.type || "choicemenuitem" === n.type;
  }

  function kv(n) {
    return v.console.error(le(n)), v.console.log(n), on.none();
  }

  function Ov(n, t, e, o, r) {
    var i = function (e) {
      return {
        dom: {
          tag: "div",
          classes: ["tox-collection", "tox-collection--horizontal"]
        },
        components: [Vg.parts().items({
          preprocess: function preprocess(n) {
            return bv(n, function (n, t) {
              return "separator" === e[t].type;
            });
          }
        })]
      };
    }(e);

    return {
      value: n,
      dom: i.dom,
      components: i.components,
      items: e
    };
  }

  function Ev(n, t, e, o, r) {
    var i;
    return "color" === r ? {
      value: n,
      dom: (i = function (n) {
        return {
          dom: {
            tag: "div",
            classes: ["tox-menu", "tox-swatches-menu"]
          },
          components: [{
            dom: {
              tag: "div",
              classes: ["tox-swatches"]
            },
            components: [Vg.parts().items({
              preprocess: "auto" !== n ? vv({
                tag: "div",
                classes: ["tox-swatches__row"]
              }, n) : l
            })]
          }]
        };
      }(o)).dom,
      components: i.components,
      items: e
    } : "normal" === r && "auto" === o ? {
      value: n,
      dom: (i = yv(o, e)).dom,
      components: i.components,
      items: e
    } : "normal" === r && 1 === o ? {
      value: n,
      dom: (i = yv(1, e)).dom,
      components: i.components,
      items: e
    } : "normal" === r ? {
      value: n,
      dom: (i = yv(o, e)).dom,
      components: i.components,
      items: e
    } : "listpreview" !== r || "auto" === o ? {
      value: n,
      dom: function (n, t, e) {
        var o = xv(e);
        return {
          tag: "div",
          classes: H([[o.menu, "tox-menu-" + t + "-column"], n ? [o.hasIcons] : []])
        };
      }(t, o, r),
      components: Wv,
      items: e
    } : {
      value: n,
      dom: (i = function (n) {
        return {
          dom: {
            tag: "div",
            classes: ["tox-menu", "tox-collection", "tox-collection--toolbar", "tox-collection--toolbar-lg"]
          },
          components: [Vg.parts().items({
            preprocess: vv({
              tag: "div",
              classes: ["tox-collection__group"]
            }, n)
          })]
        };
      }(o)).dom,
      components: i.components,
      items: e
    };
  }

  function Tv(n, t, e, o, r, i, u, a) {
    var c = function (n) {
      return x(n, Cv);
    }(t),
        s = Gv(t, e, o, "color" !== r ? "normal" : "color", i, u, a);

    return Ev(n, c, s, o, r);
  }

  function Bv(n, t) {
    var e = wv(t);
    return 1 === n ? {
      mode: "menu",
      moveOnTab: !0
    } : "auto" === n ? {
      mode: "grid",
      selector: "." + e.item,
      initSize: {
        numColumns: 1,
        numRows: 1
      }
    } : {
      mode: "matrix",
      rowSelector: "." + ("color" === t ? "tox-swatches__row" : "tox-collection__group")
    };
  }

  var Dv = "choiceitem",
      Av = [{
    type: Dv,
    text: "Light Green",
    value: "#BFEDD2"
  }, {
    type: Dv,
    text: "Light Yellow",
    value: "#FBEEB8"
  }, {
    type: Dv,
    text: "Light Red",
    value: "#F8CAC6"
  }, {
    type: Dv,
    text: "Light Purple",
    value: "#ECCAFA"
  }, {
    type: Dv,
    text: "Light Blue",
    value: "#C2E0F4"
  }, {
    type: Dv,
    text: "Green",
    value: "#2DC26B"
  }, {
    type: Dv,
    text: "Yellow",
    value: "#F1C40F"
  }, {
    type: Dv,
    text: "Red",
    value: "#E03E2D"
  }, {
    type: Dv,
    text: "Purple",
    value: "#B96AD9"
  }, {
    type: Dv,
    text: "Blue",
    value: "#3598DB"
  }, {
    type: Dv,
    text: "Dark Turquoise",
    value: "#169179"
  }, {
    type: Dv,
    text: "Orange",
    value: "#E67E23"
  }, {
    type: Dv,
    text: "Dark Red",
    value: "#BA372A"
  }, {
    type: Dv,
    text: "Dark Purple",
    value: "#843FA1"
  }, {
    type: Dv,
    text: "Dark Blue",
    value: "#236FA1"
  }, {
    type: Dv,
    text: "Light Gray",
    value: "#ECF0F1"
  }, {
    type: Dv,
    text: "Medium Gray",
    value: "#CED4D9"
  }, {
    type: Dv,
    text: "Gray",
    value: "#95A5A6"
  }, {
    type: Dv,
    text: "Dark Gray",
    value: "#7E8C8D"
  }, {
    type: Dv,
    text: "Navy Blue",
    value: "#34495E"
  }, {
    type: Dv,
    text: "Black",
    value: "#000000"
  }, {
    type: Dv,
    text: "White",
    value: "#ffffff"
  }],
      _v = function iI(t) {
    void 0 === t && (t = 10);

    var n,
        e = rv.getItem(iv),
        o = cn(e) ? JSON.parse(e) : [],
        r = t - (n = o).length < 0 ? n.slice(0, t) : n,
        i = function i(n) {
      r.splice(n, 1);
    };

    return {
      add: function add(n) {
        (function (n, t) {
          var e = y(n, t);
          return -1 === e ? on.none() : on.some(e);
        })(r, n).each(i), r.unshift(n), r.length > t && r.pop(), rv.setItem(iv, JSON.stringify(r));
      },
      state: function state() {
        return r.slice(0);
      }
    };
  }(10),
      Mv = function Mv(n, t) {
    return n.getParam("color_cols", t, "number");
  },
      Fv = function Fv(n) {
    return !1 !== n.getParam("custom_colors");
  },
      Iv = function Iv(n) {
    var t = av(n);
    return t !== undefined ? uv(t) : Av;
  },
      Rv = function Rv() {
    return S(_v.state(), function (n) {
      return {
        type: Dv,
        text: n,
        value: n
      };
    });
  },
      Vv = function Vv(n) {
    _v.add(n);
  },
      Nv = function Nv(n) {
    return n.fire("SkinLoaded");
  },
      Hv = function Hv(n) {
    return n.fire("ResizeEditor");
  },
      Pv = function Pv(n, t) {
    return n.fire("ScrollContent", t);
  },
      zv = function zv(n, t) {
    return n.fire("ResizeContent", t);
  },
      Lv = function Lv(n, t) {
    return n.fire("TextColorChange", t);
  },
      jv = function jv(i) {
    return function (n, t) {
      var e,
          o = {
        colorpicker: t
      },
          r = (e = n, function (n) {
        var t = n.getData();
        e(on.from(t.colorpicker)), n.close();
      });
      i.windowManager.open({
        title: "Color Picker",
        size: "normal",
        body: {
          type: "panel",
          items: [{
            type: "colorpicker",
            name: "colorpicker",
            label: "Color"
          }]
        },
        buttons: [{
          type: "cancel",
          name: "cancel",
          text: "Cancel"
        }, {
          type: "submit",
          name: "save",
          text: "Save",
          primary: !0
        }],
        initialData: o,
        onAction: function onAction(n, t) {
          "hex-valid" === t.name && (t.value ? n.enable("ok") : n.disable("ok"));
        },
        onSubmit: r,
        onClose: function onClose() {},
        onCancel: function onCancel() {
          n(on.none());
        }
      });
    };
  },
      Uv = {
    register: function register(n) {
      !function (e) {
        e.addCommand("mceApplyTextcolor", function (n, t) {
          !function (n, t, e) {
            n.undoManager.transact(function () {
              n.focus(), n.formatter.apply(t, {
                value: e
              }), n.nodeChanged();
            });
          }(e, n, t);
        }), e.addCommand("mceRemoveTextcolor", function (n) {
          !function (n, t) {
            n.undoManager.transact(function () {
              n.focus(), n.formatter.remove(t, {
                value: null
              }, null, !0), n.nodeChanged();
            });
          }(e, n);
        });
      }(n);
      var t = ye(null),
          e = ye(null);
      pv(n, "forecolor", "forecolor", "Text color", t), pv(n, "backcolor", "hilitecolor", "Background color", e), hv(n, "forecolor", "forecolor", "Text color"), hv(n, "backcolor", "hilitecolor", "Background color");
    },
    getColors: dv,
    getFetch: mv,
    colorPickerDialog: jv,
    getCurrentColor: cv,
    getColorCols: fv,
    calcCols: sv
  },
      Wv = [Vg.parts().items({})],
      Gv = function Gv(n, e, o, r, i, u, a) {
    return Bu(S(n, function (t) {
      return "choiceitem" === t.type ? function (n) {
        return tt("choicemenuitem", qp, n);
      }(t).fold(kv, function (n) {
        return on.some(function (t, n, e, o, r, i, u) {
          var a = hp({
            presets: e,
            textContent: n ? t.text : on.none(),
            htmlContent: on.none(),
            ariaLabel: t.text,
            iconContent: t.icon,
            shortcutContent: n ? t.shortcut : on.none(),
            checkMark: n ? on.some(gp(u.icons)) : on.none(),
            caret: on.none(),
            value: t.value
          }, u, !0);
          return Dn(Dh({
            data: Ah(t),
            disabled: t.disabled,
            getApi: function getApi(t) {
              return {
                setActive: function setActive(n) {
                  Cg.set(t, n);
                },
                isActive: function isActive() {
                  return Cg.isOn(t);
                },
                isDisabled: function isDisabled() {
                  return Ch.isDisabled(t);
                },
                setDisabled: function setDisabled(n) {
                  return Ch.set(t, n);
                }
              };
            },
            onAction: function onAction(n) {
              return o(t.value);
            },
            onSetup: function onSetup(n) {
              return n.setActive(r), function () {};
            },
            triggersSubmenu: !1,
            itemBehaviours: []
          }, a, i), {
            toggling: {
              toggleClass: sh,
              toggleOnExecute: !1,
              selected: t.active
            }
          });
        }(n, 1 === o, r, e, u(t.value), i, a));
      }) : on.none();
    }));
  };

  var Xv,
      Yv,
      qv = {
    inserttable: function uI(o) {
      var n = Xo("size-label"),
          i = function (n, t, e) {
        for (var o = [], r = 0; r < t; r++) {
          for (var i = [], u = 0; u < e; u++) {
            i.push(Mh(r, u, n));
          }

          o.push(i);
        }

        return o;
      }(n, 10, 10),
          u = vm({
        dom: {
          tag: "span",
          classes: ["tox-insert-table-picker__label"],
          attributes: {
            id: n
          }
        },
        components: [Ir("0x0")],
        behaviours: ba([mg.config({})])
      });

      return {
        type: "widget",
        data: {
          value: Xo("widget-id")
        },
        dom: {
          tag: "div",
          classes: ["tox-fancymenuitem"]
        },
        autofocus: !0,
        components: [Vh().widget({
          dom: {
            tag: "div",
            classes: ["tox-insert-table-picker"]
          },
          components: function (n) {
            return B(n, function (n) {
              return S(n, au);
            });
          }(i).concat(u.asSpec()),
          behaviours: ba([Kd("insert-table-picker", [ho(Nh, function (n, t, e) {
            var o = e.event().row(),
                r = e.event().col();
            !function (n, t, e, o, r) {
              for (var i = 0; i < o; i++) {
                for (var u = 0; u < r; u++) {
                  Cg.set(n[i][u], i <= t && u <= e);
                }
              }
            }(i, o, r, 10, 10), mg.set(u.get(n), [function (n, t) {
              return Ir(t + 1 + "x" + (n + 1));
            }(o, r)]);
          }), ho(Hh, function (n, t, e) {
            o.onAction({
              numRows: e.event().row() + 1,
              numColumns: e.event().col() + 1
            }), oo(n, hi());
          })]), lg.config({
            initSize: {
              numRows: 10,
              numColumns: 10
            },
            mode: "flatgrid",
            selector: '[role="button"]'
          })])
        })]
      };
    },
    colorswatch: function aI(t, n) {
      var e = Uv.getColors(n.colorinput.getColors(), n.colorinput.hasCustomColors()),
          o = n.colorinput.getColorCols(),
          r = Tv(Xo("menu-value"), e, function (n) {
        t.onAction({
          value: n
        });
      }, o, "color", Fh.CLOSE_ON_EXECUTE, function () {
        return !1;
      }, n.shared.providers),
          i = Dn(_N(_N({}, r), {
        markers: wv("color"),
        movement: Bv(o, "color")
      }));
      return {
        type: "widget",
        data: {
          value: Xo("widget-id")
        },
        dom: {
          tag: "div",
          classes: ["tox-fancymenuitem"]
        },
        autofocus: !0,
        components: [Vh().widget(Vg.sketch(i))]
      };
    }
  },
      Kv = function Kv(t, e, n, o, r, i, u, a) {
    void 0 === a && (a = !0);
    var c = hp({
      presets: o,
      textContent: on.none(),
      htmlContent: n ? t.text.map(function (n) {
        return _h(n, e);
      }) : on.none(),
      ariaLabel: t.text,
      iconContent: t.icon,
      shortcutContent: on.none(),
      checkMark: on.none(),
      caret: on.none(),
      value: t.value
    }, u.providers, a, t.icon);
    return Dh({
      data: Ah(t),
      disabled: t.disabled,
      getApi: function getApi() {
        return {};
      },
      onAction: function onAction(n) {
        return r(t.value, t.meta);
      },
      onSetup: function onSetup() {
        return function () {};
      },
      triggersSubmenu: !1,
      itemBehaviours: function (n, t) {
        return V(n, "tooltipWorker").map(function (e) {
          return [oh.config({
            lazySink: t.getSink,
            tooltipDom: {
              tag: "div",
              classes: ["tox-tooltip-worker-container"]
            },
            tooltipComponents: [],
            anchor: function anchor(n) {
              return {
                anchor: "submenu",
                item: n,
                overrides: {
                  maxHeightFunction: Cf
                }
              };
            },
            mode: "follow-highlight",
            onShow: function onShow(t, n) {
              e(function (n) {
                oh.setComponents(t, [ru({
                  element: we.fromDom(n)
                })]);
              });
            }
          })];
        }).getOr([]);
      }(t.meta, u)
    }, c, i);
  },
      Jv = function Jv(n) {
    var t = n.text.fold(function () {
      return {};
    }, function (n) {
      return {
        innerHtml: n
      };
    });
    return {
      type: "separator",
      dom: _N({
        tag: "div",
        classes: [uh, "tox-collection__group-heading"]
      }, t),
      components: []
    };
  },
      $v = function $v(n, t, e, o) {
    void 0 === o && (o = !0);
    var r = hp({
      presets: "normal",
      iconContent: n.icon,
      textContent: n.text,
      htmlContent: on.none(),
      ariaLabel: n.text,
      caret: on.none(),
      checkMark: on.none(),
      shortcutContent: n.shortcut
    }, e, o);
    return Dh({
      data: Ah(n),
      getApi: function getApi(t) {
        return {
          isDisabled: function isDisabled() {
            return Ch.isDisabled(t);
          },
          setDisabled: function setDisabled(n) {
            return Ch.set(t, n);
          }
        };
      },
      disabled: n.disabled,
      onAction: n.onAction,
      onSetup: n.onSetup,
      triggersSubmenu: !1,
      itemBehaviours: []
    }, r, t);
  },
      Qv = function Qv(n, t, e, o, r) {
    void 0 === o && (o = !0), void 0 === r && (r = !1);
    var i = r ? function (n) {
      return {
        dom: {
          tag: "div",
          classes: [dh],
          innerHtml: ym("chevron-down", n)
        }
      };
    }(e.icons) : function (n) {
      return {
        dom: {
          tag: "div",
          classes: [dh],
          innerHtml: ym("chevron-right", n)
        }
      };
    }(e.icons),
        u = hp({
      presets: "normal",
      iconContent: n.icon,
      textContent: n.text,
      htmlContent: on.none(),
      ariaLabel: n.text,
      caret: on.some(i),
      checkMark: on.none(),
      shortcutContent: n.shortcut
    }, e, o);
    return Dh({
      data: Ah(n),
      getApi: function getApi(t) {
        return {
          isDisabled: function isDisabled() {
            return Ch.isDisabled(t);
          },
          setDisabled: function setDisabled(n) {
            return Ch.set(t, n);
          }
        };
      },
      disabled: n.disabled,
      onAction: Z,
      onSetup: n.onSetup,
      triggersSubmenu: !0,
      itemBehaviours: []
    }, u, t);
  },
      Zv = function Zv(n, t, e) {
    var o = hp({
      iconContent: on.none(),
      textContent: n.text,
      htmlContent: on.none(),
      ariaLabel: n.text,
      checkMark: on.some(gp(e.icons)),
      caret: on.none(),
      shortcutContent: n.shortcut,
      presets: "normal",
      meta: n.meta
    }, e, !0);
    return Dn(Dh({
      data: Ah(n),
      disabled: n.disabled,
      getApi: function getApi(t) {
        return {
          setActive: function setActive(n) {
            Cg.set(t, n);
          },
          isActive: function isActive() {
            return Cg.isOn(t);
          },
          isDisabled: function isDisabled() {
            return Ch.isDisabled(t);
          },
          setDisabled: function setDisabled(n) {
            return Ch.set(t, n);
          }
        };
      },
      onAction: n.onAction,
      onSetup: n.onSetup,
      triggersSubmenu: !1,
      itemBehaviours: []
    }, o, t), {
      toggling: {
        toggleClass: sh,
        toggleOnExecute: !1,
        selected: n.active
      }
    });
  },
      nb = function nb(t, e) {
    return function (n, t) {
      return Object.prototype.hasOwnProperty.call(n, t) ? on.some(n[t]) : on.none();
    }(qv, t.fancytype).map(function (n) {
      return n(t, e);
    });
  };

  (Yv = Xv = Xv || {})[Yv.ContentFocus = 0] = "ContentFocus", Yv[Yv.UiFocus = 1] = "UiFocus";

  function tb(n) {
    return n.icon !== undefined || "togglemenuitem" === n.type || "choicemenuitem" === n.type;
  }

  function eb(n) {
    return x(n, tb);
  }

  function ob(n, t, e, o, r) {
    function i(n) {
      return r ? _N(_N({}, n), {
        shortcut: on.none(),
        icon: n.text.isSome() ? on.none() : n.icon
      }) : n;
    }

    var u = e.shared.providers;

    switch (n.type) {
      case "menuitem":
        return function (n) {
          return tt("menuitem", Gp, n);
        }(n).fold(kv, function (n) {
          return on.some($v(i(n), t, u, o));
        });

      case "nestedmenuitem":
        return function (n) {
          return tt("nestedmenuitem", Xp, n);
        }(n).fold(kv, function (n) {
          return on.some(Qv(i(n), t, u, o, r));
        });

      case "togglemenuitem":
        return function (n) {
          return tt("togglemenuitem", Yp, n);
        }(n).fold(kv, function (n) {
          return on.some(Zv(i(n), t, u));
        });

      case "separator":
        return function (n) {
          return tt("separatormenuitem", Lp, n);
        }(n).fold(kv, function (n) {
          return on.some(Jv(n));
        });

      case "fancymenuitem":
        return function (n) {
          return tt("fancymenuitem", Kp, n);
        }(n).fold(kv, function (n) {
          return nb(i(n), e);
        });

      default:
        return v.console.error("Unknown item in general menu", n), on.none();
    }
  }

  function rb(n, t, e, o, r, i) {
    var u = 1 === o,
        a = !u || eb(n);
    return Bu(S(n, function (n) {
      return "separator" === n.type ? function (n) {
        return tt("Autocompleter.Separator", Lp, n);
      }(n).fold(kv, function (n) {
        return on.some(Jv(n));
      }) : function (n) {
        return tt("Autocompleter.Item", jp, n);
      }(n).fold(kv, function (n) {
        return on.some(Kv(n, t, u, "normal", e, r, i, a));
      });
    }));
  }

  function ib(n, t, e, o, r) {
    var i = eb(t),
        u = Bu(S(t, function (n) {
      function t(n) {
        return ob(n, e, o, function (n) {
          return r ? !n.hasOwnProperty("text") : i;
        }(n), r);
      }

      return "nestedmenuitem" === n.type && n.getSubmenuItems().length <= 0 ? t(An(n, {
        disabled: !0
      })) : t(n);
    }));
    return (r ? Ov : Ev)(n, i, u, 1, "normal");
  }

  function ub(n) {
    return Lg.singleData(n.value, n);
  }

  function ab(n) {
    function t() {
      n.stopPropagation();
    }

    function e() {
      n.preventDefault();
    }

    var o = we.fromDom(n.target),
        r = i(e, t);
    return function (n, t, e, o, r, i, u) {
      return {
        target: nn(n),
        x: nn(t),
        y: nn(e),
        stop: o,
        prevent: r,
        kill: i,
        raw: nn(u)
      };
    }(o, n.clientX, n.clientY, t, e, r, n);
  }

  function cb(n, t, e, o, r) {
    var i = function (t, e) {
      return function (n) {
        t(n) && e(ab(n));
      };
    }(e, o);

    return n.dom().addEventListener(t, i, r), {
      unbind: d(mb, n, t, i, r)
    };
  }

  function sb(n, t, e) {
    return function (n, t, e, o) {
      return cb(n, t, e, o, !1);
    }(n, t, gb, e);
  }

  function fb(n, t, e) {
    return function (n, t, e, o) {
      return cb(n, t, e, o, !0);
    }(n, t, gb, e);
  }

  function lb(n, t, e) {
    return Ou(n, t, e).isSome();
  }

  var db = function db(u, a) {
    function e() {
      return s.get().isSome();
    }

    function c() {
      e() && jg.hide(l);
    }

    function i(n, t, e, o) {
      n.matchLength = t.text.length;
      var r = Du(e, function (n) {
        return on.from(n.columns);
      }).getOr(1);
      jg.showAt(l, {
        anchor: "node",
        root: we.fromDom(u.getBody()),
        node: on.from(n.element)
      }, Vg.sketch(function (n, t, e, o) {
        var r = e === Xv.ContentFocus ? Xl() : Gl(),
            i = Bv(t, o),
            u = wv(o);
        return {
          dom: n.dom,
          components: n.components,
          items: n.items,
          value: n.value,
          markers: {
            selectedItem: u.selectedItem,
            item: u.item
          },
          movement: i,
          fakeFocus: e === Xv.ContentFocus,
          focusManager: r,
          menuBehaviours: Jp("auto" !== t ? [] : [Ii(function (o, n) {
            ip(o, 4, u.item).each(function (n) {
              var t = n.numColumns,
                  e = n.numRows;
              lg.setGridSize(o, e, t);
            });
          })])
        };
      }(Ev("autocompleter-value", !0, o, r, "normal"), r, Xv.ContentFocus, "normal"))), jg.getContent(l).each(ad.highlightFirst);
    }

    var s = ye(on.none()),
        f = ye(!1),
        l = uu(jg.sketch({
      dom: {
        tag: "div",
        classes: ["tox-autocompleter"]
      },
      components: [],
      fireDismissalEventInstead: {},
      inlineBehaviours: ba([Kd("dismissAutocompleter", [lo(Oi(), function () {
        return d();
      })])]),
      lazySink: a.getSink
    })),
        d = function d() {
      if (e()) {
        var n = s.get().map(function (n) {
          return n.element;
        });
        Ip(n.getOr(we.fromDom(u.selection.getNode()))).each(Ro), c(), s.set(on.none()), f.set(!1);
      }
    },
        o = L(function () {
      return rp(u);
    }),
        m = function m(n) {
      (function (t) {
        return s.get().map(function (n) {
          return tp(u.dom, u.selection.getRng(), n.triggerChar).bind(function (n) {
            return zp(u, o, n, t);
          });
        }).getOrThunk(function () {
          return op(u, o);
        });
      })(n).fold(d, function (r) {
        !function (n) {
          if (!e()) {
            var t = Qg(u, n.range);
            s.set(on.some({
              triggerChar: n.triggerChar,
              element: t,
              matchLength: n.text.length
            })), f.set(!1);
          }
        }(r.context), r.lookupData.then(function (o) {
          s.get().map(function (n) {
            var t = r.context;

            if (n.triggerChar === t.triggerChar) {
              var e = function (t, n) {
                var e = Du(n, function (n) {
                  return on.from(n.columns);
                }).getOr(1);
                return B(n, function (i) {
                  var n = i.items;
                  return rb(n, i.matchText, function (o, r) {
                    var n = u.selection.getRng();
                    tp(u.dom, n, t).fold(function () {
                      return v.console.error("Lost context. Cursor probably moved");
                    }, function (n) {
                      var t = n.range,
                          e = {
                        hide: function hide() {
                          d();
                        },
                        reload: function reload(n) {
                          c(), m(n);
                        }
                      };
                      f.set(!0), i.onAction(e, t, o, r), f.set(!1);
                    });
                  }, e, Fh.BUBBLE_TO_SANDBOX, a);
                });
              }(t.triggerChar, o);

              0 < e.length ? i(n, t, o, e) : 10 <= t.text.length - n.matchLength ? d() : c();
            }
          });
        });
      });
    },
        n = {
      onKeypress: Jg(function (n) {
        27 !== n.which && m();
      }, 50),
      cancelIfNecessary: d,
      isMenuOpen: function isMenuOpen() {
        return jg.isOpen(l);
      },
      isActive: e,
      isProcessingAction: f.get,
      getView: function getView() {
        return jg.getContent(l);
      }
    };

    Vp(n, u);
  },
      mb = function mb(n, t, e, o) {
    n.dom().removeEventListener(t, e, o);
  },
      gb = nn(!0),
      pb = ab;

  function hb(e, o) {
    var r = null;
    return {
      cancel: function cancel() {
        null !== r && (v.clearTimeout(r), r = null);
      },
      schedule: function schedule() {
        for (var n = [], t = 0; t < arguments.length; t++) {
          n[t] = arguments[t];
        }

        r = v.setTimeout(function () {
          e.apply(null, n), r = null;
        }, o);
      }
    };
  }

  function vb(n) {
    var t = n.raw();
    return t.touches === undefined || 1 !== t.touches.length ? on.none() : on.some(t.touches[0]);
  }

  function bb(e) {
    var o = ye(on.none()),
        r = ye(!1),
        i = hb(function (n) {
      e.triggerEvent(pi(), n), r.set(!0);
    }, 400),
        u = K([{
      key: Ur(),
      value: function value(e) {
        return vb(e).each(function (n) {
          i.cancel();
          var t = {
            x: nn(n.clientX),
            y: nn(n.clientY),
            target: e.target
          };
          i.schedule(e), r.set(!1), o.set(on.some(t));
        }), on.none();
      }
    }, {
      key: Wr(),
      value: function value(n) {
        return i.cancel(), vb(n).each(function (t) {
          o.get().each(function (n) {
            !function (n, t) {
              var e = Math.abs(n.clientX - t.x()),
                  o = Math.abs(n.clientY - t.y());
              return 5 < e || 5 < o;
            }(t, n) || o.set(on.none());
          });
        }), on.none();
      }
    }, {
      key: Gr(),
      value: function value(t) {
        i.cancel();
        return o.get().filter(function (n) {
          return jt(n.target(), t.target());
        }).map(function (n) {
          return r.get() ? (t.prevent(), !1) : e.triggerEvent(gi(), t);
        });
      }
    }]);
    return {
      fireIfReady: function fireIfReady(t, n) {
        return Nn(u, n).bind(function (n) {
          return n(t);
        });
      }
    };
  }

  function yb(t, n) {
    var e = ot("Getting GUI events settings", kb, n),
        o = bb(e),
        r = S(["touchstart", "touchmove", "touchend", "touchcancel", "gesturestart", "mousedown", "mouseup", "mouseover", "mousemove", "mouseout", "click"].concat(["selectstart", "input", "contextmenu", "change", "transitionend", "drag", "dragstart", "dragend", "dragenter", "dragleave", "dragover", "drop", "keyup"]), function (n) {
      return sb(t, n, function (t) {
        o.fireIfReady(t, n).each(function (n) {
          n && t.kill();
        }), e.triggerEvent(n, t) && t.kill();
      });
    }),
        i = ye(on.none()),
        u = sb(t, "paste", function (t) {
      o.fireIfReady(t, "paste").each(function (n) {
        n && t.kill();
      }), e.triggerEvent("paste", t) && t.kill(), i.set(on.some(v.setTimeout(function () {
        e.triggerEvent(fi(), t);
      }, 0)));
    }),
        a = sb(t, "keydown", function (n) {
      e.triggerEvent("keydown", n) ? n.kill() : !0 === e.stopBackspace && function (n) {
        return 8 === n.raw().which && !vn(["input", "textarea"], Ke(n.target())) && !lb(n.target(), '[contenteditable="true"]');
      }(n) && n.prevent();
    }),
        c = function (n, t) {
      return Cb ? fb(n, "focus", t) : sb(n, "focusin", t);
    }(t, function (n) {
      e.triggerEvent("focusin", n) && n.kill();
    }),
        s = ye(on.none()),
        f = function (n, t) {
      return Cb ? fb(n, "blur", t) : sb(n, "focusout", t);
    }(t, function (n) {
      e.triggerEvent("focusout", n) && n.kill(), s.set(on.some(v.setTimeout(function () {
        e.triggerEvent(si(), n);
      }, 0)));
    });

    return {
      unbind: function unbind() {
        bn(r, function (n) {
          n.unbind();
        }), a.unbind(), c.unbind(), f.unbind(), u.unbind(), i.get().each(v.clearTimeout), s.get().each(v.clearTimeout);
      }
    };
  }

  function xb(n, t) {
    var e = Nn(n, "target").map(function (n) {
      return n();
    }).getOr(t);
    return ye(e);
  }

  function wb(n, o, t, e, r, i) {
    var u = n(o, e),
        a = function (n, t) {
      var e = ye(!1),
          o = ye(!1);
      return {
        stop: function stop() {
          e.set(!0);
        },
        cut: function cut() {
          o.set(!0);
        },
        isStopped: e.get,
        isCut: o.get,
        event: nn(n),
        setSource: t.set,
        getSource: t.get
      };
    }(t, r);

    return u.fold(function () {
      return i.logEventNoHandlers(o, e), Ob.complete();
    }, function (t) {
      var e = t.descHandler();
      return nr(e)(a), a.isStopped() ? (i.logEventStopped(o, t.element(), e.purpose()), Ob.stopped()) : a.isCut() ? (i.logEventCut(o, t.element(), e.purpose()), Ob.complete()) : Eo(t.element()).fold(function () {
        return i.logNoParent(o, t.element(), e.purpose()), Ob.complete();
      }, function (n) {
        return i.logEventResponse(o, t.element(), e.purpose()), Ob.resume(n);
      });
    });
  }

  function Sb(n, t, e) {
    var o = function (n) {
      var t = ye(!1);
      return {
        stop: function stop() {
          t.set(!0);
        },
        cut: Z,
        isStopped: t.get,
        isCut: nn(!1),
        event: nn(n),
        setSource: r("Cannot set source of a broadcasted event"),
        getSource: r("Cannot get source of a broadcasted event")
      };
    }(t);

    return bn(n, function (n) {
      var t = n.descHandler();
      nr(t)(o);
    }), o.isStopped();
  }

  var Cb = Ht().browser.isFirefox(),
      kb = qn([dt("triggerEvent"), St("stopBackspace", !0)]),
      Ob = Tn([{
    stopped: []
  }, {
    resume: ["element"]
  }, {
    complete: []
  }]),
      Eb = function Eb(t, e, o, n, r, i) {
    return wb(t, e, o, n, r, i).fold(function () {
      return !0;
    }, function (n) {
      return Eb(t, e, o, n, r, i);
    }, function () {
      return !1;
    });
  },
      Tb = function Tb(n, t, e, o, r) {
    var i = xb(e, o);
    return Eb(n, t, e, o, i, r);
  },
      Bb = yo("element", "descHandler"),
      Db = function Db(n, t) {
    return {
      id: nn(n),
      descHandler: nn(t)
    };
  };

  function Ab() {
    var i = {};
    return {
      registerId: function registerId(o, r, n) {
        Cn(n, function (n, t) {
          var e = i[t] !== undefined ? i[t] : {};
          e[r] = tu(n, o), i[t] = e;
        });
      },
      unregisterId: function unregisterId(e) {
        Cn(i, function (n, t) {
          n.hasOwnProperty(e) && delete n[e];
        });
      },
      filterByType: function filterByType(n) {
        return Nn(i, n).map(function (n) {
          return On(n, function (n, t) {
            return Db(t, n);
          });
        }).getOr([]);
      },
      find: function find(n, t, e) {
        var o = Vn(t)(i);
        return jr(e, function (n) {
          return function (e, o) {
            return qi(o).fold(function () {
              return on.none();
            }, function (n) {
              var t = Vn(n);
              return e.bind(t).map(function (n) {
                return Bb(o, n);
              });
            });
          }(o, n);
        }, n);
      }
    };
  }

  function _b() {
    function o(n) {
      var t = n.element();
      return qi(t).fold(function () {
        return function (n, t) {
          var e = Xo(Gi + n);
          return Yi(t, e), e;
        }("uid-", n.element());
      }, function (n) {
        return n;
      });
    }

    var r = Ab(),
        i = {},
        u = function u(n) {
      qi(n.element()).each(function (n) {
        delete i[n], r.unregisterId(n);
      });
    };

    return {
      find: function find(n, t, e) {
        return r.find(n, t, e);
      },
      filter: function filter(n) {
        return r.filterByType(n);
      },
      register: function register(n) {
        var t = o(n);
        $(i, t) && function (n, t) {
          var e = i[t];
          if (e !== n) throw new Error('The tagId "' + t + '" is already used by: ' + Go(e.element()) + "\nCannot use it for: " + Go(n.element()) + "\nThe conflicting element is" + ($e(e.element()) ? " " : " not ") + "already in the DOM");
          u(n);
        }(n, t);
        var e = [n];
        r.registerId(e, t, n.events()), i[t] = n;
      },
      unregister: u,
      getById: function getById(n) {
        return Vn(n)(i);
      }
    };
  }

  function Mb(e) {
    function o(t) {
      return Eo(e.element()).fold(function () {
        return !0;
      }, function (n) {
        return jt(t, n);
      });
    }

    function r(n, t) {
      return u.find(o, n, t);
    }

    function i(e) {
      var n = u.filter(li());
      bn(n, function (n) {
        var t = n.descHandler();
        nr(t)(e);
      });
    }

    var u = _b(),
        n = yb(e.element(), {
      triggerEvent: function triggerEvent(t, e) {
        return Wu(t, e.target(), function (n) {
          return function (n, t, e, o) {
            var r = e.target();
            return Tb(n, t, e, r, o);
          }(r, t, e, n);
        });
      }
    }),
        a = {
      debugInfo: nn("real"),
      triggerEvent: function triggerEvent(t, e, o) {
        Wu(t, e, function (n) {
          Tb(r, t, o, e, n);
        });
      },
      triggerFocus: function triggerFocus(t, e) {
        qi(t).fold(function () {
          wa(t);
        }, function (n) {
          Wu(ci(), t, function (n) {
            !function (n, t, e, o, r) {
              var i = xb(e, o);
              wb(n, t, e, o, i, r);
            }(r, ci(), {
              originator: nn(e),
              kill: Z,
              prevent: Z,
              target: nn(t)
            }, t, n);
          });
        });
      },
      triggerEscape: function triggerEscape(n, t) {
        a.triggerEvent("keydown", n.element(), t.event());
      },
      getByUid: function getByUid(n) {
        return g(n);
      },
      getByDom: function getByDom(n) {
        return p(n);
      },
      build: uu,
      addToGui: function addToGui(n) {
        s(n);
      },
      removeFromGui: function removeFromGui(n) {
        f(n);
      },
      addToWorld: function addToWorld(n) {
        t(n);
      },
      removeFromWorld: function removeFromWorld(n) {
        c(n);
      },
      broadcast: function broadcast(n) {
        l(n);
      },
      broadcastOn: function broadcastOn(n, t) {
        d(n, t);
      },
      broadcastEvent: function broadcastEvent(n, t) {
        m(n, t);
      },
      isConnected: nn(!0)
    },
        t = function t(n) {
      n.connect(a), Pr(n.element()) || (u.register(n), bn(n.components(), t), a.triggerEvent(bi(), n.element(), {
        target: nn(n.element())
      }));
    },
        c = function c(n) {
      Pr(n.element()) || (bn(n.components(), c), u.unregister(n)), n.disconnect();
    },
        s = function s(n) {
      hs(e, n);
    },
        f = function f(n) {
      bs(n);
    },
        l = function l(n) {
      i({
        universal: nn(!0),
        data: nn(n)
      });
    },
        d = function d(n, t) {
      i({
        universal: nn(!1),
        channels: nn(n),
        data: nn(t)
      });
    },
        m = function m(n, t) {
      var e = u.filter(n);
      return Sb(e, t);
    },
        g = function g(n) {
      return u.getById(n).fold(function () {
        return an.error(new Error('Could not find component with uid: "' + n + '" in system.'));
      }, an.value);
    },
        p = function p(n) {
      var t = qi(n).getOr("not found");
      return g(t);
    };

    return t(e), {
      root: nn(e),
      element: e.element,
      destroy: function destroy() {
        n.unbind(), Pi(e.element());
      },
      add: s,
      remove: f,
      getByUid: g,
      getByDom: p,
      addToWorld: t,
      removeFromWorld: c,
      broadcast: l,
      broadcastOn: d,
      broadcastEvent: m
    };
  }

  function Fb(n) {
    return n.getParam("height", Math.max(n.getElement().offsetHeight, 200));
  }

  function Ib(n) {
    return n.getParam("width", Rh.DOM.getStyle(n.getElement(), "width"));
  }

  function Rb(n) {
    return on.from(n.settings.min_width).filter(mn);
  }

  function Vb(n) {
    return on.from(n.settings.min_height).filter(mn);
  }

  function Nb(n) {
    return on.from(n.getParam("max_width")).filter(mn);
  }

  function Hb(n) {
    return on.from(n.getParam("max_height")).filter(mn);
  }

  function Pb(n) {
    return !1 !== n.getParam("menubar", !0, "boolean");
  }

  function zb(n) {
    var t = n.getParam("toolbar", !0),
        e = !0 === t,
        o = cn(t),
        r = fn(t) && 0 < t.length;
    return !Xb(n) && (r || o || e);
  }

  function Lb(t) {
    var n = wn(t.settings),
        e = C(n, function (n) {
      return /^toolbar([1-9])$/.test(n);
    }),
        o = S(e, function (n) {
      return t.getParam(n, !1, "string");
    }),
        r = C(o, function (n) {
      return "string" == typeof n;
    });
    return 0 < r.length ? on.some(r) : on.none();
  }

  var jb,
      Ub,
      Wb = Dl({
    name: "Container",
    factory: function factory(n) {
      var t = n.dom,
          e = t.attributes,
          o = c(t, ["attributes"]);
      return {
        uid: n.uid,
        dom: _N({
          tag: "div",
          attributes: _N({
            role: "presentation"
          }, e)
        }, o),
        components: n.components,
        behaviours: Is(n.containerBehaviours),
        events: n.events,
        domModification: n.domModification,
        eventOrder: n.eventOrder
      };
    },
    configFields: [St("components", []), Fs("containerBehaviours", []), St("events", {}), St("domModification", {}), St("eventOrder", {})]
  }),
      Gb = tinymce.util.Tools.resolve("tinymce.EditorManager"),
      Xb = function Xb(n) {
    return Lb(n).fold(function () {
      return 0 < n.getParam("toolbar", [], "string[]").length;
    }, function () {
      return !0;
    });
  };

  (Ub = jb = jb || {})["default"] = "", Ub.floating = "floating", Ub.sliding = "sliding", Ub.scrolling = "scrolling";

  function Yb(n) {
    return n.getParam("toolbar_drawer", "", "string");
  }

  function qb(n) {
    var t = function (n) {
      return n.getParam("fixed_toolbar_container", "", "string");
    }(n);

    return 0 < t.length && n.inline ? ku(zr(), t) : on.none();
  }

  function Kb(n) {
    return n.inline && qb(n).isSome();
  }

  function Jb(n) {
    return n.inline && !Pb(n) && !zb(n) && !Xb(n);
  }

  function $b(n) {
    return (n.getParam("toolbar_sticky", !1, "boolean") || n.inline) && !Kb(n) && !Jb(n);
  }

  function Qb(n) {
    return n.touches === undefined || 1 !== n.touches.length ? on.none() : on.some(n.touches[0]);
  }

  function Zb(n) {
    return ba([vg.config({
      onFocus: !1 === n.selectOnFocus ? Z : function (n) {
        var t = n.element(),
            e = Er(t);
        t.dom().setSelectionRange(0, e.length);
      }
    })]);
  }

  function ny(n) {
    return {
      tag: n.tag,
      attributes: _N({
        type: "text"
      }, n.inputAttributes),
      styles: n.inputStyles,
      classes: n.inputClasses
    };
  }

  var ty,
      ey,
      oy,
      ry,
      iy = function iy(e) {
    var o = ye(on.none()),
        r = ye(!1),
        i = Jg(function (n) {
      e.fire("longpress", _N(_N({}, n), {
        type: "longpress"
      })), r.set(!0);
    }, 400);
    e.on("touchstart", function (e) {
      Qb(e).each(function (n) {
        i.cancel();
        var t = {
          x: nn(n.clientX),
          y: nn(n.clientY),
          target: nn(e.target)
        };
        i.throttle(e), r.set(!1), o.set(on.some(t));
      });
    }, !0), e.on("touchmove", function (n) {
      i.cancel(), Qb(n).each(function (t) {
        o.get().each(function (n) {
          !function (n, t) {
            var e = Math.abs(n.clientX - t.x()),
                o = Math.abs(n.clientY - t.y());
            return 5 < e || 5 < o;
          }(t, n) || (o.set(on.none()), r.set(!1), e.fire("longpresscancel"));
        });
      });
    }, !0), e.on("touchend touchcancel", function (t) {
      i.cancel(), "touchcancel" !== t.type && o.get().filter(function (n) {
        return n.target().isEqualNode(t.target);
      }).each(function () {
        r.get() ? t.preventDefault() : e.fire("tap", {
          touches: t.touches
        }).isDefaultPrevented() && t.preventDefault();
      });
    }, !0);
  },
      uy = Xo("form-component-change"),
      ay = Xo("form-close"),
      cy = Xo("form-cancel"),
      sy = Xo("form-action"),
      fy = Xo("form-submit"),
      ly = Xo("form-block"),
      dy = Xo("form-unblock"),
      my = Xo("form-tabchange"),
      gy = Xo("form-resize"),
      py = nn([St("prefix", "form-field"), Fs("fieldBehaviours", [Zl, Zf])]),
      hy = nn([Sl({
    schema: [ct("dom")],
    name: "label"
  }), Sl({
    factory: {
      sketch: function sketch(n) {
        return {
          uid: n.uid,
          dom: {
            tag: "span",
            styles: {
              display: "none"
            },
            attributes: {
              "aria-hidden": "true"
            },
            innerHtml: n.text
          }
        };
      }
    },
    schema: [ct("text")],
    name: "aria-descriptor"
  }), xl({
    factory: {
      sketch: function sketch(n) {
        var t = X(n, ["factory"]);
        return n.factory.sketch(t);
      }
    },
    schema: [ct("factory")],
    name: "field"
  })]),
      vy = Al({
    name: "FormField",
    configFields: py(),
    partFields: hy(),
    factory: function factory(r, n, t, e) {
      var o = Rs(r.fieldBehaviours, [Zl.config({
        find: function find(n) {
          return qs(n, r, "field");
        }
      }), Zf.config({
        store: {
          mode: "manual",
          getValue: function getValue(n) {
            return Zl.getCurrent(n).bind(Zf.getValue);
          },
          setValue: function setValue(n, t) {
            Zl.getCurrent(n).each(function (n) {
              Zf.setValue(n, t);
            });
          }
        }
      })]),
          i = co([Ii(function (n, t) {
        var o = Js(n, r, ["label", "field", "aria-descriptor"]);
        o.field().each(function (e) {
          var t = Xo(r.prefix);
          o.label().each(function (n) {
            Po(n.element(), "for", t), Po(e.element(), "id", t);
          }), o["aria-descriptor"]().each(function (n) {
            var t = Xo(r.prefix);
            Po(n.element(), "id", t), Po(e.element(), "aria-describedby", t);
          });
        });
      })]),
          u = {
        getField: function getField(n) {
          return qs(n, r, "field");
        },
        getLabel: function getLabel(n) {
          return qs(n, r, "label");
        }
      };
      return {
        uid: r.uid,
        dom: r.dom,
        components: n,
        behaviours: o,
        events: i,
        apis: u
      };
    },
    apis: {
      getField: function getField(n, t) {
        return n.getField(t);
      },
      getLabel: function getLabel(n, t) {
        return n.getLabel(t);
      }
    }
  }),
      by = nn([ht("data"), St("inputAttributes", {}), St("inputStyles", {}), St("tag", "input"), St("inputClasses", []), qu("onSetValue"), St("styles", {}), St("eventOrder", {}), Fs("inputBehaviours", [Zf, vg]), St("selectOnFocus", !0)]),
      yy = Dl({
    name: "Input",
    configFields: by(),
    factory: function factory(n, t) {
      return {
        uid: n.uid,
        dom: ny(n),
        components: [],
        behaviours: function (n) {
          return _N(_N({}, Zb(n)), Rs(n.inputBehaviours, [Zf.config({
            store: {
              mode: "manual",
              initialValue: n.data.getOr(undefined),
              getValue: function getValue(n) {
                return Er(n.element());
              },
              setValue: function setValue(n, t) {
                Er(n.element()) !== t && Tr(n.element(), t);
              }
            },
            onSetValue: n.onSetValue
          })]));
        }(n),
        eventOrder: n.eventOrder
      };
    }
  }),
      xy = {},
      wy = {
    exports: xy
  };

  ty = undefined, ey = xy, oy = wy, ry = undefined, function (n) {
    "object" == _typeof(ey) && void 0 !== oy ? oy.exports = n() : "function" == typeof ty && ty.amd ? ty([], n) : ("undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this).EphoxContactWrapper = n();
  }(function () {
    return function f(i, u, a) {
      function c(t, n) {
        if (!u[t]) {
          if (!i[t]) {
            var e = "function" == typeof ry && ry;
            if (!n && e) return e(t, !0);
            if (s) return s(t, !0);
            var o = new Error("Cannot find module '" + t + "'");
            throw o.code = "MODULE_NOT_FOUND", o;
          }

          var r = u[t] = {
            exports: {}
          };
          i[t][0].call(r.exports, function (n) {
            return c(i[t][1][n] || n);
          }, r, r.exports, f, i, u, a);
        }

        return u[t].exports;
      }

      for (var s = "function" == typeof ry && ry, n = 0; n < a.length; n++) {
        c(a[n]);
      }

      return c;
    }({
      1: [function (n, t, e) {
        var o,
            r,
            i = t.exports = {};

        function u() {
          throw new Error("setTimeout has not been defined");
        }

        function a() {
          throw new Error("clearTimeout has not been defined");
        }

        function c(n) {
          if (o === setTimeout) return setTimeout(n, 0);
          if ((o === u || !o) && setTimeout) return o = setTimeout, setTimeout(n, 0);

          try {
            return o(n, 0);
          } catch (t) {
            try {
              return o.call(null, n, 0);
            } catch (t) {
              return o.call(this, n, 0);
            }
          }
        }

        !function () {
          try {
            o = "function" == typeof setTimeout ? setTimeout : u;
          } catch (n) {
            o = u;
          }

          try {
            r = "function" == typeof clearTimeout ? clearTimeout : a;
          } catch (n) {
            r = a;
          }
        }();
        var s,
            f = [],
            l = !1,
            d = -1;

        function m() {
          l && s && (l = !1, s.length ? f = s.concat(f) : d = -1, f.length && g());
        }

        function g() {
          if (!l) {
            var n = c(m);
            l = !0;

            for (var t = f.length; t;) {
              for (s = f, f = []; ++d < t;) {
                s && s[d].run();
              }

              d = -1, t = f.length;
            }

            s = null, l = !1, function e(n) {
              if (r === clearTimeout) return clearTimeout(n);
              if ((r === a || !r) && clearTimeout) return r = clearTimeout, clearTimeout(n);

              try {
                return r(n);
              } catch (t) {
                try {
                  return r.call(null, n);
                } catch (t) {
                  return r.call(this, n);
                }
              }
            }(n);
          }
        }

        function p(n, t) {
          this.fun = n, this.array = t;
        }

        function h() {}

        i.nextTick = function (n) {
          var t = new Array(arguments.length - 1);
          if (1 < arguments.length) for (var e = 1; e < arguments.length; e++) {
            t[e - 1] = arguments[e];
          }
          f.push(new p(n, t)), 1 !== f.length || l || c(g);
        }, p.prototype.run = function () {
          this.fun.apply(null, this.array);
        }, i.title = "browser", i.browser = !0, i.env = {}, i.argv = [], i.version = "", i.versions = {}, i.on = h, i.addListener = h, i.once = h, i.off = h, i.removeListener = h, i.removeAllListeners = h, i.emit = h, i.prependListener = h, i.prependOnceListener = h, i.listeners = function (n) {
          return [];
        }, i.binding = function (n) {
          throw new Error("process.binding is not supported");
        }, i.cwd = function () {
          return "/";
        }, i.chdir = function (n) {
          throw new Error("process.chdir is not supported");
        }, i.umask = function () {
          return 0;
        };
      }, {}],
      2: [function (n, l, t) {
        (function (t) {
          function o() {}

          function i(n) {
            if ("object" != _typeof(this)) throw new TypeError("Promises must be constructed via new");
            if ("function" != typeof n) throw new TypeError("not a function");
            this._state = 0, this._handled = !1, this._value = undefined, this._deferreds = [], f(n, this);
          }

          function r(o, r) {
            for (; 3 === o._state;) {
              o = o._value;
            }

            0 !== o._state ? (o._handled = !0, i._immediateFn(function () {
              var n = 1 === o._state ? r.onFulfilled : r.onRejected;

              if (null !== n) {
                var t;

                try {
                  t = n(o._value);
                } catch (e) {
                  return void a(r.promise, e);
                }

                u(r.promise, t);
              } else (1 === o._state ? u : a)(r.promise, o._value);
            })) : o._deferreds.push(r);
          }

          function u(n, t) {
            try {
              if (t === n) throw new TypeError("A promise cannot be resolved with itself.");

              if (t && ("object" == _typeof(t) || "function" == typeof t)) {
                var e = t.then;
                if (t instanceof i) return n._state = 3, n._value = t, void c(n);
                if ("function" == typeof e) return void f(function o(n, t) {
                  return function () {
                    n.apply(t, arguments);
                  };
                }(e, t), n);
              }

              n._state = 1, n._value = t, c(n);
            } catch (r) {
              a(n, r);
            }
          }

          function a(n, t) {
            n._state = 2, n._value = t, c(n);
          }

          function c(n) {
            2 === n._state && 0 === n._deferreds.length && i._immediateFn(function () {
              n._handled || i._unhandledRejectionFn(n._value);
            });

            for (var t = 0, e = n._deferreds.length; t < e; t++) {
              r(n, n._deferreds[t]);
            }

            n._deferreds = null;
          }

          function s(n, t, e) {
            this.onFulfilled = "function" == typeof n ? n : null, this.onRejected = "function" == typeof t ? t : null, this.promise = e;
          }

          function f(n, t) {
            var e = !1;

            try {
              n(function (n) {
                e || (e = !0, u(t, n));
              }, function (n) {
                e || (e = !0, a(t, n));
              });
            } catch (o) {
              if (e) return;
              e = !0, a(t, o);
            }
          }

          var n, e;
          n = this, e = setTimeout, i.prototype["catch"] = function (n) {
            return this.then(null, n);
          }, i.prototype.then = function (n, t) {
            var e = new this.constructor(o);
            return r(this, new s(n, t, e)), e;
          }, i.all = function (n) {
            var c = Array.prototype.slice.call(n);
            return new i(function (r, i) {
              if (0 === c.length) return r([]);
              var u = c.length;

              function a(t, n) {
                try {
                  if (n && ("object" == _typeof(n) || "function" == typeof n)) {
                    var e = n.then;
                    if ("function" == typeof e) return void e.call(n, function (n) {
                      a(t, n);
                    }, i);
                  }

                  c[t] = n, 0 == --u && r(c);
                } catch (o) {
                  i(o);
                }
              }

              for (var n = 0; n < c.length; n++) {
                a(n, c[n]);
              }
            });
          }, i.resolve = function (t) {
            return t && "object" == _typeof(t) && t.constructor === i ? t : new i(function (n) {
              n(t);
            });
          }, i.reject = function (e) {
            return new i(function (n, t) {
              t(e);
            });
          }, i.race = function (r) {
            return new i(function (n, t) {
              for (var e = 0, o = r.length; e < o; e++) {
                r[e].then(n, t);
              }
            });
          }, i._immediateFn = "function" == typeof t ? function (n) {
            t(n);
          } : function (n) {
            e(n, 0);
          }, i._unhandledRejectionFn = function (n) {
            "undefined" != typeof console && console && console.warn("Possible Unhandled Promise Rejection:", n);
          }, i._setImmediateFn = function (n) {
            i._immediateFn = n;
          }, i._setUnhandledRejectionFn = function (n) {
            i._unhandledRejectionFn = n;
          }, void 0 !== l && l.exports ? l.exports = i : n.Promise || (n.Promise = i);
        }).call(this, n("timers").setImmediate);
      }, {
        timers: 3
      }],
      3: [function (c, n, s) {
        (function (n, t) {
          var o = c("process/browser.js").nextTick,
              e = Function.prototype.apply,
              r = Array.prototype.slice,
              i = {},
              u = 0;

          function a(n, t) {
            this._id = n, this._clearFn = t;
          }

          s.setTimeout = function () {
            return new a(e.call(setTimeout, window, arguments), clearTimeout);
          }, s.setInterval = function () {
            return new a(e.call(setInterval, window, arguments), clearInterval);
          }, s.clearTimeout = s.clearInterval = function (n) {
            n.close();
          }, a.prototype.unref = a.prototype.ref = function () {}, a.prototype.close = function () {
            this._clearFn.call(window, this._id);
          }, s.enroll = function (n, t) {
            clearTimeout(n._idleTimeoutId), n._idleTimeout = t;
          }, s.unenroll = function (n) {
            clearTimeout(n._idleTimeoutId), n._idleTimeout = -1;
          }, s._unrefActive = s.active = function (n) {
            clearTimeout(n._idleTimeoutId);
            var t = n._idleTimeout;
            0 <= t && (n._idleTimeoutId = setTimeout(function () {
              n._onTimeout && n._onTimeout();
            }, t));
          }, s.setImmediate = "function" == typeof n ? n : function (n) {
            var t = u++,
                e = !(arguments.length < 2) && r.call(arguments, 1);
            return i[t] = !0, o(function () {
              i[t] && (e ? n.apply(null, e) : n.call(null), s.clearImmediate(t));
            }), t;
          }, s.clearImmediate = "function" == typeof t ? t : function (n) {
            delete i[n];
          };
        }).call(this, c("timers").setImmediate, c("timers").clearImmediate);
      }, {
        "process/browser.js": 1,
        timers: 3
      }],
      4: [function (n, t, e) {
        var o = n("promise-polyfill"),
            r = "undefined" != typeof window ? window : Function("return this;")();
        t.exports = {
          boltExport: r.Promise || o
        };
      }, {
        "promise-polyfill": 2
      }]
    }, {}, [4])(4);
  });

  function Sy(n) {
    v.setTimeout(function () {
      throw n;
    }, 0);
  }

  function Cy(n) {
    var t = Ke(n);
    return vn(Hy, t);
  }

  function ky(n, t) {
    var e = t.getRoot(n).getOr(n.element());
    dr(e, t.invalidClass), t.notify.each(function (t) {
      Cy(n.element()) && Po(n.element(), "aria-invalid", !1), t.getContainer(n).each(function (n) {
        No(n, t.validHtml);
      }), t.onValid(n);
    });
  }

  function Oy(t, n, e, o) {
    var r = n.getRoot(t).getOr(t.element());
    fr(r, n.invalidClass), n.notify.each(function (n) {
      Cy(t.element()) && Po(t.element(), "aria-invalid", !0), n.getContainer(t).each(function (n) {
        No(n, o);
      }), n.onInvalid(t, o);
    });
  }

  function Ey(t, n, e) {
    return n.validator.fold(function () {
      return Ny(an.value(!0));
    }, function (n) {
      return n.validate(t);
    });
  }

  function Ty(t, e, n) {
    return e.notify.each(function (n) {
      n.onValidate(t);
    }), Ey(t, e).map(function (n) {
      return t.getSystem().isConnected() ? n.fold(function (n) {
        return Oy(t, e, 0, n), an.error(n);
      }, function (n) {
        return ky(t, e), an.value(n);
      }) : an.error("No longer in system");
    });
  }

  function By(n, t, e, o) {
    var r = Xy(n, t, e, o);
    return vy.sketch(r);
  }

  function Dy(n, t) {
    return vy.parts().label({
      dom: {
        tag: "label",
        classes: ["tox-label"],
        innerHtml: t.translate(n)
      }
    });
  }

  var Ay,
      _y,
      My = wy.exports.boltExport,
      Fy = function Fy(n) {
    var e = on.none(),
        t = [],
        o = function o(n) {
      r() ? u(n) : t.push(n);
    },
        r = function r() {
      return e.isSome();
    },
        i = function i(n) {
      bn(n, u);
    },
        u = function u(t) {
      e.each(function (n) {
        v.setTimeout(function () {
          t(n);
        }, 0);
      });
    };

    return n(function (n) {
      e = on.some(n), i(t), t = [];
    }), {
      get: o,
      map: function map(e) {
        return Fy(function (t) {
          o(function (n) {
            t(e(n));
          });
        });
      },
      isReady: r
    };
  },
      Iy = {
    nu: Fy,
    pure: function pure(t) {
      return Fy(function (n) {
        n(t);
      });
    }
  },
      Ry = function Ry(e) {
    function n(n) {
      e().then(n, Sy);
    }

    return {
      map: function map(n) {
        return Ry(function () {
          return e().then(n);
        });
      },
      bind: function bind(t) {
        return Ry(function () {
          return e().then(function (n) {
            return t(n).toPromise();
          });
        });
      },
      anonBind: function anonBind(n) {
        return Ry(function () {
          return e().then(function () {
            return n.toPromise();
          });
        });
      },
      toLazy: function toLazy() {
        return Iy.nu(n);
      },
      toCached: function toCached() {
        var n = null;
        return Ry(function () {
          return null === n && (n = e()), n;
        });
      },
      toPromise: e,
      get: n
    };
  },
      Vy = function Vy(n) {
    return Ry(function () {
      return new My(n);
    });
  },
      Ny = function Ny(n) {
    return Ry(function () {
      return My.resolve(n);
    });
  },
      Hy = ["input", "textarea"],
      Py =
  /* */
  Object.freeze({
    markValid: ky,
    markInvalid: Oy,
    query: Ey,
    run: Ty,
    isInvalid: function isInvalid(n, t) {
      var e = t.getRoot(n).getOr(n.element());
      return mr(e, t.invalidClass);
    }
  }),
      zy =
  /* */
  Object.freeze({
    events: function events(t, n) {
      return t.validator.map(function (n) {
        return co([lo(n.onEvent, function (n) {
          Ty(n, t).get(l);
        })].concat(n.validateOnLoad ? [Ii(function (n) {
          Ty(n, t).get(Z);
        })] : []));
      }).getOr({});
    }
  }),
      Ly = [ct("invalidClass"), St("getRoot", on.none), wt("notify", [St("aria", "alert"), St("getContainer", on.none), St("validHtml", ""), qu("onValid"), qu("onInvalid"), qu("onValidate")]), wt("validator", [ct("validate"), St("onEvent", "input"), St("validateOnLoad", !0)])],
      jy = ya({
    fields: Ly,
    name: "invalidating",
    active: zy,
    apis: Py,
    extra: {
      validation: function validation(e) {
        return function (n) {
          var t = Zf.getValue(n);
          return Ny(e(t));
        };
      }
    }
  }),
      Uy =
  /* */
  Object.freeze({
    exhibit: function exhibit(n, t) {
      return Zo({
        attributes: K([{
          key: t.tabAttr,
          value: "true"
        }])
      });
    }
  }),
      Wy = [St("tabAttr", "data-alloy-tabstop")],
      Gy = ya({
    fields: Wy,
    name: "tabstopping",
    active: Uy
  }),
      Xy = function Xy(n, t, e, o) {
    return {
      dom: Yy(e),
      components: n.toArray().concat([t]),
      fieldBehaviours: ba(o)
    };
  },
      Yy = function Yy(n) {
    return {
      tag: "div",
      classes: ["tox-form__group"].concat(n)
    };
  },
      qy =
  /* */
  Object.freeze({
    getCoupled: function getCoupled(n, t, e, o) {
      return e.getOrCreate(n, t, o);
    }
  }),
      Ky = [st("others", nt(an.value, de()))],
      Jy = ya({
    fields: Ky,
    name: "coupling",
    apis: qy,
    state:
    /* */
    Object.freeze({
      init: function init(n) {
        var i = {},
            t = nn({});
        return nu({
          readState: t,
          getOrCreate: function getOrCreate(e, o, r) {
            var n = wn(o.others);
            if (n) return Nn(i, r).getOrThunk(function () {
              var n = Nn(o.others, r).getOrDie("No information found for coupled component: " + r)(e),
                  t = e.getSystem().build(n);
              return i[r] = t;
            });
            throw new Error("Cannot find coupled component: " + r + ". Known coupled components: " + JSON.stringify(n, null, 2));
          }
        });
      }
    })
  }),
      $y = nn("sink"),
      Qy = nn(Sl({
    name: $y(),
    overrides: nn({
      dom: {
        tag: "div"
      },
      behaviours: ba([Af.config({
        useFixed: a
      })]),
      events: co([vo(ni()), vo(Yr()), vo(ri())])
    })
  }));

  (_y = Ay = Ay || {})[_y.HighlightFirst = 0] = "HighlightFirst", _y[_y.HighlightNone = 1] = "HighlightNone";

  function Zy(n, t) {
    var e = n.getHotspot(t).getOr(t),
        o = n.getAnchorOverrides();
    return n.layouts.fold(function () {
      return {
        anchor: "hotspot",
        hotspot: e,
        overrides: o
      };
    }, function (n) {
      return {
        anchor: "hotspot",
        hotspot: e,
        overrides: o,
        layouts: n
      };
    });
  }

  function nx(n, t, e, o, r, i, u) {
    return function (n, t, r, e, i, o, u) {
      var a = function (n, t, e) {
        return (0, n.fetch)(e).map(t);
      }(n, t, e),
          c = Sw(e, n);

      return a.map(function (n) {
        return n.bind(function (n) {
          return on.from(Lg.sketch(_N(_N({}, o.menu()), {
            uid: Yo(""),
            data: n,
            highlightImmediately: u === Ay.HighlightFirst,
            onOpenMenu: function onOpenMenu(n, t) {
              var e = c().getOrDie();
              Af.position(e, r, t), zf.decloak(i);
            },
            onOpenSubmenu: function onOpenSubmenu(n, t, e) {
              var o = c().getOrDie();
              Af.position(o, {
                anchor: "submenu",
                item: t
              }, e), zf.decloak(i);
            },
            onRepositionMenu: function onRepositionMenu(n, t, e) {
              var o = c().getOrDie();
              Af.position(o, r, t), bn(e, function (n) {
                Af.position(o, {
                  anchor: "submenu",
                  item: n.triggeringItem
                }, n.triggeredMenu);
              });
            },
            onEscape: function onEscape() {
              return vg.focus(e), zf.close(i), on.some(!0);
            }
          })));
        });
      });
    }(n, t, Zy(n, e), e, o, r, u).map(function (n) {
      return n.fold(function () {
        zf.isOpen(o) && zf.close(o);
      }, function (n) {
        zf.cloak(o), zf.open(o, n), i(o);
      }), o;
    });
  }

  function tx(n, t, e, o, r, i, u) {
    return zf.close(o), Ny(o);
  }

  function ex(n, t, e, o, r, i) {
    var u = Jy.getCoupled(e, "sandbox");
    return (zf.isOpen(u) ? tx : nx)(n, t, e, u, o, r, i);
  }

  function ox(n, t, e) {
    var o = Zl.getCurrent(t).getOr(t),
        r = mu(n.element());
    e ? yr(o.element(), "min-width", r + "px") : function (n, t) {
      Vu.set(n, t);
    }(o.element(), r);
  }

  function rx(n) {
    zf.getState(n).each(function (n) {
      Lg.repositionMenus(n);
    });
  }

  function ix(o, r, i) {
    var u = Eu(),
        n = Sw(r, o);
    return {
      dom: {
        tag: "div",
        classes: o.sandboxClasses,
        attributes: {
          id: u.id(),
          role: "listbox"
        }
      },
      behaviours: tl(o.sandboxBehaviours, [Zf.config({
        store: {
          mode: "memory",
          initialValue: r
        }
      }), zf.config({
        onOpen: function onOpen(n, t) {
          var e = Zy(o, r);
          u.link(r.element()), o.matchWidth && ox(e.hotspot, t, o.useMinWidth), o.onOpen(e, n, t), i !== undefined && i.onOpen !== undefined && i.onOpen(n, t);
        },
        onClose: function onClose(n, t) {
          u.unlink(r.element()), i !== undefined && i.onClose !== undefined && i.onClose(n, t);
        },
        isPartOf: function isPartOf(n, t, e) {
          return Lu(t, e) || Lu(r, e);
        },
        getAttachPoint: function getAttachPoint() {
          return n().getOrDie();
        }
      }), Zl.config({
        find: function find(n) {
          return zf.getState(n).bind(function (n) {
            return Zl.getCurrent(n);
          });
        }
      }), lc.config({
        channels: _N(_N({}, Es({
          isExtraPart: nn(!1)
        })), Ts({
          isExtraPart: nn(!1),
          doReposition: rx
        }))
      })])
    };
  }

  function ux(n) {
    var t = Jy.getCoupled(n, "sandbox");
    rx(t);
  }

  function ax() {
    return [St("sandboxClasses", []), nl("sandboxBehaviours", [Zl, lc, zf, Zf])];
  }

  function cx(e, t, o) {
    function r(n, t) {
      ro(n, Bw, {
        value: t
      });
    }

    var n = vy.parts().field({
      factory: yy,
      inputClasses: ["tox-textfield"],
      onSetValue: function onSetValue(n) {
        return jy.run(n).get(function () {});
      },
      inputBehaviours: ba([Gy.config({}), jy.config({
        invalidClass: "tox-textbox-field-invalid",
        getRoot: function getRoot(n) {
          return Eo(n.element());
        },
        notify: {
          onValid: function onValid(n) {
            var t = Zf.getValue(n);
            ro(n, Tw, {
              color: t
            });
          }
        },
        validator: {
          validateOnLoad: !1,
          validate: function validate(n) {
            var t = Zf.getValue(n);
            if (0 === t.length) return Ny(an.value(!0));
            var e = we.fromTag("span");
            yr(e, "background-color", t);
            var o = Sr(e, "background-color").fold(function () {
              return an.error("blah");
            }, function (n) {
              return an.value(t);
            });
            return Ny(o);
          }
        }
      })]),
      selectOnFocus: !1
    }),
        i = e.label.map(function (n) {
      return Dy(n, t.providers);
    }),
        u = vm(function (e, o) {
      return Ow.sketch({
        dom: e.dom,
        components: e.components,
        toggleClass: "mce-active",
        dropdownBehaviours: ba([Ew.config({}), Gy.config({})]),
        layouts: e.layouts,
        sandboxClasses: ["tox-dialog__popups"],
        lazySink: o.getSink,
        fetch: function fetch(t) {
          return Vy(function (n) {
            return e.fetch(n);
          }).map(function (n) {
            return on.from(ub(Dn(Tv(Xo("menu-value"), n, function (n) {
              e.onItemAction(t, n);
            }, e.columns, e.presets, Fh.CLOSE_ON_EXECUTE, function () {
              return !1;
            }, o.providers), {
              movement: Bv(e.columns, e.presets)
            })));
          });
        },
        parts: {
          menu: Sv(0, 0, e.presets)
        }
      });
    }({
      dom: {
        tag: "span",
        attributes: {
          "aria-label": t.providers.translate("Color swatch")
        }
      },
      layouts: on.some({
        onRtl: function onRtl() {
          return [ua];
        },
        onLtr: function onLtr() {
          return [aa];
        }
      }),
      components: [],
      fetch: Uv.getFetch(o.getColors(), o.hasCustomColors()),
      columns: o.getColorCols(),
      presets: "color",
      onItemAction: function onItemAction(n, e) {
        u.getOpt(n).each(function (t) {
          "custom" === e ? o.colorPicker(function (n) {
            n.fold(function () {
              return oo(t, Dw);
            }, function (n) {
              r(t, n), Vv(n);
            });
          }, "#ffffff") : r(t, "remove" === e ? "" : e);
        });
      }
    }, t));
    return vy.sketch({
      dom: {
        tag: "div",
        classes: ["tox-form__group"]
      },
      components: i.toArray().concat([{
        dom: {
          tag: "div",
          classes: ["tox-color-input"]
        },
        components: [n, u.asSpec()]
      }]),
      fieldBehaviours: ba([Kd("form-field-events", [lo(Tw, function (n, t) {
        u.getOpt(n).each(function (n) {
          yr(n.element(), "background-color", t.event().color());
        }), ro(n, uy, {
          name: e.name
        });
      }), lo(Bw, function (t, e) {
        vy.getField(t).each(function (n) {
          Zf.setValue(n, e.event().value()), Zl.getCurrent(t).each(vg.focus);
        });
      }), lo(Dw, function (t, n) {
        vy.getField(t).each(function (n) {
          Zl.getCurrent(t).each(vg.focus);
        });
      })])])
    });
  }

  function sx(n, t, e) {
    return {
      hue: nn(n),
      saturation: nn(t),
      value: nn(e)
    };
  }

  function fx(t) {
    return Sl({
      name: t + "-edge",
      overrides: function overrides(n) {
        return n.model.manager.edgeActions[t].fold(function () {
          return {};
        }, function (o) {
          return {
            events: co([mo(Ur(), o, [n]), mo(Yr(), o, [n]), mo(qr(), function (n, t, e) {
              e.mouseIsDown.get() && o(n, e);
            }, [n])])
          };
        });
      }
    });
  }

  function lx(n) {
    var t = n.event().raw();

    if (function (n) {
      return -1 !== n.type.indexOf("touch");
    }(t)) {
      var e = t;
      return e.touches !== undefined && 1 === e.touches.length ? on.some(e.touches[0]).map(function (n) {
        return Iu(n.clientX, n.clientY);
      }) : on.none();
    }

    var o = t;
    return o.clientX !== undefined ? on.some(o).map(function (n) {
      return Iu(n.clientX, n.clientY);
    }) : on.none();
  }

  function dx(n) {
    return n.model.minX;
  }

  function mx(n) {
    return n.model.minY;
  }

  function gx(n) {
    return n.model.minX - 1;
  }

  function px(n) {
    return n.model.minY - 1;
  }

  function hx(n) {
    return n.model.maxX;
  }

  function vx(n) {
    return n.model.maxY;
  }

  function bx(n) {
    return n.model.maxX + 1;
  }

  function yx(n) {
    return n.model.maxY + 1;
  }

  function xx(n, t, e) {
    return t(n) - e(n);
  }

  function wx(n) {
    return xx(n, hx, dx);
  }

  function Sx(n) {
    return xx(n, vx, mx);
  }

  function Cx(n) {
    return wx(n) / 2;
  }

  function kx(n) {
    return Sx(n) / 2;
  }

  function Ox(n) {
    return n.stepSize;
  }

  function Ex(n) {
    return n.snapToGrid;
  }

  function Tx(n) {
    return n.snapStart;
  }

  function Bx(n) {
    return n.rounded;
  }

  function Dx(n, t) {
    return n[t + "-edge"] !== undefined;
  }

  function Ax(n) {
    return Dx(n, "left");
  }

  function _x(n) {
    return Dx(n, "right");
  }

  function Mx(n) {
    return Dx(n, "top");
  }

  function Fx(n) {
    return Dx(n, "bottom");
  }

  function Ix(n) {
    return n.model.value.get();
  }

  function Rx(n) {
    return {
      x: nn(n)
    };
  }

  function Vx(n) {
    return {
      y: nn(n)
    };
  }

  function Nx(n, t) {
    return {
      x: nn(n),
      y: nn(t)
    };
  }

  function Hx(n, t) {
    ro(n, jw(), {
      value: t
    });
  }

  function Px(n, t, e, o) {
    return n < t ? n : e < n ? e : n === t ? t - 1 : Math.max(t, n - o);
  }

  function zx(n, t, e, o) {
    return e < n ? n : n < t ? t : n === e ? e + 1 : Math.min(e, n + o);
  }

  function Lx(n, t, e) {
    return Math.max(t, Math.min(e, n));
  }

  function jx(n) {
    var t = n.min,
        e = n.max,
        o = n.range,
        r = n.value,
        i = n.step,
        u = n.snap,
        a = n.snapStart,
        c = n.rounded,
        s = n.hasMinEdge,
        f = n.hasMaxEdge,
        l = n.minBound,
        d = n.maxBound,
        m = n.screenRange,
        g = s ? t - 1 : t,
        p = f ? e + 1 : e;
    if (r < l) return g;
    if (d < r) return p;

    var h = function (n, t, e) {
      return Math.min(e, Math.max(n, t)) - t;
    }(r, l, d),
        v = Lx(h / m * o + t, g, p);

    return u && t <= v && v <= e ? function (u, e, a, c, n) {
      return n.fold(function () {
        var n = u - e,
            t = Math.round(n / c) * c;
        return Lx(e + t, e - 1, a + 1);
      }, function (n) {
        var t = (u - n) % c,
            e = Math.round(t / c),
            o = Math.floor((u - n) / c),
            r = Math.floor((a - n) / c),
            i = n + Math.min(r, o + e) * c;
        return Math.max(n, i);
      });
    }(v, t, e, i, a) : c ? Math.round(v) : v;
  }

  function Ux(n) {
    var t = n.min,
        e = n.max,
        o = n.range,
        r = n.value,
        i = n.hasMinEdge,
        u = n.hasMaxEdge,
        a = n.maxBound,
        c = n.maxOffset,
        s = n.centerMinEdge,
        f = n.centerMaxEdge;
    return r < t ? i ? 0 : s : e < r ? u ? a : f : (r - t) / o * c;
  }

  function Wx(n) {
    return n.element().dom().getBoundingClientRect();
  }

  function Gx(n, t) {
    return n[t];
  }

  function Xx(n) {
    var t = Wx(n);
    return Gx(t, Uw);
  }

  function Yx(n) {
    var t = Wx(n);
    return Gx(t, "right");
  }

  function qx(n) {
    var t = Wx(n);
    return Gx(t, "top");
  }

  function Kx(n) {
    var t = Wx(n);
    return Gx(t, "bottom");
  }

  function Jx(n) {
    var t = Wx(n);
    return Gx(t, "width");
  }

  function $x(n) {
    var t = Wx(n);
    return Gx(t, "height");
  }

  function Qx(n, t, e) {
    return (n + t) / 2 - e;
  }

  function Zx(n, t) {
    var e = Wx(n),
        o = Wx(t),
        r = Gx(e, Uw),
        i = Gx(e, "right"),
        u = Gx(o, Uw);
    return Qx(r, i, u);
  }

  function nw(n, t) {
    var e = Wx(n),
        o = Wx(t),
        r = Gx(e, "top"),
        i = Gx(e, "bottom"),
        u = Gx(o, "top");
    return Qx(r, i, u);
  }

  function tw(n, t) {
    ro(n, jw(), {
      value: t
    });
  }

  function ew(n) {
    return {
      x: nn(n)
    };
  }

  function ow(n, t, e) {
    var o = {
      min: dx(t),
      max: hx(t),
      range: wx(t),
      value: e,
      step: Ox(t),
      snap: Ex(t),
      snapStart: Tx(t),
      rounded: Bx(t),
      hasMinEdge: Ax(t),
      hasMaxEdge: _x(t),
      minBound: Xx(n),
      maxBound: Yx(n),
      screenRange: Jx(n)
    };
    return jx(o);
  }

  function rw(e) {
    return function (n, t) {
      return function (n, t, e) {
        var o = (0 < n ? zx : Px)(Ix(e).x(), dx(e), hx(e), Ox(e));
        return tw(t, ew(o)), on.some(o);
      }(e, n, t).map(function () {
        return !0;
      });
    };
  }

  function iw(n, t, e, o, r, i) {
    var u = function (t, n, e, o, r) {
      var i = Jx(t),
          u = o.bind(function (n) {
        return on.some(Zx(n, t));
      }).getOr(0),
          a = r.bind(function (n) {
        return on.some(Zx(n, t));
      }).getOr(i),
          c = {
        min: dx(n),
        max: hx(n),
        range: wx(n),
        value: e,
        hasMinEdge: Ax(n),
        hasMaxEdge: _x(n),
        minBound: Xx(t),
        minOffset: 0,
        maxBound: Yx(t),
        maxOffset: i,
        centerMinEdge: u,
        centerMaxEdge: a
      };
      return Ux(c);
    }(t, i, e, o, r);

    return Xx(t) - Xx(n) + u;
  }

  function uw(n, t) {
    ro(n, jw(), {
      value: t
    });
  }

  function aw(n) {
    return {
      y: nn(n)
    };
  }

  function cw(n, t, e) {
    var o = {
      min: mx(t),
      max: vx(t),
      range: Sx(t),
      value: e,
      step: Ox(t),
      snap: Ex(t),
      snapStart: Tx(t),
      rounded: Bx(t),
      hasMinEdge: Mx(t),
      hasMaxEdge: Fx(t),
      minBound: qx(n),
      maxBound: Kx(n),
      screenRange: $x(n)
    };
    return jx(o);
  }

  function sw(e) {
    return function (n, t) {
      return function (n, t, e) {
        var o = (0 < n ? zx : Px)(Ix(e).y(), mx(e), vx(e), Ox(e));
        return uw(t, aw(o)), on.some(o);
      }(e, n, t).map(function () {
        return !0;
      });
    };
  }

  function fw(n, t, e, o, r, i) {
    var u = function (t, n, e, o, r) {
      var i = $x(t),
          u = o.bind(function (n) {
        return on.some(nw(n, t));
      }).getOr(0),
          a = r.bind(function (n) {
        return on.some(nw(n, t));
      }).getOr(i),
          c = {
        min: mx(n),
        max: vx(n),
        range: Sx(n),
        value: e,
        hasMinEdge: Mx(n),
        hasMaxEdge: Fx(n),
        minBound: qx(t),
        minOffset: 0,
        maxBound: Kx(t),
        maxOffset: i,
        centerMinEdge: u,
        centerMaxEdge: a
      };
      return Ux(c);
    }(t, i, e, o, r);

    return qx(t) - qx(n) + u;
  }

  function lw(n, t) {
    ro(n, jw(), {
      value: t
    });
  }

  function dw(n, t) {
    return {
      x: nn(n),
      y: nn(t)
    };
  }

  function mw(e, o) {
    return function (n, t) {
      return function (n, t, e, o) {
        var r = 0 < n ? zx : Px,
            i = t ? Ix(o).x() : r(Ix(o).x(), dx(o), hx(o), Ox(o)),
            u = t ? r(Ix(o).y(), mx(o), vx(o), Ox(o)) : Ix(o).y();
        return lw(e, dw(i, u)), on.some(i);
      }(e, o, n, t).map(function () {
        return !0;
      });
    };
  }

  function gw(n) {
    return "<alloy.field." + n + ">";
  }

  function pw(n) {
    return function (n) {
      return CS[n];
    }(n);
  }

  function hw(n, t, e) {
    return Zf.config(Dn({
      store: {
        mode: "manual",
        getValue: t,
        setValue: e
      }
    }, n.map(function (n) {
      return {
        store: {
          initialValue: n
        }
      };
    }).getOr({})));
  }

  function vw(n, t, e) {
    return hw(n, function (n) {
      return t(n.element());
    }, function (n, t) {
      return e(n.element(), t);
    });
  }

  function bw(e, t) {
    function o(n, t) {
      t.stop();
    }

    function r(n) {
      return function (t, e) {
        bn(n, function (n) {
          n(t, e);
        });
      };
    }

    function i(n, t) {
      if (!Ch.isDisabled(n)) {
        var e = t.event().raw();
        a(n, e.dataTransfer.files);
      }
    }

    function u(n, t) {
      var e = t.event().raw().target.files;
      a(n, e);
    }

    var a = function a(n, t) {
      Zf.setValue(n, function (n) {
        var t = new RegExp("(" + ".jpg,.jpeg,.png,.gif".split(/\s*,\s*/).join("|") + ")$", "i");
        return C(xn(n), function (n) {
          return t.test(n.name);
        });
      }(t)), ro(n, uy, {
        name: e.name
      });
    },
        c = vm({
      dom: {
        tag: "input",
        attributes: {
          type: "file",
          accept: "image/*"
        },
        styles: {
          display: "none"
        }
      },
      behaviours: ba([Kd("input-file-events", [vo(ri()), vo(gi())])])
    }),
        n = e.label.map(function (n) {
      return Dy(n, t);
    }),
        s = vy.parts().field({
      factory: {
        sketch: function sketch(n) {
          return {
            uid: n.uid,
            dom: {
              tag: "div",
              classes: ["tox-dropzone-container"]
            },
            behaviours: ba([DS([]), xS(), Ch.config({}), Cg.config({
              toggleClass: "dragenter",
              toggleOnExecute: !1
            }), Kd("dropzone-events", [lo("dragenter", r([o, Cg.toggle])), lo("dragleave", r([o, Cg.toggle])), lo("dragover", o), lo("drop", r([o, i])), lo(oi(), u)])]),
            components: [{
              dom: {
                tag: "div",
                classes: ["tox-dropzone"],
                styles: {}
              },
              components: [{
                dom: {
                  tag: "p",
                  innerHtml: t.translate("Drop an image here")
                }
              }, Gg.sketch({
                dom: {
                  tag: "button",
                  innerHtml: t.translate("Browse for an image"),
                  styles: {
                    position: "relative"
                  },
                  classes: ["tox-button", "tox-button--secondary"]
                },
                components: [c.asSpec()],
                action: function action(n) {
                  c.get(n).element().dom().click();
                },
                buttonBehaviours: ba([Gy.config({})])
              })]
            }]
          };
        }
      }
    });

    return By(n, s, ["tox-form__group--stretched"], []);
  }

  function yw(n) {
    return {
      dom: {
        tag: "div",
        styles: {
          width: "1px",
          height: "1px",
          outline: "none"
        },
        attributes: {
          tabindex: "0"
        },
        classes: n
      },
      behaviours: ba([vg.config({
        ignore: !0
      }), Gy.config({})])
    };
  }

  function xw(n, t) {
    ro(n, ni(), {
      raw: {
        which: 9,
        shiftKey: t
      }
    });
  }

  function ww(n, t) {
    var e = RS && n.sandboxed,
        o = _N(_N({}, n.label.map(function (n) {
      return {
        title: n
      };
    }).getOr({})), e ? {
      sandbox: "allow-scripts allow-same-origin"
    } : {}),
        r = function (o) {
      var r = ye("");
      return {
        getValue: function getValue(n) {
          return r.get();
        },
        setValue: function setValue(n, t) {
          if (o) Po(n.element(), "srcdoc", t);else {
            Po(n.element(), "src", "javascript:''");
            var e = n.element().dom().contentWindow.document;
            e.open(), e.write(t), e.close();
          }
          r.set(t);
        }
      };
    }(e),
        i = n.label.map(function (n) {
      return Dy(n, t);
    }),
        u = vy.parts().field({
      factory: {
        sketch: function sketch(n) {
          return IS({
            uid: n.uid,
            dom: {
              tag: "iframe",
              attributes: o
            },
            behaviours: ba([Gy.config({}), vg.config({}), TS(on.none(), r.getValue, r.setValue)])
          });
        }
      }
    });

    return By(i, u, ["tox-form__group--stretched"], []);
  }

  var Sw = function Sw(t, n) {
    return t.getSystem().getByUid(n.uid + "-" + $y()).map(function (n) {
      return function () {
        return an.value(n);
      };
    }).getOrThunk(function () {
      return n.lazySink.fold(function () {
        return function () {
          return an.error(new Error("No internal sink is specified, nor could an external sink be found"));
        };
      }, function (n) {
        return function () {
          return n(t);
        };
      });
    });
  },
      Cw = nn([ct("dom"), ct("fetch"), qu("onOpen"), Ku("onExecute"), St("getHotspot", on.some), St("getAnchorOverrides", nn({})), St("layouts", on.none()), Fs("dropdownBehaviours", [Cg, Jy, lg, vg]), ct("toggleClass"), St("eventOrder", {}), ht("lazySink"), St("matchWidth", !1), St("useMinWidth", !1), ht("role")].concat(ax())),
      kw = nn([wl({
    schema: [Gu()],
    name: "menu",
    defaults: function defaults(n) {
      return {
        onExecute: n.onExecute
      };
    }
  }), Qy()]),
      Ow = Al({
    name: "Dropdown",
    configFields: Cw(),
    partFields: kw(),
    factory: function factory(t, n, e, o) {
      function r(n) {
        zf.getState(n).each(function (n) {
          Lg.highlightPrimary(n);
        });
      }

      function i(n, t) {
        return io(n), on.some(!0);
      }

      var u,
          a,
          c = {
        expand: function expand(n) {
          Cg.isOn(n) || ex(t, function (n) {
            return n;
          }, n, o, Z, Ay.HighlightNone).get(Z);
        },
        open: function open(n) {
          Cg.isOn(n) || ex(t, function (n) {
            return n;
          }, n, o, Z, Ay.HighlightFirst).get(Z);
        },
        isOpen: Cg.isOn,
        close: function close(n) {
          Cg.isOn(n) && ex(t, function (n) {
            return n;
          }, n, o, Z, Ay.HighlightFirst).get(Z);
        },
        repositionMenus: function repositionMenus(n) {
          Cg.isOn(n) && ux(n);
        }
      };
      return {
        uid: t.uid,
        dom: t.dom,
        components: n,
        behaviours: Rs(t.dropdownBehaviours, [Cg.config({
          toggleClass: t.toggleClass,
          aria: {
            mode: "expanded"
          }
        }), Jy.config({
          others: {
            sandbox: function sandbox(n) {
              return ix(t, n, {
                onOpen: function onOpen() {
                  Cg.on(n);
                },
                onClose: function onClose() {
                  Cg.off(n);
                }
              });
            }
          }
        }), lg.config({
          mode: "special",
          onSpace: i,
          onEnter: i,
          onDown: function onDown(n, t) {
            if (Ow.isOpen(n)) {
              var e = Jy.getCoupled(n, "sandbox");
              r(e);
            } else Ow.open(n);

            return on.some(!0);
          },
          onEscape: function onEscape(n, t) {
            return Ow.isOpen(n) ? (Ow.close(n), on.some(!0)) : on.none();
          }
        }), vg.config({})]),
        events: rm(on.some(function (n) {
          ex(t, function (n) {
            return n;
          }, n, o, r, Ay.HighlightFirst).get(Z);
        })),
        eventOrder: _N(_N({}, t.eventOrder), (u = {}, u[di()] = ["disabling", "toggling", "alloy.base.behaviour"], u)),
        apis: c,
        domModification: {
          attributes: _N(_N({
            "aria-haspopup": "true"
          }, t.role.fold(function () {
            return {};
          }, function (n) {
            return {
              role: n
            };
          })), "button" === t.dom.tag ? {
            type: (a = "type", Nn(t.dom, "attributes").bind(function (n) {
              return Nn(n, a);
            })).getOr("button")
          } : {})
        }
      };
    },
    apis: {
      open: function open(n, t) {
        return n.open(t);
      },
      expand: function expand(n, t) {
        return n.expand(t);
      },
      close: function close(n, t) {
        return n.close(t);
      },
      isOpen: function isOpen(n, t) {
        return n.isOpen(t);
      },
      repositionMenus: function repositionMenus(n, t) {
        return n.repositionMenus(t);
      }
    }
  }),
      Ew = ya({
    fields: [],
    name: "unselecting",
    active:
    /* */
    Object.freeze({
      events: function events(n) {
        return co([so(ui(), nn(!0))]);
      },
      exhibit: function exhibit(n, t) {
        return Zo({
          styles: {
            "-webkit-user-select": "none",
            "user-select": "none",
            "-ms-user-select": "none",
            "-moz-user-select": "-moz-none"
          },
          attributes: {
            unselectable: "on"
          }
        });
      }
    })
  }),
      Tw = Xo("color-input-change"),
      Bw = Xo("color-swatch-change"),
      Dw = Xo("color-picker-cancel"),
      Aw = nn(Xo("rgb-hex-update")),
      _w = nn(Xo("slider-update")),
      Mw = nn(Xo("palette-update")),
      Fw = Sl({
    schema: [ct("dom")],
    name: "label"
  }),
      Iw = fx("top-left"),
      Rw = fx("top"),
      Vw = fx("top-right"),
      Nw = fx("right"),
      Hw = fx("bottom-right"),
      Pw = fx("bottom"),
      zw = fx("bottom-left"),
      Lw = [Fw, fx("left"), Nw, Rw, Pw, Iw, Vw, zw, Hw, xl({
    name: "thumb",
    defaults: nn({
      dom: {
        styles: {
          position: "absolute"
        }
      }
    }),
    overrides: function overrides(n) {
      return {
        events: co([po(Ur(), n, "spectrum"), po(Wr(), n, "spectrum"), po(Gr(), n, "spectrum"), po(Yr(), n, "spectrum"), po(qr(), n, "spectrum"), po(Jr(), n, "spectrum")])
      };
    }
  }), xl({
    schema: [At("mouseIsDown", function () {
      return ye(!1);
    })],
    name: "spectrum",
    overrides: function overrides(e) {
      function o(t, n) {
        return r.getValueFromEvent(n).map(function (n) {
          return r.setValueFrom(t, e, n);
        });
      }

      var r = e.model.manager;
      return {
        behaviours: ba([lg.config({
          mode: "special",
          onLeft: function onLeft(n) {
            return r.onLeft(n, e);
          },
          onRight: function onRight(n) {
            return r.onRight(n, e);
          },
          onUp: function onUp(n) {
            return r.onUp(n, e);
          },
          onDown: function onDown(n) {
            return r.onDown(n, e);
          }
        }), vg.config({})]),
        events: co([lo(Ur(), o), lo(Wr(), o), lo(Yr(), o), lo(qr(), function (n, t) {
          e.mouseIsDown.get() && o(n, t);
        })])
      };
    }
  })],
      jw = nn("slider.change.value"),
      Uw = "left",
      Ww = rw(-1),
      Gw = rw(1),
      Xw = on.none,
      Yw = on.none,
      qw = {
    "top-left": on.none(),
    top: on.none(),
    "top-right": on.none(),
    right: on.some(function (n, t) {
      Hx(n, Rx(bx(t)));
    }),
    "bottom-right": on.none(),
    bottom: on.none(),
    "bottom-left": on.none(),
    left: on.some(function (n, t) {
      Hx(n, Rx(gx(t)));
    })
  },
      Kw =
  /* */
  Object.freeze({
    setValueFrom: function setValueFrom(n, t, e) {
      var o = ow(n, t, e),
          r = ew(o);
      return tw(n, r), o;
    },
    setToMin: function setToMin(n, t) {
      var e = dx(t);
      tw(n, ew(e));
    },
    setToMax: function setToMax(n, t) {
      var e = hx(t);
      tw(n, ew(e));
    },
    findValueOfOffset: ow,
    getValueFromEvent: function getValueFromEvent(n) {
      return lx(n).map(function (n) {
        return n.left();
      });
    },
    findPositionOfValue: iw,
    setPositionFromValue: function setPositionFromValue(n, t, e, o) {
      var r = Ix(e),
          i = iw(n, o.getSpectrum(n), r.x(), o.getLeftEdge(n), o.getRightEdge(n), e),
          u = mu(t.element()) / 2;
      yr(t.element(), "left", i - u + "px");
    },
    onLeft: Ww,
    onRight: Gw,
    onUp: Xw,
    onDown: Yw,
    edgeActions: qw
  }),
      Jw = on.none,
      $w = on.none,
      Qw = sw(-1),
      Zw = sw(1),
      nS = {
    "top-left": on.none(),
    top: on.some(function (n, t) {
      Hx(n, Vx(px(t)));
    }),
    "top-right": on.none(),
    right: on.none(),
    "bottom-right": on.none(),
    bottom: on.some(function (n, t) {
      Hx(n, Vx(yx(t)));
    }),
    "bottom-left": on.none(),
    left: on.none()
  },
      tS =
  /* */
  Object.freeze({
    setValueFrom: function setValueFrom(n, t, e) {
      var o = cw(n, t, e),
          r = aw(o);
      return uw(n, r), o;
    },
    setToMin: function setToMin(n, t) {
      var e = mx(t);
      uw(n, aw(e));
    },
    setToMax: function setToMax(n, t) {
      var e = vx(t);
      uw(n, aw(e));
    },
    findValueOfOffset: cw,
    getValueFromEvent: function getValueFromEvent(n) {
      return lx(n).map(function (n) {
        return n.top();
      });
    },
    findPositionOfValue: fw,
    setPositionFromValue: function setPositionFromValue(n, t, e, o) {
      var r = Ix(e),
          i = fw(n, o.getSpectrum(n), r.y(), o.getTopEdge(n), o.getBottomEdge(n), e),
          u = su(t.element()) / 2;
      yr(t.element(), "top", i - u + "px");
    },
    onLeft: Jw,
    onRight: $w,
    onUp: Qw,
    onDown: Zw,
    edgeActions: nS
  }),
      eS = mw(-1, !1),
      oS = mw(1, !1),
      rS = mw(-1, !0),
      iS = mw(1, !0),
      uS = {
    "top-left": on.some(function (n, t) {
      Hx(n, Nx(gx(t), px(t)));
    }),
    top: on.some(function (n, t) {
      Hx(n, Nx(Cx(t), px(t)));
    }),
    "top-right": on.some(function (n, t) {
      Hx(n, Nx(bx(t), px(t)));
    }),
    right: on.some(function (n, t) {
      Hx(n, Nx(bx(t), kx(t)));
    }),
    "bottom-right": on.some(function (n, t) {
      Hx(n, Nx(bx(t), yx(t)));
    }),
    bottom: on.some(function (n, t) {
      Hx(n, Nx(Cx(t), yx(t)));
    }),
    "bottom-left": on.some(function (n, t) {
      Hx(n, Nx(gx(t), yx(t)));
    }),
    left: on.some(function (n, t) {
      Hx(n, Nx(gx(t), kx(t)));
    })
  },
      aS =
  /* */
  Object.freeze({
    setValueFrom: function setValueFrom(n, t, e) {
      var o = ow(n, t, e.left()),
          r = cw(n, t, e.top()),
          i = dw(o, r);
      return lw(n, i), i;
    },
    setToMin: function setToMin(n, t) {
      var e = dx(t),
          o = mx(t);
      lw(n, dw(e, o));
    },
    setToMax: function setToMax(n, t) {
      var e = hx(t),
          o = vx(t);
      lw(n, dw(e, o));
    },
    getValueFromEvent: function getValueFromEvent(n) {
      return lx(n);
    },
    setPositionFromValue: function setPositionFromValue(n, t, e, o) {
      var r = Ix(e),
          i = iw(n, o.getSpectrum(n), r.x(), o.getLeftEdge(n), o.getRightEdge(n), e),
          u = fw(n, o.getSpectrum(n), r.y(), o.getTopEdge(n), o.getBottomEdge(n), e),
          a = mu(t.element()) / 2,
          c = su(t.element()) / 2;
      yr(t.element(), "left", i - a + "px"), yr(t.element(), "top", u - c + "px");
    },
    onLeft: eS,
    onRight: oS,
    onUp: rS,
    onDown: iS,
    edgeActions: uS
  }),
      cS = Al({
    name: "Slider",
    configFields: [St("stepSize", 1), St("onChange", Z), St("onChoose", Z), St("onInit", Z), St("onDragStart", Z), St("onDragEnd", Z), St("snapToGrid", !1), St("rounded", !0), ht("snapStart"), st("model", it("mode", {
      x: [St("minX", 0), St("maxX", 100), At("value", function (n) {
        return ye(n.mode.minX);
      }), ct("getInitialValue"), Qu("manager", Kw)],
      y: [St("minY", 0), St("maxY", 100), At("value", function (n) {
        return ye(n.mode.minY);
      }), ct("getInitialValue"), Qu("manager", tS)],
      xy: [St("minX", 0), St("maxX", 100), St("minY", 0), St("maxY", 100), At("value", function (n) {
        return ye({
          x: nn(n.mode.minX),
          y: nn(n.mode.minY)
        });
      }), ct("getInitialValue"), Qu("manager", aS)]
    })), Fs("sliderBehaviours", [lg, Zf]), At("mouseIsDown", function () {
      return ye(!1);
    })],
    partFields: Lw,
    factory: function factory(i, n, t, e) {
      function u(n) {
        return Ks(n, i, "thumb");
      }

      function a(n) {
        return Ks(n, i, "spectrum");
      }

      function o(n) {
        return qs(n, i, "left-edge");
      }

      function r(n) {
        return qs(n, i, "right-edge");
      }

      function c(n) {
        return qs(n, i, "top-edge");
      }

      function s(n) {
        return qs(n, i, "bottom-edge");
      }

      function f(n, t) {
        v.setPositionFromValue(n, t, i, {
          getLeftEdge: o,
          getRightEdge: r,
          getTopEdge: c,
          getBottomEdge: s,
          getSpectrum: a
        });
      }

      function l(n, t) {
        h.value.set(t);
        var e = u(n);
        return f(n, e), i.onChange(n, e, t), on.some(!0);
      }

      function d(e) {
        var n = i.mouseIsDown.get();
        i.mouseIsDown.set(!1), n && qs(e, i, "thumb").each(function (n) {
          var t = h.value.get();
          i.onChoose(e, n, t);
        });
      }

      function m(n, t) {
        t.stop(), i.mouseIsDown.set(!0), i.onDragStart(n, u(n));
      }

      function g(n, t) {
        t.stop(), i.onDragEnd(n, u(n)), d(n);
      }

      var p,
          h = i.model,
          v = h.manager;
      return {
        uid: i.uid,
        dom: i.dom,
        components: n,
        behaviours: Rs(i.sliderBehaviours, [lg.config({
          mode: "special",
          focusIn: function focusIn(n) {
            return qs(n, i, "spectrum").map(lg.focusIn).map(nn(!0));
          }
        }), Zf.config({
          store: {
            mode: "manual",
            getValue: function getValue(n) {
              return h.value.get();
            }
          }
        }), lc.config({
          channels: (p = {}, p[Uf()] = {
            onReceive: d
          }, p)
        })]),
        events: co([lo(jw(), function (n, t) {
          l(n, t.event().value());
        }), Ii(function (n, t) {
          var e = h.getInitialValue();
          h.value.set(e);
          var o = u(n);
          f(n, o);
          var r = a(n);
          i.onInit(n, o, r, h.value.get());
        }), lo(Ur(), m), lo(Gr(), g), lo(Yr(), m), lo(Jr(), g)]),
        apis: {
          resetToMin: function resetToMin(n) {
            v.setToMin(n, i);
          },
          resetToMax: function resetToMax(n) {
            v.setToMax(n, i);
          },
          changeValue: l,
          refresh: f
        },
        domModification: {
          styles: {
            position: "relative"
          }
        }
      };
    },
    apis: {
      resetToMin: function resetToMin(n, t) {
        n.resetToMin(t);
      },
      resetToMax: function resetToMax(n, t) {
        n.resetToMax(t);
      },
      refresh: function refresh(n, t) {
        n.refresh(t);
      }
    }
  }),
      sS = function sS(n, t) {
    var e = cS.parts().spectrum({
      dom: {
        tag: "div",
        classes: [t("hue-slider-spectrum")],
        attributes: {
          role: "presentation"
        }
      }
    }),
        o = cS.parts().thumb({
      dom: {
        tag: "div",
        classes: [t("hue-slider-thumb")],
        attributes: {
          role: "presentation"
        }
      }
    });
    return cS.sketch({
      dom: {
        tag: "div",
        classes: [t("hue-slider")],
        attributes: {
          role: "presentation"
        }
      },
      rounded: !1,
      model: {
        mode: "y",
        getInitialValue: nn({
          y: nn(0)
        })
      },
      components: [e, o],
      sliderBehaviours: ba([vg.config({})]),
      onChange: function onChange(n, t, e) {
        ro(n, _w(), {
          value: e
        });
      }
    });
  },
      fS = [Fs("formBehaviours", [Zf])],
      lS = function lS(o, n, t) {
    return {
      uid: o.uid,
      dom: o.dom,
      components: n,
      behaviours: Rs(o.formBehaviours, [Zf.config({
        store: {
          mode: "manual",
          getValue: function getValue(n) {
            var t = $s(n, o);
            return P(t, function (n, t) {
              return n().bind(function (n) {
                return function (n, t) {
                  return n.fold(function () {
                    return an.error(t);
                  }, an.value);
                }(Zl.getCurrent(n), "missing current");
              }).map(Zf.getValue);
            });
          },
          setValue: function setValue(e, n) {
            Cn(n, function (t, n) {
              qs(e, o, n).each(function (n) {
                Zl.getCurrent(n).each(function (n) {
                  Zf.setValue(n, t);
                });
              });
            });
          }
        }
      })]),
      apis: {
        getField: function getField(n, t) {
          return qs(n, o, t).bind(Zl.getCurrent);
        }
      }
    };
  },
      dS = {
    getField: $o(function (n, t, e) {
      return n.getField(t, e);
    }),
    sketch: function sketch(n) {
      var e,
          t = (e = [], {
        field: function field(n, t) {
          return e.push(n), Us("form", gw(n), t);
        },
        record: function record() {
          return e;
        }
      }),
          o = n(t),
          r = t.record(),
          i = S(r, function (n) {
        return xl({
          name: n,
          pname: gw(n)
        });
      });
      return of("form", fS, i, lS, o);
    }
  },
      mS = Xo("valid-input"),
      gS = Xo("invalid-input"),
      pS = Xo("validating-input"),
      hS = "colorcustom.rgb.",
      vS = function vS(d, m, g, p) {
    function h(n, t, e, o, r) {
      var i = d(hS + "range"),
          u = [vy.parts().label({
        dom: {
          tag: "label",
          innerHtml: e,
          attributes: {
            "aria-label": o
          }
        }
      }), vy.parts().field({
        data: r,
        factory: yy,
        inputAttributes: _N({
          type: "text"
        }, "hex" === t ? {
          "aria-live": "polite"
        } : {}),
        inputClasses: [m("textfield")],
        inputBehaviours: ba([function (t, o) {
          return jy.config({
            invalidClass: m("invalid"),
            notify: {
              onValidate: function onValidate(n) {
                ro(n, pS, {
                  type: t
                });
              },
              onValid: function onValid(n) {
                ro(n, mS, {
                  type: t,
                  value: Zf.getValue(n)
                });
              },
              onInvalid: function onInvalid(n) {
                ro(n, gS, {
                  type: t,
                  value: Zf.getValue(n)
                });
              }
            },
            validator: {
              validate: function validate(n) {
                var t = Zf.getValue(n),
                    e = o(t) ? an.value(!0) : an.error(d("aria.input.invalid"));
                return Ny(e);
              },
              validateOnLoad: !1
            }
          });
        }(t, n), Gy.config({})]),
        onSetValue: function onSetValue(n) {
          jy.isInvalid(n) && jy.run(n).get(Z);
        }
      })],
          a = "hex" !== t ? [vy.parts()["aria-descriptor"]({
        text: i
      })] : [];
      return {
        dom: {
          tag: "div",
          attributes: {
            role: "presentation"
          }
        },
        components: u.concat(a)
      };
    }

    function v(n, t) {
      var e = t.red(),
          o = t.green(),
          r = t.blue();
      Zf.setValue(n, {
        red: e,
        green: o,
        blue: r
      });
    }

    function b(n, t) {
      y.getOpt(n).each(function (n) {
        yr(n.element(), "background-color", "#" + t.value());
      });
    }

    var y = vm({
      dom: {
        tag: "div",
        classes: [m("rgba-preview")],
        styles: {
          "background-color": "white"
        },
        attributes: {
          role: "presentation"
        }
      }
    });
    return Dl({
      factory: function factory() {
        function r(n) {
          return u[n]().get();
        }

        function i(n, t) {
          u[n]().set(t);
        }

        function t(n, t) {
          var e = t.event();
          "hex" !== e.type() ? i(e.type(), on.none()) : p(n);
        }

        function o(e, n, t) {
          var o = parseInt(t, 10);
          i(n, on.some(o)), r("red").bind(function (e) {
            return r("green").bind(function (t) {
              return r("blue").map(function (n) {
                return Wh(e, t, n, 1);
              });
            });
          }).each(function (n) {
            var t = function (t, n) {
              var e = Uh(n);
              return dS.getField(t, "hex").each(function (n) {
                vg.isFocused(n) || Zf.setValue(t, {
                  hex: e.value()
                });
              }), e;
            }(e, n);

            b(e, t);
          });
        }

        function e(n, t) {
          var e = t.event();
          !function (n) {
            return "hex" === n.type();
          }(e) ? o(n, e.type(), e.value()) : function (n, t) {
            g(n);
            var e = Ph(t);
            i("hex", on.some(t));
            var o = Yh(e);
            v(n, o), a(o), ro(n, Aw(), {
              hex: e
            }), b(n, e);
          }(n, e.value());
        }

        function n(n) {
          return {
            label: d(hS + n + ".label"),
            description: d(hS + n + ".description")
          };
        }

        var u = {
          red: nn(ye(on.some(255))),
          green: nn(ye(on.some(255))),
          blue: nn(ye(on.some(255))),
          hex: nn(ye(on.some("ffffff")))
        },
            a = function a(n) {
          var t = n.red(),
              e = n.green(),
              o = n.blue();
          i("red", on.some(t)), i("green", on.some(e)), i("blue", on.some(o));
        },
            c = n("red"),
            s = n("green"),
            f = n("blue"),
            l = n("hex");

        return Dn(dS.sketch(function (n) {
          return {
            dom: {
              tag: "form",
              classes: [m("rgb-form")],
              attributes: {
                "aria-label": d("aria.color.picker")
              }
            },
            components: [n.field("red", vy.sketch(h(Gh, "red", c.label, c.description, 255))), n.field("green", vy.sketch(h(Gh, "green", s.label, s.description, 255))), n.field("blue", vy.sketch(h(Gh, "blue", f.label, f.description, 255))), n.field("hex", vy.sketch(h(zh, "hex", l.label, l.description, "ffffff"))), y.asSpec()],
            formBehaviours: ba([jy.config({
              invalidClass: m("form-invalid")
            }), Kd("rgb-form-events", [lo(mS, e), lo(gS, t), lo(pS, t)])])
          };
        }), {
          apis: {
            updateHex: function updateHex(n, t) {
              Zf.setValue(n, {
                hex: t.value()
              }), function (n, t) {
                var e = Yh(t);
                v(n, e), a(e);
              }(n, t), b(n, t);
            }
          }
        });
      },
      name: "RgbForm",
      configFields: [],
      apis: {
        updateHex: function updateHex(n, t, e) {
          n.updateHex(t, e);
        }
      },
      extraApis: {}
    });
  },
      bS = function bS(n, o) {
    function r(n, t) {
      var e = n.width,
          o = n.height,
          r = n.getContext("2d");

      if (null !== r) {
        r.fillStyle = t, r.fillRect(0, 0, e, o);
        var i = r.createLinearGradient(0, 0, e, 0);
        i.addColorStop(0, "rgba(255,255,255,1)"), i.addColorStop(1, "rgba(255,255,255,0)"), r.fillStyle = i, r.fillRect(0, 0, e, o);
        var u = r.createLinearGradient(0, 0, 0, o);
        u.addColorStop(0, "rgba(0,0,0,0)"), u.addColorStop(1, "rgba(0,0,0,1)"), r.fillStyle = u, r.fillRect(0, 0, e, o);
      }
    }

    var i = cS.parts().spectrum({
      dom: {
        tag: "canvas",
        attributes: {
          role: "presentation"
        },
        classes: [o("sv-palette-spectrum")]
      }
    }),
        u = cS.parts().thumb({
      dom: {
        tag: "div",
        attributes: {
          role: "presentation"
        },
        classes: [o("sv-palette-thumb")],
        innerHtml: "<div class=" + o("sv-palette-inner-thumb") + ' role="presentation"></div>'
      }
    });
    return Dl({
      factory: function factory(n) {
        var t = nn({
          x: nn(0),
          y: nn(0)
        }),
            e = ba([Zl.config({
          find: on.some
        }), vg.config({})]);
        return cS.sketch({
          dom: {
            tag: "div",
            attributes: {
              role: "presentation"
            },
            classes: [o("sv-palette")]
          },
          model: {
            mode: "xy",
            getInitialValue: t
          },
          rounded: !1,
          components: [i, u],
          onChange: function onChange(n, t, e) {
            ro(n, Mw(), {
              value: e
            });
          },
          onInit: function onInit(n, t, e, o) {
            r(e.element().dom(), Kh(ov()));
          },
          sliderBehaviours: e
        });
      },
      name: "SaturationBrightnessPalette",
      configFields: [],
      apis: {
        setRgba: function setRgba(n, t, e) {
          !function (n, t) {
            var e = n.components()[0].element().dom();
            r(e, Kh(t));
          }(t, e);
        }
      },
      extraApis: {}
    });
  },
      yS = function yS(l, d) {
    return Dl({
      name: "ColourPicker",
      configFields: [ct("dom"), St("onValidHex", Z), St("onInvalidHex", Z)],
      factory: function factory(n) {
        function t(n, e) {
          u.getOpt(n).each(function (n) {
            var t = Yh(e);
            s.paletteRgba().set(t), i.setRgba(n, t);
          });
        }

        function e(n, t) {
          f.getOpt(n).each(function (n) {
            r.updateHex(n, t);
          });
        }

        function a(t, e, n) {
          bn(n, function (n) {
            n(t, e);
          });
        }

        var o,
            c,
            r = vS(l, d, n.onValidHex, n.onInvalidHex),
            i = bS(l, d),
            s = {
          paletteRgba: nn(ye(ov()))
        },
            u = vm(i.sketch({})),
            f = vm(r.sketch({}));
        return {
          uid: n.uid,
          dom: n.dom,
          components: [u.asSpec(), sS(l, d), f.asSpec()],
          behaviours: ba([Kd("colour-picker-events", [lo(Mw(), (c = [e], function (n, t) {
            var e = t.event().value(),
                o = function (n) {
              var t,
                  e = 0,
                  o = 0,
                  r = n.red() / 255,
                  i = n.green() / 255,
                  u = n.blue() / 255,
                  a = Math.min(r, Math.min(i, u)),
                  c = Math.max(r, Math.max(i, u));
              return a === c ? sx(0, 0, 100 * (o = a)) : (e = 60 * ((e = r === a ? 3 : u === a ? 1 : 5) - (r === a ? i - u : u === a ? r - i : u - r) / (c - a)), t = (c - a) / c, o = c, sx(Math.round(e), Math.round(100 * t), Math.round(100 * o)));
            }(s.paletteRgba().get()),
                r = sx(o.hue(), e.x(), 100 - e.y()),
                i = Xh(r),
                u = Uh(i);

            a(n, u, c);
          })), lo(_w(), (o = [t, e], function (n, t) {
            var e = function (n) {
              var t = sx((100 - n) / 100 * 360, 100, 100),
                  e = Xh(t);
              return Uh(e);
            }(t.event().value().y());

            a(n, e, o);
          }))]), Zl.config({
            find: function find(n) {
              return f.getOpt(n);
            }
          }), lg.config({
            mode: "acyclic"
          })])
        };
      }
    });
  },
      xS = function xS() {
    return Zl.config({
      find: on.some
    });
  },
      wS = function wS(n) {
    return Zl.config({
      find: n.getOpt
    });
  },
      SS = function SS(n) {
    return Zl.config({
      find: function find(t) {
        return Do(t.element(), n).bind(function (n) {
          return t.getSystem().getByDom(n).toOption();
        });
      }
    });
  },
      CS = {
    "colorcustom.rgb.red.label": "R",
    "colorcustom.rgb.red.description": "Red component",
    "colorcustom.rgb.green.label": "G",
    "colorcustom.rgb.green.description": "Green component",
    "colorcustom.rgb.blue.label": "B",
    "colorcustom.rgb.blue.description": "Blue component",
    "colorcustom.rgb.hex.label": "#",
    "colorcustom.rgb.hex.description": "Hex color code",
    "colorcustom.rgb.range": "Range 0 to 255",
    "colorcustom.sb.saturation": "Saturation",
    "colorcustom.sb.brightness": "Brightness",
    "colorcustom.sb.picker": "Saturation and Brightness Picker",
    "colorcustom.sb.palette": "Saturation and Brightness Palette",
    "colorcustom.sb.instructions": "Use arrow keys to select saturation and brightness, on x and y axes",
    "colorcustom.hue.hue": "Hue",
    "colorcustom.hue.slider": "Hue Slider",
    "colorcustom.hue.palette": "Hue Palette",
    "colorcustom.hue.instructions": "Use arrow keys to select a hue",
    "aria.color.picker": "Color Picker",
    "aria.input.invalid": "Invalid input"
  },
      kS = tinymce.util.Tools.resolve("tinymce.Resource"),
      OS = re([St("preprocess", l), St("postprocess", l)]),
      ES = function ES(r, n) {
    var i = ot("RepresentingConfigs.memento processors", OS, n);
    return Zf.config({
      store: {
        mode: "manual",
        getValue: function getValue(n) {
          var t = r.get(n),
              e = Zf.getValue(t);
          return i.postprocess(e);
        },
        setValue: function setValue(n, t) {
          var e = i.preprocess(t),
              o = r.get(n);
          Zf.setValue(o, e);
        }
      }
    });
  },
      TS = hw,
      BS = function BS(n) {
    return vw(n, Vo, No);
  },
      DS = function DS(n) {
    return Zf.config({
      store: {
        mode: "memory",
        initialValue: n
      }
    });
  },
      AS = Xo("alloy-fake-before-tabstop"),
      _S = Xo("alloy-fake-after-tabstop"),
      MS = function MS(n) {
    return lb(n, ["." + AS, "." + _S].join(","), nn(!1));
  },
      FS = function FS(n, t) {
    var e = t.element();
    mr(e, AS) ? xw(n, !0) : mr(e, _S) && xw(n, !1);
  },
      IS = function IS(n) {
    return {
      dom: {
        tag: "div",
        classes: ["tox-navobj"]
      },
      components: [yw([AS]), n, yw([_S])],
      behaviours: ba([SS(1)])
    };
  },
      RS = !(Ht().browser.isIE() || Ht().browser.isEdge());

  function VS(n, t) {
    return PS(v.document.createElement("canvas"), n, t);
  }

  function NS(n) {
    var t = VS(n.width, n.height);
    return HS(t).drawImage(n, 0, 0), t;
  }

  function HS(n) {
    return n.getContext("2d");
  }

  function PS(n, t, e) {
    return n.width = t, n.height = e, n;
  }

  function zS(n) {
    return n.naturalWidth || n.width;
  }

  function LS(n) {
    return n.naturalHeight || n.height;
  }

  var jS,
      US,
      WS = window.Promise ? window.Promise : (jS = GS.immediateFn || "function" == typeof window.setImmediate && window.setImmediate || function (n) {
    v.setTimeout(n, 1);
  }, US = Array.isArray || function (n) {
    return "[object Array]" === Object.prototype.toString.call(n);
  }, GS.prototype["catch"] = function (n) {
    return this.then(null, n);
  }, GS.prototype.then = function (e, o) {
    var r = this;
    return new GS(function (n, t) {
      YS.call(r, new $S(e, o, n, t));
    });
  }, GS.all = function () {
    for (var n = [], t = 0; t < arguments.length; t++) {
      n[t] = arguments[t];
    }

    var c = Array.prototype.slice.call(1 === n.length && US(n[0]) ? n[0] : n);
    return new GS(function (r, i) {
      if (0 === c.length) return r([]);
      var u = c.length;

      function a(t, n) {
        try {
          if (n && ("object" == _typeof(n) || "function" == typeof n)) {
            var e = n.then;
            if ("function" == typeof e) return void e.call(n, function (n) {
              a(t, n);
            }, i);
          }

          c[t] = n, 0 == --u && r(c);
        } catch (o) {
          i(o);
        }
      }

      for (var n = 0; n < c.length; n++) {
        a(n, c[n]);
      }
    });
  }, GS.resolve = function (t) {
    return t && "object" == _typeof(t) && t.constructor === GS ? t : new GS(function (n) {
      n(t);
    });
  }, GS.reject = function (e) {
    return new GS(function (n, t) {
      t(e);
    });
  }, GS.race = function (r) {
    return new GS(function (n, t) {
      for (var e = 0, o = r; e < o.length; e++) {
        o[e].then(n, t);
      }
    });
  }, GS);

  function GS(n) {
    if ("object" != _typeof(this)) throw new TypeError("Promises must be constructed via new");
    if ("function" != typeof n) throw new TypeError("not a function");
    this._state = null, this._value = null, this._deferreds = [], QS(n, XS(qS, this), XS(KS, this));
  }

  function XS(n, t) {
    return function () {
      return n.apply(t, arguments);
    };
  }

  function YS(o) {
    var r = this;
    null !== this._state ? jS(function () {
      var n = r._state ? o.onFulfilled : o.onRejected;

      if (null !== n) {
        var t;

        try {
          t = n(r._value);
        } catch (e) {
          return void o.reject(e);
        }

        o.resolve(t);
      } else (r._state ? o.resolve : o.reject)(r._value);
    }) : this._deferreds.push(o);
  }

  function qS(n) {
    try {
      if (n === this) throw new TypeError("A promise cannot be resolved with itself.");

      if (n && ("object" == _typeof(n) || "function" == typeof n)) {
        var t = n.then;
        if ("function" == typeof t) return void QS(XS(t, n), XS(qS, this), XS(KS, this));
      }

      this._state = !0, this._value = n, JS.call(this);
    } catch (e) {
      KS.call(this, e);
    }
  }

  function KS(n) {
    this._state = !1, this._value = n, JS.call(this);
  }

  function JS() {
    for (var n = 0, t = this._deferreds; n < t.length; n++) {
      var e = t[n];
      YS.call(this, e);
    }

    this._deferreds = [];
  }

  function $S(n, t, e, o) {
    this.onFulfilled = "function" == typeof n ? n : null, this.onRejected = "function" == typeof t ? t : null, this.resolve = e, this.reject = o;
  }

  function QS(n, t, e) {
    var o = !1;

    try {
      n(function (n) {
        o || (o = !0, t(n));
      }, function (n) {
        o || (o = !0, e(n));
      });
    } catch (r) {
      if (o) return;
      o = !0, e(r);
    }
  }

  function ZS(e) {
    return new WS(function (n, t) {
      (function p(n) {
        var t = n.split(","),
            e = /data:([^;]+)/.exec(t[0]);
        if (!e) return on.none();

        for (var o = e[1], r = t[1], i = v.atob(r), u = i.length, a = Math.ceil(u / 1024), c = new Array(a), s = 0; s < a; ++s) {
          for (var f = 1024 * s, l = Math.min(1024 + f, u), d = new Array(l - f), m = f, g = 0; m < l; ++g, ++m) {
            d[g] = i[m].charCodeAt(0);
          }

          c[s] = new Uint8Array(d);
        }

        return on.some(new v.Blob(c, {
          type: o
        }));
      })(e).fold(function () {
        t("uri is not base64: " + e);
      }, n);
    });
  }

  function nC(n, o, r) {
    return o = o || "image/png", v.HTMLCanvasElement.prototype.toBlob ? new WS(function (t, e) {
      n.toBlob(function (n) {
        n ? t(n) : e();
      }, o, r);
    }) : ZS(n.toDataURL(o, r));
  }

  function tC(n) {
    return function t(a) {
      return new WS(function (n, t) {
        var e = v.URL.createObjectURL(a),
            o = new v.Image(),
            r = function r() {
          o.removeEventListener("load", i), o.removeEventListener("error", u);
        };

        function i() {
          r(), n(o);
        }

        function u() {
          r(), t("Unable to load data of type " + a.type + ": " + e);
        }

        o.addEventListener("load", i), o.addEventListener("error", u), o.src = e, o.complete && i();
      });
    }(n).then(function (n) {
      !function e(n) {
        v.URL.revokeObjectURL(n.src);
      }(n);
      var t = VS(zS(n), LS(n));
      return HS(t).drawImage(n, 0, 0), t;
    });
  }

  function eC(n, t, e) {
    var o = t.type;

    function r(t, e) {
      return n.then(function (n) {
        return function o(n, t, e) {
          return t = t || "image/png", n.toDataURL(t, e);
        }(n, t, e);
      });
    }

    return {
      getType: nn(o),
      toBlob: function i() {
        return WS.resolve(t);
      },
      toDataURL: function u() {
        return e;
      },
      toBase64: function a() {
        return e.split(",")[1];
      },
      toAdjustedBlob: function c(t, e) {
        return n.then(function (n) {
          return nC(n, t, e);
        });
      },
      toAdjustedDataURL: r,
      toAdjustedBase64: function s(n, t) {
        return r(n, t).then(function (n) {
          return n.split(",")[1];
        });
      },
      toCanvas: function f() {
        return n.then(NS);
      }
    };
  }

  function oC(t) {
    return function n(e) {
      return new WS(function (n) {
        var t = new v.FileReader();
        t.onloadend = function () {
          n(t.result);
        }, t.readAsDataURL(e);
      });
    }(t).then(function (n) {
      return eC(tC(t), t, n);
    });
  }

  function rC(t, n) {
    return nC(t, n).then(function (n) {
      return eC(WS.resolve(t), n, t.toDataURL());
    });
  }

  function iC(n, t, e) {
    var o = "string" == typeof n ? parseFloat(n) : n;
    return e < o ? o = e : o < t && (o = t), o;
  }

  var uC = [0, .01, .02, .04, .05, .06, .07, .08, .1, .11, .12, .14, .15, .16, .17, .18, .2, .21, .22, .24, .25, .27, .28, .3, .32, .34, .36, .38, .4, .42, .44, .46, .48, .5, .53, .56, .59, .62, .65, .68, .71, .74, .77, .8, .83, .86, .89, .92, .95, .98, 1, 1.06, 1.12, 1.18, 1.24, 1.3, 1.36, 1.42, 1.48, 1.54, 1.6, 1.66, 1.72, 1.78, 1.84, 1.9, 1.96, 2, 2.12, 2.25, 2.37, 2.5, 2.62, 2.75, 2.87, 3, 3.2, 3.4, 3.6, 3.8, 4, 4.3, 4.7, 4.9, 5, 5.5, 6, 6.5, 6.8, 7, 7.3, 7.5, 7.8, 8, 8.4, 8.7, 9, 9.4, 9.6, 9.8, 10];

  function aC(n, t) {
    for (var e, o = [], r = new Array(25), i = 0; i < 5; i++) {
      for (var u = 0; u < 5; u++) {
        o[u] = t[u + 5 * i];
      }

      for (u = 0; u < 5; u++) {
        for (var a = e = 0; a < 5; a++) {
          e += n[u + 5 * a] * o[a];
        }

        r[u + 5 * i] = e;
      }
    }

    return r;
  }

  function cC(t, e) {
    return t.toCanvas().then(function (n) {
      return function i(n, t, e) {
        var o = HS(n);

        var r = function B(n, t) {
          for (var e, o, r, i, u = n.data, a = t[0], c = t[1], s = t[2], f = t[3], l = t[4], d = t[5], m = t[6], g = t[7], p = t[8], h = t[9], v = t[10], b = t[11], y = t[12], x = t[13], w = t[14], S = t[15], C = t[16], k = t[17], O = t[18], E = t[19], T = 0; T < u.length; T += 4) {
            e = u[T], o = u[T + 1], r = u[T + 2], i = u[T + 3], u[T] = e * a + o * c + r * s + i * f + l, u[T + 1] = e * d + o * m + r * g + i * p + h, u[T + 2] = e * v + o * b + r * y + i * x + w, u[T + 3] = e * S + o * C + r * k + i * O + E;
          }

          return n;
        }(o.getImageData(0, 0, n.width, n.height), e);

        return o.putImageData(r, 0, 0), rC(n, t);
      }(n, t.getType(), e);
    });
  }

  function sC(t, e) {
    return t.toCanvas().then(function (n) {
      return function u(n, t, e) {
        var o = HS(n);
        var r = o.getImageData(0, 0, n.width, n.height),
            i = o.getImageData(0, 0, n.width, n.height);
        return i = function w(n, t, e) {
          function o(n, t, e) {
            return e < n ? n = e : n < t && (n = t), n;
          }

          for (var r = Math.round(Math.sqrt(e.length)), i = Math.floor(r / 2), u = n.data, a = t.data, c = n.width, s = n.height, f = 0; f < s; f++) {
            for (var l = 0; l < c; l++) {
              for (var d = 0, m = 0, g = 0, p = 0; p < r; p++) {
                for (var h = 0; h < r; h++) {
                  var v = o(l + h - i, 0, c - 1),
                      b = 4 * (o(f + p - i, 0, s - 1) * c + v),
                      y = e[p * r + h];
                  d += u[b] * y, m += u[1 + b] * y, g += u[2 + b] * y;
                }
              }

              var x = 4 * (f * c + l);
              a[x] = o(d, 0, 255), a[1 + x] = o(m, 0, 255), a[2 + x] = o(g, 0, 255);
            }
          }

          return t;
        }(r, i, e), o.putImageData(i, 0, 0), rC(n, t);
      }(n, t.getType(), e);
    });
  }

  function fC(e) {
    return function (n, t) {
      return cC(n, e([1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1], t));
    };
  }

  function lC(n, t, e, o) {
    return cC(n, function r(n, t, e, o) {
      return aC(n, [t = iC(t, 0, 2), 0, 0, 0, 0, 0, e = iC(e, 0, 2), 0, 0, 0, 0, 0, o = iC(o, 0, 2), 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1]);
    }([1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1], t, e, o));
  }

  var dC = function cI(t) {
    return function (n) {
      return cC(n, t);
    };
  }([-1, 0, 0, 0, 255, 0, -1, 0, 0, 255, 0, 0, -1, 0, 255, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1]),
      mC = fC(function sI(n, t) {
    return aC(n, [1, 0, 0, 0, t = iC(255 * t, -255, 255), 0, 1, 0, 0, t, 0, 0, 1, 0, t, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1]);
  }),
      gC = fC(function fI(n, t) {
    var e;
    return t = iC(t, -1, 1), aC(n, [(e = (t *= 100) < 0 ? 127 + t / 100 * 127 : 127 * (e = 0 === (e = t % 1) ? uC[t] : uC[Math.floor(t)] * (1 - e) + uC[Math.floor(t) + 1] * e) + 127) / 127, 0, 0, 0, .5 * (127 - e), 0, e / 127, 0, 0, .5 * (127 - e), 0, 0, e / 127, 0, .5 * (127 - e), 0, 0, 0, 1, 0, 0, 0, 0, 0, 1]);
  }),
      pC = function lI(t) {
    return function (n) {
      return sC(n, t);
    };
  }([0, -1, 0, -1, 5, -1, 0, -1, 0]),
      hC = function dI(c) {
    return function (t, e) {
      return t.toCanvas().then(function (n) {
        return function (n, t, e) {
          var o = HS(n),
              r = new Array(256);

          for (var i = 0; i < r.length; i++) {
            r[i] = c(i, e);
          }

          var u = function a(n, t) {
            for (var e = n.data, o = 0; o < e.length; o += 4) {
              e[o] = t[e[o]], e[o + 1] = t[e[o + 1]], e[o + 2] = t[e[o + 2]];
            }

            return n;
          }(o.getImageData(0, 0, n.width, n.height), r);

          return o.putImageData(u, 0, 0), rC(n, t);
        }(n, t.getType(), e);
      });
    };
  }(function (n, t) {
    return 255 * Math.pow(n / 255, 1 - t);
  });

  function vC(n, t, e) {
    var o = zS(n),
        r = LS(n),
        i = t / o,
        u = e / r,
        a = !1;
    (i < .5 || 2 < i) && (i = i < .5 ? .5 : 2, a = !0), (u < .5 || 2 < u) && (u = u < .5 ? .5 : 2, a = !0);

    var c = function s(u, a, c) {
      return new WS(function (n) {
        var t = zS(u),
            e = LS(u),
            o = Math.floor(t * a),
            r = Math.floor(e * c),
            i = VS(o, r);
        HS(i).drawImage(u, 0, 0, t, e, 0, 0, o, r), n(i);
      });
    }(n, i, u);

    return a ? c.then(function (n) {
      return vC(n, t, e);
    }) : c;
  }

  function bC(t, e) {
    return t.toCanvas().then(function (n) {
      return function a(n, t, e) {
        var o = VS(n.width, n.height),
            r = HS(o),
            i = 0,
            u = 0;
        90 !== (e = e < 0 ? 360 + e : e) && 270 !== e || PS(o, o.height, o.width);
        90 !== e && 180 !== e || (i = o.width);
        270 !== e && 180 !== e || (u = o.height);
        return r.translate(i, u), r.rotate(e * Math.PI / 180), r.drawImage(n, 0, 0), rC(o, t);
      }(n, t.getType(), e);
    });
  }

  function yC(t, e) {
    return t.toCanvas().then(function (n) {
      return function i(n, t, e) {
        var o = VS(n.width, n.height),
            r = HS(o);
        "v" === e ? (r.scale(1, -1), r.drawImage(n, 0, -o.height)) : (r.scale(-1, 1), r.drawImage(n, -o.width, 0));
        return rC(o, t);
      }(n, t.getType(), e);
    });
  }

  function xC(t, e, o, r, i) {
    return t.toCanvas().then(function (n) {
      return function a(n, t, e, o, r, i) {
        var u = VS(r, i);
        return HS(u).drawImage(n, -e, -o), rC(u, t);
      }(n, t.getType(), e, o, r, i);
    });
  }

  function wC(n) {
    return dC(n);
  }

  function SC(n) {
    return pC(n);
  }

  function CC(n, t) {
    return hC(n, t);
  }

  function kC(n, t) {
    return mC(n, t);
  }

  function OC(n, t) {
    return gC(n, t);
  }

  function EC(n, t) {
    return yC(n, t);
  }

  function TC(n, t, e) {
    return function r(t, e, o) {
      return t.toCanvas().then(function (n) {
        return vC(n, e, o).then(function (n) {
          return rC(n, t.getType());
        });
      });
    }(n, t, e);
  }

  function BC(n, t) {
    return bC(n, t);
  }

  function DC(n, t) {
    return _N({
      dom: {
        tag: "span",
        innerHtml: n,
        classes: ["tox-icon", "tox-tbtn__icon-wrap"]
      }
    }, t);
  }

  function AC(n, t) {
    return DC(ym(n, t), {});
  }

  function _C(n, t) {
    return DC(ym(n, t), {
      behaviours: ba([mg.config({})])
    });
  }

  function MC(n, t, e) {
    return {
      dom: {
        tag: "span",
        innerHtml: e.translate(n),
        classes: [t + "__select-label"]
      },
      behaviours: ba([mg.config({})])
    };
  }

  function FC(n, t, o) {
    function e(n, t) {
      var e = Zf.getValue(n);
      return vg.focus(e), ro(e, "keydown", {
        raw: t.event().raw()
      }), Ow.close(e), on.some(!0);
    }

    var r = ye(Z),
        i = n.text.map(function (n) {
      return vm(MC(n, t, o.providers));
    }),
        u = n.icon.map(function (n) {
      return vm(_C(n, o.providers.icons));
    }),
        a = n.role.fold(function () {
      return {};
    }, function (n) {
      return {
        role: n
      };
    }),
        c = n.tooltip.fold(function () {
      return {};
    }, function (n) {
      var t = o.providers.translate(n);
      return {
        title: t,
        "aria-label": t
      };
    });
    return vm(Ow.sketch(_N(_N({}, a), {
      dom: {
        tag: "button",
        classes: [t, t + "--select"].concat(S(n.classes, function (n) {
          return t + "--" + n;
        })),
        attributes: _N({}, c)
      },
      components: Bh([u.map(function (n) {
        return n.asSpec();
      }), i.map(function (n) {
        return n.asSpec();
      }), on.some({
        dom: {
          tag: "div",
          classes: [t + "__select-chevron"],
          innerHtml: ym("chevron-down", o.providers.icons)
        }
      })]),
      matchWidth: !0,
      useMinWidth: !0,
      dropdownBehaviours: ba(g(n.dropdownBehaviours, [Oh(n.disabled), Ew.config({}), mg.config({}), Kd("dropdown-events", [Ep(n, r), Tp(n, r)]), Kd("menubutton-update-display-text", [lo(rk, function (t, e) {
        i.bind(function (n) {
          return n.getOpt(t);
        }).each(function (n) {
          mg.set(n, [Ir(o.providers.translate(e.event().text()))]);
        });
      }), lo(ik, function (t, e) {
        u.bind(function (n) {
          return n.getOpt(t);
        }).each(function (n) {
          mg.set(n, [_C(e.event().icon(), o.providers.icons)]);
        });
      })])])),
      eventOrder: Dn(ok, {
        mousedown: ["focusing", "alloy.base.behaviour", "item-type-events", "normal-dropdown-events"]
      }),
      sandboxBehaviours: ba([lg.config({
        mode: "special",
        onLeft: e,
        onRight: e
      })]),
      lazySink: o.getSink,
      toggleClass: t + "--active",
      parts: {
        menu: Sv(0, n.columns, n.presets)
      },
      fetch: function fetch() {
        return Vy(n.fetch);
      }
    }))).asSpec();
  }

  function IC(n) {
    return "separator" === n.type;
  }

  function RC(n, e) {
    var t = O(n, function (n, t) {
      return function (n) {
        return cn(n);
      }(t) ? "" === t ? n : "|" === t ? 0 < n.length && !IC(n[n.length - 1]) ? n.concat([uk]) : n : En(e, t.toLowerCase()) ? n.concat([e[t.toLowerCase()]]) : n : n.concat([t]);
    }, []);
    return 0 < t.length && IC(t[t.length - 1]) && t.pop(), t;
  }

  function VC(n, t) {
    return function (n) {
      return En(n, "getSubmenuItems");
    }(n) ? function (n, t) {
      var e = n.getSubmenuItems(),
          o = ak(e, t);
      return {
        item: n,
        menus: Dn(o.menus, q(n.value, o.items)),
        expansions: Dn(o.expansions, q(n.value, n.value))
      };
    }(n, t) : {
      item: n,
      menus: {},
      expansions: {}
    };
  }

  function NC(n, e, o, t) {
    var r = Xo("primary-menu"),
        i = ak(n, o.shared.providers.menuItems());
    if (0 === i.items.length) return on.none();
    var u = ib(r, i.items, e, o, t),
        a = P(i.menus, function (n, t) {
      return ib(t, n, e, o, !1);
    }),
        c = Dn(a, q(r, u));
    return on.from(Lg.tieredData(r, c, i.expansions));
  }

  function HC(e) {
    return {
      isDisabled: function isDisabled() {
        return Ch.isDisabled(e);
      },
      setDisabled: function setDisabled(n) {
        return Ch.set(e, n);
      },
      setActive: function setActive(n) {
        var t = e.element();
        n ? (fr(t, "tox-tbtn--enabled"), Po(t, "aria-pressed", !0)) : (dr(t, "tox-tbtn--enabled"), jo(t, "aria-pressed"));
      },
      isActive: function isActive() {
        return mr(e.element(), "tox-tbtn--enabled");
      }
    };
  }

  function PC(n, t, e, o) {
    return FC({
      text: n.text,
      icon: n.icon,
      tooltip: n.tooltip,
      role: o,
      fetch: function fetch(t) {
        n.fetch(function (n) {
          t(NC(n, Fh.CLOSE_ON_EXECUTE, e, !1));
        });
      },
      onSetup: n.onSetup,
      getApi: HC,
      columns: 1,
      presets: "normal",
      classes: [],
      dropdownBehaviours: [Gy.config({})]
    }, t, e.shared);
  }

  function zC(t, o, r) {
    return function (n) {
      n(S(t, function (n) {
        var t = n.text.fold(function () {
          return {};
        }, function (n) {
          return {
            text: n
          };
        });
        return _N(_N({
          type: n.type
        }, t), {
          onAction: function (e) {
            return function (n) {
              var t = !n.isActive();
              n.setActive(t), e.storage.set(t), r.shared.getSink().each(function (n) {
                o().getOpt(n).each(function (n) {
                  wa(n.element()), ro(n, sy, {
                    name: e.name,
                    value: e.storage.get()
                  });
                });
              });
            };
          }(n),
          onSetup: function (t) {
            return function (n) {
              n.setActive(t.storage.get());
            };
          }(n)
        });
      }));
    };
  }

  function LC(n, t, e, o, r) {
    void 0 === e && (e = []);

    var i = t.fold(function () {
      return {};
    }, function (n) {
      return {
        action: n
      };
    }),
        u = _N({
      buttonBehaviours: ba([Oh(n.disabled), Gy.config({}), Kd("button press", [fo("click"), fo("mousedown")])].concat(e)),
      eventOrder: {
        click: ["button press", "alloy.base.behaviour"],
        mousedown: ["button press", "alloy.base.behaviour"]
      }
    }, i),
        a = Dn(u, {
      dom: o
    });

    return Dn(a, {
      components: r
    });
  }

  function jC(n, t, e, o) {
    void 0 === o && (o = []);
    var r = {
      tag: "button",
      classes: ["tox-tbtn"],
      attributes: n.tooltip.map(function (n) {
        return {
          "aria-label": e.translate(n),
          title: e.translate(n)
        };
      }).getOr({})
    },
        i = n.icon.map(function (n) {
      return AC(n, e.icons);
    }),
        u = Bh([i]);
    return LC(n, t, o, r, u);
  }

  function UC(n, t, e, o) {
    void 0 === o && (o = []);
    var r = jC(n, on.some(t), e, o);
    return Gg.sketch(r);
  }

  function WC(n, t, e, o, r) {
    void 0 === o && (o = []), void 0 === r && (r = []);

    var i = e.translate(n.text),
        u = n.icon ? n.icon.map(function (n) {
      return AC(n, e.icons);
    }) : on.none(),
        a = u.isSome() ? Bh([u]) : [],
        c = u.isSome() ? {} : {
      innerHtml: i
    },
        s = g(n.primary || n.borderless ? ["tox-button"] : ["tox-button", "tox-button--secondary"], u.isSome() ? ["tox-button--icon"] : [], n.borderless ? ["tox-button--naked"] : [], r),
        f = _N(_N({
      tag: "button",
      classes: s
    }, c), {
      attributes: {
        title: i
      }
    });

    return LC(n, t, o, f, a);
  }

  function GC(n, t, e, o, r) {
    void 0 === o && (o = []), void 0 === r && (r = []);
    var i = WC(n, on.some(t), e, o, r);
    return Gg.sketch(i);
  }

  function XC(t, e) {
    return function (n) {
      "custom" === e ? ro(n, sy, {
        name: t,
        value: {}
      }) : "submit" === e ? oo(n, fy) : "cancel" === e ? oo(n, cy) : v.console.error("Unknown button type: ", e);
    };
  }

  function YC(n, t, e) {
    if (function (n, t) {
      return "menu" === t;
    }(0, t)) {
      var o = n,
          r = _N(_N({}, n), {
        fetch: zC(o.items, function () {
          return i;
        }, e)
      }),
          i = vm(PC(r, "tox-tbtn", e, on.none()));

      return i.asSpec();
    }

    if (function (n, t) {
      return "custom" === t || "cancel" === t || "submit" === t;
    }(0, t)) {
      var u = XC(n.name, t),
          a = _N(_N({}, n), {
        borderless: !1
      });

      return GC(a, u, e.shared.providers, []);
    }

    v.console.error("Unknown footer button type: ", t);
  }

  function qC(n, t) {
    var e = XC(n.name, "custom");
    return function (n, t) {
      return By(n, t, [], []);
    }(on.none(), vy.parts().field(_N({
      factory: Gg
    }, WC(n, on.some(e), t, [DS(""), xS()]))));
  }

  function KC(n, t) {
    return xl({
      factory: vy,
      name: n,
      overrides: function overrides(o) {
        return {
          fieldBehaviours: ba([Kd("coupled-input-behaviour", [lo(ei(), function (e) {
            (function (n, t, e) {
              return qs(n, t, e).bind(Zl.getCurrent);
            })(e, o, t).each(function (t) {
              qs(e, o, "lock").each(function (n) {
                Cg.isOn(n) && o.onLockedChange(e, t, n);
              });
            });
          })])])
        };
      }
    });
  }

  function JC(n) {
    var t = /^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(n);
    if (null === t) return an.error(n);
    var e = parseFloat(t[1]),
        o = t[2];
    return an.value({
      value: e,
      unit: o
    });
  }

  function $C(n, t) {
    function e(n) {
      return Object.prototype.hasOwnProperty.call(o, n);
    }

    var o = {
      "": 96,
      px: 96,
      pt: 72,
      cm: 2.54,
      pc: 12,
      mm: 25.4,
      "in": 1
    };
    return n.unit === t ? on.some(n.value) : e(n.unit) && e(t) ? o[n.unit] === o[t] ? on.some(n.value) : on.some(n.value / o[n.unit] * o[t]) : on.none();
  }

  function QC(n) {
    return on.none();
  }

  function ZC(n, t) {
    return function (n, t, e) {
      return n.isSome() && t.isSome() ? on.some(e(n.getOrDie(), t.getOrDie())) : on.none();
    }(JC(n).toOption(), JC(t).toOption(), function (n, t) {
      return $C(n, t.unit).map(function (n) {
        return t.value / n;
      }).map(function (n) {
        return function (t, e) {
          return function (n) {
            return $C(n, e).map(function (n) {
              return {
                value: n * t,
                unit: e
              };
            });
          };
        }(n, t.unit);
      }).getOr(QC);
    }).getOr(QC);
  }

  function nk(o, t) {
    function n(n) {
      return {
        dom: {
          tag: "div",
          classes: ["tox-form__group"]
        },
        components: n
      };
    }

    function e(e) {
      return vy.parts().field({
        factory: yy,
        inputClasses: ["tox-textfield"],
        inputBehaviours: ba([Ch.config({
          disabled: o.disabled
        }), Gy.config({}), Kd("size-input-events", [lo(Qr(), function (n, t) {
          ro(n, i, {
            isField1: e
          });
        }), lo(oi(), function (n, t) {
          ro(n, uy, {
            name: o.name
          });
        })])]),
        selectOnFocus: !1
      });
    }

    function r(n) {
      return {
        dom: {
          tag: "label",
          classes: ["tox-label"],
          innerHtml: t.translate(n)
        }
      };
    }

    var a = QC,
        i = Xo("ratio-event"),
        u = fk.parts().lock({
      dom: {
        tag: "button",
        classes: ["tox-lock", "tox-button", "tox-button--naked", "tox-button--icon"],
        attributes: {
          title: t.translate(o.label.getOr("Constrain proportions"))
        }
      },
      components: [{
        dom: {
          tag: "span",
          classes: ["tox-icon", "tox-lock-icon__lock"],
          innerHtml: ym("lock", t.icons)
        }
      }, {
        dom: {
          tag: "span",
          classes: ["tox-icon", "tox-lock-icon__unlock"],
          innerHtml: ym("unlock", t.icons)
        }
      }],
      buttonBehaviours: ba([Oh(o.disabled), Gy.config({})])
    }),
        c = fk.parts().field1(n([vy.parts().label(r("Width")), e(!0)])),
        s = fk.parts().field2(n([vy.parts().label(r("Height")), e(!1)]));
    return fk.sketch({
      dom: {
        tag: "div",
        classes: ["tox-form__group"]
      },
      components: [{
        dom: {
          tag: "div",
          classes: ["tox-form__controls-h-stack"]
        },
        components: [c, s, n([r("&nbsp;"), u])]
      }],
      field1Name: "width",
      field2Name: "height",
      locked: !0,
      markers: {
        lockClass: "tox-locked"
      },
      onLockedChange: function onLockedChange(n, t, e) {
        JC(Zf.getValue(n)).each(function (n) {
          a(n).each(function (n) {
            Zf.setValue(t, function (n) {
              var t,
                  e = {
                "": 0,
                px: 0,
                pt: 1,
                mm: 1,
                pc: 2,
                ex: 2,
                em: 2,
                ch: 2,
                rem: 2,
                cm: 3,
                "in": 4,
                "%": 4
              },
                  o = n.value.toFixed((t = n.unit) in e ? e[t] : 1);
              return -1 !== o.indexOf(".") && (o = o.replace(/\.?0*$/, "")), o + n.unit;
            }(n));
          });
        });
      },
      coupledFieldBehaviours: ba([Ch.config({
        disabled: o.disabled,
        onDisabled: function onDisabled(n) {
          fk.getField1(n).bind(vy.getField).each(Ch.disable), fk.getField2(n).bind(vy.getField).each(Ch.disable), fk.getLock(n).each(Ch.disable);
        },
        onEnabled: function onEnabled(n) {
          fk.getField1(n).bind(vy.getField).each(Ch.enable), fk.getField2(n).bind(vy.getField).each(Ch.enable), fk.getLock(n).each(Ch.enable);
        }
      }), Kd("size-input-events2", [lo(i, function (n, t) {
        var e = t.event().isField1(),
            o = e ? fk.getField1(n) : fk.getField2(n),
            r = e ? fk.getField2(n) : fk.getField1(n),
            i = o.map(Zf.getValue).getOr(""),
            u = r.map(Zf.getValue).getOr("");
        a = ZC(i, u);
      })])])
    });
  }

  function tk(r, c) {
    function n(n, t, e, o) {
      return vm(GC({
        name: n,
        text: n,
        disabled: e,
        primary: o,
        icon: on.none(),
        borderless: !1
      }, t, c));
    }

    function t(n, t, e, o) {
      return vm(UC({
        name: n,
        icon: on.some(n),
        tooltip: on.some(t),
        disabled: o,
        primary: !1,
        borderless: !1
      }, e, c));
    }

    function u(n, e) {
      n.map(function (n) {
        var t = n.get(e);
        t.hasConfigured(Ch) && Ch.disable(t);
      });
    }

    function a(n, e) {
      n.map(function (n) {
        var t = n.get(e);
        t.hasConfigured(Ch) && Ch.enable(t);
      });
    }

    function i(n, t, e) {
      ro(n, t, e);
    }

    function e(n) {
      return oo(n, pk.disable());
    }

    function o(n) {
      return oo(n, pk.enable());
    }

    function s(n, t) {
      e(n), i(n, lk.transform(), {
        transform: t
      }), o(n);
    }

    function f(n) {
      return function () {
        Q.getOpt(n).each(function (n) {
          mg.set(n, [J]);
        });
      };
    }

    function l(n, t) {
      e(n), i(n, lk.transformApply(), {
        transform: t,
        swap: f(n)
      }), o(n);
    }

    function d() {
      return n("Back", function (n) {
        return i(n, lk.back(), {
          swap: f(n)
        });
      }, !1, !1);
    }

    function m() {
      return vm({
        dom: {
          tag: "div",
          classes: ["tox-spacer"]
        },
        behaviours: ba([Ch.config({})])
      });
    }

    function g() {
      return n("Apply", function (n) {
        return i(n, lk.apply(), {
          swap: f(n)
        });
      }, !0, !0);
    }

    function p() {
      return function (n) {
        var t = r.getRect();
        return function (n, t, e, o, r) {
          return xC(n, t, e, o, r);
        }(n, t.x, t.y, t.w, t.h);
      };
    }

    function h(t, e) {
      return function (n) {
        return t(n, e);
      };
    }

    function v(n, t) {
      !function (n, t) {
        e(n), i(n, lk.tempTransform(), {
          transform: t
        }), o(n);
      }(n, t);
    }

    function b(n, t, e, o, r) {
      var i = cS.parts().label({
        dom: {
          tag: "label",
          classes: ["tox-label"],
          innerHtml: c.translate(n)
        }
      }),
          u = cS.parts().spectrum({
        dom: {
          tag: "div",
          classes: ["tox-slider__rail"],
          attributes: {
            role: "presentation"
          }
        }
      }),
          a = cS.parts().thumb({
        dom: {
          tag: "div",
          classes: ["tox-slider__handle"],
          attributes: {
            role: "presentation"
          }
        }
      });
      return vm(cS.sketch({
        dom: {
          tag: "div",
          classes: ["tox-slider"],
          attributes: {
            role: "presentation"
          }
        },
        model: {
          mode: "x",
          minX: e,
          maxX: r,
          getInitialValue: nn({
            x: nn(o)
          })
        },
        components: [i, u, a],
        sliderBehaviours: ba([vg.config({})]),
        onChoose: t
      }));
    }

    function y(n, t, e, o, r) {
      return [d(), function (n, r, t, e, o) {
        return b(n, function (n, t, e) {
          var o = h(r, e.x() / 100);
          s(n, o);
        }, t, e, o);
      }(n, t, e, o, r), g()];
    }

    function x(n, t, e, o, r) {
      var i = y(n, t, e, o, r);
      return Wb.sketch({
        dom: k,
        components: i.map(function (n) {
          return n.asSpec();
        }),
        containerBehaviours: ba([Kd("image-tools-filter-panel-buttons-events", [lo(pk.disable(), function (n, t) {
          u(i, n);
        }), lo(pk.enable(), function (n, t) {
          a(i, n);
        })])])
      });
    }

    function w(t, e, o) {
      return function (n) {
        return function (n, t, e, o) {
          return lC(n, t, e, o);
        }(n, t, e, o);
      };
    }

    function S(n) {
      return b(n, function (a, n, t) {
        var e = j.getOpt(a),
            o = W.getOpt(a),
            r = U.getOpt(a);
        e.each(function (u) {
          o.each(function (i) {
            r.each(function (n) {
              var t = Zf.getValue(u).x() / 100,
                  e = Zf.getValue(n).x() / 100,
                  o = Zf.getValue(i).x() / 100,
                  r = w(t, e, o);
              s(a, r);
            });
          });
        });
      }, 0, 100, 200);
    }

    function C(t, e, o) {
      return function (n) {
        i(n, lk.swap(), {
          transform: e,
          swap: function swap() {
            Q.getOpt(n).each(function (n) {
              mg.set(n, [t]), o(n);
            });
          }
        });
      };
    }

    var k = {
      tag: "div",
      classes: ["tox-image-tools__toolbar", "tox-image-tools-edit-panel"]
    },
        O = Z,
        E = [d(), m(), n("Apply", function (n) {
      var t = p();
      l(n, t), r.hideCrop();
    }, !1, !0)],
        T = Wb.sketch({
      dom: k,
      components: E.map(function (n) {
        return n.asSpec();
      }),
      containerBehaviours: ba([Kd("image-tools-crop-buttons-events", [lo(pk.disable(), function (n, t) {
        u(E, n);
      }), lo(pk.enable(), function (n, t) {
        a(E, n);
      })])])
    }),
        B = vm(nk({
      name: "size",
      label: on.none(),
      constrain: !0,
      disabled: !1
    }, c)),
        D = [d(), m(), B, m(), n("Apply", function (o) {
      B.getOpt(o).each(function (n) {
        var t = Zf.getValue(n),
            e = function (t, e) {
          return function (n) {
            return TC(n, t, e);
          };
        }(parseInt(t.width, 10), parseInt(t.height, 10));

        l(o, e);
      });
    }, !1, !0)],
        A = Wb.sketch({
      dom: k,
      components: D.map(function (n) {
        return n.asSpec();
      }),
      containerBehaviours: ba([Kd("image-tools-resize-buttons-events", [lo(pk.disable(), function (n, t) {
        u(D, n);
      }), lo(pk.enable(), function (n, t) {
        a(D, n);
      })])])
    }),
        _ = h(EC, "h"),
        M = h(EC, "v"),
        F = h(BC, -90),
        I = h(BC, 90),
        R = [d(), m(), t("flip-horizontally", "Flip horizontally", function (n) {
      v(n, _);
    }, !1), t("flip-vertically", "Flip vertically", function (n) {
      v(n, M);
    }, !1), t("rotate-left", "Rotate counterclockwise", function (n) {
      v(n, F);
    }, !1), t("rotate-right", "Rotate clockwise", function (n) {
      v(n, I);
    }, !1), m(), g()],
        V = Wb.sketch({
      dom: k,
      components: R.map(function (n) {
        return n.asSpec();
      }),
      containerBehaviours: ba([Kd("image-tools-fliprotate-buttons-events", [lo(pk.disable(), function (n, t) {
        u(R, n);
      }), lo(pk.enable(), function (n, t) {
        a(R, n);
      })])])
    }),
        N = [d(), m(), g()],
        H = Wb.sketch({
      dom: k,
      components: N.map(function (n) {
        return n.asSpec();
      })
    }),
        P = x("Brightness", kC, -100, 0, 100),
        z = x("Contrast", OC, -100, 0, 100),
        L = x("Gamma", CC, -100, 0, 100),
        j = S("R"),
        U = S("G"),
        W = S("B"),
        G = [d(), j, U, W, g()],
        X = Wb.sketch({
      dom: k,
      components: G.map(function (n) {
        return n.asSpec();
      })
    }),
        Y = on.some(SC),
        q = on.some(wC),
        K = [t("crop", "Crop", C(T, on.none(), function (n) {
      r.showCrop();
    }), !1), t("resize", "Resize", C(A, on.none(), function (n) {
      B.getOpt(n).each(function (n) {
        var t = r.getMeasurements(),
            e = t.width,
            o = t.height;
        Zf.setValue(n, {
          width: e,
          height: o
        });
      });
    }), !1), t("orientation", "Orientation", C(V, on.none(), O), !1), t("brightness", "Brightness", C(P, on.none(), O), !1), t("sharpen", "Sharpen", C(H, Y, O), !1), t("contrast", "Contrast", C(z, on.none(), O), !1), t("color-levels", "Color levels", C(X, on.none(), O), !1), t("gamma", "Gamma", C(L, on.none(), O), !1), t("invert", "Invert", C(H, q, O), !1)],
        J = Wb.sketch({
      dom: k,
      components: K.map(function (n) {
        return n.asSpec();
      })
    }),
        $ = Wb.sketch({
      dom: {
        tag: "div"
      },
      components: [J],
      containerBehaviours: ba([mg.config({})])
    }),
        Q = vm($);

    return {
      memContainer: Q,
      getApplyButton: function getApplyButton(n) {
        return Q.getOpt(n).map(function (n) {
          var t = n.components()[0];
          return t.components()[t.components().length - 1];
        });
      }
    };
  }

  var ek = Xo("toolbar.button.execute"),
      ok = {
    "alloy.execute": ["disabling", "alloy.base.behaviour", "toggling", "toolbar-button-events"]
  },
      rk = Xo("update-menu-text"),
      ik = Xo("update-menu-icon"),
      uk = {
    type: "separator"
  },
      ak = function ak(n, r) {
    var t = RC(cn(n) ? n.split(" ") : n, r);
    return k(t, function (n, t) {
      var e = function (n) {
        if (IC(n)) return n;
        var t = Nn(n, "value").getOrThunk(function () {
          return Xo("generated-menu-item");
        });
        return Dn({
          value: t
        }, n);
      }(t),
          o = VC(e, r);

      return {
        menus: Dn(n.menus, o.menus),
        items: [o.item].concat(n.items),
        expansions: Dn(n.expansions, o.expansions)
      };
    }, {
      menus: {},
      expansions: {},
      items: []
    });
  },
      ck = nn([St("field1Name", "field1"), St("field2Name", "field2"), Ju("onLockedChange"), Xu(["lockClass"]), St("locked", !1), nl("coupledFieldBehaviours", [Zl, Zf])]),
      sk = nn([KC("field1", "field2"), KC("field2", "field1"), xl({
    factory: Gg,
    schema: [ct("dom")],
    name: "lock",
    overrides: function overrides(n) {
      return {
        buttonBehaviours: ba([Cg.config({
          selected: n.locked,
          toggleClass: n.markers.lockClass,
          aria: {
            mode: "pressed"
          }
        })])
      };
    }
  })]),
      fk = Al({
    name: "FormCoupledInputs",
    configFields: ck(),
    partFields: sk(),
    factory: function factory(o, n, t, e) {
      return {
        uid: o.uid,
        dom: o.dom,
        components: n,
        behaviours: tl(o.coupledFieldBehaviours, [Zl.config({
          find: on.some
        }), Zf.config({
          store: {
            mode: "manual",
            getValue: function getValue(n) {
              var t,
                  e = Zs(n, o, ["field1", "field2"]);
              return (t = {})[o.field1Name] = Zf.getValue(e.field1()), t[o.field2Name] = Zf.getValue(e.field2()), t;
            },
            setValue: function setValue(n, t) {
              var e = Zs(n, o, ["field1", "field2"]);
              $(t, o.field1Name) && Zf.setValue(e.field1(), t[o.field1Name]), $(t, o.field2Name) && Zf.setValue(e.field2(), t[o.field2Name]);
            }
          }
        })]),
        apis: {
          getField1: function getField1(n) {
            return qs(n, o, "field1");
          },
          getField2: function getField2(n) {
            return qs(n, o, "field2");
          },
          getLock: function getLock(n) {
            return qs(n, o, "lock");
          }
        }
      };
    },
    apis: {
      getField1: function getField1(n, t) {
        return n.getField1(t);
      },
      getField2: function getField2(n, t) {
        return n.getField2(t);
      },
      getLock: function getLock(n, t) {
        return n.getLock(t);
      }
    }
  }),
      lk = {
    undo: nn(Xo("undo")),
    redo: nn(Xo("redo")),
    zoom: nn(Xo("zoom")),
    back: nn(Xo("back")),
    apply: nn(Xo("apply")),
    swap: nn(Xo("swap")),
    transform: nn(Xo("transform")),
    tempTransform: nn(Xo("temp-transform")),
    transformApply: nn(Xo("transform-apply"))
  },
      dk = nn("save-state"),
      mk = nn("disable"),
      gk = nn("enable"),
      pk = {
    formActionEvent: sy,
    saveState: dk,
    disable: mk,
    enable: gk
  },
      hk = tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),
      vk = tinymce.util.Tools.resolve("tinymce.geom.Rect"),
      bk = tinymce.util.Tools.resolve("tinymce.util.Observable"),
      yk = tinymce.util.Tools.resolve("tinymce.util.Tools"),
      xk = tinymce.util.Tools.resolve("tinymce.util.VK");

  function wk(n) {
    var t, e;
    if (n.changedTouches) for (t = "screenX screenY pageX pageY clientX clientY".split(" "), e = 0; e < t.length; e++) {
      n[t[e]] = n.changedTouches[0][t[e]];
    }
  }

  function Sk(n, r) {
    var i,
        u,
        t,
        _a2,
        c,
        f,
        l,
        d = r.document || v.document;

    r = r || {};
    var m = d.getElementById(r.handle || n);
    t = function t(n) {
      var t,
          e,
          o = function s(n) {
        var t,
            e,
            o,
            r,
            i,
            u,
            a,
            c = Math.max;
        return t = n.documentElement, e = n.body, o = c(t.scrollWidth, e.scrollWidth), r = c(t.clientWidth, e.clientWidth), i = c(t.offsetWidth, e.offsetWidth), u = c(t.scrollHeight, e.scrollHeight), a = c(t.clientHeight, e.clientHeight), {
          width: o < i ? r : o,
          height: u < c(t.offsetHeight, e.offsetHeight) ? a : u
        };
      }(d);

      wk(n), n.preventDefault(), u = n.button, t = m, f = n.screenX, l = n.screenY, e = v.window.getComputedStyle ? v.window.getComputedStyle(t, null).getPropertyValue("cursor") : t.runtimeStyle.cursor, i = hk("<div></div>").css({
        position: "absolute",
        top: 0,
        left: 0,
        width: o.width,
        height: o.height,
        zIndex: 2147483647,
        opacity: 1e-4,
        cursor: e
      }).appendTo(d.body), hk(d).on("mousemove touchmove", c).on("mouseup touchend", _a2), r.start(n);
    }, c = function c(n) {
      if (wk(n), n.button !== u) return _a2(n);
      n.deltaX = n.screenX - f, n.deltaY = n.screenY - l, n.preventDefault(), r.drag(n);
    }, _a2 = function a(n) {
      wk(n), hk(d).off("mousemove touchmove", c).off("mouseup touchend", _a2), i.remove(), r.stop && r.stop(n);
    }, this.destroy = function () {
      hk(m).off();
    }, hk(m).on("mousedown touchstart", t);
  }

  function Ck(t) {
    function u(n, s) {
      c.getOpt(n).each(function (n) {
        var e = l.get(),
            o = mu(n.element()),
            r = su(n.element()),
            i = s.dom().naturalWidth * e,
            u = s.dom().naturalHeight * e,
            a = Math.max(0, o / 2 - i / 2),
            c = Math.max(0, r / 2 - u / 2),
            t = {
          left: a.toString() + "px",
          top: c.toString() + "px",
          width: i.toString() + "px",
          height: u.toString() + "px",
          position: "absolute"
        };
        xr(s, t), f.getOpt(n).each(function (n) {
          xr(n.element(), t);
        }), d.get().each(function (n) {
          var t = m.get();
          n.setRect({
            x: t.x * e + a,
            y: t.y * e + c,
            w: t.w * e,
            h: t.h * e
          }), n.setClampRect({
            x: a,
            y: c,
            w: i,
            h: u
          }), n.setViewPortRect({
            x: 0,
            y: 0,
            w: o,
            h: r
          });
        });
      });
    }

    function e(n, t) {
      var i = we.fromTag("img");
      return Po(i, "src", t), function (e) {
        return new Np(function (n) {
          var t = function t() {
            e.removeEventListener("load", t), n(e);
          };

          e.complete ? n(e) : e.addEventListener("load", t);
        });
      }(i.dom()).then(function () {
        return c.getOpt(n).map(function (n) {
          var t = ru({
            element: i
          });
          mg.replaceAt(n, 1, on.some(t));
          var e = a.get(),
              o = {
            x: 0,
            y: 0,
            w: i.dom().naturalWidth,
            h: i.dom().naturalHeight
          };
          a.set(o);
          var r = vk.inflate(o, -20, -20);
          return m.set(r), e.w === o.w && e.h === o.h || function (n, u) {
            c.getOpt(n).each(function (n) {
              var t = mu(n.element()),
                  e = su(n.element()),
                  o = u.dom().naturalWidth,
                  r = u.dom().naturalHeight,
                  i = Math.min(t / o, e / r);
              1 <= i ? l.set(1) : l.set(i);
            });
          }(n, i), u(n, i), i;
        });
      });
    }

    var f = vm({
      dom: {
        tag: "div",
        classes: ["tox-image-tools__image-bg"],
        attributes: {
          role: "presentation"
        }
      }
    }),
        l = ye(1),
        d = ye(on.none()),
        m = ye({
      x: 0,
      y: 0,
      w: 1,
      h: 1
    }),
        a = ye({
      x: 0,
      y: 0,
      w: 1,
      h: 1
    }),
        n = Wb.sketch({
      dom: {
        tag: "div",
        classes: ["tox-image-tools__image"]
      },
      components: [f.asSpec(), {
        dom: {
          tag: "img",
          attributes: {
            src: t
          }
        }
      }, {
        dom: {
          tag: "div"
        },
        behaviours: ba([Kd("image-panel-crop-events", [Ii(function (n) {
          c.getOpt(n).each(function (n) {
            var t = n.element().dom(),
                e = Tk({
              x: 10,
              y: 10,
              w: 100,
              h: 100
            }, {
              x: 0,
              y: 0,
              w: 200,
              h: 200
            }, {
              x: 0,
              y: 0,
              w: 200,
              h: 200
            }, t, function () {});
            e.toggleVisibility(!1), e.on("updateRect", function (n) {
              var t = n.rect,
                  e = l.get(),
                  o = {
                x: Math.round(t.x / e),
                y: Math.round(t.y / e),
                w: Math.round(t.w / e),
                h: Math.round(t.h / e)
              };
              m.set(o);
            }), d.set(on.some(e));
          });
        })])])
      }],
      containerBehaviours: ba([mg.config({}), Kd("image-panel-events", [Ii(function (n) {
        e(n, t);
      })])])
    }),
        c = vm(n);
    return {
      memContainer: c,
      updateSrc: e,
      zoom: function zoom(n, t) {
        var e = l.get(),
            o = 0 < t ? Math.min(2, e + .1) : Math.max(.1, e - .1);
        l.set(o), c.getOpt(n).each(function (n) {
          var t = n.components()[1].element();
          u(n, t);
        });
      },
      showCrop: function showCrop() {
        d.get().each(function (n) {
          n.toggleVisibility(!0);
        });
      },
      hideCrop: function hideCrop() {
        d.get().each(function (n) {
          n.toggleVisibility(!1);
        });
      },
      getRect: function getRect() {
        return m.get();
      },
      getMeasurements: function getMeasurements() {
        var n = a.get();
        return {
          width: n.w,
          height: n.h
        };
      }
    };
  }

  function kk(n, t, e, o, r) {
    return UC({
      name: n,
      icon: on.some(t),
      disabled: e,
      tooltip: on.some(n),
      primary: !1,
      borderless: !1
    }, o, r);
  }

  function Ok(n, t) {
    t ? Ch.enable(n) : Ch.disable(n);
  }

  var Ek = 0,
      Tk = function Tk(s, e, f, o, r) {
    var l,
        t,
        i,
        u = "tox-",
        a = "tox-crid-" + Ek++,
        c = [{
      name: "move",
      xMul: 0,
      yMul: 0,
      deltaX: 1,
      deltaY: 1,
      deltaW: 0,
      deltaH: 0,
      label: "Crop Mask"
    }, {
      name: "nw",
      xMul: 0,
      yMul: 0,
      deltaX: 1,
      deltaY: 1,
      deltaW: -1,
      deltaH: -1,
      label: "Top Left Crop Handle"
    }, {
      name: "ne",
      xMul: 1,
      yMul: 0,
      deltaX: 0,
      deltaY: 1,
      deltaW: 1,
      deltaH: -1,
      label: "Top Right Crop Handle"
    }, {
      name: "sw",
      xMul: 0,
      yMul: 1,
      deltaX: 1,
      deltaY: 0,
      deltaW: -1,
      deltaH: 1,
      label: "Bottom Left Crop Handle"
    }, {
      name: "se",
      xMul: 1,
      yMul: 1,
      deltaX: 0,
      deltaY: 0,
      deltaW: 1,
      deltaH: 1,
      label: "Bottom Right Crop Handle"
    }];
    i = ["top", "right", "bottom", "left"];

    var d = function d(n, t) {
      return {
        x: t.x + n.x,
        y: t.y + n.y,
        w: t.w,
        h: t.h
      };
    },
        m = function m(n, t) {
      return {
        x: t.x - n.x,
        y: t.y - n.y,
        w: t.w,
        h: t.h
      };
    };

    function g(n, t, e, o) {
      var r, i, u, a, c;
      r = t.x, i = t.y, u = t.w, a = t.h, r += e * n.deltaX, i += o * n.deltaY, (u += e * n.deltaW) < 20 && (u = 20), (a += o * n.deltaH) < 20 && (a = 20), c = s = vk.clamp({
        x: r,
        y: i,
        w: u,
        h: a
      }, f, "move" === n.name), c = m(f, c), l.fire("updateRect", {
        rect: c
      }), v(c);
    }

    function p(t) {
      function n(n, t) {
        t.h < 0 && (t.h = 0), t.w < 0 && (t.w = 0), hk("#" + a + "-" + n, o).css({
          left: t.x,
          top: t.y,
          width: t.w,
          height: t.h
        });
      }

      yk.each(c, function (n) {
        hk("#" + a + "-" + n.name, o).css({
          left: t.w * n.xMul + t.x,
          top: t.h * n.yMul + t.y
        });
      }), n("top", {
        x: e.x,
        y: e.y,
        w: e.w,
        h: t.y - e.y
      }), n("right", {
        x: t.x + t.w,
        y: t.y,
        w: e.w - t.x - t.w + e.x,
        h: t.h
      }), n("bottom", {
        x: e.x,
        y: t.y + t.h,
        w: e.w,
        h: e.h - t.y - t.h + e.y
      }), n("left", {
        x: e.x,
        y: t.y,
        w: t.x - e.x,
        h: t.h
      }), n("move", t);
    }

    function h(n) {
      p(s = n);
    }

    function v(n) {
      h(d(f, n));
    }

    return function b() {
      hk('<div id="' + a + '" class="' + u + 'croprect-container" role="grid" aria-dropeffect="execute">').appendTo(o), yk.each(i, function (n) {
        hk("#" + a, o).append('<div id="' + a + "-" + n + '"class="' + u + 'croprect-block" style="display: none" data-mce-bogus="all">');
      }), yk.each(c, function (n) {
        hk("#" + a, o).append('<div id="' + a + "-" + n.name + '" class="' + u + "croprect-handle " + u + "croprect-handle-" + n.name + '"style="display: none" data-mce-bogus="all" role="gridcell" tabindex="-1" aria-label="' + n.label + '" aria-grabbed="false" title="' + n.label + '">');
      }), t = yk.map(c, function n(t) {
        var e;
        return new Sk(a, {
          document: o.ownerDocument,
          handle: a + "-" + t.name,
          start: function start() {
            e = s;
          },
          drag: function drag(n) {
            g(t, e, n.deltaX, n.deltaY);
          }
        });
      }), p(s), hk(o).on("focusin focusout", function (n) {
        hk(n.target).attr("aria-grabbed", "focus" === n.type ? "true" : "false");
      }), hk(o).on("keydown", function (t) {
        var i;

        function n(n, t, e, o, r) {
          n.stopPropagation(), n.preventDefault(), g(i, e, o, r);
        }

        switch (yk.each(c, function (n) {
          if (t.target.id === a + "-" + n.name) return i = n, !1;
        }), t.keyCode) {
          case xk.LEFT:
            n(t, 0, s, -10, 0);
            break;

          case xk.RIGHT:
            n(t, 0, s, 10, 0);
            break;

          case xk.UP:
            n(t, 0, s, 0, -10);
            break;

          case xk.DOWN:
            n(t, 0, s, 0, 10);
            break;

          case xk.ENTER:
          case xk.SPACEBAR:
            t.preventDefault(), r();
        }
      });
    }(), l = yk.extend({
      toggleVisibility: function y(n) {
        var t;
        t = yk.map(c, function (n) {
          return "#" + a + "-" + n.name;
        }).concat(yk.map(i, function (n) {
          return "#" + a + "-" + n;
        })).join(","), n ? hk(t, o).show() : hk(t, o).hide();
      },
      setClampRect: function x(n) {
        f = n, p(s);
      },
      setRect: h,
      getInnerRect: function getInnerRect() {
        return m(f, s);
      },
      setInnerRect: v,
      setViewPortRect: function w(n) {
        e = n, p(s);
      },
      destroy: function n() {
        yk.each(t, function (n) {
          n.destroy();
        }), t = [];
      }
    }, bk);
  };

  function Bk(n) {
    var t = ye(n),
        e = ye(on.none()),
        o = function s() {
      var e = [],
          o = -1;

      function n() {
        return 0 < o;
      }

      function t() {
        return -1 !== o && o < e.length - 1;
      }

      return {
        data: e,
        add: function r(n) {
          var t;
          return t = e.splice(++o), e.push(n), {
            state: n,
            removed: t
          };
        },
        undo: function i() {
          if (n()) return e[--o];
        },
        redo: function u() {
          if (t()) return e[++o];
        },
        canUndo: n,
        canRedo: t
      };
    }();

    function r(n) {
      t.set(n);
    }

    function i(n) {
      v.URL.revokeObjectURL(n.url);
    }

    function u(n) {
      var t = a(n);
      return r(t), function (n) {
        yk.each(n, i);
      }(o.add(t).removed), t.url;
    }

    o.add(n);

    var a = function a(n) {
      return {
        blob: n,
        url: v.URL.createObjectURL(n)
      };
    },
        c = function c() {
      e.get().each(i), e.set(on.none());
    };

    return {
      getBlobState: function getBlobState() {
        return t.get();
      },
      setBlobState: r,
      addBlobState: u,
      getTempState: function getTempState() {
        return e.get().fold(function () {
          return t.get();
        }, function (n) {
          return n;
        });
      },
      updateTempState: function updateTempState(n) {
        var t = a(n);
        return c(), e.set(on.some(t)), t.url;
      },
      addTempState: function addTempState(n) {
        var t = a(n);
        return e.set(on.some(t)), t.url;
      },
      applyTempState: function applyTempState(t) {
        return e.get().fold(function () {}, function (n) {
          u(n.blob), t();
        });
      },
      destroyTempState: c,
      undo: function undo() {
        var n = o.undo();
        return r(n), n.url;
      },
      redo: function redo() {
        var n = o.redo();
        return r(n), n.url;
      },
      getHistoryStates: function getHistoryStates() {
        return {
          undoEnabled: o.canUndo(),
          redoEnabled: o.canRedo()
        };
      }
    };
  }

  function Dk(n, t) {
    function i(n) {
      var t = s.getHistoryStates();
      m.updateButtonUndoStates(n, t.undoEnabled, t.redoEnabled), ro(n, pk.formActionEvent, {
        name: pk.saveState(),
        value: t.undoEnabled
      });
    }

    function u(n) {
      return n.toBlob();
    }

    function a(n) {
      ro(n, pk.formActionEvent, {
        name: pk.disable(),
        value: {}
      });
    }

    function r(t, n, e, o, r) {
      return a(t), function (n) {
        return oC(n);
      }(n).then(e).then(u).then(o).then(function (n) {
        return l(t, n).then(function (n) {
          return i(t), r(), f(t), n;
        });
      })["catch"](function (n) {
        return v.console.log(n), f(t), n;
      });
    }

    function c(n, t, e) {
      var o = s.getBlobState().blob;
      r(n, o, t, function (n) {
        return s.updateTempState(n);
      }, e);
    }

    var s = Bk(n.currentState),
        f = function f(n) {
      e.getApplyButton(n).each(function (n) {
        Ch.enable(n);
      }), ro(n, pk.formActionEvent, {
        name: pk.enable(),
        value: {}
      });
    },
        l = function l(n, t) {
      return a(n), o.updateSrc(n, t);
    },
        d = function d(n) {
      var t = s.getBlobState().url;
      return s.destroyTempState(), i(n), t;
    },
        o = Ck(n.currentState.url),
        m = function (n) {
      var o = vm(kk("Undo", "undo", !0, function (n) {
        ro(n, lk.undo(), {
          direction: 1
        });
      }, n)),
          r = vm(kk("Redo", "redo", !0, function (n) {
        ro(n, lk.redo(), {
          direction: 1
        });
      }, n));
      return {
        container: Wb.sketch({
          dom: {
            tag: "div",
            classes: ["tox-image-tools__toolbar", "tox-image-tools__sidebar"]
          },
          components: [o.asSpec(), r.asSpec(), kk("Zoom in", "zoom-in", !1, function (n) {
            ro(n, lk.zoom(), {
              direction: 1
            });
          }, n), kk("Zoom out", "zoom-out", !1, function (n) {
            ro(n, lk.zoom(), {
              direction: -1
            });
          }, n)]
        }),
        updateButtonUndoStates: function updateButtonUndoStates(n, t, e) {
          o.getOpt(n).each(function (n) {
            Ok(n, t);
          }), r.getOpt(n).each(function (n) {
            Ok(n, e);
          });
        }
      };
    }(t),
        e = tk(o, t);

    return {
      dom: {
        tag: "div",
        attributes: {
          role: "presentation"
        }
      },
      components: [e.memContainer.asSpec(), o.memContainer.asSpec(), m.container],
      behaviours: ba([Zf.config({
        store: {
          mode: "manual",
          getValue: function getValue() {
            return s.getBlobState();
          }
        }
      }), Kd("image-tools-events", [lo(lk.undo(), function (t, n) {
        var e = s.undo();
        l(t, e).then(function (n) {
          f(t), i(t);
        });
      }), lo(lk.redo(), function (t, n) {
        var e = s.redo();
        l(t, e).then(function (n) {
          f(t), i(t);
        });
      }), lo(lk.zoom(), function (n, t) {
        var e = t.event().direction();
        o.zoom(n, e);
      }), lo(lk.back(), function (n, t) {
        !function (t) {
          var n = d(t);
          l(t, n).then(function (n) {
            f(t);
          });
        }(n), t.event().swap()(), o.hideCrop();
      }), lo(lk.apply(), function (n, t) {
        s.applyTempState(function () {
          d(n), t.event().swap()();
        });
      }), lo(lk.transform(), function (n, t) {
        return c(n, t.event().transform(), Z);
      }), lo(lk.tempTransform(), function (n, t) {
        return function (n, t) {
          var e = s.getTempState().blob;
          r(n, e, t, function (n) {
            return s.addTempState(n);
          }, Z);
        }(n, t.event().transform());
      }), lo(lk.transformApply(), function (n, t) {
        return function (e, n, t) {
          var o = s.getBlobState().blob;
          r(e, o, n, function (n) {
            var t = s.addBlobState(n);
            return d(e), t;
          }, t);
        }(n, t.event().transform(), t.event().swap());
      }), lo(lk.swap(), function (t, n) {
        !function (n) {
          m.updateButtonUndoStates(n, !1, !1);
        }(t);
        var e = n.event().transform(),
            o = n.event().swap();
        e.fold(function () {
          o();
        }, function (n) {
          c(t, n, o);
        });
      })]), xS()])
    };
  }

  function Ak(e, t) {
    var n = e.label.map(function (n) {
      return Dy(n, t);
    }),
        o = [Ch.config({
      disabled: e.disabled
    }), lg.config({
      mode: "execution",
      useEnter: !0 !== e.multiline,
      useControlEnter: !0 === e.multiline,
      execute: function execute(n) {
        return oo(n, fy), on.some(!0);
      }
    }), Kd("textfield-change", [lo(ei(), function (n, t) {
      ro(n, uy, {
        name: e.name
      });
    }), lo(fi(), function (n, t) {
      ro(n, uy, {
        name: e.name
      });
    })]), Gy.config({})],
        r = e.validation.map(function (o) {
      return jy.config({
        getRoot: function getRoot(n) {
          return Eo(n.element());
        },
        invalidClass: "tox-invalid",
        validator: {
          validate: function validate(n) {
            var t = Zf.getValue(n),
                e = o.validator(t);
            return Ny(!0 === e ? an.value(t) : an.error(e));
          },
          validateOnLoad: o.validateOnLoad
        }
      });
    }).toArray(),
        i = e.placeholder.fold(nn({}), function (n) {
      return {
        placeholder: t.translate(n)
      };
    }),
        u = e.inputMode.fold(nn({}), function (n) {
      return {
        inputmode: n
      };
    }),
        a = _N(_N({}, i), u),
        c = vy.parts().field({
      tag: !0 === e.multiline ? "textarea" : "input",
      inputAttributes: a,
      inputClasses: [e.classname],
      inputBehaviours: ba(H([o, r])),
      selectOnFocus: !1,
      factory: yy
    }),
        s = (e.flex ? ["tox-form__group--stretched"] : []).concat(e.maximized ? ["tox-form-group--maximize"] : []),
        f = [Ch.config({
      disabled: e.disabled,
      onDisabled: function onDisabled(n) {
        vy.getField(n).each(Ch.disable);
      },
      onEnabled: function onEnabled(n) {
        vy.getField(n).each(Ch.enable);
      }
    })];

    return By(n, c, s, f);
  }

  function _k(n) {
    var t = ye(null);
    return nu({
      readState: function readState() {
        return {
          timer: null !== t.get() ? "set" : "unset"
        };
      },
      setTimer: function setTimer(n) {
        t.set(n);
      },
      cancel: function cancel() {
        var n = t.get();
        null !== n && n.cancel();
      }
    });
  }

  function Mk(n, t, e) {
    var o = Zf.getValue(e);
    Zf.setValue(t, o), CE(t);
  }

  function Fk(n, t) {
    var e = n.element(),
        o = Er(e),
        r = e.dom();
    "number" !== zo(e, "type") && t(r, o);
  }

  function Ik(n, t, e) {
    if (n.selectsOver) {
      var o = Zf.getValue(t),
          r = n.getDisplayText(o),
          i = Zf.getValue(e);
      return 0 === n.getDisplayText(i).indexOf(r) ? on.some(function () {
        Mk(0, t, e), function (n, e) {
          Fk(n, function (n, t) {
            return n.setSelectionRange(e, t.length);
          });
        }(t, r.length);
      }) : on.none();
    }

    return on.none();
  }

  function Rk(n) {
    return BE(Vy(n));
  }

  function Vk(n) {
    return {
      type: "menuitem",
      value: n.url,
      text: n.title,
      meta: {
        attach: n.attach
      },
      onAction: function onAction() {}
    };
  }

  function Nk(n, t) {
    return {
      type: "menuitem",
      value: t,
      text: n,
      meta: {
        attach: undefined
      },
      onAction: function onAction() {}
    };
  }

  function Hk(n, t) {
    return function (n) {
      return S(n, Vk);
    }(function (t, n) {
      return C(n, function (n) {
        return n.type === t;
      });
    }(n, t));
  }

  function Pk(n, t) {
    var e = n.toLowerCase();
    return C(t, function (n) {
      var t = n.meta !== undefined && n.meta.text !== undefined ? n.meta.text : n.text;
      return Vt(t.toLowerCase(), e) || Vt(n.value.toLowerCase(), e);
    });
  }

  function zk(e, n, o) {
    var t = Zf.getValue(n),
        r = t.meta.text !== undefined ? t.meta.text : t.value;
    return o.getLinkInformation().fold(function () {
      return [];
    }, function (n) {
      var t = Pk(r, function (n) {
        return S(n, function (n) {
          return Nk(n, n);
        });
      }(o.getHistory(e)));
      return "file" === e ? function (n) {
        return O(n, function (n, t) {
          return 0 === n.length || 0 === t.length ? n.concat(t) : n.concat(AE, t);
        }, []);
      }([t, Pk(r, function (n) {
        return Hk("header", n.targets);
      }(n)), Pk(r, H([function (n) {
        return on.from(n.anchorTop).map(function (n) {
          return Nk("<top>", n);
        }).toArray();
      }(n), function (n) {
        return Hk("anchor", n.targets);
      }(n), function (n) {
        return on.from(n.anchorBottom).map(function (n) {
          return Nk("<bottom>", n);
        }).toArray();
      }(n)]))]) : t;
    });
  }

  function Lk(r, o, i) {
    function u(n) {
      var t = Zf.getValue(n);
      i.addToHistory(t.value, r.filetype);
    }

    var n,
        t,
        e,
        a,
        c,
        s = o.shared.providers,
        f = vy.parts().field({
      factory: TE,
      dismissOnBlur: !0,
      inputClasses: ["tox-textfield"],
      sandboxClasses: ["tox-dialog__popups"],
      inputAttributes: {
        "aria-errormessage": _E,
        type: "url"
      },
      minChars: 0,
      responseTime: 0,
      fetch: function fetch(n) {
        var t = zk(r.filetype, n, i),
            e = NC(t, Fh.BUBBLE_TO_SANDBOX, o, !1);
        return Ny(e);
      },
      getHotspot: function getHotspot(n) {
        return h.getOpt(n);
      },
      onSetValue: function onSetValue(n, t) {
        n.hasConfigured(jy) && jy.run(n).get(Z);
      },
      typeaheadBehaviours: ba(H([i.getValidationHandler().map(function (e) {
        return jy.config({
          getRoot: function getRoot(n) {
            return Eo(n.element());
          },
          invalidClass: "tox-control-wrap--status-invalid",
          notify: {
            onInvalid: function onInvalid(n, t) {
              d.getOpt(n).each(function (n) {
                Po(n.element(), "title", s.translate(t));
              });
            }
          },
          validator: {
            validate: function validate(n) {
              var t = Zf.getValue(n);
              return DE(function (o) {
                e({
                  type: r.filetype,
                  url: t.value
                }, function (n) {
                  if ("invalid" === n.status) {
                    var t = an.error(n.message);
                    o(t);
                  } else {
                    var e = an.value(n.message);
                    o(e);
                  }
                });
              });
            },
            validateOnLoad: !1
          }
        });
      }).toArray(), [Ch.config({
        disabled: r.disabled
      }), Gy.config({}), Kd("urlinput-events", H(["file" === r.filetype ? [lo(ei(), function (n) {
        ro(n, uy, {
          name: r.name
        });
      })] : [], [lo(oi(), function (n) {
        ro(n, uy, {
          name: r.name
        }), u(n);
      }), lo(fi(), function (n) {
        ro(n, uy, {
          name: r.name
        }), u(n);
      })]]))]])),
      eventOrder: (n = {}, n[ei()] = ["streaming", "urlinput-events", "invalidating"], n),
      model: {
        getDisplayText: function getDisplayText(n) {
          return n.value;
        },
        selectsOver: !1,
        populateFromBrowse: !1
      },
      markers: {
        openClass: "tox-textfield--popup-open"
      },
      lazySink: o.shared.getSink,
      parts: {
        menu: Sv(0, 0, "normal")
      },
      onExecute: function onExecute(n, t, e) {
        ro(t, fy, {});
      },
      onItemExecute: function onItemExecute(n, t, e, o) {
        u(n), ro(n, uy, {
          name: r.name
        });
      }
    }),
        l = r.label.map(function (n) {
      return Dy(n, s);
    }),
        d = vm((t = "invalid", e = on.some(_E), void 0 === (a = "warning") && (a = t), void 0 === c && (c = t), {
      dom: {
        tag: "div",
        classes: ["tox-icon", "tox-control-wrap__status-icon-" + t],
        innerHtml: ym(a, s.icons),
        attributes: _N({
          title: s.translate(c),
          "aria-live": "polite"
        }, e.fold(function () {
          return {};
        }, function (n) {
          return {
            id: n
          };
        }))
      }
    })),
        m = vm({
      dom: {
        tag: "div",
        classes: ["tox-control-wrap__status-icon-wrap"]
      },
      components: [d.asSpec()]
    }),
        g = i.getUrlPicker(r.filetype),
        p = Xo("browser.url.event"),
        h = vm({
      dom: {
        tag: "div",
        classes: ["tox-control-wrap"]
      },
      components: [f, m.asSpec()],
      behaviours: ba([Ch.config({
        disabled: r.disabled
      })])
    }),
        v = vm(GC({
      name: r.name,
      icon: on.some("browse"),
      text: r.label.getOr(""),
      disabled: r.disabled,
      primary: !1,
      borderless: !0
    }, function (n) {
      return oo(n, p);
    }, s, [], ["tox-browse-url"]));
    return vy.sketch({
      dom: Yy([]),
      components: l.toArray().concat([{
        dom: {
          tag: "div",
          classes: ["tox-form__controls-h-stack"]
        },
        components: H([[h.asSpec()], g.map(function () {
          return v.asSpec();
        }).toArray()])
      }]),
      fieldBehaviours: ba([Ch.config({
        disabled: r.disabled,
        onDisabled: function onDisabled(n) {
          vy.getField(n).each(Ch.disable), v.getOpt(n).each(Ch.disable);
        },
        onEnabled: function onEnabled(n) {
          vy.getField(n).each(Ch.enable), v.getOpt(n).each(Ch.enable);
        }
      }), Kd("url-input-events", [lo(p, function (o) {
        Zl.getCurrent(o).each(function (t) {
          var e = Zf.getValue(t);
          g.each(function (n) {
            n(e).get(function (n) {
              Zf.setValue(t, n), ro(o, uy, {
                name: r.name
              });
            });
          });
        });
      })])])
    });
  }

  function jk(u, t) {
    function n(o) {
      return function (t, e) {
        Ou(e.event().target(), "[data-collection-item-value]").each(function (n) {
          o(t, e, n, zo(n, "data-collection-item-value"));
        });
      };
    }

    var e = u.label.map(function (n) {
      return Dy(n, t);
    }),
        o = n(function (n, t, e, o) {
      t.stop(), ro(n, sy, {
        name: u.name,
        value: o
      });
    }),
        r = [lo($r(), n(function (n, t, e) {
      wa(e);
    })), lo(ri(), o), lo(gi(), o), lo(Qr(), n(function (n, t, e) {
      ku(n.element(), "." + mh).each(function (n) {
        dr(n, mh);
      }), fr(e, mh);
    })), lo(Zr(), n(function (n) {
      ku(n.element(), "." + mh).each(function (n) {
        dr(n, mh);
      });
    })), Ni(n(function (n, t, e, o) {
      ro(n, sy, {
        name: u.name,
        value: o
      });
    }))],
        i = vy.parts().field({
      dom: {
        tag: "div",
        classes: ["tox-collection"].concat(1 !== u.columns ? ["tox-collection--grid"] : ["tox-collection--list"])
      },
      components: [],
      factory: {
        sketch: l
      },
      behaviours: ba([mg.config({}), Zf.config({
        store: {
          mode: "memory",
          initialValue: []
        },
        onSetValue: function onSetValue(o, n) {
          !function (n, t) {
            var e = S(t, function (n) {
              var t = rh.translate(n.text),
                  e = 1 === u.columns ? '<div class="tox-collection__item-label">' + t + "</div>" : "",
                  o = '<div class="tox-collection__item-icon">' + n.icon + "</div>",
                  r = {
                _: " ",
                " - ": " ",
                "-": " "
              },
                  i = t.replace(/\_| \- |\-/g, function (n) {
                return r[n];
              });
              return '<div class="tox-collection__item" tabindex="-1" data-collection-item-value="' + function (n) {
                return '"' === n ? "&quot;" : n;
              }(n.value) + '" title="' + i + '" aria-label="' + i + '">' + o + e + "</div>";
            }),
                o = 1 < u.columns && "auto" !== u.columns ? w(e, u.columns) : [e],
                r = S(o, function (n) {
              return '<div class="tox-collection__group">' + n.join("") + "</div>";
            });
            No(n.element(), r.join(""));
          }(o, n), "auto" === u.columns && ip(o, 5, "tox-collection__item").each(function (n) {
            var t = n.numRows,
                e = n.numColumns;
            lg.setGridSize(o, t, e);
          }), oo(o, gy);
        }
      }), Gy.config({}), lg.config(function (n, t) {
        return 1 === n ? {
          mode: "menu",
          moveOnTab: !1,
          selector: ".tox-collection__item"
        } : "auto" === n ? {
          mode: "flatgrid",
          selector: ".tox-collection__item",
          initSize: {
            numColumns: 1,
            numRows: 1
          }
        } : {
          mode: "matrix",
          selectors: {
            row: "color" === t ? ".tox-swatches__row" : ".tox-collection__group",
            cell: "color" === t ? "." + ah : "." + uh
          }
        };
      }(u.columns, "normal")), Kd("collection-events", r)])
    });
    return By(e, i, ["tox-form__group--collection"], []);
  }

  function Uk(r) {
    return function (t, e, o) {
      return Nn(e, "name").fold(function () {
        return r(e, o);
      }, function (n) {
        return t.field(n, r(e, o));
      });
    };
  }

  function Wk(t, n, e) {
    var o = Dn(e, {
      shared: {
        interpreter: function interpreter(n) {
          return IE(t, n, o);
        }
      }
    });
    return IE(t, n, o);
  }

  function Gk(n) {
    return {
      colorPicker: function (e) {
        return function (n, t) {
          Uv.colorPickerDialog(e)(n, t);
        };
      }(n),
      hasCustomColors: function (n) {
        return function () {
          return Fv(n);
        };
      }(n),
      getColors: function (n) {
        return function () {
          return Iv(n);
        };
      }(n),
      getColorCols: function (n) {
        return function () {
          return Uv.getColorCols(n);
        };
      }(n)
    };
  }

  function Xk(e) {
    return function (n) {
      return on.from(n.getParam("style_formats")).filter(fn);
    }(e).map(function (n) {
      var t = function (t, n) {
        function e(n) {
          bn(n, function (n) {
            t.formatter.has(n.name) || t.formatter.register(n.name, n.format);
          });
        }

        var o = PE(n);
        return t.formatter ? e(o.customFormats) : t.on("init", function () {
          e(o.customFormats);
        }), o.formats;
      }(e, n);

      return function (n) {
        return n.getParam("style_formats_merge", !1, "boolean");
      }(e) ? HE.concat(t) : t;
    }).getOr(HE);
  }

  function Yk(n, t, e) {
    var o = {
      type: "formatter",
      isSelected: t(n.format),
      getStylePreview: e(n.format)
    };
    return Dn(n, o);
  }

  function qk(r, n, i, u) {
    var o = function o(n) {
      return S(n, function (n) {
        var t = wn(n);

        if ($(n, "items")) {
          var e = o(n.items);
          return Dn(function (n) {
            var t = {
              type: "submenu",
              isSelected: nn(!1),
              getStylePreview: function getStylePreview() {
                return on.none();
              }
            };
            return Dn(n, t);
          }(n), {
            getStyleItems: function getStyleItems() {
              return e;
            }
          });
        }

        return $(n, "format") ? function (n) {
          return Yk(n, i, u);
        }(n) : 1 === t.length && vn(t, "title") ? Dn(n, {
          type: "separator"
        }) : function (n) {
          var t = Xo(n.title),
              e = {
            type: "formatter",
            format: t,
            isSelected: i(t),
            getStylePreview: u(t)
          },
              o = Dn(n, e);
          return r.formatter.register(t, o), o;
        }(n);
      });
    };

    return o(n);
  }

  function Kk(t) {
    return function (n) {
      if (n && 1 === n.nodeType) {
        if (n.contentEditable === t) return !0;
        if (n.getAttribute("data-mce-contenteditable") === t) return !0;
      }

      return !1;
    };
  }

  function Jk(n, t, e, o, r) {
    return {
      type: n,
      title: t,
      url: e,
      level: o,
      attach: r
    };
  }

  function $k(n) {
    return n.innerText || n.textContent;
  }

  function Qk(n) {
    return function (n) {
      return n && "A" === n.nodeName && (n.id || n.name) !== undefined;
    }(n) && UE(n);
  }

  function Zk(n) {
    return n && /^(H[1-6])$/.test(n.nodeName);
  }

  function nO(n) {
    return Zk(n) && UE(n);
  }

  function tO(n) {
    var t = function (n) {
      return n.id ? n.id : Xo("h");
    }(n);

    return Jk("header", $k(n), "#" + t, function (n) {
      return Zk(n) ? parseInt(n.nodeName.substr(1), 10) : 0;
    }(n), function () {
      n.id = t;
    });
  }

  function eO(n) {
    var t = n.id || n.name,
        e = $k(n);
    return Jk("anchor", e || "#" + t, "#" + t, 0, Z);
  }

  function oO(n) {
    return function (n, t) {
      return S(zc(we.fromDom(t), n), function (n) {
        return n.dom();
      });
    }("h1,h2,h3,h4,h5,h6,a:not([href])", n);
  }

  function rO(n) {
    return 0 < zE(n.title).length;
  }

  function iO(n) {
    return cn(n) && /^https?/.test(n);
  }

  function uO(n) {
    return sn(n) && I(n, function (n) {
      return !function (n) {
        return fn(n) && n.length <= 5 && D(n, iO);
      }(n);
    }).isNone();
  }

  function aO() {
    var n,
        t = v.localStorage.getItem(GE);
    if (null === t) return {};

    try {
      n = JSON.parse(t);
    } catch (e) {
      if (e instanceof SyntaxError) return v.console.log("Local storage " + GE + " was not valid JSON", e), {};
      throw e;
    }

    return uO(n) ? n : (v.console.log("Local storage " + GE + " was not valid format", n), {});
  }

  function cO(n) {
    var t = aO();
    return Object.prototype.hasOwnProperty.call(t, n) ? t[n] : [];
  }

  function sO(t, n) {
    if (iO(t)) {
      var e = aO(),
          o = Object.prototype.hasOwnProperty.call(e, n) ? e[n] : [],
          r = C(o, function (n) {
        return n !== t;
      });
      e[n] = [t].concat(r).slice(0, 5), function (n) {
        if (!uO(n)) throw new Error("Bad format for history:\n" + JSON.stringify(n));
        v.localStorage.setItem(GE, JSON.stringify(n));
      }(e);
    }
  }

  function fO(n) {
    return !!n;
  }

  function lO(n) {
    return P(yk.makeMap(n, /[, ]/), fO);
  }

  function dO(n, t, e) {
    var o = function (n, t) {
      return XE.call(n, t) ? on.some(n[t]) : on.none();
    }(n, t).getOr(e);

    return cn(o) ? on.some(o) : on.none();
  }

  function mO(n) {
    return on.some(n.file_picker_callback).filter(dn);
  }

  function gO(n, t) {
    var e = function (n) {
      var t = on.some(n.file_picker_types).filter(fO),
          e = on.some(n.file_browser_callback_types).filter(fO),
          o = t.or(e).map(lO);
      return mO(n).fold(function () {
        return !1;
      }, function (n) {
        return o.fold(function () {
          return !0;
        }, function (n) {
          return 0 < wn(n).length && n;
        });
      });
    }(n);

    return ln(e) ? e ? mO(n) : on.none() : e[t] ? mO(n) : on.none();
  }

  function pO(t) {
    return {
      getHistory: cO,
      addToHistory: sO,
      getLinkInformation: function getLinkInformation() {
        return function (n) {
          return !1 === n.settings.typeahead_urls ? on.none() : on.some({
            targets: WE(n.getBody()),
            anchorTop: dO(n.settings, "anchor_top", "#top").getOrUndefined(),
            anchorBottom: dO(n.settings, "anchor_bottom", "#bottom").getOrUndefined()
          });
        }(t);
      },
      getValidationHandler: function getValidationHandler() {
        return function (n) {
          return on.from(n.settings.file_picker_validator_handler).filter(dn).orThunk(function () {
            return on.from(n.settings.filepicker_validator_handler).filter(dn);
          });
        }(t);
      },
      getUrlPicker: function getUrlPicker(n) {
        return function (r, i) {
          return gO(r.settings, i).map(function (o) {
            return function (t) {
              return Vy(function (e) {
                var n = yk.extend({
                  filetype: i
                }, on.from(t.meta).getOr({}));
                o.call(r, function (n, t) {
                  if (!cn(n)) throw new Error("Expected value to be string");
                  if (t !== undefined && !sn(t)) throw new Error("Expected meta to be a object");
                  e({
                    value: n,
                    meta: t
                  });
                }, t.value, n);
              });
            };
          });
        }(t, n);
      }
    };
  }

  function hO(n, t, e, o) {
    var r = ye(!1),
        i = {
      shared: {
        providers: {
          icons: function icons() {
            return t.ui.registry.getAll().icons;
          },
          menuItems: function menuItems() {
            return t.ui.registry.getAll().menuItems;
          },
          translate: rh.translate
        },
        interpreter: function interpreter(n) {
          return function (n, t) {
            return IE(FE, n, t);
          }(n, i);
        },
        anchors: NE(t, e, o),
        getSink: function getSink() {
          return an.value(n);
        }
      },
      urlinput: pO(t),
      styleselect: function (e) {
        function o(n) {
          return function () {
            return e.formatter.match(n);
          };
        }

        function r(t) {
          return function () {
            var n = e.formatter.get(t);
            return n !== undefined ? on.some({
              tag: 0 < n.length && (n[0].inline || n[0].block) || "div",
              styleAttr: e.formatter.getCssText(t)
            }) : on.none();
          };
        }

        var i = function i(n) {
          var t = n.items;
          return t !== undefined && 0 < t.length ? B(t, i) : [n.format];
        },
            u = ye([]),
            a = ye([]),
            c = ye([]),
            s = ye([]),
            f = ye(!1);

        e.on("init", function () {
          var n = Xk(e),
              t = qk(e, n, o, r);
          u.set(t), a.set(B(t, i));
        }), e.on("addStyleModifications", function (n) {
          var t = qk(e, n.items, o, r);
          c.set(t), f.set(n.replace), s.set(B(t, i));
        });
        return {
          getData: function getData() {
            var n = f.get() ? [] : u.get(),
                t = c.get();
            return n.concat(t);
          },
          getFlattenedKeys: function getFlattenedKeys() {
            var n = f.get() ? [] : a.get(),
                t = s.get();
            return n.concat(t);
          }
        };
      }(t),
      colorinput: Gk(t),
      dialog: function (n) {
        return {
          isDraggableModal: function (n) {
            return function () {
              return function (n) {
                return n.getParam("draggable_modal", !1, "boolean");
              }(n);
            };
          }(n)
        };
      }(t),
      isContextMenuOpen: function isContextMenuOpen() {
        return r.get();
      },
      setContextMenuState: function setContextMenuState(n) {
        return r.set(n);
      }
    };
    return i;
  }

  function vO(n, t, o) {
    var e = function (n, e) {
      return O(n, function (t, n) {
        return e(n, t.len).fold(nn(t), function (n) {
          return {
            len: n.finish(),
            list: t.list.concat([n])
          };
        });
      }, {
        len: 0,
        list: []
      }).list;
    }(n, function (n, t) {
      var e = o(n);
      return on.some({
        element: nn(n),
        start: nn(t),
        finish: nn(t + e),
        width: nn(e)
      });
    }),
        r = C(e, function (n) {
      return n.finish() <= t;
    }),
        i = k(r, function (n, t) {
      return n + t.width();
    }, 0),
        u = e.slice(r.length);

    return {
      within: nn(r),
      extra: nn(u),
      withinWidth: nn(i)
    };
  }

  function bO(n) {
    return S(n, function (n) {
      return n.element();
    });
  }

  function yO(n, t, e, o) {
    var r = function (n, t, e) {
      var o = vO(t, n, e);
      return 0 === o.extra().length ? on.some(o) : on.none();
    }(n, t, e).getOrThunk(function () {
      return vO(t, n - e(o), e);
    }),
        i = r.within(),
        u = r.extra(),
        a = r.withinWidth();

    return 1 === u.length && u[0].width() <= e(o) ? function (n, t, e) {
      var o = bO(n.concat(t));
      return $E(o, [], e);
    }(i, u, a) : 1 <= u.length ? function (n, t, e, o) {
      var r = bO(n).concat([e]);
      return $E(r, bO(t), o);
    }(i, u, o, a) : function (n, t, e) {
      return $E(bO(n), [], e);
    }(i, 0, a);
  }

  function xO(n, t) {
    var e = S(t, function (n) {
      return au(n);
    });
    JE.setGroups(n, e);
  }

  function wO(n, t, e, o) {
    var r = Ks(n, t, "primary"),
        i = qs(n, t, "overflow-button"),
        u = Jy.getCoupled(n, "overflowGroup");
    yr(r.element(), "visibility", "hidden");

    var a = function (n, t) {
      return n.bind(function (t) {
        return Ca(t.element()).bind(function (n) {
          return t.getSystem().getByDom(n).toOption();
        });
      }).orThunk(function () {
        return t.filter(vg.isFocused);
      });
    }(e, i);

    e.each(function (n) {
      JE.setGroups(n, []);
    });
    var c = t.builtGroups.get();
    xO(r, c.concat([u]));
    var s = mu(r.element()),
        f = yO(s, c, function (n) {
      return mu(n.element());
    }, u);
    0 === f.extra().length ? (mg.remove(r, u), e.each(function (n) {
      JE.setGroups(n, []);
    })) : (xO(r, f.within()), e.each(function (n) {
      xO(n, f.extra());
    })), kr(r.element(), "visibility"), Or(r.element()), e.each(function (t) {
      i.each(function (n) {
        return Cg.set(n, o(t));
      }), a.each(vg.focus);
    });
  }

  function SO(o, n, t, e, r) {
    var i = "alloy.toolbar.toggle";
    return {
      uid: o.uid,
      dom: o.dom,
      components: n,
      behaviours: Rs(o.splitToolbarBehaviours, [Jy.config({
        others: _N(_N({}, r.coupling), {
          overflowGroup: function overflowGroup(t) {
            return nT.sketch(_N(_N({}, e["overflow-group"]()), {
              items: [Gg.sketch(_N(_N({}, e["overflow-button"]()), {
                action: function action(n) {
                  oo(t, i);
                }
              }))]
            }));
          }
        })
      }), Kd("toolbar-toggle-events", [lo(i, function (n) {
        r.apis.toggle(n);
      })])]),
      apis: _N({
        setGroups: function setGroups(n, t) {
          !function (n, t) {
            var e = S(t, n.getSystem().build);
            o.builtGroups.set(e);
          }(n, t), r.apis.refresh(n);
        },
        getMoreButton: function getMoreButton(n) {
          return function (n) {
            return qs(n, o, "overflow-button");
          }(n);
        }
      }, r.apis),
      domModification: {
        attributes: {
          role: "group"
        }
      }
    };
  }

  function CO(n) {
    return n.getSystem().isConnected();
  }

  function kO(n, t, e) {
    var o = t.lazySink(n).getOrDie(),
        r = t.getAnchor(n),
        i = t.getOverflowBounds.map(function (n) {
      return n();
    });
    Af.positionWithinBounds(o, r, e, i);
  }

  function OO(t, e) {
    var n = zf.getState(Jy.getCoupled(t, "sandbox"));
    wO(t, e, n, CO), n.each(function (n) {
      return kO(t, e, n);
    });
  }

  function EO(t, e) {
    zf.getState(Jy.getCoupled(t, "sandbox")).each(function (n) {
      return kO(t, e, n);
    });
  }

  function TO(t, n) {
    return n.getAnimationRoot.fold(function () {
      return t.element();
    }, function (n) {
      return n(t);
    });
  }

  function BO(n) {
    return n.dimension.property;
  }

  function DO(n, t) {
    return n.dimension.getDimension(t);
  }

  function AO(n, t) {
    var e = TO(n, t);
    pr(e, [t.shrinkingClass, t.growingClass]);
  }

  function _O(n, t) {
    dr(n.element(), t.openClass), fr(n.element(), t.closedClass), yr(n.element(), BO(t), "0px"), Or(n.element());
  }

  function MO(n, t) {
    dr(n.element(), t.closedClass), fr(n.element(), t.openClass), kr(n.element(), BO(t));
  }

  function FO(n, t, e, o) {
    e.setCollapsed(), yr(n.element(), BO(t), DO(t, n.element())), Or(n.element()), AO(n, t), _O(n, t), t.onStartShrink(n), t.onShrunk(n);
  }

  function IO(n, t, e, o) {
    var r = o.getOrThunk(function () {
      return DO(t, n.element());
    });
    e.setCollapsed(), yr(n.element(), BO(t), r), Or(n.element());
    var i = TO(n, t);
    dr(i, t.growingClass), fr(i, t.shrinkingClass), _O(n, t), t.onStartShrink(n);
  }

  function RO(n, t, e) {
    var o = DO(t, n.element());
    ("0px" === o ? FO : IO)(n, t, e, on.some(o));
  }

  function VO(n, t, e) {
    var o = TO(n, t),
        r = mr(o, t.shrinkingClass),
        i = DO(t, n.element());
    MO(n, t);
    var u = DO(t, n.element());
    (r ? function () {
      yr(n.element(), BO(t), i), Or(n.element());
    } : function () {
      _O(n, t);
    })(), dr(o, t.shrinkingClass), fr(o, t.growingClass), MO(n, t), yr(n.element(), BO(t), u), e.setExpanded(), t.onStartGrow(n);
  }

  function NO(n, t, e) {
    var o = TO(n, t);
    return !0 === mr(o, t.growingClass);
  }

  function HO(n, t, e) {
    var o = TO(n, t);
    return !0 === mr(o, t.shrinkingClass);
  }

  function PO(n) {
    return cT.hasGrown(n);
  }

  function zO(n, t) {
    var e = n.outerContainer;
    !function (n, t) {
      var e = n.outerContainer.element();
      t && (n.mothership.broadcastOn([Lf()], {
        target: e
      }), n.uiMothership.broadcastOn([Lf()], {
        target: e
      })), n.mothership.broadcastOn([gT], {
        readonly: t
      }), n.uiMothership.broadcastOn([gT], {
        readonly: t
      });
    }(n, t), Lt("*", e.element()).forEach(function (n) {
      e.getSystem().getByDom(n).each(function (n) {
        n.hasConfigured(Ch) && Ch.set(n, t);
      });
    });
  }

  function LO(n, t) {
    n.on("init", function () {
      n.readonly && zO(t, !0);
    }), n.on("SwitchMode", function () {
      return zO(t, n.readonly);
    }), function (n) {
      return n.getParam("readonly", !1, "boolean");
    }(n) && n.setMode("readonly");
  }

  function jO(e) {
    var n;
    return lc.config({
      channels: (n = {}, n[gT] = {
        schema: pT,
        onReceive: function onReceive(n, t) {
          e(n).each(function (n) {
            !function (t, e) {
              Lt("*", t.element()).forEach(function (n) {
                t.getSystem().getByDom(n).each(function (n) {
                  n.hasConfigured(Ch) && Ch.set(n, e);
                });
              });
            }(n, t.readonly);
          });
        }
      }, n)
    });
  }

  function UO(n) {
    var t = n.title.fold(function () {
      return {};
    }, function (n) {
      return {
        attributes: {
          title: n
        }
      };
    });
    return {
      dom: _N({
        tag: "div",
        classes: ["tox-toolbar__group"]
      }, t),
      components: [nT.parts().items({})],
      items: n.items,
      markers: {
        itemSelector: "*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"
      },
      tgroupBehaviours: ba([Gy.config({}), vg.config({})])
    };
  }

  function WO(n) {
    return nT.sketch(UO(n));
  }

  function GO(e, n, t) {
    var o = Ii(function (n) {
      var t = S(e.initGroups, WO);
      JE.setGroups(n, t);
    });
    return ba([lg.config({
      mode: n,
      onEscape: e.onEscape,
      selector: ".tox-toolbar__group"
    }), Kd("toolbar-events", [o]), jO(t)]);
  }

  function XO(n, t) {
    var e = n.cyclicKeying ? "cyclic" : "acyclic";
    return {
      uid: n.uid,
      dom: {
        tag: "div",
        classes: ["tox-toolbar-overlord"]
      },
      parts: {
        "overflow-group": UO({
          title: on.none(),
          items: []
        }),
        "overflow-button": jC({
          name: "more",
          icon: on.some("more-drawer"),
          disabled: !1,
          tooltip: on.some("More..."),
          primary: !1,
          borderless: !1
        }, on.none(), n.backstage.shared.providers)
      },
      splitToolbarBehaviours: GO(n, e, t)
    };
  }

  function YO(r) {
    var n = XO(r, rT.getOverflow),
        t = rT.parts().primary({
      dom: {
        tag: "div",
        classes: ["tox-toolbar__primary"]
      }
    });
    return rT.sketch(_N(_N({}, n), {
      lazySink: r.getSink,
      getAnchor: function getAnchor() {
        return r.backstage.shared.anchors.toolbarOverflow();
      },
      getOverflowBounds: function getOverflowBounds() {
        var n = r.moreDrawerData.lazyHeader().element(),
            t = wu(n),
            e = ko(n),
            o = wu(e);
        return yu(t.x() + 4, o.y(), t.width() - 8, o.height());
      },
      parts: _N(_N({}, n.parts), {
        overflow: {
          dom: {
            tag: "div",
            classes: ["tox-toolbar__overflow"]
          }
        }
      }),
      components: [t],
      markers: {
        overflowToggledClass: "tox-tbtn--enabled"
      }
    }));
  }

  function qO(n) {
    var t = dT.parts().primary({
      dom: {
        tag: "div",
        classes: ["tox-toolbar__primary"]
      }
    }),
        e = dT.parts().overflow({
      dom: {
        tag: "div",
        classes: ["tox-toolbar__overflow"]
      }
    }),
        o = XO(n, dT.getOverflow);
    return dT.sketch(_N(_N({}, o), {
      components: [t, e],
      markers: {
        openClass: "tox-toolbar__overflow--open",
        closedClass: "tox-toolbar__overflow--closed",
        growingClass: "tox-toolbar__overflow--growing",
        shrinkingClass: "tox-toolbar__overflow--shrinking",
        overflowToggledClass: "tox-tbtn--enabled"
      },
      onOpened: function onOpened(n) {
        n.getSystem().broadcastOn([mT()], {
          type: "opened"
        });
      },
      onClosed: function onClosed(n) {
        n.getSystem().broadcastOn([mT()], {
          type: "closed"
        });
      }
    }));
  }

  function KO(n) {
    var t = n.cyclicKeying ? "cyclic" : "acyclic";
    return JE.sketch({
      uid: n.uid,
      dom: {
        tag: "div",
        classes: ["tox-toolbar"].concat(n.type === jb.scrolling ? ["tox-toolbar--scrolling"] : [])
      },
      components: [JE.parts().groups({})],
      toolbarBehaviours: GO(n, t, nn(on.none()))
    });
  }

  function JO(n) {
    return tt("toolbarbutton", vT, n);
  }

  function $O(n) {
    return tt("menubutton", yT, n);
  }

  function QO(n) {
    return tt("ToggleButton", ST, n);
  }

  function ZO(t) {
    return {
      isDisabled: function isDisabled() {
        return Ch.isDisabled(t);
      },
      setDisabled: function setDisabled(n) {
        return Ch.set(t, n);
      }
    };
  }

  function nE(t) {
    return {
      setActive: function setActive(n) {
        Cg.set(t, n);
      },
      isActive: function isActive() {
        return Cg.isOn(t);
      },
      isDisabled: function isDisabled() {
        return Ch.isDisabled(t);
      },
      setDisabled: function setDisabled(n) {
        return Ch.set(t, n);
      }
    };
  }

  function tE(n, t) {
    return n.map(function (n) {
      return {
        "aria-label": t.translate(n),
        title: t.translate(n)
      };
    }).getOr({});
  }

  function eE(t, e, n, o, r, i) {
    function u(n) {
      return rh.isRtl() && vn(jT, n) ? n + "-rtl" : n;
    }

    var a,
        c = rh.isRtl() && t.exists(function (n) {
      return vn(UT, n);
    });
    return {
      dom: {
        tag: "button",
        classes: ["tox-tbtn"].concat(e.isSome() ? ["tox-tbtn--select"] : []).concat(c ? ["tox-tbtn__icon-rtl"] : []),
        attributes: tE(n, i)
      },
      components: Bh([t.map(function (n) {
        return AC(u(n), i.icons);
      }), e.map(function (n) {
        return MC(n, "tox-tbtn", i);
      })]),
      eventOrder: (a = {}, a[Yr()] = ["focusing", "alloy.base.behaviour", "common-button-display-events"], a),
      buttonBehaviours: ba([Kd("common-button-display-events", [lo(Yr(), function (n, t) {
        t.event().prevent(), oo(n, LT);
      })])].concat(o.map(function (n) {
        return RT.config({
          channel: n,
          initialData: {
            icon: t,
            text: e
          },
          renderComponents: function renderComponents(n, t) {
            return Bh([n.icon.map(function (n) {
              return AC(u(n), i.icons);
            }), n.text.map(function (n) {
              return MC(n, "tox-tbtn", i);
            })]);
          }
        });
      }).toArray()).concat(r.getOr([])))
    };
  }

  function oE(n, t, e) {
    var o = ye(Z),
        r = eE(n.icon, n.text, n.tooltip, on.none(), on.none(), e);
    return Gg.sketch({
      dom: r.dom,
      components: r.components,
      eventOrder: ok,
      buttonBehaviours: ba([Kd("toolbar-button-events", [function (e) {
        return Ni(function (t, n) {
          Op(e, t)(function (n) {
            ro(t, ek, {
              buttonApi: n
            }), e.onAction(n);
          });
        });
      }({
        onAction: n.onAction,
        getApi: t.getApi
      }), Ep(t, o), Tp(t, o)]), Th(n.disabled)].concat(t.toolbarButtonBehaviours))
    });
  }

  function rE(t, n) {
    function e(e) {
      return {
        isDisabled: function isDisabled() {
          return Ch.isDisabled(e);
        },
        setDisabled: function setDisabled(n) {
          return Ch.set(e, n);
        },
        setIconFill: function setIconFill(n, t) {
          ku(e.element(), 'svg path[id="' + n + '"], rect[id="' + n + '"]').each(function (n) {
            Po(n, "fill", t);
          });
        },
        setIconStroke: function setIconStroke(n, t) {
          ku(e.element(), 'svg path[id="' + n + '"], rect[id="' + n + '"]').each(function (n) {
            Po(n, "stroke", t);
          });
        },
        setActive: function setActive(t) {
          Po(e.element(), "aria-pressed", t), ku(e.element(), "span").each(function (n) {
            e.getSystem().getByDom(n).each(function (n) {
              return Cg.set(n, t);
            });
          });
        },
        isActive: function isActive() {
          return ku(e.element(), "span").exists(function (n) {
            return e.getSystem().getByDom(n).exists(Cg.isOn);
          });
        }
      };
    }

    var o,
        r = Xo("channel-update-split-dropdown-display"),
        i = ye(Z),
        u = {
      getApi: e,
      onSetup: t.onSetup
    };
    return zT.sketch({
      dom: {
        tag: "div",
        classes: ["tox-split-button"],
        attributes: An({
          "aria-pressed": !1
        }, tE(t.tooltip, n.providers))
      },
      onExecute: function onExecute(n) {
        t.onAction(e(n));
      },
      onItemExecute: function onItemExecute(n, t, e) {},
      splitDropdownBehaviours: ba([Eh(!1), Kd("split-dropdown-events", [lo(LT, vg.focus), Ep(u, i), Tp(u, i)]), Ew.config({})]),
      eventOrder: (o = {}, o[Ci()] = ["alloy.base.behaviour", "split-dropdown-events"], o),
      toggleClass: "tox-tbtn--enabled",
      lazySink: n.getSink,
      fetch: function (e, r, o) {
        return function (t) {
          return Vy(function (n) {
            return r.fetch(n);
          }).map(function (n) {
            return on.from(ub(Dn(Tv(Xo("menu-value"), n, function (n) {
              r.onItemAction(e(t), n);
            }, r.columns, r.presets, Fh.CLOSE_ON_EXECUTE, r.select.getOr(function () {
              return !1;
            }), o), {
              movement: Bv(r.columns, r.presets),
              menuBehaviours: Jp("auto" !== r.columns ? [] : [Ii(function (o, n) {
                ip(o, 4, sp(r.presets)).each(function (n) {
                  var t = n.numRows,
                      e = n.numColumns;
                  lg.setGridSize(o, t, e);
                });
              })])
            })));
          });
        };
      }(e, t, n.providers),
      parts: {
        menu: Sv(0, t.columns, t.presets)
      },
      components: [zT.parts().button(eE(t.icon, t.text, on.none(), on.some(r), on.some([Cg.config({
        toggleClass: "tox-tbtn--enabled",
        toggleOnExecute: !1
      })]), n.providers)), zT.parts().arrow({
        dom: {
          tag: "button",
          classes: ["tox-tbtn", "tox-split-button__chevron"],
          innerHtml: ym("chevron-down", n.providers.icons)
        }
      }), zT.parts()["aria-descriptor"]({
        text: n.providers.translate("To open the popup, press Shift+Enter")
      })]
    });
  }

  function iE(o, r) {
    return lo(ek, function (n, t) {
      var e = function (n) {
        return {
          hide: function hide() {
            return oo(n, hi());
          },
          getValue: function getValue() {
            return Zf.getValue(n);
          }
        };
      }(o.get(n));

      r.onAction(e, t.event().buttonApi());
    });
  }

  function uE(n, t, e) {
    var o = {
      backstage: {
        shared: {
          providers: e
        }
      }
    };
    return "contextformtogglebutton" === t.type ? function (n, t, e) {
      var o = t.original,
          r = (o.primary, c(o, ["primary"])),
          i = et(QO(_N(_N({}, r), {
        type: "togglebutton",
        onAction: function onAction() {}
      })));
      return GT(i, e.backstage.shared.providers, [iE(n, t)]);
    }(n, t, o) : function (n, t, e) {
      var o = t.original,
          r = (o.primary, c(o, ["primary"])),
          i = et(JO(_N(_N({}, r), {
        type: "button",
        onAction: function onAction() {}
      })));
      return WT(i, e.backstage.shared.providers, [iE(n, t)]);
    }(n, t, o);
  }

  function aE(n, t) {
    var e = Math.max(t.x(), n.x()),
        o = n.right() - e,
        r = t.width() - (e - t.x());
    return {
      x: e,
      width: Math.min(o, r)
    };
  }

  function cE(n) {
    var t = Pb(n) || zb(n) || Xb(n),
        e = vu(v.window),
        o = xu(we.fromDom(n.getContentAreaContainer()));
    return n.inline && !t ? function (n, t, e) {
      var o = aE(t, e),
          r = o.x,
          i = o.width;
      return yu(r, e.y(), i, e.height());
    }(0, o, e) : n.inline ? function (n, t, e) {
      var o = aE(t, e),
          r = o.x,
          i = o.width,
          u = we.fromDom(n.getContainer()),
          a = ku(u, ".tox-editor-header").getOr(u),
          c = xu(a),
          s = e.height(),
          f = e.y();

      if (c.y() >= t.bottom()) {
        var l = Math.min(s + f, c.y());
        return yu(r, f, i, l - f);
      }

      var d = Math.max(f, c.bottom());
      return yu(r, d, i, s - (d - f));
    }(n, o, e) : function (n, t, e) {
      var o = aE(t, e),
          r = o.x,
          i = o.width,
          u = we.fromDom(n.getContainer()),
          a = ku(u, ".tox-editor-header").getOr(u),
          c = xu(u),
          s = xu(a),
          f = Math.max(e.y(), t.y(), s.bottom()),
          l = c.bottom() - f,
          d = e.height() - (f - e.y()),
          m = Math.min(l, d);
      return yu(r, f, i, m);
    }(n, o, e);
  }

  function sE(t, n) {
    return Du(n, function (n) {
      return n.predicate(t.dom()) ? on.some({
        toolbarApi: n,
        elem: t
      }) : on.none();
    });
  }

  function fE(o, r) {
    return function (t) {
      function n() {
        t.setActive(o.formatter.match(r));
        var n = o.formatter.formatChanged(r, t.setActive).unbind;
        e.set(on.some(n));
      }

      var e = ye(on.none());
      return o.initialized ? n() : o.on("init", n), function () {
        return e.get().each(function (n) {
          return n();
        });
      };
    };
  }

  function lE(t) {
    return function (n) {
      return function () {
        t.undoManager.transact(function () {
          t.focus(), t.execCommand("mceToggleFormat", !1, n.format);
        });
      };
    };
  }

  function dE(n, t, e) {
    var o = e.dataset,
        r = "basic" === o.type ? function () {
      return S(o.data, function (n) {
        return Yk(n, e.isSelectedFor, e.getPreviewFor);
      });
    } : o.getData;
    return {
      items: function (n, u, a) {
        function r(n, t, e, o) {
          var r = u.shared.providers.translate(n.title);
          if ("separator" === n.type) return on.some({
            type: "separator",
            text: r
          });
          if ("submenu" !== n.type) return on.some(_N({
            type: "togglemenuitem",
            text: r,
            active: n.isSelected(o),
            disabled: e,
            onAction: a.onAction(n)
          }, n.getStylePreview().fold(function () {
            return {};
          }, function (n) {
            return {
              meta: {
                style: n
              }
            };
          })));
          var i = B(n.getStyleItems(), function (n) {
            return c(n, t, o);
          });
          return 0 === t && i.length <= 0 ? on.none() : on.some({
            type: "nestedmenuitem",
            text: r,
            disabled: i.length <= 0,
            getSubmenuItems: function getSubmenuItems() {
              return B(n.getStyleItems(), function (n) {
                return c(n, t, o);
              });
            }
          });
        }

        function i(n) {
          var t = a.getCurrentValue(),
              e = a.shouldHide ? 0 : 1;
          return B(n, function (n) {
            return c(n, e, t);
          });
        }

        var c = function c(n, t, e) {
          var o = "formatter" === n.type && a.isInvalid(n);
          return 0 === t ? o ? [] : r(n, t, !1, e).toArray() : r(n, t, o, e).toArray();
        };

        return {
          validateItems: i,
          getFetch: function getFetch(o, r) {
            return function (n) {
              var t = r(),
                  e = i(t);
              n(NC(e, Fh.CLOSE_ON_EXECUTE, o, !1));
            };
          }
        };
      }(0, t, e),
      getStyleItems: r
    };
  }

  function mE(o, n, t) {
    var e = dE(0, n, t),
        r = e.items,
        i = e.getStyleItems;
    return FC({
      text: t.icon.isSome() ? on.none() : on.some(""),
      icon: t.icon,
      tooltip: on.from(t.tooltip),
      role: on.none(),
      fetch: r.getFetch(n, i),
      onSetup: function onSetup(e) {
        return t.setInitialValue.each(function (n) {
          return n(e.getComponent());
        }), t.nodeChangeHandler.map(function (n) {
          var t = n(e.getComponent());
          return o.on("NodeChange", t), function () {
            o.off("NodeChange", t);
          };
        }).getOr(Z);
      },
      getApi: function getApi(n) {
        return {
          getComponent: function getComponent() {
            return n;
          }
        };
      },
      columns: 1,
      presets: "normal",
      classes: t.icon.isSome() ? [] : ["bespoke"],
      dropdownBehaviours: []
    }, "tox-tbtn", n.shared);
  }

  var gE,
      pE,
      hE,
      vE,
      bE = Dl({
    name: "HtmlSelect",
    configFields: [ct("options"), Fs("selectBehaviours", [vg, Zf]), St("selectClasses", []), St("selectAttributes", {}), ht("data")],
    factory: function factory(e, n) {
      var t = S(e.options, function (n) {
        return {
          dom: {
            tag: "option",
            value: n.value,
            innerHtml: n.text
          }
        };
      }),
          o = e.data.map(function (n) {
        return q("initialValue", n);
      }).getOr({});
      return {
        uid: e.uid,
        dom: {
          tag: "select",
          classes: e.selectClasses,
          attributes: e.selectAttributes
        },
        components: t,
        behaviours: Rs(e.selectBehaviours, [vg.config({}), Zf.config({
          store: _N({
            mode: "manual",
            getValue: function getValue(n) {
              return Er(n.element());
            },
            setValue: function setValue(n, t) {
              E(e.options, function (n) {
                return n.value === t;
              }).isSome() && Tr(n.element(), t);
            }
          }, o)
        })])
      };
    }
  }),
      yE =
  /* */
  Object.freeze({
    events: function events(n, t) {
      var e = n.stream.streams.setup(n, t);
      return co([lo(n.event, e), Ri(function () {
        return t.cancel();
      })].concat(n.cancelEvent.map(function (n) {
        return [lo(n, function () {
          return t.cancel();
        })];
      }).getOr([])));
    }
  }),
      xE =
  /* */
  Object.freeze({
    throttle: _k,
    init: function init(n) {
      return n.stream.streams.state(n);
    }
  }),
      wE = [st("stream", it("mode", {
    throttle: [ct("delay"), St("stopEvent", !0), Qu("streams", {
      setup: function setup(n, t) {
        var e = n.stream,
            o = Jg(n.onStream, e.delay);
        return t.setTimer(o), function (n, t) {
          o.throttle(n, t), e.stopEvent && t.stop();
        };
      },
      state: _k
    })]
  })), St("event", "input"), ht("cancelEvent"), Ju("onStream")],
      SE = ya({
    fields: wE,
    name: "streaming",
    active: yE,
    state: xE
  }),
      CE = function CE(n) {
    Fk(n, function (n, t) {
      return n.setSelectionRange(t.length, t.length);
    });
  },
      kE = nn("alloy.typeahead.itemexecute"),
      OE = nn([ht("lazySink"), ct("fetch"), St("minChars", 5), St("responseTime", 1e3), qu("onOpen"), St("getHotspot", on.some), St("getAnchorOverrides", nn({})), St("layouts", on.none()), St("eventOrder", {}), Dt("model", {}, [St("getDisplayText", function (n) {
    return n.meta !== undefined && n.meta.text !== undefined ? n.meta.text : n.value;
  }), St("selectsOver", !0), St("populateFromBrowse", !0)]), qu("onSetValue"), Ku("onExecute"), qu("onItemExecute"), St("inputClasses", []), St("inputAttributes", {}), St("inputStyles", {}), St("matchWidth", !0), St("useMinWidth", !1), St("dismissOnBlur", !0), Xu(["openClass"]), ht("initialData"), Fs("typeaheadBehaviours", [vg, Zf, SE, lg, Cg, Jy]), At("previewing", function () {
    return ye(!0);
  })].concat(by()).concat(ax())),
      EE = nn([wl({
    schema: [Gu()],
    name: "menu",
    overrides: function overrides(o) {
      return {
        fakeFocus: !0,
        onHighlight: function onHighlight(t, e) {
          o.previewing.get() ? t.getSystem().getByUid(o.uid).each(function (n) {
            Ik(o.model, n, e).fold(function () {
              return ad.dehighlight(t, e);
            }, function (n) {
              return n();
            });
          }) : t.getSystem().getByUid(o.uid).each(function (n) {
            o.model.populateFromBrowse && Mk(o.model, n, e);
          }), o.previewing.set(!1);
        },
        onExecute: function onExecute(n, t) {
          return n.getSystem().getByUid(o.uid).toOption().map(function (n) {
            return ro(n, kE(), {
              item: t
            }), !0;
          });
        },
        onHover: function onHover(n, t) {
          o.previewing.set(!1), n.getSystem().getByUid(o.uid).each(function (n) {
            o.model.populateFromBrowse && Mk(o.model, n, t);
          });
        }
      };
    }
  })]),
      TE = Al({
    name: "Typeahead",
    configFields: OE(),
    partFields: EE(),
    factory: function factory(r, n, t, i) {
      function e(n, t, e) {
        r.previewing.set(!1);
        var o = Jy.getCoupled(n, "sandbox");
        if (zf.isOpen(o)) Zl.getCurrent(o).each(function (n) {
          ad.getHighlighted(n).fold(function () {
            e(n);
          }, function () {
            ao(o, n.element(), "keydown", t);
          });
        });else {
          nx(r, u(n), n, o, i, function (n) {
            Zl.getCurrent(n).each(e);
          }, Ay.HighlightFirst).get(Z);
        }
      }

      var o = Zb(r),
          u = function u(o) {
        return function (n) {
          return n.map(function (n) {
            var t = R(n.menus),
                e = B(t, function (n) {
              return C(n.items, function (n) {
                return "item" === n.type;
              });
            });
            return Zf.getState(o).update(S(e, function (n) {
              return n.data;
            })), n;
          });
        };
      },
          a = [vg.config({}), Zf.config({
        onSetValue: r.onSetValue,
        store: _N({
          mode: "dataset",
          getDataKey: function getDataKey(n) {
            return Er(n.element());
          },
          getFallbackEntry: function getFallbackEntry(n) {
            return {
              value: n,
              meta: {}
            };
          },
          setValue: function setValue(n, t) {
            Tr(n.element(), r.model.getDisplayText(t));
          }
        }, r.initialData.map(function (n) {
          return q("initialValue", n);
        }).getOr({}))
      }), SE.config({
        stream: {
          mode: "throttle",
          delay: r.responseTime,
          stopEvent: !1
        },
        onStream: function onStream(n, t) {
          var e = Jy.getCoupled(n, "sandbox");

          if (vg.isFocused(n) && Er(n.element()).length >= r.minChars) {
            var o = Zl.getCurrent(e).bind(function (n) {
              return ad.getHighlighted(n).map(Zf.getValue);
            });
            r.previewing.set(!0);
            nx(r, u(n), n, e, i, function (n) {
              Zl.getCurrent(e).each(function (n) {
                o.fold(function () {
                  r.model.selectsOver && ad.highlightFirst(n);
                }, function (t) {
                  ad.highlightBy(n, function (n) {
                    return Zf.getValue(n).value === t.value;
                  }), ad.getHighlighted(n).orThunk(function () {
                    return ad.highlightFirst(n), on.none();
                  });
                });
              });
            }, Ay.HighlightFirst).get(Z);
          }
        },
        cancelEvent: vi()
      }), lg.config({
        mode: "special",
        onDown: function onDown(n, t) {
          return e(n, t, ad.highlightFirst), on.some(!0);
        },
        onEscape: function onEscape(n) {
          var t = Jy.getCoupled(n, "sandbox");
          return zf.isOpen(t) ? (zf.close(t), on.some(!0)) : on.none();
        },
        onUp: function onUp(n, t) {
          return e(n, t, ad.highlightLast), on.some(!0);
        },
        onEnter: function onEnter(t) {
          var n = Jy.getCoupled(t, "sandbox"),
              e = zf.isOpen(n);
          if (e && !r.previewing.get()) return Zl.getCurrent(n).bind(function (n) {
            return ad.getHighlighted(n);
          }).map(function (n) {
            return ro(t, kE(), {
              item: n
            }), !0;
          });
          var o = Zf.getValue(t);
          return oo(t, vi()), r.onExecute(n, t, o), e && zf.close(n), on.some(!0);
        }
      }), Cg.config({
        toggleClass: r.markers.openClass,
        aria: {
          mode: "expanded"
        }
      }), Jy.config({
        others: {
          sandbox: function sandbox(n) {
            return ix(r, n, {
              onOpen: function onOpen() {
                return Cg.on(n);
              },
              onClose: function onClose() {
                return Cg.off(n);
              }
            });
          }
        }
      }), Kd("typeaheadevents", [Ni(function (n) {
        var t = Z;
        ex(r, u(n), n, i, t, Ay.HighlightFirst).get(Z);
      }), lo(kE(), function (n, t) {
        var e = Jy.getCoupled(n, "sandbox");
        Mk(r.model, n, t.event().item()), oo(n, vi()), r.onItemExecute(n, e, t.event().item(), Zf.getValue(n)), zf.close(e), CE(n);
      })].concat(r.dismissOnBlur ? [lo(si(), function (n) {
        var t = Jy.getCoupled(n, "sandbox");
        Ca(t.element()).isNone() && zf.close(t);
      })] : []))];

      return {
        uid: r.uid,
        dom: ny(Dn(r, {
          inputAttributes: {
            role: "combobox",
            "aria-autocomplete": "list",
            "aria-haspopup": "true"
          }
        })),
        behaviours: _N(_N({}, o), Rs(r.typeaheadBehaviours, a)),
        eventOrder: r.eventOrder
      };
    }
  }),
      BE = function BE(i) {
    return _N(_N({}, i), {
      toCached: function toCached() {
        return BE(i.toCached());
      },
      bindFuture: function bindFuture(t) {
        return BE(i.bind(function (n) {
          return n.fold(function (n) {
            return Ny(an.error(n));
          }, function (n) {
            return t(n);
          });
        }));
      },
      bindResult: function bindResult(t) {
        return BE(i.map(function (n) {
          return n.bind(t);
        }));
      },
      mapResult: function mapResult(t) {
        return BE(i.map(function (n) {
          return n.map(t);
        }));
      },
      mapError: function mapError(t) {
        return BE(i.map(function (n) {
          return n.mapError(t);
        }));
      },
      foldResult: function foldResult(t, e) {
        return i.map(function (n) {
          return n.fold(t, e);
        });
      },
      withTimeout: function withTimeout(n, r) {
        return BE(Vy(function (t) {
          var e = !1,
              o = v.setTimeout(function () {
            e = !0, t(an.error(r()));
          }, n);
          i.get(function (n) {
            e || (v.clearTimeout(o), t(n));
          });
        }));
      }
    });
  },
      DE = Rk,
      AE = {
    type: "separator"
  },
      _E = Xo("aria-invalid"),
      ME = {
    bar: Uk(function (n, t) {
      return function (n, t) {
        return {
          dom: {
            tag: "div",
            classes: ["tox-bar", "tox-form__controls-h-stack"]
          },
          components: S(n.items, t.interpreter)
        };
      }(n, t.shared);
    }),
    collection: Uk(function (n, t) {
      return jk(n, t.shared.providers);
    }),
    alertbanner: Uk(function (n, t) {
      return function (t, n) {
        return Wb.sketch({
          dom: {
            tag: "div",
            attributes: {
              role: "alert"
            },
            classes: ["tox-notification", "tox-notification--in", "tox-notification--" + t.level]
          },
          components: [{
            dom: {
              tag: "div",
              classes: ["tox-notification__icon"]
            },
            components: [Gg.sketch({
              dom: {
                tag: "button",
                classes: ["tox-button", "tox-button--naked", "tox-button--icon"],
                innerHtml: ym(t.icon, n.icons),
                attributes: {
                  title: n.translate(t.iconTooltip)
                }
              },
              action: function action(n) {
                ro(n, sy, {
                  name: "alert-banner",
                  value: t.url
                });
              }
            })]
          }, {
            dom: {
              tag: "div",
              classes: ["tox-notification__body"],
              innerHtml: n.translate(t.text)
            }
          }]
        });
      }(n, t.shared.providers);
    }),
    input: Uk(function (n, t) {
      return function (n, t) {
        return Ak({
          name: n.name,
          multiline: !1,
          label: n.label,
          inputMode: n.inputMode,
          placeholder: n.placeholder,
          flex: !1,
          disabled: n.disabled,
          classname: "tox-textfield",
          validation: on.none(),
          maximized: n.maximized
        }, t);
      }(n, t.shared.providers);
    }),
    textarea: Uk(function (n, t) {
      return function (n, t) {
        return Ak({
          name: n.name,
          multiline: !0,
          label: n.label,
          inputMode: on.none(),
          placeholder: n.placeholder,
          flex: !0,
          disabled: n.disabled,
          classname: "tox-textarea",
          validation: on.none(),
          maximized: n.maximized
        }, t);
      }(n, t.shared.providers);
    }),
    label: Uk(function (n, t) {
      return function (n, t) {
        var e = {
          dom: {
            tag: "label",
            innerHtml: t.providers.translate(n.label),
            classes: ["tox-label"]
          }
        },
            o = S(n.items, t.interpreter);
        return {
          dom: {
            tag: "div",
            classes: ["tox-form__group"]
          },
          components: [e].concat(o),
          behaviours: ba([xS(), mg.config({}), BS(on.none()), lg.config({
            mode: "acyclic"
          })])
        };
      }(n, t.shared);
    }),
    iframe: (gE = function gE(n, t) {
      return ww(n, t.shared.providers);
    }, function (n, t, e) {
      var o = Dn(t, {
        source: "dynamic"
      });
      return Uk(gE)(n, o, e);
    }),
    button: Uk(function (n, t) {
      return qC(n, t.shared.providers);
    }),
    checkbox: Uk(function (n, t) {
      return function (e, t) {
        function n(n) {
          return n.element().dom().click(), on.some(!0);
        }

        function o(n) {
          return {
            dom: {
              tag: "span",
              classes: ["tox-icon", "tox-checkbox-icon__" + n],
              innerHtml: ym("checked" === n ? "selected" : "unselected", t.icons)
            }
          };
        }

        var r = Zf.config({
          store: {
            mode: "manual",
            getValue: function getValue(n) {
              return n.element().dom().checked;
            },
            setValue: function setValue(n, t) {
              n.element().dom().checked = t;
            }
          }
        }),
            i = vy.parts().field({
          factory: {
            sketch: l
          },
          dom: {
            tag: "input",
            classes: ["tox-checkbox__input"],
            attributes: {
              type: "checkbox"
            }
          },
          behaviours: ba([xS(), Ch.config({
            disabled: e.disabled
          }), Gy.config({}), vg.config({}), r, lg.config({
            mode: "special",
            onEnter: n,
            onSpace: n,
            stopSpaceKeyup: !0
          }), Kd("checkbox-events", [lo(oi(), function (n, t) {
            ro(n, uy, {
              name: e.name
            });
          })])])
        }),
            u = vy.parts().label({
          dom: {
            tag: "span",
            classes: ["tox-checkbox__label"],
            innerHtml: t.translate(e.label)
          },
          behaviours: ba([Ew.config({})])
        }),
            a = vm({
          dom: {
            tag: "div",
            classes: ["tox-checkbox__icons"]
          },
          components: [o("checked"), o("unchecked")]
        });
        return vy.sketch({
          dom: {
            tag: "label",
            classes: ["tox-checkbox"]
          },
          components: [i, a.asSpec(), u],
          fieldBehaviours: ba([Ch.config({
            disabled: e.disabled,
            disableClass: "tox-checkbox--disabled",
            onDisabled: function onDisabled(n) {
              vy.getField(n).each(Ch.disable);
            },
            onEnabled: function onEnabled(n) {
              vy.getField(n).each(Ch.enable);
            }
          })])
        });
      }(n, t.shared.providers);
    }),
    colorinput: Uk(function (n, t) {
      return cx(n, t.shared, t.colorinput);
    }),
    colorpicker: Uk(function (n) {
      function t(n) {
        return "tox-" + n;
      }

      var e = yS(pw, t),
          r = vm(e.sketch({
        dom: {
          tag: "div",
          classes: [t("color-picker-container")],
          attributes: {
            role: "presentation"
          }
        },
        onValidHex: function onValidHex(n) {
          ro(n, sy, {
            name: "hex-valid",
            value: !0
          });
        },
        onInvalidHex: function onInvalidHex(n) {
          ro(n, sy, {
            name: "hex-valid",
            value: !1
          });
        }
      }));
      return {
        dom: {
          tag: "div"
        },
        components: [r.asSpec()],
        behaviours: ba([Zf.config({
          store: {
            mode: "manual",
            getValue: function getValue(n) {
              var t = r.get(n);
              return Zl.getCurrent(t).bind(function (n) {
                return Zf.getValue(n).hex;
              }).map(function (n) {
                return "#" + n;
              }).getOr("");
            },
            setValue: function setValue(n, t) {
              var e = /^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(t),
                  o = r.get(n);
              Zl.getCurrent(o).fold(function () {
                v.console.log("Can not find form");
              }, function (n) {
                Zf.setValue(n, {
                  hex: on.from(e[1]).getOr("")
                }), dS.getField(n, "hex").each(function (n) {
                  oo(n, ei());
                });
              });
            }
          }
        }), xS()])
      };
    }),
    dropzone: Uk(function (n, t) {
      return bw(n, t.shared.providers);
    }),
    grid: Uk(function (n, t) {
      return function (n, t) {
        return {
          dom: {
            tag: "div",
            classes: ["tox-form__grid", "tox-form__grid--" + n.columns + "col"]
          },
          components: S(n.items, t.interpreter)
        };
      }(n, t.shared);
    }),
    selectbox: Uk(function (n, t) {
      return function (e, t) {
        var n = S(e.items, function (n) {
          return {
            text: t.translate(n.text),
            value: n.value
          };
        }),
            o = e.label.map(function (n) {
          return Dy(n, t);
        }),
            r = vy.parts().field({
          dom: {},
          selectAttributes: {
            size: e.size
          },
          options: n,
          factory: bE,
          selectBehaviours: ba([Ch.config({
            disabled: e.disabled
          }), Gy.config({}), Kd("selectbox-change", [lo(oi(), function (n, t) {
            ro(n, uy, {
              name: e.name
            });
          })])])
        }),
            i = 1 < e.size ? on.none() : on.some({
          dom: {
            tag: "div",
            classes: ["tox-selectfield__icon-js"],
            innerHtml: ym("chevron-down", t.icons)
          }
        }),
            u = {
          dom: {
            tag: "div",
            classes: ["tox-selectfield"]
          },
          components: H([[r], i.toArray()])
        };
        return vy.sketch({
          dom: {
            tag: "div",
            classes: ["tox-form__group"]
          },
          components: H([o.toArray(), [u]]),
          fieldBehaviours: ba([Ch.config({
            disabled: e.disabled,
            onDisabled: function onDisabled(n) {
              vy.getField(n).each(Ch.disable);
            },
            onEnabled: function onEnabled(n) {
              vy.getField(n).each(Ch.enable);
            }
          })])
        });
      }(n, t.shared.providers);
    }),
    sizeinput: Uk(function (n, t) {
      return nk(n, t.shared.providers);
    }),
    urlinput: Uk(function (n, t) {
      return Lk(n, t, t.urlinput);
    }),
    customeditor: Uk(function (e) {
      var o = ye(on.none()),
          t = vm({
        dom: {
          tag: e.tag
        }
      }),
          r = ye(on.none());
      return {
        dom: {
          tag: "div",
          classes: ["tox-custom-editor"]
        },
        behaviours: ba([Kd("editor-foo-events", [Ii(function (n) {
          t.getOpt(n).each(function (t) {
            (!function (n) {
              return Object.prototype.hasOwnProperty.call(n, "init");
            }(e) ? kS.load(e.scriptId, e.scriptUrl).then(function (n) {
              return n(t.element().dom(), e.settings);
            }) : e.init(t.element().dom())).then(function (t) {
              r.get().each(function (n) {
                t.setValue(n);
              }), r.set(on.none()), o.set(on.some(t));
            });
          });
        })]), Zf.config({
          store: {
            mode: "manual",
            getValue: function getValue() {
              return o.get().fold(function () {
                return r.get().getOr("");
              }, function (n) {
                return n.getValue();
              });
            },
            setValue: function setValue(n, t) {
              o.get().fold(function () {
                r.set(on.some(t));
              }, function (n) {
                return n.setValue(t);
              });
            }
          }
        }), xS()]),
        components: [t.asSpec()]
      };
    }),
    htmlpanel: Uk(function (n) {
      return "presentation" === n.presets ? Wb.sketch({
        dom: {
          tag: "div",
          classes: ["tox-form__group"],
          innerHtml: n.html
        }
      }) : Wb.sketch({
        dom: {
          tag: "div",
          classes: ["tox-form__group"],
          innerHtml: n.html,
          attributes: {
            role: "document"
          }
        },
        containerBehaviours: ba([Gy.config({}), vg.config({})])
      });
    }),
    imagetools: Uk(function (n, t) {
      return Dk(n, t.shared.providers);
    }),
    table: Uk(function (n, t) {
      return function (n, t) {
        function e(n) {
          return {
            dom: {
              tag: "th",
              innerHtml: t.translate(n)
            }
          };
        }

        function o(n) {
          return {
            dom: {
              tag: "td",
              innerHtml: t.translate(n)
            }
          };
        }

        function r(n) {
          return {
            dom: {
              tag: "tr"
            },
            components: S(n, o)
          };
        }

        var i, u;
        return {
          dom: {
            tag: "table",
            classes: ["tox-dialog__table"]
          },
          components: [(u = n.header, {
            dom: {
              tag: "thead"
            },
            components: [{
              dom: {
                tag: "tr"
              },
              components: S(u, e)
            }]
          }), (i = n.cells, {
            dom: {
              tag: "tbody"
            },
            components: S(i, r)
          })],
          behaviours: ba([Gy.config({}), vg.config({})])
        };
      }(n, t.shared.providers);
    }),
    panel: Uk(function (n, t) {
      return function (n, t) {
        return {
          dom: {
            tag: "div",
            classes: n.classes
          },
          components: S(n.items, t.shared.interpreter)
        };
      }(n, t);
    })
  },
      FE = {
    field: function field(n, t) {
      return t;
    }
  },
      IE = function IE(t, e, o) {
    return Nn(ME, e.type).fold(function () {
      return v.console.error('Unknown factory type "' + e.type + '", defaulting to container: ', e), e;
    }, function (n) {
      return n(t, e, o);
    });
  },
      RE = nn(function (n, t) {
    !function (n, t) {
      var e = Vu.max(n, t, ["margin-left", "border-left-width", "padding-left", "padding-right", "border-right-width", "margin-right"]);
      yr(n, "max-width", e + "px");
    }(n, Math.floor(t));
  }),
      VE = {
    valignCentre: [],
    alignCentre: [],
    alignLeft: [],
    alignRight: [],
    right: [],
    left: [],
    bottom: [],
    top: []
  },
      NE = function NE(n, t, e) {
    function o() {
      return we.fromDom(n.getBody());
    }

    var r = Kb(n);
    return {
      toolbar: function (n, t, e) {
        return e ? function () {
          return {
            anchor: "node",
            root: n(),
            node: on.from(n()),
            bubble: Oa(-12, -12, VE),
            layouts: {
              onRtl: function onRtl() {
                return [pm];
              },
              onLtr: function onLtr() {
                return [hm];
              }
            },
            overrides: {
              maxHeightFunction: Cf()
            }
          };
        } : function () {
          return {
            anchor: "hotspot",
            hotspot: t(),
            bubble: Oa(-12, 12, VE),
            layouts: {
              onRtl: function onRtl() {
                return [ua];
              },
              onLtr: function onLtr() {
                return [aa];
              }
            },
            overrides: {
              maxHeightFunction: Cf()
            }
          };
        };
      }(o, t, r),
      toolbarOverflow: function (n) {
        return function () {
          return {
            anchor: "hotspot",
            hotspot: n(),
            overrides: {
              maxWidthFunction: RE()
            },
            layouts: {
              onRtl: function onRtl() {
                return [ua, aa];
              },
              onLtr: function onLtr() {
                return [aa, ua];
              }
            }
          };
        };
      }(e),
      banner: function (n, t, e) {
        return e ? function () {
          return {
            anchor: "node",
            root: n(),
            node: on.from(n()),
            layouts: {
              onRtl: function onRtl() {
                return [Ug];
              },
              onLtr: function onLtr() {
                return [Ug];
              }
            }
          };
        } : function () {
          return {
            anchor: "hotspot",
            hotspot: t(),
            layouts: {
              onRtl: function onRtl() {
                return [rc];
              },
              onLtr: function onLtr() {
                return [rc];
              }
            }
          };
        };
      }(o, t, r),
      cursor: function (t, n) {
        return function () {
          return {
            anchor: "selection",
            root: n(),
            getSelection: function getSelection() {
              var n = t.selection.getRng();
              return on.some(Tc.range(we.fromDom(n.startContainer), n.startOffset, we.fromDom(n.endContainer), n.endOffset));
            }
          };
        };
      }(n, o),
      node: function (t) {
        return function (n) {
          return {
            anchor: "node",
            root: t(),
            node: n
          };
        };
      }(o)
    };
  },
      HE = [{
    title: "Headings",
    items: [{
      title: "Heading 1",
      format: "h1"
    }, {
      title: "Heading 2",
      format: "h2"
    }, {
      title: "Heading 3",
      format: "h3"
    }, {
      title: "Heading 4",
      format: "h4"
    }, {
      title: "Heading 5",
      format: "h5"
    }, {
      title: "Heading 6",
      format: "h6"
    }]
  }, {
    title: "Inline",
    items: [{
      title: "Bold",
      icon: "bold",
      format: "bold"
    }, {
      title: "Italic",
      icon: "italic",
      format: "italic"
    }, {
      title: "Underline",
      icon: "underline",
      format: "underline"
    }, {
      title: "Strikethrough",
      icon: "strike-through",
      format: "strikethrough"
    }, {
      title: "Superscript",
      icon: "superscript",
      format: "superscript"
    }, {
      title: "Subscript",
      icon: "subscript",
      format: "subscript"
    }, {
      title: "Code",
      icon: "code",
      format: "code"
    }]
  }, {
    title: "Blocks",
    items: [{
      title: "Paragraph",
      format: "p"
    }, {
      title: "Blockquote",
      format: "blockquote"
    }, {
      title: "Div",
      format: "div"
    }, {
      title: "Pre",
      format: "pre"
    }]
  }, {
    title: "Align",
    items: [{
      title: "Left",
      icon: "align-left",
      format: "alignleft"
    }, {
      title: "Center",
      icon: "align-center",
      format: "aligncenter"
    }, {
      title: "Right",
      icon: "align-right",
      format: "alignright"
    }, {
      title: "Justify",
      icon: "align-justify",
      format: "alignjustify"
    }]
  }],
      PE = function PE(n) {
    return O(n, function (n, t) {
      if (function (n) {
        return En(n, "items");
      }(t)) {
        var e = PE(t.items);
        return {
          customFormats: n.customFormats.concat(e.customFormats),
          formats: n.formats.concat([{
            title: t.title,
            items: e.formats
          }])
        };
      }

      if (function (n) {
        return En(n, "inline");
      }(t) || function (n) {
        return En(n, "block");
      }(t) || function (n) {
        return En(n, "selector");
      }(t)) {
        var o = "custom-" + t.title.toLowerCase();
        return {
          customFormats: n.customFormats.concat([{
            name: o,
            format: t
          }]),
          formats: n.formats.concat([{
            title: t.title,
            format: o,
            icon: t.icon
          }])
        };
      }

      return _N(_N({}, n), {
        formats: n.formats.concat(t)
      });
    }, {
      customFormats: [],
      formats: []
    });
  },
      zE = yk.trim,
      LE = Kk("true"),
      jE = Kk("false"),
      UE = function UE(n) {
    return function (n) {
      for (; n = n.parentNode;) {
        var t = n.contentEditable;
        if (t && "inherit" !== t) return LE(n);
      }

      return !1;
    }(n) && !jE(n);
  },
      WE = function WE(n) {
    var t = oO(n);
    return C(function (n) {
      return S(C(n, nO), tO);
    }(t).concat(function (n) {
      return S(C(n, Qk), eO);
    }(t)), rO);
  },
      GE = "tinymce-url-history",
      XE = Object.prototype.hasOwnProperty,
      YE = "contexttoolbar-hide",
      qE = nn([ct("dom"), St("shell", !0), Fs("toolbarBehaviours", [mg])]),
      KE = nn([Sl({
    name: "groups",
    overrides: function overrides(n) {
      return {
        behaviours: ba([mg.config({})])
      };
    }
  })]),
      JE = Al({
    name: "Toolbar",
    configFields: qE(),
    partFields: KE(),
    factory: function factory(t, n, e, o) {
      var r = function r(n) {
        return t.shell ? on.some(n) : qs(n, t, "groups");
      },
          i = t.shell ? {
        behaviours: [mg.config({})],
        components: []
      } : {
        behaviours: [],
        components: n
      };

      return {
        uid: t.uid,
        dom: t.dom,
        components: i.components,
        behaviours: Rs(t.toolbarBehaviours, i.behaviours),
        apis: {
          setGroups: function setGroups(n, t) {
            r(n).fold(function () {
              throw v.console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"), new Error("Toolbar was defined to not be a shell, but no groups container was specified in components");
            }, function (n) {
              mg.set(n, t);
            });
          }
        },
        domModification: {
          attributes: {
            role: "group"
          }
        }
      };
    },
    apis: {
      setGroups: function setGroups(n, t, e) {
        n.setGroups(t, e);
      }
    }
  }),
      $E = yo("within", "extra", "withinWidth"),
      QE = nn([ct("items"), Xu(["itemSelector"]), Fs("tgroupBehaviours", [lg])]),
      ZE = nn([Cl({
    name: "items",
    unit: "item"
  })]),
      nT = Al({
    name: "ToolbarGroup",
    configFields: QE(),
    partFields: ZE(),
    factory: function factory(n, t, e, o) {
      return {
        uid: n.uid,
        dom: n.dom,
        components: t,
        behaviours: Rs(n.tgroupBehaviours, [lg.config({
          mode: "flow",
          selector: n.markers.itemSelector
        })]),
        domModification: {
          attributes: {
            role: "toolbar"
          }
        }
      };
    }
  }),
      tT = nn([Fs("splitToolbarBehaviours", [Jy]), At("builtGroups", function () {
    return ye([]);
  })]),
      eT = nn([Xu(["overflowToggledClass"]), ct("getAnchor"), xt("getOverflowBounds"), ct("lazySink")].concat(tT())),
      oT = nn([xl({
    factory: JE,
    schema: qE(),
    name: "primary"
  }), wl({
    factory: JE,
    schema: qE(),
    name: "overflow",
    overrides: function overrides(t) {
      return {
        toolbarBehaviours: ba([lg.config({
          mode: "cyclic",
          onEscape: function onEscape(n) {
            return qs(n, t, "overflow-button").each(vg.focus), on.none();
          }
        })])
      };
    }
  }), wl({
    name: "overflow-button",
    overrides: function overrides(n) {
      return {
        dom: {
          attributes: {
            "aria-haspopup": "true"
          }
        },
        buttonBehaviours: ba([Cg.config({
          toggleClass: n.markers.overflowToggledClass,
          aria: {
            mode: "expanded"
          },
          toggleOnExecute: !1
        })])
      };
    }
  }), wl({
    name: "overflow-group"
  })]),
      rT = Al({
    name: "SplitFloatingToolbar",
    configFields: eT(),
    partFields: oT(),
    factory: function factory(t, n, e, o) {
      return SO(t, n, 0, o, {
        coupling: {
          sandbox: function sandbox(n) {
            return function (o, e) {
              var r = Eu();
              return {
                dom: {
                  tag: "div",
                  attributes: {
                    id: r.id()
                  }
                },
                behaviours: ba([lg.config({
                  mode: "special",
                  onEscape: function onEscape(n) {
                    return zf.close(n), on.some(!0);
                  }
                }), zf.config({
                  onOpen: function onOpen(n, t) {
                    OO(o, e), qs(o, e, "overflow-button").each(function (n) {
                      Cg.on(n), r.link(n.element());
                    }), lg.focusIn(t);
                  },
                  onClose: function onClose() {
                    qs(o, e, "overflow-button").each(function (n) {
                      Cg.off(n), vg.focus(n), r.unlink(n.element());
                    });
                  },
                  isPartOf: function isPartOf(n, t, e) {
                    return Lu(t, e) || Lu(o, e);
                  },
                  getAttachPoint: function getAttachPoint() {
                    return e.lazySink(o).getOrDie();
                  }
                }), lc.config({
                  channels: _N({}, Ts({
                    isExtraPart: nn(!1),
                    doReposition: function doReposition() {
                      return EO(o, e);
                    }
                  }))
                })])
              };
            }(n, t);
          }
        },
        apis: {
          refresh: function refresh(n) {
            return OO(n, t);
          },
          toggle: function toggle(n) {
            return function (n, t, e) {
              var o = Jy.getCoupled(n, "sandbox");
              zf.isOpen(o) ? zf.close(o) : zf.open(o, e.overflow());
            }(n, 0, o);
          },
          getOverflow: function getOverflow(n) {
            return zf.getState(Jy.getCoupled(n, "sandbox"));
          },
          reposition: function reposition(n) {
            return EO(n, t);
          }
        }
      });
    },
    apis: {
      setGroups: function setGroups(n, t, e) {
        n.setGroups(t, e);
      },
      refresh: function refresh(n, t) {
        n.refresh(t);
      },
      reposition: function reposition(n, t) {
        n.reposition(t);
      },
      getMoreButton: function getMoreButton(n, t) {
        return n.getMoreButton(t);
      },
      getOverflow: function getOverflow(n, t) {
        return n.getOverflow(t);
      },
      toggle: function toggle(n, t) {
        n.toggle(t);
      }
    }
  }),
      iT =
  /* */
  Object.freeze({
    refresh: function refresh(n, t, e) {
      if (e.isExpanded()) {
        kr(n.element(), BO(t));
        var o = DO(t, n.element());
        yr(n.element(), BO(t), o);
      }
    },
    grow: function grow(n, t, e) {
      e.isExpanded() || VO(n, t, e);
    },
    shrink: function shrink(n, t, e) {
      e.isExpanded() && RO(n, t, e);
    },
    immediateShrink: function immediateShrink(n, t, e) {
      e.isExpanded() && FO(n, t, e);
    },
    hasGrown: function hasGrown(n, t, e) {
      return e.isExpanded();
    },
    hasShrunk: function hasShrunk(n, t, e) {
      return e.isCollapsed();
    },
    isGrowing: NO,
    isShrinking: HO,
    isTransitioning: function isTransitioning(n, t, e) {
      return !0 === NO(n, t) || !0 === HO(n, t);
    },
    toggleGrow: function toggleGrow(n, t, e) {
      (e.isExpanded() ? RO : VO)(n, t, e);
    },
    disableTransitions: AO
  }),
      uT =
  /* */
  Object.freeze({
    exhibit: function exhibit(n, t) {
      var e = t.expanded;
      return Zo(e ? {
        classes: [t.openClass],
        styles: {}
      } : {
        classes: [t.closedClass],
        styles: q(t.dimension.property, "0px")
      });
    },
    events: function events(e, o) {
      return co([bo(ii(), function (n, t) {
        t.event().raw().propertyName === e.dimension.property && (AO(n, e), o.isExpanded() && kr(n.element(), e.dimension.property), (o.isExpanded() ? e.onGrown : e.onShrunk)(n));
      })]);
    }
  }),
      aT = [ct("closedClass"), ct("openClass"), ct("shrinkingClass"), ct("growingClass"), ht("getAnimationRoot"), qu("onShrunk"), qu("onStartShrink"), qu("onGrown"), qu("onStartGrow"), St("expanded", !1), st("dimension", it("property", {
    width: [Qu("property", "width"), Qu("getDimension", function (n) {
      return mu(n) + "px";
    })],
    height: [Qu("property", "height"), Qu("getDimension", function (n) {
      return su(n) + "px";
    })]
  }))],
      cT = ya({
    fields: aT,
    name: "sliding",
    active: uT,
    apis: iT,
    state:
    /* */
    Object.freeze({
      init: function init(n) {
        var t = ye(n.expanded);
        return nu({
          isExpanded: function isExpanded() {
            return !0 === t.get();
          },
          isCollapsed: function isCollapsed() {
            return !1 === t.get();
          },
          setCollapsed: d(t.set, !1),
          setExpanded: d(t.set, !0),
          readState: function readState() {
            return "expanded: " + t.get();
          }
        });
      }
    })
  }),
      sT = nn([Xu(["closedClass", "openClass", "shrinkingClass", "growingClass", "overflowToggledClass"]), qu("onOpened"), qu("onClosed")].concat(tT())),
      fT = nn([xl({
    factory: JE,
    schema: qE(),
    name: "primary"
  }), xl({
    factory: JE,
    schema: qE(),
    name: "overflow",
    overrides: function overrides(t) {
      return {
        toolbarBehaviours: ba([cT.config({
          dimension: {
            property: "height"
          },
          closedClass: t.markers.closedClass,
          openClass: t.markers.openClass,
          shrinkingClass: t.markers.shrinkingClass,
          growingClass: t.markers.growingClass,
          onShrunk: function onShrunk(n) {
            qs(n, t, "overflow-button").each(function (n) {
              Cg.off(n), vg.focus(n);
            }), t.onClosed(n);
          },
          onGrown: function onGrown(n) {
            lg.focusIn(n), t.onOpened(n);
          },
          onStartGrow: function onStartGrow(n) {
            qs(n, t, "overflow-button").each(Cg.on);
          }
        }), lg.config({
          mode: "acyclic",
          onEscape: function onEscape(n) {
            return qs(n, t, "overflow-button").each(vg.focus), on.some(!0);
          }
        })])
      };
    }
  }), wl({
    name: "overflow-button",
    overrides: function overrides(n) {
      return {
        buttonBehaviours: ba([Cg.config({
          toggleClass: n.markers.overflowToggledClass,
          aria: {
            mode: "pressed"
          },
          toggleOnExecute: !1
        })])
      };
    }
  }), wl({
    name: "overflow-group"
  })]),
      lT = function lT(n, t) {
    var e = qs(n, t, "overflow");
    wO(n, t, e, PO), e.each(cT.refresh);
  },
      dT = Al({
    name: "SplitSlidingToolbar",
    configFields: sT(),
    partFields: fT(),
    factory: function factory(t, n, e, o) {
      return SO(t, n, 0, o, {
        coupling: {},
        apis: {
          refresh: function refresh(n) {
            return lT(n, t);
          },
          toggle: function toggle(n) {
            return function (t, e) {
              qs(t, e, "overflow").each(function (n) {
                lT(t, e), cT.toggleGrow(n);
              });
            }(n, t);
          },
          getOverflow: function getOverflow(n) {
            return qs(n, t, "overflow");
          }
        }
      });
    },
    apis: {
      setGroups: function setGroups(n, t, e) {
        n.setGroups(t, e);
      },
      refresh: function refresh(n, t) {
        n.refresh(t);
      },
      getMoreButton: function getMoreButton(n, t) {
        return n.getMoreButton(t);
      },
      getOverflow: function getOverflow(n, t) {
        return n.getOverflow(t);
      },
      toggle: function toggle(n, t) {
        n.toggle(t);
      }
    }
  }),
      mT = nn(Xo("toolbar-height-change")),
      gT = "silver.readonly",
      pT = re([(pE = "readonly", st(pE, pe))]),
      hT = [Tt("disabled", !1), yt("tooltip"), yt("icon"), yt("text"), Bt("onSetup", function () {
    return Z;
  })],
      vT = re([ft("type"), dt("onAction")].concat(hT)),
      bT = [yt("text"), yt("tooltip"), yt("icon"), dt("fetch"), Bt("onSetup", function () {
    return Z;
  })],
      yT = re(g([ft("type")], bT)),
      xT = re([ft("type"), yt("tooltip"), yt("icon"), yt("text"), xt("select"), dt("fetch"), Bt("onSetup", function () {
    return Z;
  }), Et("presets", "normal", ["normal", "color", "listpreview"]), St("columns", 1), dt("onAction"), dt("onItemAction")]),
      wT = [Tt("active", !1)].concat(hT),
      ST = re(wT.concat([ft("type"), dt("onAction")])),
      CT = [Bt("predicate", function () {
    return !1;
  }), Et("scope", "node", ["node", "editor"]), Et("position", "selection", ["node", "selection", "line"])],
      kT = hT.concat([St("type", "contextformbutton"), St("primary", !1), dt("onAction"), At("original", l)]),
      OT = wT.concat([St("type", "contextformbutton"), St("primary", !1), dt("onAction"), At("original", l)]),
      ET = hT.concat([St("type", "contextformbutton")]),
      TT = wT.concat([St("type", "contextformtogglebutton")]),
      BT = it("type", {
    contextformbutton: kT,
    contextformtogglebutton: OT
  }),
      DT = re([St("type", "contextform"), Bt("initValue", function () {
    return "";
  }), yt("label"), pt("commands", BT), vt("launch", it("type", {
    contextformbutton: ET,
    contextformtogglebutton: TT
  }))].concat(CT)),
      AT = re([St("type", "contexttoolbar"), ft("items")].concat(CT)),
      _T =
  /* */
  Object.freeze({
    getState: function getState(n, t, e) {
      return e;
    }
  }),
      MT =
  /* */
  Object.freeze({
    events: function events(i, u) {
      function o(o, r) {
        i.updateState.each(function (n) {
          var t = n(o, r);
          u.set(t);
        }), i.renderComponents.each(function (n) {
          var t = n(r, u.get()),
              e = S(t, o.getSystem().build);
          ps(o, e);
        });
      }

      return co([lo(li(), function (n, t) {
        var e = i.channel;
        vn(t.channels(), e) && o(n, t.data());
      }), Ii(function (t, n) {
        i.initialData.each(function (n) {
          o(t, n);
        });
      })]);
    }
  }),
      FT =
  /* */
  Object.freeze({
    init: function init(n) {
      var t = ye(on.none());
      return {
        readState: function readState() {
          return t.get().fold(function () {
            return "none";
          }, function (n) {
            return n;
          });
        },
        get: function get() {
          return t.get();
        },
        set: function set(n) {
          return t.set(n);
        },
        clear: function clear() {
          return t.set(on.none());
        }
      };
    }
  }),
      IT = [ct("channel"), ht("renderComponents"), ht("updateState"), ht("initialData")],
      RT = ya({
    fields: IT,
    name: "reflecting",
    active: MT,
    apis: _T,
    state: FT
  }),
      VT = nn([ct("toggleClass"), ct("fetch"), Ju("onExecute"), St("getHotspot", on.some), St("getAnchorOverrides", nn({})), St("layouts", on.none()), Ju("onItemExecute"), ht("lazySink"), ct("dom"), qu("onOpen"), Fs("splitDropdownBehaviours", [Jy, lg, vg]), St("matchWidth", !1), St("useMinWidth", !1), St("eventOrder", {}), ht("role")].concat(ax())),
      NT = xl({
    factory: Gg,
    schema: [ct("dom")],
    name: "arrow",
    defaults: function defaults(n) {
      return {
        buttonBehaviours: ba([vg.revoke()])
      };
    },
    overrides: function overrides(t) {
      return {
        dom: {
          tag: "span",
          attributes: {
            role: "presentation"
          }
        },
        action: function action(n) {
          n.getSystem().getByUid(t.uid).each(io);
        },
        buttonBehaviours: ba([Cg.config({
          toggleOnExecute: !1,
          toggleClass: t.toggleClass
        })])
      };
    }
  }),
      HT = xl({
    factory: Gg,
    schema: [ct("dom")],
    name: "button",
    defaults: function defaults(n) {
      return {
        buttonBehaviours: ba([vg.revoke()])
      };
    },
    overrides: function overrides(e) {
      return {
        dom: {
          tag: "span",
          attributes: {
            role: "presentation"
          }
        },
        action: function action(t) {
          t.getSystem().getByUid(e.uid).each(function (n) {
            e.onExecute(n, t);
          });
        }
      };
    }
  }),
      PT = nn([NT, HT, Sl({
    factory: {
      sketch: function sketch(n) {
        return {
          uid: n.uid,
          dom: {
            tag: "span",
            styles: {
              display: "none"
            },
            attributes: {
              "aria-hidden": "true"
            },
            innerHtml: n.text
          }
        };
      }
    },
    schema: [ct("text")],
    name: "aria-descriptor"
  }), wl({
    schema: [Gu()],
    name: "menu",
    defaults: function defaults(o) {
      return {
        onExecute: function onExecute(t, e) {
          t.getSystem().getByUid(o.uid).each(function (n) {
            o.onItemExecute(n, t, e);
          });
        }
      };
    }
  }), Qy()]),
      zT = Al({
    name: "SplitDropdown",
    configFields: VT(),
    partFields: PT(),
    factory: function factory(o, n, t, e) {
      function r(n) {
        Zl.getCurrent(n).each(function (n) {
          ad.highlightFirst(n), lg.focusIn(n);
        });
      }

      function i(n) {
        ex(o, function (n) {
          return n;
        }, n, e, r, Ay.HighlightFirst).get(Z);
      }

      function u(n) {
        var t = Ks(n, o, "button");
        return io(t), on.some(!0);
      }

      var a = An(co([Ii(function (e, n) {
        qs(e, o, "aria-descriptor").each(function (n) {
          var t = Xo("aria");
          Po(n.element(), "id", t), Po(e.element(), "aria-describedby", t);
        });
      })]), rm(on.some(i))),
          c = {
        repositionMenus: function repositionMenus(n) {
          Cg.isOn(n) && ux(n);
        }
      };
      return {
        uid: o.uid,
        dom: o.dom,
        components: n,
        apis: c,
        eventOrder: _N(_N({}, o.eventOrder), {
          "alloy.execute": ["disabling", "toggling", "alloy.base.behaviour"]
        }),
        events: a,
        behaviours: Rs(o.splitDropdownBehaviours, [Jy.config({
          others: {
            sandbox: function sandbox(n) {
              var t = Ks(n, o, "arrow");
              return ix(o, n, {
                onOpen: function onOpen() {
                  Cg.on(t), Cg.on(n);
                },
                onClose: function onClose() {
                  Cg.off(t), Cg.off(n);
                }
              });
            }
          }
        }), lg.config({
          mode: "special",
          onSpace: u,
          onEnter: u,
          onDown: function onDown(n) {
            return i(n), on.some(!0);
          }
        }), vg.config({}), Cg.config({
          toggleOnExecute: !1,
          aria: {
            mode: "expanded"
          }
        })]),
        domModification: {
          attributes: {
            role: o.role.getOr("button"),
            "aria-haspopup": !0
          }
        }
      };
    },
    apis: {
      repositionMenus: function repositionMenus(n, t) {
        return n.repositionMenus(t);
      }
    }
  }),
      LT = Xo("focus-button"),
      jT = ["checklist", "ordered-list"],
      UT = ["indent", "outdent", "table-insert-column-after", "table-insert-column-before", "unordered-list"],
      WT = function WT(n, t, e) {
    return oE(n, {
      toolbarButtonBehaviours: [].concat(0 < e.length ? [Kd("toolbarButtonWith", e)] : []),
      getApi: ZO,
      onSetup: n.onSetup
    }, t);
  },
      GT = function GT(n, t, e) {
    return Dn(oE(n, {
      toolbarButtonBehaviours: [mg.config({}), Cg.config({
        toggleClass: "tox-tbtn--enabled",
        aria: {
          mode: "pressed"
        },
        toggleOnExecute: !1
      })].concat(0 < e.length ? [Kd("toolbarToggleButtonWith", e)] : []),
      getApi: nE,
      onSetup: n.onSetup
    }, t));
  },
      XT = function XT(n, t, e) {
    var o = t.label.fold(function () {
      return {};
    }, function (n) {
      return {
        "aria-label": n
      };
    }),
        r = vm(yy.sketch({
      inputClasses: ["tox-toolbar-textfield", "tox-toolbar-nav-js"],
      data: t.initValue(),
      inputAttributes: o,
      selectOnFocus: !0,
      inputBehaviours: ba([lg.config({
        mode: "special",
        onEnter: function onEnter(n) {
          return i.findPrimary(n).map(function (n) {
            return io(n), !0;
          });
        },
        onLeft: function onLeft(n, t) {
          return t.cut(), on.none();
        },
        onRight: function onRight(n, t) {
          return t.cut(), on.none();
        }
      })])
    })),
        i = function (t, n, e) {
      var o = S(n, function (n) {
        return vm(uE(t, n, e));
      });
      return {
        asSpecs: function asSpecs() {
          return S(o, function (n) {
            return n.asSpec();
          });
        },
        findPrimary: function findPrimary(e) {
          return Du(n, function (n, t) {
            return n.primary ? on.from(o[t]).bind(function (n) {
              return n.getOpt(e);
            }).filter(b(Ch.isDisabled)) : on.none();
          });
        }
      };
    }(r, t.commands, e.shared.providers);

    return KO({
      type: n,
      uid: Xo("context-toolbar"),
      initGroups: [{
        title: on.none(),
        items: [r.asSpec()]
      }, {
        title: on.none(),
        items: i.asSpecs()
      }],
      onEscape: on.none,
      cyclicKeying: !0,
      backstage: e,
      getSink: function getSink() {
        return an.error("");
      }
    });
  },
      YT = function YT(t, e) {
    function n(n) {
      return n.dom() === e.getBody();
    }

    var o = we.fromDom(e.selection.getNode());
    return sE(o, t.inNodeScope).orThunk(function () {
      return sE(o, t.inEditorScope).orThunk(function () {
        return function (n, t, e) {
          for (var o = n.dom(), r = dn(e) ? e : nn(!1); o.parentNode;) {
            o = o.parentNode;
            var i = we.fromDom(o),
                u = t(i);
            if (u.isSome()) return u;
            if (r(i)) break;
          }

          return on.none();
        }(o, function (n) {
          return sE(n, t.inNodeScope);
        }, n);
      });
    });
  },
      qT = function qT(e, r) {
    function o(t, e) {
      var o = et(function (n) {
        return tt("ContextForm", DT, n);
      }(e));
      (n[t] = o).launch.map(function (n) {
        c["form:" + t] = _N(_N({}, e.launch), {
          type: "contextformtogglebutton" === n.type ? "togglebutton" : "button",
          onAction: function onAction() {
            r(o);
          }
        });
      }), "editor" === o.scope ? a.push(o) : u.push(o), s[t] = o;
    }

    function i(t, e) {
      (function (n) {
        return tt("ContextToolbar", AT, n);
      })(e).each(function (n) {
        "editor" === e.scope ? a.push(n) : u.push(n), s[t] = n;
      });
    }

    var n = {},
        u = [],
        a = [],
        c = {},
        s = {},
        t = wn(e);
    return bn(t, function (n) {
      var t = e[n];
      "contextform" === t.type ? o(n, t) : "contexttoolbar" === t.type && i(n, t);
    }), {
      forms: n,
      inNodeScope: u,
      inEditorScope: a,
      lookupTable: s,
      formNavigators: c
    };
  },
      KT = Xo("forward-slide"),
      JT = Xo("backward-slide"),
      $T = Xo("change-slide-event"),
      QT = "tox-pop--resizing";

  (vE = hE = hE || {})[vE.SemiColon = 0] = "SemiColon", vE[vE.Space = 1] = "Space";

  function ZT(n, t, e, o) {
    return {
      type: "basic",
      data: function (n) {
        return S(n, function (n) {
          var t = n,
              e = n,
              o = n.split("=");
          return 1 < o.length && (t = o[0], e = o[1]), {
            title: t,
            format: e
          };
        });
      }(function (n, t) {
        return t === hE.SemiColon ? n.replace(/;$/, "").split(";") : n.split(" ");
      }(Nn(n.settings, t).getOr(e), o))
    };
  }

  function nB(e) {
    function t(n) {
      var t = E(RD, function (n) {
        return e.formatter.match(n.format);
      }).fold(function () {
        return "left";
      }, function (n) {
        return n.title.toLowerCase();
      });
      ro(n, ik, {
        icon: "align-" + t
      });
    }

    var n = on.some(function (n) {
      return function () {
        return t(n);
      };
    }),
        o = on.some(function (n) {
      return t(n);
    }),
        r = function (n) {
      return {
        type: "basic",
        data: n
      };
    }(RD);

    return {
      tooltip: "Align",
      icon: on.some("align-left"),
      isSelectedFor: function isSelectedFor(n) {
        return function () {
          return e.formatter.match(n);
        };
      },
      getCurrentValue: nn(on.none()),
      getPreviewFor: function getPreviewFor(n) {
        return function () {
          return on.none();
        };
      },
      onAction: lE(e),
      setInitialValue: o,
      nodeChangeHandler: n,
      dataset: r,
      shouldHide: !1,
      isInvalid: function isInvalid(n) {
        return !e.formatter.canApply(n.format);
      }
    };
  }

  function tB(n) {
    var t = n.split(/\s*,\s*/);
    return S(t, function (n) {
      return n.replace(/^['"]+|['"]+$/g, "");
    });
  }

  function eB(r) {
    function i() {
      function e(n) {
        return n ? tB(n)[0] : "";
      }

      var n = r.queryCommandValue("FontName"),
          t = u.data,
          o = n ? n.toLowerCase() : "";
      return {
        matchOpt: E(t, function (n) {
          var t = n.format;
          return t.toLowerCase() === o || e(t).toLowerCase() === e(o).toLowerCase();
        }).orThunk(function () {
          return function (n) {
            var t;
            return 0 === n.indexOf("-apple-system") && (t = tB(n.toLowerCase()), D(VD, function (n) {
              return -1 < t.indexOf(n.toLowerCase());
            }));
          }(o) ? on.from({
            title: "System Font",
            format: o
          }) : on.none();
        }),
        font: n
      };
    }

    function t(n) {
      var t = i(),
          e = t.matchOpt,
          o = t.font,
          r = e.fold(function () {
        return o;
      }, function (n) {
        return n.title;
      });
      ro(n, rk, {
        text: r
      });
    }

    var n = on.some(function (n) {
      return function () {
        return t(n);
      };
    }),
        e = on.some(function (n) {
      return t(n);
    }),
        u = ZT(r, "font_formats", "Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats", hE.SemiColon);
    return {
      tooltip: "Fonts",
      icon: on.none(),
      isSelectedFor: function isSelectedFor(t) {
        return function (n) {
          return n.exists(function (n) {
            return n.format === t;
          });
        };
      },
      getCurrentValue: function getCurrentValue() {
        return i().matchOpt;
      },
      getPreviewFor: function getPreviewFor(n) {
        return function () {
          return on.some({
            tag: "div",
            styleAttr: -1 === n.indexOf("dings") ? "font-family:" + n : ""
          });
        };
      },
      onAction: function onAction(n) {
        return function () {
          r.undoManager.transact(function () {
            r.focus(), r.execCommand("FontName", !1, n.format);
          });
        };
      },
      setInitialValue: e,
      nodeChangeHandler: n,
      dataset: u,
      shouldHide: !1,
      isInvalid: function isInvalid() {
        return !1;
      }
    };
  }

  function oB(n, t) {
    return /[0-9.]+px$/.test(n) ? function (n, t) {
      var e = Math.pow(10, t);
      return Math.round(n * e) / e;
    }(72 * parseInt(n, 10) / 96, t || 0) + "pt" : n;
  }

  function rB(e) {
    function i() {
      var o = on.none(),
          r = u.data,
          i = e.queryCommandValue("FontSize");
      if (i) for (var n = function n(_n2) {
        var t = oB(i, _n2),
            e = function (n) {
          return V(ND, n).getOr("");
        }(t);

        o = E(r, function (n) {
          return n.format === i || n.format === t || n.format === e;
        });
      }, t = 3; o.isNone() && 0 <= t; t--) {
        n(t);
      }
      return {
        matchOpt: o,
        px: i
      };
    }

    function t(n) {
      var t = i(),
          e = t.matchOpt,
          o = t.px,
          r = e.fold(function () {
        return o;
      }, function (n) {
        return n.title;
      });
      ro(n, rk, {
        text: r
      });
    }

    var n = nn(nn(on.none())),
        o = on.some(function (n) {
      return function () {
        return t(n);
      };
    }),
        r = on.some(function (n) {
      return t(n);
    }),
        u = ZT(e, "fontsize_formats", "8pt 10pt 12pt 14pt 18pt 24pt 36pt", hE.Space);
    return {
      tooltip: "Font sizes",
      icon: on.none(),
      isSelectedFor: function isSelectedFor(t) {
        return function (n) {
          return n.exists(function (n) {
            return n.format === t;
          });
        };
      },
      getPreviewFor: n,
      getCurrentValue: function getCurrentValue() {
        return i().matchOpt;
      },
      onAction: function onAction(n) {
        return function () {
          e.undoManager.transact(function () {
            e.focus(), e.execCommand("FontSize", !1, n.format);
          });
        };
      },
      setInitialValue: r,
      nodeChangeHandler: o,
      dataset: u,
      shouldHide: !1,
      isInvalid: function isInvalid() {
        return !1;
      }
    };
  }

  function iB(e, n, t) {
    var o = n();
    return Du(t, function (t) {
      return E(o, function (n) {
        return e.formatter.matchNode(t, n.format);
      });
    }).orThunk(function () {
      return e.formatter.match("p") ? on.some({
        title: "Paragraph",
        format: "p"
      }) : on.none();
    });
  }

  function uB(n) {
    var t = n.selection.getStart(!0) || n.getBody();
    return n.dom.getParents(t, function () {
      return !0;
    }, n.getBody());
  }

  function aB(o) {
    function e(n, t) {
      var e = function (n) {
        return iB(o, function () {
          return r.data;
        }, n);
      }(n).fold(function () {
        return "Paragraph";
      }, function (n) {
        return n.title;
      });

      ro(t, rk, {
        text: e
      });
    }

    var n = on.some(function (t) {
      return function (n) {
        return e(n.parents, t);
      };
    }),
        t = on.some(function (n) {
      var t = uB(o);
      e(t, n);
    }),
        r = ZT(o, "block_formats", "Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre", hE.SemiColon);
    return {
      tooltip: "Blocks",
      icon: on.none(),
      isSelectedFor: function isSelectedFor(n) {
        return function () {
          return o.formatter.match(n);
        };
      },
      getCurrentValue: nn(on.none()),
      getPreviewFor: function getPreviewFor(t) {
        return function () {
          var n = o.formatter.get(t);
          return on.some({
            tag: 0 < n.length && (n[0].inline || n[0].block) || "div",
            styleAttr: o.formatter.getCssText(t)
          });
        };
      },
      onAction: lE(o),
      setInitialValue: t,
      nodeChangeHandler: n,
      dataset: r,
      shouldHide: !1,
      isInvalid: function isInvalid(n) {
        return !o.formatter.canApply(n.format);
      }
    };
  }

  function cB(i, n) {
    function e(n, t) {
      var e = function e(n) {
        var t = n.items;
        return t !== undefined && 0 < t.length ? B(t, e) : [{
          title: n.title,
          format: n.format
        }];
      },
          o = B(Xk(i), e),
          r = iB(i, function () {
        return o;
      }, n).fold(function () {
        return "Paragraph";
      }, function (n) {
        return n.title;
      });

      ro(t, rk, {
        text: r
      });
    }

    var t = on.some(function (t) {
      return function (n) {
        return e(n.parents, t);
      };
    }),
        o = on.some(function (n) {
      var t = uB(i);
      e(t, n);
    });
    return {
      tooltip: "Formats",
      icon: on.none(),
      isSelectedFor: function isSelectedFor(n) {
        return function () {
          return i.formatter.match(n);
        };
      },
      getCurrentValue: nn(on.none()),
      getPreviewFor: function getPreviewFor(t) {
        return function () {
          var n = i.formatter.get(t);
          return n !== undefined ? on.some({
            tag: 0 < n.length && (n[0].inline || n[0].block) || "div",
            styleAttr: i.formatter.getCssText(t)
          }) : on.none();
        };
      },
      onAction: lE(i),
      setInitialValue: o,
      nodeChangeHandler: t,
      shouldHide: i.getParam("style_formats_autohide", !1, "boolean"),
      isInvalid: function isInvalid(n) {
        return !i.formatter.canApply(n.format);
      },
      dataset: n
    };
  }

  function sB(o, r) {
    return function (n, t) {
      var e = o(n).mapError(function (n) {
        return le(n);
      }).getOrDie();
      return r(e, t);
    };
  }

  function fB(n) {
    var t = n.toolbar,
        e = n.buttons;
    return !1 === t ? [] : t === undefined || !0 === t ? function (e) {
      var n = S(HD, function (n) {
        var t = C(n.items, function (n) {
          return En(e, n) || En(zD, n);
        });
        return {
          name: n.name,
          items: t
        };
      });
      return C(n, function (n) {
        return 0 < n.items.length;
      });
    }(e) : cn(t) ? function (n) {
      var t = n.split("|");
      return S(t, function (n) {
        return {
          items: n.trim().split(" ")
        };
      });
    }(t) : function (n) {
      return h(n, function (n) {
        return En(n, "name") && En(n, "items");
      });
    }(t) ? t : (v.console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"), []);
  }

  function lB(t, e, o, r, n) {
    return V(e, o.toLowerCase()).orThunk(function () {
      return n.bind(function (n) {
        return Du(n, function (n) {
          return V(e, n + o.toLowerCase());
        });
      });
    }).fold(function () {
      return V(zD, o.toLowerCase()).map(function (n) {
        return n(t, r);
      }).orThunk(function () {
        return on.none();
      });
    }, function (n) {
      return function (t, e) {
        return V(PD, t.type).fold(function () {
          return v.console.error("skipping button defined by", t), on.none();
        }, function (n) {
          return on.some(n(t, e));
        });
      }(n, r);
    });
  }

  function dB(e, o, r, i) {
    var n = fB(o),
        t = S(n, function (n) {
      var t = B(n.items, function (n) {
        return 0 === n.trim().length ? [] : lB(e, o.buttons, n, r, i).toArray();
      });
      return {
        title: on.from(e.translate(n.name)),
        items: t
      };
    });
    return C(t, function (n) {
      return 0 < n.items.length;
    });
  }

  function mB(e) {
    return (Sr(e, "position").is("fixed") ? on.none() : To(e)).orThunk(function () {
      var n = we.fromTag("span");
      Ao(e, n);
      var t = To(n);
      return Pi(n), t;
    }).map(du).getOrThunk(function () {
      return Iu(0, 0);
    });
  }

  function gB(t) {
    return function (n) {
      return n.translate(-t.left(), -t.top());
    };
  }

  function pB(t) {
    return function (n) {
      return n.translate(t.left(), t.top());
    };
  }

  function hB(e) {
    return function (n, t) {
      return O(e, function (n, t) {
        return t(n);
      }, Iu(n, t));
    };
  }

  function vB(n, t, e) {
    return n.fold(hB([pB(e), gB(t)]), hB([gB(t)]), hB([]));
  }

  function bB(n, t, e) {
    return n.fold(hB([pB(e)]), hB([]), hB([pB(t)]));
  }

  function yB(n, t, e) {
    return n.fold(hB([]), hB([gB(e)]), hB([pB(t), gB(e)]));
  }

  function xB(n, t, e) {
    return n.fold(function (n, t) {
      return {
        position: "absolute",
        left: n + "px",
        top: t + "px"
      };
    }, function (n, t) {
      return {
        position: "absolute",
        left: n - e.left() + "px",
        top: t - e.top() + "px"
      };
    }, function (n, t) {
      return {
        position: "fixed",
        left: n + "px",
        top: t + "px"
      };
    });
  }

  function wB(n, i, u, a) {
    function t(o, r) {
      return function (n, t) {
        var e = o(i, u, a);
        return r(n.getOr(e.left()), t.getOr(e.top()));
      };
    }

    return n.fold(t(yB, ZD.offset), t(bB, ZD.absolute), t(vB, ZD.fixed));
  }

  function SB(n, t) {
    var e = n.element();
    fr(e, t.transitionClass), dr(e, t.fadeOutClass), fr(e, t.fadeInClass), t.onShow(n);
  }

  function CB(n, t) {
    var e = n.element();
    fr(e, t.transitionClass), dr(e, t.fadeInClass), fr(e, t.fadeOutClass), t.onHide(n);
  }

  function kB(n, t, e) {
    return D(n, function (n) {
      switch (n) {
        case "bottom":
          return function (n, t) {
            return n.bottom() <= t.bottom();
          }(t, e);

        case "top":
          return function (n, t) {
            return n.y() >= t.y();
          }(t, e);
      }
    });
  }

  function OB(n, t) {
    return Lo(n, t) ? on.some(parseInt(zo(n, t), 10)) : on.none();
  }

  function EB(r, n) {
    return OB(r, n.leftAttr).bind(function (o) {
      return OB(r, n.topAttr).map(function (n) {
        var t = mu(r),
            e = su(r);
        return yu(o, n, t, e);
      });
    });
  }

  function TB(n, t, e) {
    var o = zo(n, t.positionAttr);

    switch (function (n, t) {
      jo(n, t.leftAttr), jo(n, t.topAttr), jo(n, t.positionAttr);
    }(n, t), o) {
      case "static":
        return on.some(oA["static"]());

      case "absolute":
        return on.some(oA.absolute(e.x(), e.y()));

      default:
        return on.none();
    }
  }

  function BB(n, t, e, o, r) {
    var i = xu(n);
    if (kB(t.modes, i, e)) return on.none();
    var u = r(),
        a = wr(n, "position");
    !function (n, t, e, o, r) {
      Po(n, t.leftAttr, e), Po(n, t.topAttr, o), Po(n, t.positionAttr, r);
    }(n, t, i.x(), i.y(), a);
    var c = tA(i.x(), i.y()),
        s = vB(c, o, u),
        f = tA(e.x(), e.y()),
        l = vB(f, o, u),
        d = i.y() <= e.y() ? l.top() : l.top() + e.height() - i.height();
    return on.some(oA.fixed(s.left(), d));
  }

  function DB(n, t, e, o, r) {
    var i = n.element();
    return Sr(i, "position").is("fixed") ? function (t, e, o) {
      return EB(t, e).filter(function (n) {
        return kB(e.modes, n, o);
      }).bind(function (n) {
        return TB(t, e, n);
      });
    }(i, t, e) : BB(i, t, e, o, r);
  }

  function AB(t, n) {
    bn(["left", "top", "position"], function (n) {
      return kr(t.element(), n);
    }), n.onUndocked(t);
  }

  function _B(n, t, e, o, r) {
    var i = xB(r, 0, o);
    xr(n.element(), i), ("fixed" === i.position ? t.onDocked : t.onUndocked)(n);
  }

  function MB(o, n, r, i, u) {
    void 0 === u && (u = !1), n.contextual.each(function (e) {
      e.lazyContext(o).each(function (n) {
        var t = function (n, t) {
          return n.y() < t.bottom() && n.bottom() > t.y();
        }(n, i);

        t !== r.isVisible() && (r.setVisible(t), u && !t ? (gr(o.element(), [e.fadeOutClass]), e.onHide(o)) : (t ? SB : CB)(o, e));
      });
    });
  }

  function FB(r, i, n) {
    var u = r.element();
    n.setDocked(!1), function (n, t) {
      var e = n.element();
      return EB(e, t).bind(function (n) {
        return TB(e, t, n);
      });
    }(r, i).each(function (n) {
      n.fold(function () {
        return AB(r, i);
      }, function (n, t) {
        var e = Co(u),
            o = (pu(e), mB(u));

        _B(r, i, 0, o, tA(n, t));
      }, Z);
    }), n.setVisible(!0), i.contextual.each(function (n) {
      pr(u, [n.fadeInClass, n.fadeOutClass, n.transitionClass]), n.onShow(r);
    }), rA(r, i, n);
  }

  function IB(n, t, e) {
    e.isDocked() && FB(n, t, e);
  }

  function RB(o) {
    var r = o.element();
    Eo(r).each(function (n) {
      if (cA.isDocked(o)) {
        var t = mu(n);
        yr(r, "width", t + "px");
        var e = fu(r);
        yr(n, "padding-top", e + "px");
      } else kr(r, "width"), kr(n, "padding-top");
    });
  }

  function VB(n, t) {
    t ? (dr(n, sA.fadeOutClass), gr(n, [sA.transitionClass, sA.fadeInClass])) : (dr(n, sA.fadeInClass), gr(n, [sA.fadeOutClass, sA.transitionClass]));
  }

  function NB(n, t) {
    var e = we.fromDom(n.getContainer());
    t ? (fr(e, fA), dr(e, lA)) : (fr(e, lA), dr(e, fA));
  }

  function HB(i, e) {
    function o(t) {
      e().each(function (n) {
        return t(n.element());
      });
    }

    function n(n) {
      i.inline || RB(n), NB(i, cA.isDocked(n)), n.getSystem().broadcastOn([jf()], {}), e().each(function (n) {
        return n.getSystem().broadcastOn([jf()], {});
      });
    }

    var r = ye(on.none()),
        t = i.inline ? [] : function () {
      var n;
      return [lc.config({
        channels: (n = {}, n[mT()] = {
          onReceive: RB
        }, n)
      })];
    }();
    return g([vg.config({}), cA.config({
      leftAttr: "data-dock-left",
      topAttr: "data-dock-top",
      positionAttr: "data-dock-pos",
      contextual: _N({
        lazyContext: function lazyContext(n) {
          var t = fu(n.element()),
              e = i.inline ? i.getContentAreaContainer() : i.getContainer(),
              o = xu(we.fromDom(e)),
              r = o.height() - t;
          return on.some(yu(o.x(), o.y(), o.width(), r));
        },
        onShow: function onShow() {
          o(function (n) {
            return VB(n, !0);
          });
        },
        onShown: function onShown(t) {
          o(function (n) {
            return pr(n, [sA.transitionClass, sA.fadeInClass]);
          }), r.get().each(function (n) {
            !function (t, e) {
              var o = Co(e);
              Sa(o).filter(function (n) {
                return !jt(e, n);
              }).filter(function (n) {
                return jt(n, we.fromDom(o.dom().body)) || Ye(t, n);
              }).each(function () {
                return wa(e);
              });
            }(t.element(), n), r.set(on.none());
          });
        },
        onHide: function onHide(n) {
          r.set(function (n, t) {
            return Ca(n).orThunk(function () {
              return t().toOption().bind(function (n) {
                return Ca(n.element());
              });
            });
          }(n.element(), e)), o(function (n) {
            return VB(n, !1);
          });
        },
        onHidden: function onHidden() {
          o(function (n) {
            return pr(n, [sA.transitionClass]);
          });
        }
      }, sA),
      modes: ["top"],
      onDocked: n,
      onUndocked: n
    })], t);
  }

  function PB(n) {
    return "<alloy.field." + n + ">";
  }

  function zB(n) {
    return {
      element: function element() {
        return n.element().dom();
      }
    };
  }

  function LB(e, o) {
    var r = S(wn(o), function (n) {
      var t = o[n],
          e = et(function (n) {
        return tt("sidebar", CA, n);
      }(t));
      return {
        name: n,
        getApi: zB,
        onSetup: e.onSetup,
        onShow: e.onShow,
        onHide: e.onHide
      };
    });
    return S(r, function (n) {
      var t = ye(Z);
      return e.slot(n.name, {
        dom: {
          tag: "div",
          classes: ["tox-sidebar__pane"]
        },
        behaviours: Jp([Ep(n, t), Tp(n, t), lo(Bi(), function (t, n) {
          var e = n.event();
          E(r, function (n) {
            return n.name === e.name();
          }).each(function (n) {
            (e.visible() ? n.onShow : n.onHide)(n.getApi(t));
          });
        })])
      });
    });
  }

  function jB(n, t) {
    Zl.getCurrent(n).each(function (n) {
      return mg.set(n, [function (t) {
        return SA.sketch(function (n) {
          return {
            dom: {
              tag: "div",
              classes: ["tox-sidebar__pane-container"]
            },
            components: LB(n, t),
            slotBehaviours: Jp([Ii(function (n) {
              return SA.hideAllSlots(n);
            })])
          };
        });
      }(t)]);
    });
  }

  function UB(n) {
    return Zl.getCurrent(n).bind(function (n) {
      return cT.isGrowing(n) || cT.hasGrown(n) ? Zl.getCurrent(n).bind(function (t) {
        return E(SA.getSlotNames(t), function (n) {
          return SA.isShowing(t, n);
        });
      }) : on.none();
    });
  }

  function WB(n, t, e) {
    var o = n.element();
    !0 === t ? (mg.set(n, [function (n) {
      return {
        dom: {
          tag: "div",
          attributes: {
            "aria-label": n.translate("Loading...")
          },
          classes: ["tox-throbber__busy-spinner"]
        },
        components: [{
          dom: cp('<div class="tox-spinner"><div></div><div></div><div></div></div>')
        }],
        behaviours: ba([lg.config({
          mode: "special",
          onTab: function onTab() {
            return on.some(!0);
          },
          onShiftTab: function onShiftTab() {
            return on.some(!0);
          }
        }), vg.config({})])
      };
    }(e)]), kr(o, "display"), jo(o, "aria-hidden")) : (mg.set(n, []), yr(o, "display", "none"), Po(o, "aria-hidden", "true"));
  }

  function GB(n) {
    return "string" == typeof n ? n.split(" ") : n;
  }

  function XB(e, o) {
    var r = An(IA, o.menus),
        t = 0 < wn(o.menus).length,
        n = o.menubar === undefined || !0 === o.menubar ? GB("file edit view insert format tools table help") : GB(!1 === o.menubar ? "" : o.menubar),
        i = C(n, function (n) {
      return t && o.menus.hasOwnProperty(n) && o.menus[n].hasOwnProperty("items") || IA.hasOwnProperty(n);
    }),
        u = S(i, function (n) {
      var t = r[n];
      return function (n, e, t) {
        var o = function (n) {
          return n.getParam("removed_menuitems", "");
        }(t).split(/[ ,]/);

        return {
          text: n.title,
          getItems: function getItems() {
            return B(n.items, function (n) {
              var t = n.toLowerCase();
              return 0 === t.trim().length ? [] : x(o, function (n) {
                return n === t;
              }) ? [] : "separator" === t || "|" === t ? [{
                type: "separator"
              }] : e.menuItems[t] ? [e.menuItems[t]] : [];
            });
          }
        };
      }({
        title: t.title,
        items: GB(t.items)
      }, o, e);
    });
    return C(u, function (n) {
      return 0 < n.getItems().length && x(n.getItems(), function (n) {
        return "separator" !== n.type;
      });
    });
  }

  function YB(n, t) {
    var e,
        o = function (n) {
      var t = n.settings,
          e = t.skin,
          o = t.skin_url;

      if (!1 !== e) {
        var r = e || "oxide";
        o = o ? n.documentBaseURI.toAbsolute(o) : Gb.baseURL + "/skins/ui/" + r;
      }

      return o;
    }(t);

    o && (e = o + "/skin.min.css", t.contentCSS.push(o + (n ? "/content.inline" : "/content") + ".min.css")), !1 === function (n) {
      return !1 === n.getParam("skin");
    }(t) && e ? Rh.DOM.styleSheetLoader.load(e, RA(t)) : RA(t)();
  }

  function qB(t, n, e, o) {
    var r = n.outerContainer,
        i = e.toolbar,
        u = e.buttons;

    if (h(i, cn)) {
      var a = i.map(function (n) {
        return dB(t, {
          toolbar: n,
          buttons: u
        }, {
          backstage: o
        }, on.none());
      });
      FA.setToolbars(r, a);
    } else FA.setToolbar(r, dB(t, e, {
      backstage: o
    }, on.none()));
  }

  function KB(n) {
    return function (n) {
      var t = Fb(n),
          e = Vb(n),
          o = Hb(n);
      return UA(t).map(function (n) {
        return jA(n, e, o);
      });
    }(n).getOr(Fb(n));
  }

  function JB(n) {
    var t = Ib(n),
        e = Rb(n),
        o = Nb(n);
    return UA(t).map(function (n) {
      return jA(n, e, o);
    });
  }

  function $B(n, t) {
    return function () {
      n.execCommand("mceToggleFormat", !1, t);
    };
  }

  function QB(n) {
    !function (e) {
      yk.each([{
        name: "bold",
        text: "Bold",
        icon: "bold"
      }, {
        name: "italic",
        text: "Italic",
        icon: "italic"
      }, {
        name: "underline",
        text: "Underline",
        icon: "underline"
      }, {
        name: "strikethrough",
        text: "Strikethrough",
        icon: "strike-through"
      }, {
        name: "subscript",
        text: "Subscript",
        icon: "subscript"
      }, {
        name: "superscript",
        text: "Superscript",
        icon: "superscript"
      }], function (n, t) {
        e.ui.registry.addToggleButton(n.name, {
          tooltip: n.text,
          icon: n.icon,
          onSetup: fE(e, n.name),
          onAction: $B(e, n.name)
        });
      });

      for (var n = 1; n <= 6; n++) {
        var t = "h" + n;
        e.ui.registry.addToggleButton(t, {
          text: t.toUpperCase(),
          tooltip: "Heading " + n,
          onSetup: fE(e, t),
          onAction: $B(e, t)
        });
      }
    }(n), function (t) {
      yk.each([{
        name: "cut",
        text: "Cut",
        action: "Cut",
        icon: "cut"
      }, {
        name: "copy",
        text: "Copy",
        action: "Copy",
        icon: "copy"
      }, {
        name: "paste",
        text: "Paste",
        action: "Paste",
        icon: "paste"
      }, {
        name: "help",
        text: "Help",
        action: "mceHelp",
        icon: "help"
      }, {
        name: "selectall",
        text: "Select all",
        action: "SelectAll",
        icon: "select-all"
      }, {
        name: "newdocument",
        text: "New document",
        action: "mceNewDocument",
        icon: "new-document"
      }, {
        name: "removeformat",
        text: "Clear formatting",
        action: "RemoveFormat",
        icon: "remove-formatting"
      }, {
        name: "remove",
        text: "Remove",
        action: "Delete",
        icon: "remove"
      }], function (n) {
        t.ui.registry.addButton(n.name, {
          tooltip: n.text,
          icon: n.icon,
          onAction: function onAction() {
            return t.execCommand(n.action);
          }
        });
      });
    }(n), function (t) {
      yk.each([{
        name: "blockquote",
        text: "Blockquote",
        action: "mceBlockQuote",
        icon: "quote"
      }], function (n) {
        t.ui.registry.addToggleButton(n.name, {
          tooltip: n.text,
          icon: n.icon,
          onAction: function onAction() {
            return t.execCommand(n.action);
          },
          onSetup: fE(t, n.name)
        });
      });
    }(n);
  }

  function ZB(n, t, e) {
    function o() {
      return !!t.undoManager && t.undoManager[e]();
    }

    function r() {
      n.setDisabled(t.readonly || !o());
    }

    return n.setDisabled(!o()), t.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode", r), function () {
      return t.off("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode", r);
    };
  }

  function nD(n, t) {
    return {
      anchor: "makeshift",
      x: n,
      y: t
    };
  }

  function tD(n) {
    return "longpress" === n.type || 0 === n.type.indexOf("touch");
  }

  function eD(n, t) {
    var e = Rh.DOM.getPos(n);
    return function (n, t, e) {
      return nD(n.x + t, n.y + e);
    }(t, e.x, e.y);
  }

  function oD(n, t) {
    return "contextmenu" === t.type ? n.inline ? function (n) {
      if (tD(n)) {
        var t = n.touches[0];
        return nD(t.pageX, t.pageY);
      }

      return nD(n.pageX, n.pageY);
    }(t) : eD(n.getContentAreaContainer(), function (n) {
      if (tD(n)) {
        var t = n.touches[0];
        return nD(t.clientX, t.clientY);
      }

      return nD(n.clientX, n.clientY);
    }(t)) : ZA(n);
  }

  function rD(n) {
    return {
      anchor: "node",
      node: on.some(we.fromDom(n.selection.getNode())),
      root: we.fromDom(n.getBody())
    };
  }

  function iD(n, t, e, o, r, i) {
    var u = e(),
        a = function (n, t, e) {
      return e ? rD(n) : oD(n, t);
    }(n, t, i);

    NC(u, Fh.CLOSE_ON_EXECUTE, o, !1).map(function (n) {
      t.preventDefault(), jg.showMenuAt(r, a, {
        menu: {
          markers: wv("normal")
        },
        data: n
      });
    });
  }

  function uD(t, e, n, o, r, i) {
    var u = function (n, t) {
      var e = t ? rD(n) : ZA(n);
      return _N({
        bubble: Oa(0, 12, t_),
        layouts: n_,
        overrides: {
          maxWidthFunction: RE(),
          maxHeightFunction: Cf()
        }
      }, e);
    }(t, i);

    NC(n, Fh.CLOSE_ON_EXECUTE, o, !0).map(function (n) {
      e.preventDefault(), jg.showMenuWithinBounds(r, u, {
        menu: {
          markers: wv("normal")
        },
        data: n,
        type: "horizontal"
      }, function () {
        return on.some(cE(t));
      }), t.fire(YE);
    });
  }

  function aD(t, e, o, r, i, u) {
    function n() {
      var n = o();
      uD(t, e, n, r, i, u);
    }

    var a = Ht(),
        c = a.os.isiOS(),
        s = a.os.isOSX(),
        f = a.os.isAndroid();
    if (!s && !c || u) f && !u && t.selection.setCursorLocation(e.target, 0), n();else {
      var l = function l() {
        !function (n) {
          function t() {
            qg.setEditorTimeout(n, function () {
              n.selection.setRng(e);
            }, 10), i();
          }

          var e = n.selection.getRng();
          n.once("touchend", t);

          function o(n) {
            n.preventDefault(), n.stopImmediatePropagation();
          }

          n.on("mousedown", o, !0);

          function r() {
            return i();
          }

          n.once("longpresscancel", r);

          var i = function i() {
            n.off("touchend", t), n.off("longpresscancel", r), n.off("mousedown", o);
          };
        }(t), n();
      };

      !function (n, t) {
        var e = n.selection;
        if (e.isCollapsed() || t.touches.length < 1) return !1;
        var o = t.touches[0],
            r = e.getRng();
        return Uc(n.getWin(), Tc.domRange(r)).exists(function (n) {
          return n.left() <= o.clientX && n.right() >= o.clientX && n.top() <= o.clientY && n.bottom() >= o.clientY;
        });
      }(t, e) ? (t.once("selectionchange", l), t.once("touchend", function () {
        return t.off("selectionchange", l);
      })) : l();
    }
  }

  function cD(n) {
    return "string" == typeof n ? n.split(/[ ,]/) : n;
  }

  function sD(n) {
    return cn(n) ? "|" === n : "separator" === n.type;
  }

  function fD(n, t) {
    if (0 === t.length) return n;
    var e = F(n).filter(function (n) {
      return !sD(n);
    }).fold(function () {
      return [];
    }, function (n) {
      return [i_];
    });
    return n.concat(e).concat(t).concat([i_]);
  }

  function lD(i, n, t) {
    function e(n) {
      return jg.hide(a);
    }

    function o(o) {
      var n = "longpress" === o.type;

      if (e_(i) && o.preventDefault(), !function (n, t) {
        return t.ctrlKey && !e_(n);
      }(i, o) && !r_(i)) {
        var r = !n && (2 !== o.button || o.target === i.getBody());
        (u() ? aD : iD)(i, o, function () {
          var n = r ? i.selection.getStart(!0) : o.target,
              t = i.ui.registry.getAll(),
              e = o_(i);
          return function (r, n, i) {
            var t = O(n, function (n, t) {
              if (En(r, t)) {
                var e = r[t].update(i);
                if (cn(e)) return fD(n, e.split(" "));

                if (0 < e.length) {
                  var o = S(e, u_);
                  return fD(n, o);
                }

                return n;
              }

              return n.concat([t]);
            }, []);
            return 0 < t.length && sD(t[t.length - 1]) && t.pop(), t;
          }(t.contextMenus, e, n);
        }, t, a, r);
      }
    }

    var u = Ht().deviceType.isTouch,
        a = uu(jg.sketch({
      dom: {
        tag: "div"
      },
      lazySink: n,
      onEscape: function onEscape() {
        return i.focus();
      },
      onShow: function onShow() {
        return t.setContextMenuState(!0);
      },
      onHide: function onHide() {
        return t.setContextMenuState(!1);
      },
      fireDismissalEventInstead: {},
      inlineBehaviours: ba([Kd("dismissContextMenu", [lo(Oi(), function (n, t) {
        zf.close(n), i.focus();
      })])])
    }));
    i.on("init", function () {
      var n = "ResizeEditor ScrollContent ScrollWindow longpresscancel" + (u() ? "" : " ResizeWindow");
      i.on(n, e), i.on(u() ? "longpress" : "longpress contextmenu", o);
    });
  }

  function dD(n, t) {
    n.getSystem().addToGui(t), function (n) {
      Eo(n.element()).filter(Hr).each(function (t) {
        Sr(t, "z-index").each(function (n) {
          Po(t, a_, n);
        }), yr(t, "z-index", wr(n.element(), "z-index"));
      });
    }(t);
  }

  function mD(n) {
    !function (n) {
      Eo(n.element()).filter(Hr).each(function (n) {
        var t = zo(n, a_);
        Lo(n, a_) ? yr(n, "z-index", t) : kr(n, "z-index"), jo(n, a_);
      });
    }(n), n.getSystem().removeFromGui(n);
  }

  function gD(n, t, e) {
    return n.getSystem().build(Wb.sketch({
      dom: {
        styles: {
          left: "0px",
          top: "0px",
          width: "100%",
          height: "100%",
          position: "fixed",
          "z-index": "1000000000000000"
        },
        classes: [t]
      },
      events: e
    }));
  }

  function pD(n, t, e, o) {
    return function (n, t) {
      var e = n.element(),
          o = parseInt(zo(e, t.leftAttr), 10),
          r = parseInt(zo(e, t.topAttr), 10);
      return isNaN(o) || isNaN(r) ? on.none() : on.some(Iu(o, r));
    }(n, t).fold(function () {
      return e;
    }, function (n) {
      return eA(n.left() + o.left(), n.top() + o.top());
    });
  }

  function hD(n, t, e, o, r, i) {
    var u = pD(n, t, e, o),
        a = t.mustSnap ? f_(n, t, u, r, i) : l_(n, t, u, r, i),
        c = vB(u, r, i);
    return function (n, t, e) {
      var o = n.element();
      Po(o, t.leftAttr, e.left() + "px"), Po(o, t.topAttr, e.top() + "px");
    }(n, t, c), a.fold(function () {
      return {
        coord: eA(c.left(), c.top()),
        extra: on.none()
      };
    }, function (n) {
      return {
        coord: n.output(),
        extra: n.extra()
      };
    });
  }

  function vD(n, t) {
    !function (n, t) {
      var e = n.element();
      jo(e, t.leftAttr), jo(e, t.topAttr);
    }(n, t);
  }

  function bD(n, e, o, r) {
    return Du(n, function (n) {
      var t = n.sensor();
      return function (n, t, e, o, r, i) {
        var u = bB(n, r, i),
            a = bB(t, r, i);
        return Math.abs(u.left() - a.left()) <= e && Math.abs(u.top() - a.top()) <= o;
      }(e, t, n.range().left(), n.range().top(), o, r) ? on.some({
        output: nn(wB(n.output(), e, o, r)),
        extra: n.extra
      }) : on.none();
    });
  }

  function yD(t) {
    return function (n, t, e, o) {
      return n.isSome() && t.isSome() && e.isSome() ? on.some(o(n.getOrDie(), t.getOrDie(), e.getOrDie())) : on.none();
    }(Sr(t, "left"), Sr(t, "top"), Sr(t, "position"), function (n, t, e) {
      return ("fixed" === e ? eA : nA)(parseInt(n, 10), parseInt(t, 10));
    }).getOrThunk(function () {
      var n = du(t);
      return tA(n.left(), n.top());
    });
  }

  function xD(e, n, o, r, i, u, t) {
    return function (n, t, e, o, r) {
      var i = r.bounds,
          u = bB(t, e, o),
          a = us(u.left(), i.x(), i.x() + i.width() - r.width),
          c = us(u.top(), i.y(), i.y() + i.height() - r.height),
          s = tA(a, c);
      return t.fold(function () {
        var n = yB(s, e, o);
        return nA(n.left(), n.top());
      }, function () {
        return s;
      }, function () {
        var n = vB(s, e, o);
        return eA(n.left(), n.top());
      });
    }(0, n.fold(function () {
      var n = function (n, e, o) {
        return n.fold(function (n, t) {
          return ZD.offset(n + e, t + o);
        }, function (n, t) {
          return ZD.absolute(n + e, t + o);
        }, function (n, t) {
          return ZD.fixed(n + e, t + o);
        });
      }(o, u.left(), u.top()),
          t = vB(n, r, i);

      return eA(t.left(), t.top());
    }, function (t) {
      var n = hD(e, t, o, u, r, i);
      return n.extra.each(function (n) {
        t.onSensor(e, n);
      }), n.coord;
    }), r, i, t);
  }

  function wD(n, t) {
    return {
      bounds: n.getBounds(),
      height: fu(t.element()),
      width: gu(t.element())
    };
  }

  function SD(t, e, n, o, r) {
    var i = n.update(o, r),
        u = n.getStartData().getOrThunk(function () {
      return wD(e, t);
    });
    i.each(function (n) {
      !function (n, t, e, o) {
        var r = t.getTarget(n.element());

        if (t.repositionTarget) {
          var i = Co(n.element()),
              u = pu(i),
              a = mB(r),
              c = yD(r),
              s = xD(n, t.snaps, c, u, a, o, e),
              f = xB(s, 0, a);
          xr(r, f);
        }

        t.onDrag(n, r, o);
      }(t, e, u, n);
    });
  }

  function CD(t, n, e, o) {
    n.each(mD), e.snaps.each(function (n) {
      vD(t, n);
    });
    var r = e.getTarget(t.element());
    o.reset(), e.onDrop(t, r);
  }

  function kD(n) {
    return function (t, e) {
      function o(n) {
        e.setStartData(wD(t, n));
      }

      return co(g([lo(wi(), function (n) {
        e.getStartData().each(function () {
          return o(n);
        });
      })], n(t, e, o)));
    };
  }

  function OD(u, a, c) {
    return [lo(Yr(), function (t, n) {
      if (0 === n.event().raw().button) {
        n.stop();

        var e = function e() {
          return CD(t, on.some(i), u, a);
        },
            o = hb(e, 200),
            r = {
          drop: e,
          delayDrop: o.schedule,
          forceDrop: e,
          move: function move(n) {
            o.cancel(), SD(t, u, a, d_, n);
          }
        },
            i = gD(t, u.blockerClass, function (e) {
          return co([lo(Yr(), e.forceDrop), lo(Jr(), e.drop), lo(qr(), function (n, t) {
            e.move(t.event());
          }), lo(Kr(), e.delayDrop)]);
        }(r));

        c(t), dD(t, i);
      }
    })];
  }

  function ED(i, u, a) {
    var c = ye(on.none());
    return [lo(Ur(), function (t, n) {
      n.stop();

      function e() {
        CD(t, c.get(), i, u), c.set(on.none());
      }

      var o = {
        drop: e,
        delayDrop: function delayDrop() {},
        forceDrop: e,
        move: function move(n) {
          SD(t, i, u, g_, n);
        }
      },
          r = gD(t, i.blockerClass, function (e) {
        return co([lo(Ur(), e.forceDrop), lo(Gr(), e.drop), lo(Xr(), e.drop), lo(Wr(), function (n, t) {
          e.move(t.event());
        })]);
      }(o));
      c.set(on.some(r));
      a(t), dD(t, r);
    }), lo(Wr(), function (n, t) {
      t.stop(), SD(n, i, u, g_, t.event());
    }), lo(Gr(), function (n, t) {
      t.stop(), CD(n, c.get(), i, u), c.set(on.none());
    }), lo(Xr(), function (n) {
      CD(n, c.get(), i, u), c.set(on.none());
    })];
  }

  function TD(n, r, i, u, t, e) {
    return n.fold(function () {
      return w_.snap({
        sensor: tA(i - 20, u - 20),
        range: Iu(t, e),
        output: tA(on.some(i), on.some(u)),
        extra: {
          td: r
        }
      });
    }, function (n) {
      var t = i - 20,
          e = u - 20,
          o = n.element().dom().getBoundingClientRect();
      return w_.snap({
        sensor: tA(t, e),
        range: Iu(40, 40),
        output: tA(on.some(i - o.width / 2), on.some(u - o.height / 2)),
        extra: {
          td: r
        }
      });
    });
  }

  function BD(n, o, r) {
    return {
      getSnapPoints: n,
      leftAttr: "data-drag-left",
      topAttr: "data-drag-top",
      onSensor: function onSensor(n, t) {
        var e = t.td;
        !function (n, t) {
          return n.exists(function (n) {
            return jt(n, t);
          });
        }(o.get(), e) && (o.set(on.some(e)), r(e));
      },
      mustSnap: !0
    };
  }

  function DD(n) {
    return vm(Gg.sketch({
      dom: {
        tag: "div",
        classes: ["tox-selector"]
      },
      buttonBehaviours: ba([w_.config({
        mode: "mouseOrTouch",
        blockerClass: "blocker",
        snaps: n
      }), Ew.config({})]),
      eventOrder: {
        mousedown: ["dragging", "alloy.base.behaviour"],
        touchstart: ["dragging", "alloy.base.behaviour"]
      }
    }));
  }

  var AD,
      _D,
      MD,
      FD,
      ID,
      RD = [{
    title: "Left",
    icon: "align-left",
    format: "alignleft"
  }, {
    title: "Center",
    icon: "align-center",
    format: "aligncenter"
  }, {
    title: "Right",
    icon: "align-right",
    format: "alignright"
  }, {
    title: "Justify",
    icon: "align-justify",
    format: "alignjustify"
  }],
      VD = ["-apple-system", "Segoe UI", "Roboto", "Helvetica Neue", "sans-serif"],
      ND = {
    "8pt": "1",
    "10pt": "2",
    "12pt": "3",
    "14pt": "4",
    "18pt": "5",
    "24pt": "6",
    "36pt": "7"
  },
      HD = [{
    name: "history",
    items: ["undo", "redo"]
  }, {
    name: "styles",
    items: ["styleselect"]
  }, {
    name: "formatting",
    items: ["bold", "italic"]
  }, {
    name: "alignment",
    items: ["alignleft", "aligncenter", "alignright", "alignjustify"]
  }, {
    name: "indentation",
    items: ["outdent", "indent"]
  }, {
    name: "permanent pen",
    items: ["permanentpen"]
  }, {
    name: "comments",
    items: ["addcomment"]
  }],
      PD = {
    button: sB(JO, function (n, t) {
      return function (n, t) {
        return WT(n, t, []);
      }(n, t.backstage.shared.providers);
    }),
    togglebutton: sB(QO, function (n, t) {
      return function (n, t) {
        return GT(n, t, []);
      }(n, t.backstage.shared.providers);
    }),
    menubutton: sB($O, function (n, t) {
      return PC(n, "tox-tbtn", t.backstage, on.none());
    }),
    splitbutton: sB(function (n) {
      return tt("SplitButton", xT, n);
    }, function (n, t) {
      return rE(n, t.backstage.shared);
    }),
    styleSelectButton: function styleSelectButton(n, t) {
      return function (n, t) {
        var e = _N({
          type: "advanced"
        }, t.styleselect);

        return mE(n, t, cB(n, e));
      }(n, t.backstage);
    },
    fontsizeSelectButton: function fontsizeSelectButton(n, t) {
      return function (n, t) {
        return mE(n, t, rB(n));
      }(n, t.backstage);
    },
    fontSelectButton: function fontSelectButton(n, t) {
      return function (n, t) {
        return mE(n, t, eB(n));
      }(n, t.backstage);
    },
    formatButton: function formatButton(n, t) {
      return function (n, t) {
        return mE(n, t, aB(n));
      }(n, t.backstage);
    },
    alignMenuButton: function alignMenuButton(n, t) {
      return function (n, t) {
        return mE(n, t, nB(n));
      }(n, t.backstage);
    }
  },
      zD = {
    styleselect: PD.styleSelectButton,
    fontsizeselect: PD.fontsizeSelectButton,
    fontselect: PD.fontSelectButton,
    formatselect: PD.formatButton,
    align: PD.alignMenuButton
  },
      LD = {
    valignCentre: [],
    alignCentre: [],
    alignLeft: ["tox-pop--align-left"],
    alignRight: ["tox-pop--align-right"],
    right: ["tox-pop--right"],
    left: ["tox-pop--left"],
    bottom: ["tox-pop--bottom"],
    top: ["tox-pop--top"]
  },
      jD = {
    maxHeightFunction: Cf(),
    maxWidthFunction: RE()
  },
      UD = {
    onLtr: function onLtr() {
      return [oc, rc, ca, ua, sa, aa, Ug, Wg, pm, mm, hm, gm];
    },
    onRtl: function onRtl() {
      return [oc, rc, sa, aa, ca, ua, Ug, Wg, hm, gm, pm, mm];
    }
  },
      WD = {
    onLtr: function onLtr() {
      return [rc, ua, aa, ca, sa, oc, Ug, Wg, pm, mm, hm, gm];
    },
    onRtl: function onRtl() {
      return [rc, aa, ua, sa, ca, oc, Ug, Wg, hm, gm, pm, mm];
    }
  },
      GD = function GD(u, n, e, a) {
    function c() {
      return cE(u);
    }

    function s() {
      if (l() && a.backstage.isContextMenuOpen()) return !0;

      var n = function () {
        var n = g.get().map(function (n) {
          return n.getBoundingClientRect();
        }).getOrThunk(function () {
          return u.selection.getRng().getBoundingClientRect();
        }),
            t = u.inline ? pu().top() : wu(we.fromDom(u.getBody())).y();
        return {
          y: n.top + t,
          bottom: n.bottom + t
        };
      }(),
          t = c();

      return !function (n, t, e, o) {
        return Math.max(n, e) <= Math.min(t, o);
      }(n.y, n.bottom, t.y(), t.bottom());
    }

    function t() {
      jg.hide(d);
    }

    function o() {
      m.get().each(function (n) {
        var t = d.element();
        kr(t, "display"), s() ? yr(t, "display", "none") : Af.positionWithinBounds(e, n, d, on.some(c()));
      });
    }

    function f(n) {
      return {
        dom: {
          tag: "div",
          classes: ["tox-pop__dialog"]
        },
        components: [n],
        behaviours: ba([lg.config({
          mode: "acyclic"
        }), Kd("pop-dialog-wrap-events", [Ii(function (n) {
          u.shortcuts.add("ctrl+F9", "focus statusbar", function () {
            return lg.focusIn(n);
          });
        }), Ri(function (n) {
          u.shortcuts.remove("ctrl+F9");
        })])])
      };
    }

    var l = Ht().deviceType.isTouch,
        d = uu(function (n) {
      var e = ye([]);
      return jg.sketch({
        dom: {
          tag: "div",
          classes: ["tox-pop"]
        },
        fireDismissalEventInstead: {
          event: "doNotDismissYet"
        },
        onShow: function onShow(n) {
          e.set([]), jg.getContent(n).each(function (n) {
            kr(n.element(), "visibility");
          }), dr(n.element(), QT), kr(n.element(), "width");
        },
        inlineBehaviours: ba([Kd("context-toolbar-events", [bo(ii(), function (n, t) {
          jg.getContent(n).each(function (n) {}), dr(n.element(), QT), kr(n.element(), "width");
        }), lo($T, function (t, e) {
          kr(t.element(), "width");
          var n = mu(t.element());
          jg.setContent(t, e.event().contents()), fr(t.element(), QT);
          var o = mu(t.element());
          yr(t.element(), "width", n + "px"), jg.getContent(t).each(function (n) {
            e.event().focus().bind(function (n) {
              return wa(n), Ca(t.element());
            }).orThunk(function () {
              return lg.focusIn(n), Sa();
            });
          }), qg.setTimeout(function () {
            yr(t.element(), "width", o + "px");
          }, 0);
        }), lo(KT, function (n, t) {
          jg.getContent(n).each(function (n) {
            e.set(e.get().concat([{
              bar: n,
              focus: Sa()
            }]));
          }), ro(n, $T, {
            contents: t.event().forwardContents(),
            focus: on.none()
          });
        }), lo(JT, function (t, n) {
          F(e.get()).each(function (n) {
            e.set(e.get().slice(0, e.get().length - 1)), ro(t, $T, {
              contents: au(n.bar),
              focus: n.focus
            });
          });
        })]), lg.config({
          mode: "special",
          onEscape: function onEscape(t) {
            return F(e.get()).fold(function () {
              return n.onEscape();
            }, function (n) {
              return oo(t, JT), on.some(!0);
            });
          }
        })]),
        lazySink: function lazySink() {
          return an.value(n.sink);
        }
      });
    }({
      sink: e,
      onEscape: function onEscape() {
        return u.focus(), on.some(!0);
      }
    })),
        m = ye(on.none()),
        g = ye(on.none()),
        r = ye(null),
        p = L(function () {
      return qT(n, function (n) {
        var t = h(n);
        ro(d, KT, {
          forwardContents: f(t)
        });
      });
    }),
        h = function h(n) {
      var t,
          e,
          o = u.ui.registry.getAll().buttons,
          r = Yb(u) === jb.scrolling ? jb.scrolling : jb["default"],
          i = p();
      return "contexttoolbar" === n.type ? (t = An(o, i.formNavigators), e = dB(u, {
        buttons: t,
        toolbar: n.items
      }, a, on.some(["form:"])), KO({
        type: r,
        uid: Xo("context-toolbar"),
        initGroups: e,
        onEscape: on.none,
        cyclicKeying: !0,
        backstage: a.backstage,
        getSink: function getSink() {
          return an.error("");
        }
      })) : XT(r, n, a.backstage);
    };

    u.on("contexttoolbar-show", function (t) {
      var n = p();
      Nn(n.lookupTable, t.toolbarKey).each(function (n) {
        y(n, t.target === u ? on.none() : on.some(t)), jg.getContent(d).each(lg.focusIn);
      });
    });

    function v(n, t) {
      var e = "node" === n ? a.backstage.shared.anchors.node(t) : a.backstage.shared.anchors.cursor();
      return Dn(e, function (n, t) {
        return "line" === n ? {
          bubble: Oa(12, 0, LD),
          layouts: {
            onLtr: function onLtr() {
              return [fa];
            },
            onRtl: function onRtl() {
              return [la];
            }
          },
          overrides: jD
        } : {
          bubble: Oa(0, 12, LD),
          layouts: t ? WD : UD,
          overrides: jD
        };
      }(n, l()));
    }

    function i() {
      var n = p();
      YT(n, u).fold(function () {
        m.set(on.none()), jg.hide(d);
      }, function (n) {
        y(n.toolbarApi, on.some(n.elem.dom()));
      });
    }

    function b(n) {
      x(), r.set(n);
    }

    var y = function y(n, t) {
      if (x(), !l() || !a.backstage.isContextMenuOpen()) {
        var e = h(n),
            o = t.map(we.fromDom),
            r = v(n.position, o);
        m.set(on.some(r)), g.set(t);
        var i = d.element();
        kr(i, "display"), jg.showWithinBounds(d, r, f(e), function () {
          return on.some(c());
        }), s() && yr(i, "display", "none");
      }
    },
        x = function x() {
      var n = r.get();
      null !== n && (qg.clearTimeout(n), r.set(null));
    };

    u.on("init", function () {
      u.on(YE, t), u.on("ScrollContent ScrollWindow longpress", o), u.on("click keyup SetContent ObjectResized ResizeEditor", function (n) {
        b(qg.setEditorTimeout(u, i, 0));
      }), u.on("focusout", function (n) {
        qg.setEditorTimeout(u, function () {
          Ca(e.element()).isNone() && Ca(d.element()).isNone() && (m.set(on.none()), jg.hide(d));
        }, 0);
      }), u.on("SwitchMode", function () {
        u.readonly && (m.set(on.none()), jg.hide(d));
      }), u.on("NodeChange", function (n) {
        Ca(d.element()).fold(function () {
          b(qg.setEditorTimeout(u, i, 0));
        }, function (n) {});
      });
    });
  },
      XD = function XD(n, o, r) {
    function t(t, e) {
      bn([o, r], function (n) {
        n.broadcastEvent(t, e);
      });
    }

    function e(t, e) {
      bn([o, r], function (n) {
        n.broadcastOn([t], e);
      });
    }

    function i(n) {
      return e(Lf(), {
        target: n.target()
      });
    }

    function u(n) {
      return e(Lf(), {
        target: we.fromDom(n.target)
      });
    }

    function a(n) {
      0 === n.button && e(Uf(), {
        target: we.fromDom(n.target)
      });
    }

    function c(n) {
      return t(wi(), pb(n));
    }

    function s(n) {
      e(jf(), {}), t(Si(), pb(n));
    }

    function f() {
      return e(jf(), {});
    }

    var l = sb(we.fromDom(v.document), "touchstart", i),
        d = sb(we.fromDom(v.document), "touchmove", function (n) {
      return t(yi(), n);
    }),
        m = sb(we.fromDom(v.document), "touchend", function (n) {
      return t(xi(), n);
    }),
        g = sb(we.fromDom(v.document), "mousedown", i),
        p = sb(we.fromDom(v.document), "mouseup", function (n) {
      0 === n.raw().button && e(Uf(), {
        target: n.target()
      });
    });
    n.on("PostRender", function () {
      n.on("click", u), n.on("tap", u), n.on("mouseup", a), n.on("ScrollWindow", c), n.on("ResizeWindow", s), n.on("ResizeEditor", f);
    }), n.on("remove", function () {
      n.off("click", u), n.off("tap", u), n.off("mouseup", a), n.off("ScrollWindow", c), n.off("ResizeWindow", s), n.off("ResizeEditor", f), g.unbind(), l.unbind(), d.unbind(), m.unbind(), p.unbind();
    }), n.on("detach", function () {
      ws(o), ws(r), o.destroy(), r.destroy();
    });
  },
      YD = Tl,
      qD = Ol,
      KD = nn([St("shell", !1), ct("makeItem"), St("setupItem", Z), nl("listBehaviours", [mg])]),
      JD = Sl({
    name: "items",
    overrides: function overrides(n) {
      return {
        behaviours: ba([mg.config({})])
      };
    }
  }),
      $D = nn([JD]),
      QD = Al({
    name: nn("CustomList")(),
    configFields: KD(),
    partFields: $D(),
    factory: function factory(s, n, t, e) {
      var o = s.shell ? {
        behaviours: [mg.config({})],
        components: []
      } : {
        behaviours: [],
        components: n
      },
          r = function r(n) {
        return s.shell ? on.some(n) : qs(n, s, "items");
      };

      return {
        uid: s.uid,
        dom: s.dom,
        components: o.components,
        behaviours: Rs(s.listBehaviours, o.behaviours),
        apis: {
          setItems: function setItems(a, c) {
            r(a).fold(function () {
              throw v.console.error("Custom List was defined to not be a shell, but no item container was specified in components"), new Error("Custom List was defined to not be a shell, but no item container was specified in components");
            }, function (t) {
              var n = mg.contents(t),
                  e = c.length,
                  o = e - n.length,
                  r = 0 < o ? function (n, t) {
                for (var e = [], o = 0; o < n; o++) {
                  e.push(t(o));
                }

                return e;
              }(o, function () {
                return s.makeItem();
              }) : [],
                  i = n.slice(e);
              bn(i, function (n) {
                return mg.remove(t, n);
              }), bn(r, function (n) {
                return mg.append(t, n);
              });
              var u = mg.contents(t);
              bn(u, function (n, t) {
                s.setupItem(a, n, c[t], t);
              });
            });
          }
        }
      };
    },
    apis: {
      setItems: function setItems(n, t, e) {
        n.setItems(t, e);
      }
    }
  }),
      ZD = Tn([{
    offset: ["x", "y"]
  }, {
    absolute: ["x", "y"]
  }, {
    fixed: ["x", "y"]
  }]),
      nA = ZD.offset,
      tA = ZD.absolute,
      eA = ZD.fixed,
      oA = Tn([{
    "static": []
  }, {
    absolute: ["x", "y"]
  }, {
    fixed: ["x", "y"]
  }]),
      rA = function rA(n, t, e) {
    n.getSystem().isConnected() && function (e, o, r) {
      var i = o.lazyViewport(e),
          n = e.element(),
          t = Co(n),
          u = pu(t),
          a = L(function () {
        return mB(n);
      }),
          c = r.isDocked();
      c && MB(e, o, r, i), DB(e, o, i, u, a).each(function (n) {
        r.setDocked(!c), n.fold(function () {
          return AB(e, o);
        }, function (n, t) {
          return _B(e, o, 0, a(), tA(n, t));
        }, function (n, t) {
          MB(e, o, r, i, !0), _B(e, o, 0, a(), eA(n, t));
        });
      });
    }(n, t, e);
  },
      iA =
  /* */
  Object.freeze({
    refresh: rA,
    reset: IB,
    isDocked: function isDocked(n, t, e) {
      return e.isDocked();
    }
  }),
      uA =
  /* */
  Object.freeze({
    events: function events(o, r) {
      return co([bo(ii(), function (t, e) {
        o.contextual.each(function (n) {
          mr(t.element(), n.transitionClass) && (pr(t.element(), [n.transitionClass, n.fadeInClass]), (r.isVisible() ? n.onShown : n.onHidden)(t));
          e.stop();
        });
      }), lo(wi(), function (n, t) {
        rA(n, o, r);
      }), lo(Si(), function (n, t) {
        IB(n, o, r);
      })]);
    }
  }),
      aA = [wt("contextual", [ft("fadeInClass"), ft("fadeOutClass"), ft("transitionClass"), dt("lazyContext"), qu("onShow"), qu("onShown"), qu("onHide"), qu("onHidden")]), Bt("lazyViewport", Su), ft("leftAttr"), ft("topAttr"), ft("positionAttr"), (AD = "modes", _D = ["top", "bottom"], MD = ge, Ct(AD, _D, Kn(MD))), qu("onDocked"), qu("onUndocked")],
      cA = ya({
    fields: aA,
    name: "docking",
    active: uA,
    apis: iA,
    state:
    /* */
    Object.freeze({
      init: function init() {
        var t = ye(!1),
            e = ye(!0);
        return nu({
          isDocked: function isDocked() {
            return t.get();
          },
          setDocked: function setDocked(n) {
            return t.set(n);
          },
          isVisible: function isVisible() {
            return e.get();
          },
          setVisible: function setVisible(n) {
            return e.set(n);
          },
          readState: function readState() {
            return "docked:  " + t.get() + ", visible: " + e.get();
          }
        });
      }
    })
  }),
      sA = {
    fadeInClass: "tox-editor-dock-fadein",
    fadeOutClass: "tox-editor-dock-fadeout",
    transitionClass: "tox-editor-dock-transition"
  },
      fA = "tox-tinymce--toolbar-sticky-on",
      lA = "tox-tinymce--toolbar-sticky-off",
      dA =
  /* */
  Object.freeze({
    setup: function setup(n, t) {
      n.inline || (n.on("ResizeWindow ResizeEditor ResizeContent", function () {
        t().each(RB);
      }), n.on("SkinLoaded", function () {
        t().each(cA.reset);
      }), n.on("FullscreenStateChanged", function () {
        t().each(cA.refresh);
      })), n.on("PostRender", function () {
        NB(n, !1);
      });
    },
    isDocked: function isDocked(n) {
      return n().map(cA.isDocked).getOr(!1);
    },
    getBehaviours: HB
  }),
      mA = Z,
      gA = u,
      pA = nn([]),
      hA =
  /* */
  Object.freeze({
    setup: mA,
    isDocked: gA,
    getBehaviours: pA
  }),
      vA = Dl({
    factory: function factory(t, o) {
      var n = {
        focus: lg.focusIn,
        setMenus: function setMenus(n, t) {
          var e = S(t, function (t) {
            var n = {
              type: "menubutton",
              text: t.text,
              fetch: function fetch(n) {
                n(t.getItems());
              }
            },
                e = $O(n).mapError(function (n) {
              return le(n);
            }).getOrDie();
            return PC(e, "tox-mbtn", o.backstage, on.some("menuitem"));
          });
          mg.set(n, e);
        }
      };
      return {
        uid: t.uid,
        dom: t.dom,
        components: [],
        behaviours: ba([mg.config({}), Kd("menubar-events", [Ii(function (n) {
          t.onSetup(n);
        }), lo($r(), function (e, n) {
          ku(e.element(), ".tox-mbtn--active").each(function (t) {
            Ou(n.event().target(), ".tox-mbtn").each(function (n) {
              jt(t, n) || e.getSystem().getByDom(t).each(function (t) {
                e.getSystem().getByDom(n).each(function (n) {
                  Ow.expand(n), Ow.close(t), vg.focus(n);
                });
              });
            });
          });
        }), lo(Ti(), function (e, n) {
          n.event().prevFocus().bind(function (n) {
            return e.getSystem().getByDom(n).toOption();
          }).each(function (t) {
            n.event().newFocus().bind(function (n) {
              return e.getSystem().getByDom(n).toOption();
            }).each(function (n) {
              Ow.isOpen(t) && (Ow.expand(n), Ow.close(t));
            });
          });
        })]), lg.config({
          mode: "flow",
          selector: ".tox-mbtn",
          onEscape: function onEscape(n) {
            return t.onEscape(n), on.some(!0);
          }
        }), Gy.config({})]),
        apis: n,
        domModification: {
          attributes: {
            role: "menubar"
          }
        }
      };
    },
    name: "silver.Menubar",
    configFields: [ct("dom"), ct("uid"), ct("onEscape"), ct("backstage"), St("onSetup", Z)],
    apis: {
      focus: function focus(n, t) {
        n.focus(t);
      },
      setMenus: function setMenus(n, t, e) {
        n.setMenus(t, e);
      }
    }
  }),
      bA = "container",
      yA = [Fs("slotBehaviours", [])],
      xA = function xA(r, n, t) {
    function e(n) {
      return Qs(r);
    }

    function o(e, o) {
      return void 0 === o && (o = undefined), function (n, t) {
        return qs(n, r, t).map(function (n) {
          return e(n, t);
        }).getOr(o);
      };
    }

    function i(n, t) {
      return "true" !== zo(n.element(), "aria-hidden");
    }

    var u,
        a = o(i, !1),
        c = o(function (n, t) {
      if (i(n)) {
        var e = n.element();
        yr(e, "display", "none"), Po(e, "aria-hidden", "true"), ro(n, Bi(), {
          name: t,
          visible: !1
        });
      }
    }),
        s = (u = c, function (t, n) {
      bn(n, function (n) {
        return u(t, n);
      });
    }),
        f = o(function (n, t) {
      if (!i(n)) {
        var e = n.element();
        kr(e, "display"), jo(e, "aria-hidden"), ro(n, Bi(), {
          name: t,
          visible: !0
        });
      }
    }),
        l = {
      getSlotNames: e,
      getSlot: function getSlot(n, t) {
        return qs(n, r, t);
      },
      isShowing: a,
      hideSlot: c,
      hideAllSlots: function hideAllSlots(n) {
        return s(n, e());
      },
      showSlot: f
    };
    return {
      uid: r.uid,
      dom: r.dom,
      components: n,
      behaviours: Is(r.slotBehaviours),
      apis: l
    };
  },
      wA = P({
    getSlotNames: function getSlotNames(n, t) {
      return n.getSlotNames(t);
    },
    getSlot: function getSlot(n, t, e) {
      return n.getSlot(t, e);
    },
    isShowing: function isShowing(n, t, e) {
      return n.isShowing(t, e);
    },
    hideSlot: function hideSlot(n, t, e) {
      return n.hideSlot(t, e);
    },
    hideAllSlots: function hideAllSlots(n, t) {
      return n.hideAllSlots(t);
    },
    showSlot: function showSlot(n, t, e) {
      return n.showSlot(t, e);
    }
  }, $o),
      SA = _N(_N({}, wA), {
    sketch: function sketch(n) {
      var e,
          t = (e = [], {
        slot: function slot(n, t) {
          return e.push(n), Us(bA, PB(n), t);
        },
        record: function record() {
          return e;
        }
      }),
          o = n(t),
          r = t.record(),
          i = S(r, function (n) {
        return xl({
          name: n,
          pname: PB(n)
        });
      });
      return of(bA, yA, i, xA, o);
    }
  }),
      CA = re([yt("icon"), yt("tooltip"), Bt("onShow", Z), Bt("onHide", Z), Bt("onSetup", function () {
    return Z;
  })]),
      kA = Xo("FixSizeEvent"),
      OA = Xo("AutoSizeEvent"),
      EA = qD.optional({
    factory: vA,
    name: "menubar",
    schema: [ct("backstage")]
  }),
      TA = qD.optional({
    factory: {
      sketch: function sketch(n) {
        return QD.sketch({
          uid: n.uid,
          dom: n.dom,
          listBehaviours: ba([lg.config({
            mode: "acyclic",
            selector: ".tox-toolbar"
          })]),
          makeItem: function makeItem() {
            return KO({
              type: n.split,
              uid: Xo("multiple-toolbar-item"),
              backstage: n.backstage,
              cyclicKeying: !1,
              getSink: n.getSink,
              initGroups: [],
              onEscape: function onEscape() {
                return on.none();
              }
            });
          },
          setupItem: function setupItem(n, t, e, o) {
            JE.setGroups(t, e);
          },
          shell: !0
        });
      }
    },
    name: "multiple-toolbar",
    schema: [ct("dom"), ct("onEscape")]
  }),
      BA = qD.optional({
    factory: {
      sketch: function sketch(n) {
        return function (n) {
          return n.split === jb.sliding ? qO : n.split === jb.floating ? YO : KO;
        }(n)({
          type: n.split,
          uid: n.uid,
          onEscape: function onEscape() {
            return n.onEscape(), on.some(!0);
          },
          cyclicKeying: !1,
          initGroups: [],
          getSink: n.getSink,
          backstage: n.backstage,
          moreDrawerData: {
            lazyToolbar: n.lazyToolbar,
            lazyMoreButton: n.lazyMoreButton,
            lazyHeader: n.lazyHeader
          }
        });
      }
    },
    name: "toolbar",
    schema: [ct("dom"), ct("onEscape"), ct("getSink")]
  }),
      DA = qD.optional({
    factory: {
      sketch: function sketch(n) {
        var t = n.editor,
            e = n.sticky ? HB : pA;
        return {
          uid: n.uid,
          dom: n.dom,
          components: n.components,
          behaviours: ba(e(t, n.getSink))
        };
      }
    },
    name: "header",
    schema: [ct("dom")]
  }),
      AA = qD.optional({
    name: "socket",
    schema: [ct("dom")]
  }),
      _A = qD.optional({
    factory: {
      sketch: function sketch(n) {
        return {
          uid: n.uid,
          dom: {
            tag: "div",
            classes: ["tox-sidebar"],
            attributes: {
              role: "complementary"
            }
          },
          components: [{
            dom: {
              tag: "div",
              classes: ["tox-sidebar__slider"]
            },
            components: [],
            behaviours: ba([Gy.config({}), vg.config({}), cT.config({
              dimension: {
                property: "width"
              },
              closedClass: "tox-sidebar--sliding-closed",
              openClass: "tox-sidebar--sliding-open",
              shrinkingClass: "tox-sidebar--sliding-shrinking",
              growingClass: "tox-sidebar--sliding-growing",
              onShrunk: function onShrunk(n) {
                Zl.getCurrent(n).each(SA.hideAllSlots), oo(n, OA);
              },
              onGrown: function onGrown(n) {
                oo(n, OA);
              },
              onStartGrow: function onStartGrow(n) {
                ro(n, kA, {
                  width: Sr(n.element(), "width").getOr("")
                });
              },
              onStartShrink: function onStartShrink(n) {
                ro(n, kA, {
                  width: mu(n.element()) + "px"
                });
              }
            }), mg.config({}), Zl.config({
              find: function find(n) {
                var t = mg.contents(n);
                return yn(t);
              }
            })])
          }],
          behaviours: ba([SS(0), Kd("sidebar-sliding-events", [lo(kA, function (n, t) {
            yr(n.element(), "width", t.event().width());
          }), lo(OA, function (n, t) {
            kr(n.element(), "width");
          })])])
        };
      }
    },
    name: "sidebar",
    schema: [ct("dom")]
  }),
      MA = qD.optional({
    factory: {
      sketch: function sketch(n) {
        return {
          uid: n.uid,
          dom: {
            tag: "div",
            attributes: {
              "aria-hidden": "true"
            },
            classes: ["tox-throbber"],
            styles: {
              display: "none"
            }
          },
          behaviours: ba([mg.config({})]),
          components: []
        };
      }
    },
    name: "throbber",
    schema: [ct("dom")]
  }),
      FA = Al({
    name: "OuterContainer",
    factory: function factory(e, n, t) {
      var o = {
        getSocket: function getSocket(n) {
          return YD.getPart(n, e, "socket");
        },
        setSidebar: function setSidebar(n, t) {
          YD.getPart(n, e, "sidebar").each(function (n) {
            return jB(n, t);
          });
        },
        toggleSidebar: function toggleSidebar(n, t) {
          YD.getPart(n, e, "sidebar").each(function (n) {
            return function (n, e) {
              Zl.getCurrent(n).each(function (t) {
                Zl.getCurrent(t).each(function (n) {
                  cT.hasGrown(t) ? SA.isShowing(n, e) ? cT.shrink(t) : (SA.hideAllSlots(n), SA.showSlot(n, e)) : (SA.hideAllSlots(n), SA.showSlot(n, e), cT.grow(t));
                });
              });
            }(n, t);
          });
        },
        whichSidebar: function whichSidebar(n) {
          return YD.getPart(n, e, "sidebar").bind(UB).getOrNull();
        },
        getHeader: function getHeader(n) {
          return YD.getPart(n, e, "header");
        },
        getToolbar: function getToolbar(n) {
          return YD.getPart(n, e, "toolbar");
        },
        setToolbar: function setToolbar(n, t) {
          YD.getPart(n, e, "toolbar").each(function (n) {
            n.getApis().setGroups(n, t);
          });
        },
        setToolbars: function setToolbars(n, t) {
          YD.getPart(n, e, "multiple-toolbar").each(function (n) {
            QD.setItems(n, t);
          });
        },
        refreshToolbar: function refreshToolbar(n) {
          YD.getPart(n, e, "toolbar").each(function (n) {
            return n.getApis().refresh(n);
          });
        },
        getMoreButton: function getMoreButton(n) {
          return YD.getPart(n, e, "toolbar").bind(function (n) {
            return n.getApis().getMoreButton(n);
          });
        },
        getThrobber: function getThrobber(n) {
          return YD.getPart(n, e, "throbber");
        },
        focusToolbar: function focusToolbar(n) {
          YD.getPart(n, e, "toolbar").orThunk(function () {
            return YD.getPart(n, e, "multiple-toolbar");
          }).each(function (n) {
            lg.focusIn(n);
          });
        },
        setMenubar: function setMenubar(n, t) {
          YD.getPart(n, e, "menubar").each(function (n) {
            vA.setMenus(n, t);
          });
        },
        focusMenubar: function focusMenubar(n) {
          YD.getPart(n, e, "menubar").each(function (n) {
            vA.focus(n);
          });
        }
      };
      return {
        uid: e.uid,
        dom: e.dom,
        components: n,
        apis: o,
        behaviours: e.behaviours
      };
    },
    configFields: [ct("dom"), ct("behaviours")],
    partFields: [DA, EA, BA, TA, AA, _A, MA],
    apis: {
      getSocket: function getSocket(n, t) {
        return n.getSocket(t);
      },
      setSidebar: function setSidebar(n, t, e) {
        n.setSidebar(t, e);
      },
      toggleSidebar: function toggleSidebar(n, t, e) {
        n.toggleSidebar(t, e);
      },
      whichSidebar: function whichSidebar(n, t) {
        return n.whichSidebar(t);
      },
      getHeader: function getHeader(n, t) {
        return n.getHeader(t);
      },
      getToolbar: function getToolbar(n, t) {
        return n.getToolbar(t);
      },
      setToolbar: function setToolbar(n, t, e) {
        var o = S(e, function (n) {
          return WO(n);
        });
        n.setToolbar(t, o);
      },
      setToolbars: function setToolbars(n, t, e) {
        var o = S(e, function (n) {
          return S(n, WO);
        });
        n.setToolbars(t, o);
      },
      getMoreButton: function getMoreButton(n, t) {
        return n.getMoreButton(t);
      },
      refreshToolbar: function refreshToolbar(n, t) {
        return n.refreshToolbar(t);
      },
      getThrobber: function getThrobber(n, t) {
        return n.getThrobber(t);
      },
      setMenubar: function setMenubar(n, t, e) {
        n.setMenubar(t, e);
      },
      focusMenubar: function focusMenubar(n, t) {
        n.focusMenubar(t);
      },
      focusToolbar: function focusToolbar(n, t) {
        n.focusToolbar(t);
      }
    }
  }),
      IA = {
    file: {
      title: "File",
      items: "newdocument restoredraft | preview | print | deleteallconversations"
    },
    edit: {
      title: "Edit",
      items: "undo redo | cut copy paste pastetext | selectall | searchreplace"
    },
    view: {
      title: "View",
      items: "code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"
    },
    insert: {
      title: "Insert",
      items: "image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"
    },
    format: {
      title: "Format",
      items: "bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align | forecolor backcolor | removeformat"
    },
    tools: {
      title: "Tools",
      items: "spellchecker spellcheckerlanguage | a11ycheck code wordcount"
    },
    table: {
      title: "Table",
      items: "inserttable | cell row column | advtablesort | tableprops deletetable"
    },
    help: {
      title: "Help",
      items: "help"
    }
  },
      RA = function RA(n) {
    function t() {
      n._skinLoaded = !0, Nv(n);
    }

    return function () {
      n.initialized ? t() : n.on("init", t);
    };
  },
      VA = d(YB, !1),
      NA = d(YB, !0),
      HA = Rh.DOM,
      PA = Ht(),
      zA = PA.os.isiOS() && PA.os.version.major <= 12,
      LA = {
    render: function render(e, o, n, t, r) {
      var i = ye(0);
      VA(e), function (n, t) {
        If(n, t, _o);
      }(we.fromDom(r.targetNode), o.mothership), xs(zr(), o.uiMothership), e.on("PostRender", function () {
        qB(e, o, n, t), i.set(e.getWin().innerWidth), FA.setMenubar(o.outerContainer, XB(e, n)), FA.setSidebar(o.outerContainer, n.sidebar), function (r) {
          function n(n) {
            var t = r.getDoc().documentElement,
                e = u.get(),
                o = a.get();
            e.left() !== i.innerWidth || e.top() !== i.innerHeight ? (u.set(Iu(i.innerWidth, i.innerHeight)), zv(r, n)) : o.left() === t.offsetWidth && o.top() === t.offsetHeight || (a.set(Iu(t.offsetWidth, t.offsetHeight)), zv(r, n));
          }

          function t(n) {
            return Pv(r, n);
          }

          var i = r.getWin(),
              e = r.getDoc().documentElement,
              u = ye(Iu(i.innerWidth, i.innerHeight)),
              a = ye(Iu(e.offsetWidth, e.offsetHeight));
          HA.bind(i, "resize", n), HA.bind(i, "scroll", t);
          var o = fb(we.fromDom(r.getBody()), "load", n);
          r.on("remove", function () {
            o.unbind(), HA.unbind(i, "resize", n), HA.unbind(i, "scroll", t);
          });
        }(e);
      });
      var u = FA.getSocket(o.outerContainer).getOrDie("Could not find expected socket element");

      if (!0 === zA) {
        xr(u.element(), {
          overflow: "scroll",
          "-webkit-overflow-scrolling": "touch"
        });

        var a = function (e, o) {
          var r = null;
          return {
            cancel: function cancel() {
              null !== r && (v.clearTimeout(r), r = null);
            },
            throttle: function throttle() {
              for (var n = [], t = 0; t < arguments.length; t++) {
                n[t] = arguments[t];
              }

              null === r && (r = v.setTimeout(function () {
                e.apply(null, n), r = null;
              }, o));
            }
          };
        }(function () {
          e.fire("ScrollContent");
        }, 20);

        sb(u.element(), "scroll", a.throttle);
      }

      LO(e, o), e.addCommand("ToggleSidebar", function (n, t) {
        FA.toggleSidebar(o.outerContainer, t), e.fire("ToggleSidebar");
      }), e.addQueryValueHandler("ToggleSidebar", function () {
        return FA.whichSidebar(o.outerContainer);
      });
      var c = Yb(e);
      return c !== jb.sliding && c !== jb.floating || e.on("ResizeWindow ResizeEditor ResizeContent", function () {
        var n = e.getWin().innerWidth;
        n !== i.get() && (FA.refreshToolbar(o.outerContainer), i.set(n));
      }), {
        iframeContainer: u.element().dom(),
        editorContainer: o.outerContainer.element().dom()
      };
    }
  },
      jA = function jA(t, n, e) {
    var o = n.filter(function (n) {
      return t < n;
    }),
        r = e.filter(function (n) {
      return n < t;
    });
    return o.or(r).getOr(t);
  },
      UA = function UA(n) {
    return /^[0-9\.]+(|px)$/i.test("" + n) ? on.some(parseInt("" + n, 10)) : on.none();
  },
      WA = function WA(n) {
    return mn(n) ? n + "px" : n;
  },
      GA = {
    render: function render(t, i, e, o, n) {
      var u,
          r = Rh.DOM,
          a = Kb(t),
          c = $b(t),
          s = we.fromDom(n.targetNode),
          f = Nb(t).or(JB(t)),
          l = Yb(t),
          d = l === jb.sliding || l === jb.floating;
      NA(t);

      function m(n) {
        void 0 === n && (n = !1), d && FA.refreshToolbar(i.outerContainer), a || function (n) {
          var t = d ? n.fold(function () {
            return 0;
          }, function (n) {
            return 1 < n.components().length ? su(n.components()[1].element()) : 0;
          }) : 0,
              e = du(s),
              o = e.top() - su(u.element()) + t;
          xr(i.outerContainer.element(), {
            position: "absolute",
            top: Math.round(o) + "px",
            left: Math.round(e.left()) + "px"
          });
          var r = f.getOrThunk(function () {
            var n = UA(wr(zr(), "margin-left")).getOr(0);
            return mu(zr()) - e.left() + n;
          });
          yr(u.element(), "max-width", r + "px");
        }(FA.getToolbar(i.outerContainer)), c && (n ? cA.reset(u) : cA.refresh(u));
      }

      function g() {
        yr(i.outerContainer.element(), "display", "flex"), r.addClass(t.getBody(), "mce-edit-focus"), kr(i.uiMothership.element(), "display"), m();
      }

      function p() {
        i.outerContainer && (yr(i.outerContainer.element(), "display", "none"), r.removeClass(t.getBody(), "mce-edit-focus")), yr(i.uiMothership.element(), "display", "none");
      }

      function h() {
        if (u) g();else {
          u = FA.getHeader(i.outerContainer).getOrDie();

          var n = function (n) {
            return qb(n).getOr(zr());
          }(t);

          xs(n, i.mothership), xs(n, i.uiMothership), qB(t, i, e, o), FA.setMenubar(i.outerContainer, XB(t, e)), g(), t.on("activate", g), t.on("deactivate", p), t.on("NodeChange SkinLoaded ResizeWindow", function () {
            t.hidden || m(!0);
          }), t.nodeChanged();
        }
      }

      return t.on("focus", h), t.on("blur hide", p), t.on("init", function () {
        t.hasFocus() && h();
      }), LO(t, i), {
        editorContainer: i.outerContainer.element().dom()
      };
    }
  },
      XA = function XA(t) {
    yk.each([{
      name: "alignleft",
      text: "Align left",
      cmd: "JustifyLeft",
      icon: "align-left"
    }, {
      name: "aligncenter",
      text: "Align center",
      cmd: "JustifyCenter",
      icon: "align-center"
    }, {
      name: "alignright",
      text: "Align right",
      cmd: "JustifyRight",
      icon: "align-right"
    }, {
      name: "alignjustify",
      text: "Justify",
      cmd: "JustifyFull",
      icon: "align-justify"
    }], function (n) {
      t.ui.registry.addToggleButton(n.name, {
        tooltip: n.text,
        onAction: function onAction() {
          return t.execCommand(n.cmd);
        },
        icon: n.icon,
        onSetup: fE(t, n.name)
      });
    });
    var n = "alignnone",
        e = "No alignment",
        o = "JustifyNone",
        r = "align-none";
    t.ui.registry.addButton(n, {
      tooltip: e,
      onAction: function onAction() {
        return t.execCommand(o);
      },
      icon: r
    });
  },
      YA = function YA(n) {
    QB(n), function (t) {
      yk.each([{
        name: "bold",
        text: "Bold",
        action: "Bold",
        icon: "bold",
        shortcut: "Meta+B"
      }, {
        name: "italic",
        text: "Italic",
        action: "Italic",
        icon: "italic",
        shortcut: "Meta+I"
      }, {
        name: "underline",
        text: "Underline",
        action: "Underline",
        icon: "underline",
        shortcut: "Meta+U"
      }, {
        name: "strikethrough",
        text: "Strikethrough",
        action: "Strikethrough",
        icon: "strike-through",
        shortcut: ""
      }, {
        name: "subscript",
        text: "Subscript",
        action: "Subscript",
        icon: "subscript",
        shortcut: ""
      }, {
        name: "superscript",
        text: "Superscript",
        action: "Superscript",
        icon: "superscript",
        shortcut: ""
      }, {
        name: "removeformat",
        text: "Clear formatting",
        action: "RemoveFormat",
        icon: "remove-formatting",
        shortcut: ""
      }, {
        name: "newdocument",
        text: "New document",
        action: "mceNewDocument",
        icon: "new-document",
        shortcut: ""
      }, {
        name: "cut",
        text: "Cut",
        action: "Cut",
        icon: "cut",
        shortcut: "Meta+X"
      }, {
        name: "copy",
        text: "Copy",
        action: "Copy",
        icon: "copy",
        shortcut: "Meta+C"
      }, {
        name: "paste",
        text: "Paste",
        action: "Paste",
        icon: "paste",
        shortcut: "Meta+V"
      }, {
        name: "selectall",
        text: "Select all",
        action: "SelectAll",
        icon: "select-all",
        shortcut: "Meta+A"
      }], function (n) {
        t.ui.registry.addMenuItem(n.name, {
          text: n.text,
          icon: n.icon,
          shortcut: n.shortcut,
          onAction: function onAction() {
            return t.execCommand(n.action);
          }
        });
      }), t.ui.registry.addMenuItem("codeformat", {
        text: "Code",
        icon: "sourcecode",
        onAction: $B(t, "code")
      });
    }(n);
  },
      qA = function qA(n) {
    !function (t) {
      t.ui.registry.addMenuItem("undo", {
        text: "Undo",
        icon: "undo",
        shortcut: "Meta+Z",
        onSetup: function onSetup(n) {
          return ZB(n, t, "hasUndo");
        },
        onAction: function onAction() {
          return t.execCommand("undo");
        }
      }), t.ui.registry.addMenuItem("redo", {
        text: "Redo",
        icon: "redo",
        shortcut: "Meta+Y",
        onSetup: function onSetup(n) {
          return ZB(n, t, "hasRedo");
        },
        onAction: function onAction() {
          return t.execCommand("redo");
        }
      });
    }(n), function (t) {
      t.ui.registry.addButton("undo", {
        tooltip: "Undo",
        icon: "undo",
        onSetup: function onSetup(n) {
          return ZB(n, t, "hasUndo");
        },
        onAction: function onAction() {
          return t.execCommand("undo");
        }
      }), t.ui.registry.addButton("redo", {
        tooltip: "Redo",
        icon: "redo",
        onSetup: function onSetup(n) {
          return ZB(n, t, "hasRedo");
        },
        onAction: function onAction() {
          return t.execCommand("redo");
        }
      });
    }(n);
  },
      KA = function KA(n) {
    !function (n) {
      n.ui.registry.addButton("visualaid", {
        tooltip: "Visual aids",
        text: "Visual aids",
        onAction: function onAction() {
          return n.execCommand("mceToggleVisualAid");
        }
      });
    }(n), function (t) {
      t.ui.registry.addToggleMenuItem("visualaid", {
        text: "Visual aids",
        onSetup: function onSetup(n) {
          return function (t, n) {
            t.setActive(n.hasVisual);

            function e(n) {
              t.setActive(n.hasVisual);
            }

            return n.on("VisualAid", e), function () {
              return n.off("VisualAid", e);
            };
          }(n, t);
        },
        onAction: function onAction() {
          t.execCommand("mceToggleVisualAid");
        }
      });
    }(n);
  },
      JA = function JA(n) {
    !function (t) {
      t.ui.registry.addButton("outdent", {
        tooltip: "Decrease indent",
        icon: "outdent",
        onSetup: function onSetup(n) {
          return function (n, t) {
            n.setDisabled(!t.queryCommandState("outdent"));

            function e() {
              n.setDisabled(!t.queryCommandState("outdent"));
            }

            return t.on("NodeChange", e), function () {
              return t.off("NodeChange", e);
            };
          }(n, t);
        },
        onAction: function onAction() {
          return t.execCommand("outdent");
        }
      }), t.ui.registry.addButton("indent", {
        tooltip: "Increase indent",
        icon: "indent",
        onAction: function onAction() {
          return t.execCommand("indent");
        }
      });
    }(n);
  },
      $A = function $A(n, t) {
    !function (n, t) {
      var e = dE(0, t, nB(n));
      n.ui.registry.addNestedMenuItem("align", {
        text: t.shared.providers.translate("Align"),
        getSubmenuItems: function getSubmenuItems() {
          return e.items.validateItems(e.getStyleItems());
        }
      });
    }(n, t), function (n, t) {
      var e = dE(0, t, eB(n));
      n.ui.registry.addNestedMenuItem("fontformats", {
        text: t.shared.providers.translate("Fonts"),
        getSubmenuItems: function getSubmenuItems() {
          return e.items.validateItems(e.getStyleItems());
        }
      });
    }(n, t), function (n, t) {
      var e = _N({
        type: "advanced"
      }, t.styleselect),
          o = dE(0, t, cB(n, e));

      n.ui.registry.addNestedMenuItem("formats", {
        text: "Formats",
        getSubmenuItems: function getSubmenuItems() {
          return o.items.validateItems(o.getStyleItems());
        }
      });
    }(n, t), function (n, t) {
      var e = dE(0, t, aB(n));
      n.ui.registry.addNestedMenuItem("blockformats", {
        text: "Blocks",
        getSubmenuItems: function getSubmenuItems() {
          return e.items.validateItems(e.getStyleItems());
        }
      });
    }(n, t), function (n, t) {
      var e = dE(0, t, rB(n));
      n.ui.registry.addNestedMenuItem("fontsizes", {
        text: "Font sizes",
        getSubmenuItems: function getSubmenuItems() {
          return e.items.validateItems(e.getStyleItems());
        }
      });
    }(n, t);
  },
      QA = function QA(n, t) {
    XA(n), YA(n), $A(n, t), qA(n), Uv.register(n), KA(n), JA(n);
  },
      ZA = function ZA(n) {
    return {
      anchor: "selection",
      root: we.fromDom(n.selection.getNode())
    };
  },
      n_ = {
    onLtr: function onLtr() {
      return [rc, ua, aa, ca, sa, oc, Ug, Wg, pm, mm, hm, gm];
    },
    onRtl: function onRtl() {
      return [rc, aa, ua, sa, ca, oc, Ug, Wg, hm, gm, pm, mm];
    }
  },
      t_ = {
    valignCentre: [],
    alignCentre: [],
    alignLeft: ["tox-pop--align-left"],
    alignRight: ["tox-pop--align-right"],
    right: ["tox-pop--right"],
    left: ["tox-pop--left"],
    bottom: ["tox-pop--bottom"],
    top: ["tox-pop--top"]
  },
      e_ = function e_(n) {
    return n.settings.contextmenu_never_use_native || !1;
  },
      o_ = function o_(n) {
    return function (n, t, e) {
      var o = n.ui.registry.getAll().contextMenus;
      return V(n.settings, t).map(cD).getOrThunk(function () {
        return C(cD(e), function (n) {
          return En(o, n);
        });
      });
    }(n, "contextmenu", "link linkchecker image imagetools table spellchecker configurepermanentpen");
  },
      r_ = function r_(n) {
    return !1 === n.getParam("contextmenu");
  },
      i_ = {
    type: "separator"
  },
      u_ = function u_(t) {
    if (cn(t)) return t;

    switch (t.type) {
      case "separator":
        return i_;

      case "submenu":
        return {
          type: "nestedmenuitem",
          text: t.text,
          icon: t.icon,
          getSubmenuItems: function getSubmenuItems() {
            var n = t.getSubmenuItems();
            return cn(n) ? n : S(n, u_);
          }
        };

      default:
        return {
          type: "menuitem",
          text: t.text,
          icon: t.icon,
          onAction: function (n) {
            return function () {
              return n();
            };
          }(t.onAction)
        };
    }
  },
      a_ = "data-initial-z-index",
      c_ = wt("snaps", [ct("getSnapPoints"), qu("onSensor"), ct("leftAttr"), ct("topAttr"), St("lazyViewport", Su), St("mustSnap", !1)]),
      s_ = [St("useFixed", u), ct("blockerClass"), St("getTarget", l), St("onDrag", Z), St("repositionTarget", !0), St("onDrop", Z), Bt("getBounds", Su), c_],
      f_ = function f_(n, t, r, i, u) {
    var e = t.getSnapPoints(n);
    return bD(e, r, i, u).orThunk(function () {
      return O(e, function (t, e) {
        var n = e.sensor(),
            o = function (n, t, e, o, r, i) {
          var u = bB(n, r, i),
              a = bB(t, r, i),
              c = Math.abs(u.left() - a.left()),
              s = Math.abs(u.top() - a.top());
          return Iu(c, s);
        }(r, n, e.range().left(), e.range().top(), i, u);

        return t.deltas.fold(function () {
          return {
            deltas: on.some(o),
            snap: on.some(e)
          };
        }, function (n) {
          return (o.left() + o.top()) / 2 <= (n.left() + n.top()) / 2 ? {
            deltas: on.some(o),
            snap: on.some(e)
          } : t;
        });
      }, {
        deltas: on.none(),
        snap: on.none()
      }).snap.map(function (n) {
        return {
          output: nn(wB(n.output(), r, i, u)),
          extra: n.extra
        };
      });
    });
  },
      l_ = function l_(n, t, e, o, r) {
    var i = t.getSnapPoints(n);
    return bD(i, e, o, r);
  },
      d_ =
  /* */
  Object.freeze({
    getData: function getData(n) {
      return on.from(Iu(n.x(), n.y()));
    },
    getDelta: function getDelta(n, t) {
      return Iu(t.left() - n.left(), t.top() - n.top());
    }
  }),
      m_ = g(s_, [Qu("dragger", {
    handlers: kD(OD)
  })]),
      g_ =
  /* */
  Object.freeze({
    getData: function getData(n) {
      var t = n.raw().touches;
      return 1 === t.length ? function (n) {
        var t = n[0];
        return on.some(Iu(t.clientX, t.clientY));
      }(t) : on.none();
    },
    getDelta: function getDelta(n, t) {
      return Iu(t.left() - n.left(), t.top() - n.top());
    }
  }),
      p_ = m_,
      h_ = g(s_, [Qu("dragger", {
    handlers: kD(ED)
  })]),
      v_ = g(s_, [Qu("dragger", {
    handlers: kD(function (n, t, e) {
      return g(OD(n, t, e), ED(n, t, e));
    })
  })]),
      b_ =
  /* */
  Object.freeze({
    mouse: p_,
    touch: h_,
    mouseOrTouch: v_
  }),
      y_ =
  /* */
  Object.freeze({
    init: function init() {
      var o = on.none(),
          t = on.none(),
          n = nn({});
      return nu({
        readState: n,
        reset: function reset() {
          o = on.none(), t = on.none();
        },
        update: function update(t, n) {
          return t.getData(n).bind(function (n) {
            return function (t, e) {
              var n = o.map(function (n) {
                return t.getDelta(n, e);
              });
              return o = on.some(e), n;
            }(t, n);
          });
        },
        getStartData: function getStartData() {
          return t;
        },
        setStartData: function setStartData(n) {
          t = on.some(n);
        }
      });
    }
  }),
      x_ =
  /* */
  Object.freeze({
    snapTo: function snapTo(n, t, e, o) {
      var r = t.getTarget(n.element());

      if (t.repositionTarget) {
        var i = Co(n.element()),
            u = pu(i),
            a = mB(r),
            c = function (n, t, e) {
          return {
            coord: wB(n.output(), n.output(), t, e),
            extra: n.extra()
          };
        }(o, u, a),
            s = xB(c.coord, 0, a);

        xr(r, s);
      }
    }
  }),
      w_ = xa({
    branchKey: "mode",
    branches: b_,
    name: "dragging",
    active: {
      events: function events(n, t) {
        return n.dragger.handlers(n, t);
      }
    },
    extra: {
      snap: So(["sensor", "range", "output"], ["extra"])
    },
    state: y_,
    apis: x_
  }),
      S_ = Ht(),
      C_ = function C_(c, e) {
    function t(n) {
      var t = wu(n);
      return TD(g.getOpt(e), n, t.x(), t.y(), t.width(), t.height());
    }

    function o(n) {
      var t = wu(n);
      return TD(p.getOpt(e), n, t.right(), t.bottom(), t.width(), t.height());
    }

    function r(n, t, e, o) {
      var r = e(t);
      w_.snapTo(n, r), function (n, t, e, o) {
        var r = t.dom().getBoundingClientRect();
        kr(n.element(), "display");
        var i = Oo(we.fromDom(c.getBody())).dom().innerHeight,
            u = e(r),
            a = o(r, i);
        (u || a) && yr(n.element(), "display", "none");
      }(n, t, function (n) {
        return n[o] < 0;
      }, function (n, t) {
        return n[o] > t;
      });
    }

    function i(n) {
      return r(h, n, t, "top");
    }

    function u(n) {
      return r(v, n, o, "bottom");
    }

    var a = ye([]),
        s = ye([]),
        n = ye(!1),
        f = ye(on.none()),
        l = ye(on.none()),
        d = BD(function () {
      return S(a.get(), function (n) {
        return t(n);
      });
    }, f, function (t) {
      l.get().each(function (n) {
        c.fire("TableSelectorChange", {
          start: t,
          finish: n
        });
      });
    }),
        m = BD(function () {
      return S(s.get(), function (n) {
        return o(n);
      });
    }, l, function (t) {
      f.get().each(function (n) {
        c.fire("TableSelectorChange", {
          start: n,
          finish: t
        });
      });
    }),
        g = DD(d),
        p = DD(m),
        h = uu(g.asSpec()),
        v = uu(p.asSpec());
    S_.deviceType.isTouch() && (c.on("TableSelectionChange", function (t) {
      n.get() || (hs(e, h), hs(e, v), n.set(!0)), f.set(on.some(t.start)), l.set(on.some(t.finish)), t.otherCells.each(function (n) {
        a.set(n.upOrLeftCells), s.set(n.downOrRightCells), i(t.start), u(t.finish);
      });
    }), c.on("ResizeEditor ResizeWindow ScrollContent", function () {
      f.get().each(i), l.get().each(u);
    }), c.on("TableSelectionClear", function () {
      n.get() && (bs(h), bs(v), n.set(!1)), f.set(on.none()), l.set(on.none());
    }));
  };

  (ID = FD = FD || {})[ID.None = 0] = "None", ID[ID.Both = 1] = "Both", ID[ID.Vertical = 2] = "Vertical";

  function k_(n, t, e) {
    var o = we.fromDom(n.getContainer()),
        r = function (n, t, e, o, r) {
      var i = {};
      return i.height = jA(o + t.top(), Vb(n), Hb(n)), e === FD.Both && (i.width = jA(r + t.left(), Rb(n), Nb(n))), i;
    }(n, t, e, su(o), mu(o));

    Cn(r, function (n, t) {
      return yr(o, t, WA(n));
    }), Hv(n);
  }

  function O_(n) {
    if (1 === n.nodeType) {
      if ("BR" === n.nodeName || n.getAttribute("data-mce-bogus")) return !0;
      if ("bookmark" === n.getAttribute("data-mce-type")) return !0;
    }

    return !1;
  }

  function E_(o, t) {
    var r, n, e;
    return {
      dom: {
        tag: "div",
        classes: ["tox-statusbar"]
      },
      components: (n = function () {
        var n = [];
        return o.getParam("elementpath", !0, "boolean") && n.push(pM(o, {})), Vt(o.settings.plugins, "wordcount") && n.push(function (n, o) {
          function r(n, t, e) {
            return mg.set(n, [Ir(o.translate(["{0} " + e, t[e]]))]);
          }

          return Gg.sketch({
            dom: {
              tag: "button",
              classes: ["tox-statusbar__wordcount"]
            },
            components: [],
            buttonBehaviours: ba([Gy.config({}), mg.config({}), Zf.config({
              store: {
                mode: "memory",
                initialValue: {
                  mode: "words",
                  count: {
                    words: 0,
                    characters: 0
                  }
                }
              }
            }), Kd("wordcount-events", [Ni(function (n) {
              var t = Zf.getValue(n),
                  e = "words" === t.mode ? "characters" : "words";
              Zf.setValue(n, {
                mode: e,
                count: t.count
              }), r(n, t.count, e);
            }), Ii(function (e) {
              n.on("wordCountUpdate", function (n) {
                var t = Zf.getValue(e).mode;
                Zf.setValue(e, {
                  mode: t,
                  count: n.wordCount
                }), r(e, n.wordCount, t);
              });
            })])])
          });
        }(o, t)), o.getParam("branding", !0, "boolean") && n.push(function () {
          var n = rh.translate(["Powered by {0}", "Tiny"]);
          return {
            dom: {
              tag: "span",
              classes: ["tox-statusbar__branding"],
              innerHtml: '<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="' + n + '">' + n + "</a>"
            }
          };
        }()), 0 < n.length ? [{
          dom: {
            tag: "div",
            classes: ["tox-statusbar__text-container"]
          },
          components: n
        }] : [];
      }(), e = function (n) {
        var t = !Vt(n.settings.plugins, "autoresize"),
            e = n.getParam("resize", t);
        return !1 === e ? FD.None : "both" === e ? FD.Both : FD.Vertical;
      }(o), e !== FD.None && n.push((r = e, {
        dom: {
          tag: "div",
          classes: ["tox-statusbar__resize-handle"],
          attributes: {
            title: t.translate("Resize")
          },
          innerHtml: ym("resize-handle", t.icons)
        },
        behaviours: ba([w_.config({
          mode: "mouse",
          repositionTarget: !1,
          onDrag: function onDrag(n, t, e) {
            k_(o, e, r);
          },
          blockerClass: "tox-blocker"
        })])
      })), n)
    };
  }

  function T_(n) {
    return [ft("type"), function (n) {
      return st(n, me);
    }("columns"), n];
  }

  function B_(t) {
    return ce("items", "items", Mn(), Kn(Zn(function (n) {
      return tt("Checking item of " + t, gF, n).fold(function (n) {
        return an.error(le(n));
      }, function (n) {
        return an.value(n);
      });
    })));
  }

  function D_(n) {
    return cn(n.type) && cn(n.name);
  }

  function A_(n) {
    var t = function (n) {
      return C(DF(n), D_);
    }(n),
        e = B(t, function (t) {
      return function (n) {
        return on.from(AF[n.type]);
      }(t).fold(function () {
        return [];
      }, function (n) {
        return [st(t.name, n)];
      });
    });

    return re(e);
  }

  function __(n) {
    return {
      internalDialog: et(function (n) {
        return tt("dialog", BF, n);
      }(n)),
      dataValidator: A_(n),
      initialData: n.initialData
    };
  }

  function M_(n) {
    var e = [],
        o = {};
    return Cn(n, function (n, t) {
      n.fold(function () {
        e.push(t);
      }, function (n) {
        o[t] = n;
      });
    }), 0 < e.length ? an.error(e) : an.value(o);
  }

  function F_(n) {
    return yn(function (n, t) {
      var e = gn.call(n, 0);
      return e.sort(t), e;
    }(n, function (n, t) {
      return t < n ? -1 : n < t ? 1 : 0;
    }));
  }

  function I_(n, t) {
    yr(n, "height", t + "px"), Ht().browser.isIE() ? kr(n, "flex-basis") : yr(n, "flex-basis", t + "px");
  }

  function R_(n, o, r) {
    Cu(n, '[role="dialog"]').each(function (e) {
      ku(e, '[role="tablist"]').each(function (t) {
        r.get().map(function (n) {
          return yr(o, "height", "0"), yr(o, "flex-basis", "0"), Math.min(n, function (n, t, e) {
            var o,
                r = ko(n).dom(),
                i = Cu(n, ".tox-dialog-wrap").getOr(n);
            o = "fixed" === wr(i, "position") ? Math.max(r.clientHeight, v.window.innerHeight) : Math.max(r.offsetHeight, r.scrollHeight);
            var u = su(t),
                a = t.dom().offsetLeft >= e.dom().offsetLeft + mu(e) ? Math.max(su(e), u) : u,
                c = parseInt(wr(n, "margin-top"), 10) || 0,
                s = parseInt(wr(n, "margin-bottom"), 10) || 0;
            return o - (su(n) + c + s - a);
          }(e, o, t));
        }).each(function (n) {
          I_(o, n);
        });
      });
    });
  }

  function V_(n) {
    return ku(n, '[role="tabpanel"]');
  }

  function N_(r) {
    var i;
    return {
      smartTabHeight: (i = ye(on.none()), {
        extraEvents: [Ii(function (n) {
          var t = n.element();
          V_(t).each(function (o) {
            yr(o, "visibility", "hidden"), n.getSystem().getByDom(o).toOption().each(function (n) {
              var t = function (o, r, i) {
                return S(o, function (n, t) {
                  mg.set(i, o[t].view());
                  var e = r.dom().getBoundingClientRect();
                  return mg.set(i, []), e.height;
                });
              }(r, o, n),
                  e = F_(t);

              i.set(e);
            }), R_(t, o, i), kr(o, "visibility"), function (n, t) {
              yn(n).each(function (n) {
                return WF.showTab(t, n.value);
              });
            }(r, n), qg.requestAnimationFrame(function () {
              R_(t, o, i);
            });
          });
        }), lo(Si(), function (n) {
          var t = n.element();
          V_(t).each(function (n) {
            R_(t, n, i);
          });
        }), lo(gy, function (n, t) {
          var r = n.element();
          V_(r).each(function (t) {
            var n = Sa();
            yr(t, "visibility", "hidden");
            var e = Sr(t, "height").map(function (n) {
              return parseInt(n, 10);
            });
            kr(t, "height"), kr(t, "flex-basis");
            var o = t.dom().getBoundingClientRect().height;
            e.forall(function (n) {
              return n < o;
            }) ? (i.set(on.from(o)), R_(r, t, i)) : e.each(function (n) {
              I_(t, n);
            }), kr(t, "visibility"), n.each(wa);
          });
        })],
        selectFirst: !1
      }),
      naiveTabHeight: {
        extraEvents: [],
        selectFirst: !0
      }
    };
  }

  function H_(n, t, e, o) {
    return {
      dom: {
        tag: "div",
        classes: ["tox-dialog__content-js"],
        attributes: _N(_N({}, t.map(function (n) {
          return {
            id: n
          };
        }).getOr({})), o ? {
          "aria-live": "polite"
        } : {})
      },
      components: [],
      behaviours: ba([SS(0), RT.config({
        channel: KF,
        updateState: function updateState(n, t) {
          return on.some({
            isTabPanel: function isTabPanel() {
              return "tabpanel" === t.body.type;
            }
          });
        },
        renderComponents: function renderComponents(n) {
          switch (n.body.type) {
            case "tabpanel":
              return [function (n, e) {
                function o(n) {
                  var t = Zf.getValue(n),
                      e = M_(t).getOr({}),
                      o = i.get(),
                      r = Dn(o, e);
                  i.set(r);
                }

                function r(n) {
                  var t = i.get();
                  Zf.setValue(n, t);
                }

                var i = ye({}),
                    u = ye(null),
                    t = S(n.tabs, function (n) {
                  return {
                    value: n.name,
                    dom: {
                      tag: "div",
                      classes: ["tox-dialog__body-nav-item"],
                      innerHtml: e.shared.providers.translate(n.title)
                    },
                    view: function view() {
                      return [dS.sketch(function (t) {
                        return {
                          dom: {
                            tag: "div",
                            classes: ["tox-form"]
                          },
                          components: S(n.items, function (n) {
                            return Wk(t, n, e);
                          }),
                          formBehaviours: ba([lg.config({
                            mode: "acyclic",
                            useTabstopAt: b(MS)
                          }), Kd("TabView.form.events", [Ii(r), Ri(o)]), lc.config({
                            channels: K([{
                              key: GF,
                              value: {
                                onReceive: o
                              }
                            }, {
                              key: XF,
                              value: {
                                onReceive: r
                              }
                            }])
                          })])
                        };
                      })];
                    }
                  };
                }),
                    a = N_(t).smartTabHeight;
                return WF.sketch({
                  dom: {
                    tag: "div",
                    classes: ["tox-dialog__body"]
                  },
                  onChangeTab: function onChangeTab(n, t, e) {
                    var o = Zf.getValue(t);
                    ro(n, my, {
                      name: o,
                      oldName: u.get()
                    }), u.set(o);
                  },
                  tabs: t,
                  components: [WF.parts().tabbar({
                    dom: {
                      tag: "div",
                      classes: ["tox-dialog__body-nav"]
                    },
                    components: [HF.parts().tabs({})],
                    markers: {
                      tabClass: "tox-tab",
                      selectedClass: "tox-dialog__body-nav-item--active"
                    },
                    tabbarBehaviours: ba([Gy.config({})])
                  }), WF.parts().tabview({
                    dom: {
                      tag: "div",
                      classes: ["tox-dialog__body-content"]
                    }
                  })],
                  selectFirst: a.selectFirst,
                  tabSectionBehaviours: ba([Kd("tabpanel", a.extraEvents), lg.config({
                    mode: "acyclic"
                  }), Zl.config({
                    find: function find(n) {
                      return yn(WF.getViewItems(n));
                    }
                  }), Zf.config({
                    store: {
                      mode: "manual",
                      getValue: function getValue(n) {
                        return n.getSystem().broadcastOn([GF], {}), i.get();
                      },
                      setValue: function setValue(n, t) {
                        i.set(t), n.getSystem().broadcastOn([XF], {});
                      }
                    }
                  })])
                });
              }(n.body, e)];

            default:
              return [function (n, e) {
                var t = vm(dS.sketch(function (t) {
                  return {
                    dom: {
                      tag: "div",
                      classes: ["tox-form"].concat(n.classes)
                    },
                    components: S(n.items, function (n) {
                      return Wk(t, n, e);
                    })
                  };
                }));
                return {
                  dom: {
                    tag: "div",
                    classes: ["tox-dialog__body"]
                  },
                  components: [{
                    dom: {
                      tag: "div",
                      classes: ["tox-dialog__body-content"]
                    },
                    components: [t.asSpec()]
                  }],
                  behaviours: ba([lg.config({
                    mode: "acyclic",
                    useTabstopAt: b(MS)
                  }), wS(t), ES(t, {
                    postprocess: function postprocess(n) {
                      return M_(n).fold(function (n) {
                        return v.console.error(n), {};
                      }, function (n) {
                        return n;
                      });
                    }
                  })])
                };
              }(n.body, e)];
          }
        },
        initialData: n
      })])
    };
  }

  function P_(n, e) {
    return [ho(Qr(), FS), n(ay, function (n, t) {
      e.onClose(), t.onClose();
    }), n(cy, function (n, t, e, o) {
      t.onCancel(n), oo(o, ay);
    }), lo(dy, function (n, t) {
      return e.onUnblock();
    }), lo(ly, function (n, t) {
      return e.onBlock(t.event());
    })];
  }

  function z_(n, t) {
    function e(n, t) {
      return Wb.sketch({
        dom: {
          tag: "div",
          classes: ["tox-dialog__footer-" + n]
        },
        components: S(t, function (n) {
          return n.memento.asSpec();
        })
      });
    }

    var o = function (n, t) {
      for (var e = [], o = [], r = 0, i = n.length; r < i; r++) {
        var u = n[r];
        (t(u, r) ? e : o).push(u);
      }

      return {
        pass: e,
        fail: o
      };
    }(t.map(function (n) {
      return n.footerButtons;
    }).getOr([]), function (n) {
      return "start" === n.align;
    });

    return [e("start", o.pass), e("end", o.fail)];
  }

  function L_(n, o) {
    return {
      dom: cp('<div class="tox-dialog__footer"></div>'),
      components: [],
      behaviours: ba([RT.config({
        channel: JF,
        initialData: n,
        updateState: function updateState(n, t) {
          var e = S(t.buttons, function (n) {
            var t = vm(function (n, t) {
              return YC(n, n.type, t);
            }(n, o));
            return {
              name: n.name,
              align: n.align,
              memento: t
            };
          });
          return on.some({
            lookupByName: function lookupByName(n, t) {
              return function (t, n, e) {
                return E(n, function (n) {
                  return n.name === e;
                }).bind(function (n) {
                  return n.memento.getOpt(t);
                });
              }(n, e, t);
            },
            footerButtons: e
          });
        },
        renderComponents: z_
      })])
    };
  }

  function j_(n, t) {
    return wM.parts().footer(L_(n, t));
  }

  function U_(t, e) {
    if (t.getRoot().getSystem().isConnected()) {
      var o = Zl.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());
      return dS.getField(o, e).fold(function () {
        var n = t.getFooter();
        return RT.getState(n).get().bind(function (n) {
          return n.lookupByName(o, e);
        });
      }, function (n) {
        return on.some(n);
      });
    }

    return on.none();
  }

  function W_(u, o, a) {
    function n(n) {
      var t = u.getRoot();
      t.getSystem().isConnected() && n(t);
    }

    var c = {
      getData: function getData() {
        var n = u.getRoot(),
            t = n.getSystem().isConnected() ? u.getFormWrapper() : n,
            e = Zf.getValue(t),
            o = P(a, function (n) {
          return n.get();
        });
        return _N(_N({}, e), o);
      },
      setData: function setData(i) {
        n(function (n) {
          var t = c.getData(),
              e = An(t, i),
              o = function (n, t) {
            var e = n.getRoot();
            return RT.getState(e).get().map(function (n) {
              return et(tt("data", n.dataValidator, t));
            }).getOr(t);
          }(u, e),
              r = u.getFormWrapper();

          Zf.setValue(r, o), Cn(a, function (n, t) {
            En(e, t) && n.set(e[t]);
          });
        });
      },
      disable: function disable(n) {
        U_(u, n).each(Ch.disable);
      },
      enable: function enable(n) {
        U_(u, n).each(Ch.enable);
      },
      focus: function focus(n) {
        U_(u, n).each(vg.focus);
      },
      block: function block(t) {
        if (!cn(t)) throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");
        n(function (n) {
          ro(n, ly, {
            message: t
          });
        });
      },
      unblock: function unblock() {
        n(function (n) {
          oo(n, dy);
        });
      },
      showTab: function showTab(e) {
        n(function (n) {
          var t = u.getBody();
          RT.getState(t).get().exists(function (n) {
            return n.isTabPanel();
          }) && Zl.getCurrent(t).each(function (n) {
            WF.showTab(n, e);
          });
        });
      },
      redial: function redial(e) {
        n(function (n) {
          var t = o(e);
          n.getSystem().broadcastOn([YF], t), n.getSystem().broadcastOn([qF], t.internalDialog), n.getSystem().broadcastOn([KF], t.internalDialog), n.getSystem().broadcastOn([JF], t.internalDialog), c.setData(t.initialData);
        });
      },
      close: function close() {
        n(function (n) {
          oo(n, ay);
        });
      }
    };
    return c;
  }

  function G_(n, t) {
    return {
      dom: {
        tag: "div",
        styles: {
          display: "none"
        },
        classes: ["tox-dialog__header"]
      },
      components: [n, t]
    };
  }

  function X_(n, t) {
    return wM.parts().close(Gg.sketch({
      dom: {
        tag: "button",
        classes: ["tox-button", "tox-button--icon", "tox-button--naked"],
        attributes: {
          type: "button",
          "aria-label": t.translate("Close")
        }
      },
      action: n,
      buttonBehaviours: ba([Gy.config({})])
    }));
  }

  function Y_() {
    return wM.parts().title({
      dom: {
        tag: "div",
        classes: ["tox-dialog__title"],
        innerHtml: "",
        styles: {
          display: "none"
        }
      }
    });
  }

  function q_(n, t) {
    return wM.parts().body({
      dom: {
        tag: "div",
        classes: ["tox-dialog__body"]
      },
      components: [{
        dom: {
          tag: "div",
          classes: ["tox-dialog__body-content"]
        },
        components: [{
          dom: cp("<p>" + t.translate(n) + "</p>")
        }]
      }]
    });
  }

  function K_(n) {
    return wM.parts().footer({
      dom: {
        tag: "div",
        classes: ["tox-dialog__footer"]
      },
      components: n
    });
  }

  function J_(n, t) {
    return [Wb.sketch({
      dom: {
        tag: "div",
        classes: ["tox-dialog__footer-start"]
      },
      components: n
    }), Wb.sketch({
      dom: {
        tag: "div",
        classes: ["tox-dialog__footer-end"]
      },
      components: t
    })];
  }

  function $_(t) {
    var n,
        e = "tox-dialog",
        o = e + "-wrap",
        r = o + "__backdrop",
        i = e + "__disable-scroll";
    return wM.sketch({
      lazySink: t.lazySink,
      onEscape: function onEscape(n) {
        return t.onEscape(n), on.some(!0);
      },
      useTabstopAt: function useTabstopAt(n) {
        return !MS(n);
      },
      dom: {
        tag: "div",
        classes: [e].concat(t.extraClasses),
        styles: _N({
          position: "relative"
        }, t.extraStyles)
      },
      components: g([t.header, t.body], t.footer.toArray()),
      parts: {
        blocker: {
          dom: cp('<div class="' + o + '"></div>'),
          components: [{
            dom: {
              tag: "div",
              classes: nI ? [r, r + "--opaque"] : [r]
            }
          }]
        }
      },
      dragBlockClass: o,
      modalBehaviours: ba(g([vg.config({}), Kd("dialog-events", t.dialogEvents.concat([bo(Qr(), function (n, t) {
        lg.focusIn(n);
      })])), Kd("scroll-lock", [Ii(function () {
        fr(zr(), i);
      }), Ri(function () {
        dr(zr(), i);
      })])], t.extraBehaviours)),
      eventOrder: _N((n = {}, n[di()] = ["dialog-events"], n[Ci()] = ["scroll-lock", "dialog-events", "alloy.base.behaviour"], n[ki()] = ["alloy.base.behaviour", "dialog-events", "scroll-lock"], n), t.eventOrder)
    });
  }

  function Q_(n) {
    return Gg.sketch({
      dom: {
        tag: "button",
        classes: ["tox-button", "tox-button--icon", "tox-button--naked"],
        attributes: {
          type: "button",
          "aria-label": n.translate("Close"),
          title: n.translate("Close")
        }
      },
      components: [{
        dom: {
          tag: "div",
          classes: ["tox-icon"],
          innerHtml: '<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M17.953 7.453L13.422 12l4.531 4.547-1.406 1.406L12 13.422l-4.547 4.531-1.406-1.406L10.578 12 6.047 7.453l1.406-1.406L12 10.578l4.547-4.531z" fill-rule="evenodd"></path></svg>'
        }
      }],
      action: function action(n) {
        oo(n, cy);
      }
    });
  }

  function Z_(n, t, e) {
    function o(n) {
      return [Ir(e.translate(n.title))];
    }

    return {
      dom: {
        tag: "div",
        classes: ["tox-dialog__title"],
        attributes: _N({}, t.map(function (n) {
          return {
            id: n
          };
        }).getOr({}))
      },
      components: o(n),
      behaviours: ba([RT.config({
        channel: qF,
        renderComponents: o
      })])
    };
  }

  function nM() {
    return {
      dom: cp('<div class="tox-dialog__draghandle"></div>')
    };
  }

  function tM(n, t) {
    return function (n, t) {
      var e = wM.parts().title(Z_(n, on.none(), t)),
          o = wM.parts().draghandle(nM()),
          r = wM.parts().close(Q_(t)),
          i = [e].concat(n.draggable ? [o] : []).concat([r]);
      return Wb.sketch({
        dom: cp('<div class="tox-dialog__header"></div>'),
        components: i
      });
    }({
      title: t.shared.providers.translate(n),
      draggable: t.dialog.isDraggableModal()
    }, t.shared.providers);
  }

  function eM(n, t) {
    return {
      onClose: function onClose() {
        return t.closeWindow();
      },
      onBlock: function onBlock(e) {
        wM.setBusy(n(), function (n, t) {
          return {
            dom: {
              tag: "div",
              classes: ["tox-dialog__busy-spinner"],
              attributes: {
                "aria-label": e.message()
              },
              styles: {
                left: "0px",
                right: "0px",
                bottom: "0px",
                top: "0px",
                position: "absolute"
              }
            },
            behaviours: t,
            components: [{
              dom: cp('<div class="tox-spinner"><div></div><div></div><div></div></div>')
            }]
          };
        });
      },
      onUnblock: function onUnblock() {
        wM.setIdle(n());
      }
    };
  }

  function oM(n, t, e, o) {
    var r;
    return uu($_(_N(_N({}, n), {
      lazySink: o.shared.getSink,
      extraBehaviours: g([RT.config({
        channel: YF,
        updateState: function updateState(n, t) {
          return on.some(t);
        },
        initialData: t
      }), DS({})], n.extraBehaviours),
      onEscape: function onEscape(n) {
        oo(n, cy);
      },
      dialogEvents: e,
      eventOrder: (r = {}, r[li()] = ["reflecting", "receiving"], r[Ci()] = ["scroll-lock", "reflecting", "messages", "dialog-events", "alloy.base.behaviour"], r[ki()] = ["alloy.base.behaviour", "dialog-events", "messages", "reflecting", "scroll-lock"], r)
    })));
  }

  function rM(n) {
    return S(n, function (n) {
      return "menu" === n.type ? function (n) {
        var t = S(n.items, function (n) {
          var t = ye(!1);
          return _N(_N({}, n), {
            storage: t
          });
        });
        return _N(_N({}, n), {
          items: t
        });
      }(n) : n;
    });
  }

  function iM(n) {
    return O(n, function (n, t) {
      return "menu" !== t.type ? n : O(t.items, function (n, t) {
        return n[t.name] = t.storage, n;
      }, n);
    }, {});
  }

  function uM(n, t, e) {
    var o = tM(n.internalDialog.title, e),
        r = function (n, t) {
      var e = H_(n, on.none(), t, !1);
      return wM.parts().body(e);
    }({
      body: n.internalDialog.body
    }, e),
        i = rM(n.internalDialog.buttons),
        u = iM(i),
        a = j_({
      buttons: i
    }, e),
        c = ZF(function () {
      return d;
    }, eM(function () {
      return l;
    }, t)),
        s = "normal" !== n.internalDialog.size ? "large" === n.internalDialog.size ? ["tox-dialog--width-lg"] : ["tox-dialog--width-md"] : [],
        f = {
      header: o,
      body: r,
      footer: on.some(a),
      extraClasses: s,
      extraBehaviours: [],
      extraStyles: {}
    },
        l = oM(f, n, c, e),
        d = W_({
      getRoot: function getRoot() {
        return l;
      },
      getBody: function getBody() {
        return wM.getBody(l);
      },
      getFooter: function getFooter() {
        return wM.getFooter(l);
      },
      getFormWrapper: function getFormWrapper() {
        var n = wM.getBody(l);
        return Zl.getCurrent(n).getOr(n);
      }
    }, t.redial, u);

    return {
      dialog: l,
      instanceApi: d
    };
  }

  function aM(n, t, e, o) {
    var r,
        i,
        u = Xo("dialog-label"),
        a = Xo("dialog-content"),
        c = vm(function (n, t, e) {
      return Wb.sketch({
        dom: cp('<div class="tox-dialog__header"></div>'),
        components: [Z_(n, on.some(t), e), nM(), Q_(e)],
        containerBehaviours: ba([w_.config({
          mode: "mouse",
          blockerClass: "blocker",
          getTarget: function getTarget(n) {
            return Ou(n, '[role="dialog"]').getOrDie();
          },
          snaps: {
            getSnapPoints: function getSnapPoints() {
              return [];
            },
            leftAttr: "data-drag-left",
            topAttr: "data-drag-top"
          }
        })])
      });
    }({
      title: n.internalDialog.title,
      draggable: !0
    }, u, e.shared.providers)),
        s = vm(function (n, t, e, o) {
      return H_(n, on.some(t), e, o);
    }({
      body: n.internalDialog.body
    }, a, e, o)),
        f = rM(n.internalDialog.buttons),
        l = iM(f),
        d = vm(function (n, t) {
      return L_(n, t);
    }({
      buttons: f
    }, e)),
        m = ZF(function () {
      return p;
    }, {
      onBlock: function onBlock() {},
      onUnblock: function onUnblock() {},
      onClose: function onClose() {
        return t.closeWindow();
      }
    }),
        g = uu({
      dom: {
        tag: "div",
        classes: ["tox-dialog", "tox-dialog-inline"],
        attributes: (r = {
          role: "dialog"
        }, r["aria-labelledby"] = u, r["aria-describedby"] = "" + a, r)
      },
      eventOrder: (i = {}, i[li()] = [RT.name(), lc.name()], i[di()] = ["execute-on-form"], i[Ci()] = ["reflecting", "execute-on-form"], i),
      behaviours: ba([lg.config({
        mode: "cyclic",
        onEscape: function onEscape(n) {
          return oo(n, ay), on.some(!0);
        },
        useTabstopAt: function useTabstopAt(n) {
          return !MS(n) && ("button" !== Ke(n) || "disabled" !== zo(n, "disabled"));
        }
      }), RT.config({
        channel: YF,
        updateState: function updateState(n, t) {
          return on.some(t);
        },
        initialData: n
      }), vg.config({}), Kd("execute-on-form", m.concat([bo(Qr(), function (n, t) {
        lg.focusIn(n);
      })])), DS({})]),
      components: [c.asSpec(), s.asSpec(), d.asSpec()]
    }),
        p = W_({
      getRoot: function getRoot() {
        return g;
      },
      getFooter: function getFooter() {
        return d.get(g);
      },
      getBody: function getBody() {
        return s.get(g);
      },
      getFormWrapper: function getFormWrapper() {
        var n = s.get(g);
        return Zl.getCurrent(n).getOr(n);
      }
    }, t.redial, l);
    return {
      dialog: g,
      instanceApi: p
    };
  }

  function cM(n) {
    return sn(n) && -1 !== eI.indexOf(n.mceAction);
  }

  function sM(e, n, o, t) {
    var r,
        i = tM(e.title, t),
        u = function (n) {
      var t = {
        dom: {
          tag: "div",
          classes: ["tox-dialog__content-js"]
        },
        components: [{
          dom: {
            tag: "div",
            classes: ["tox-dialog__body-iframe"]
          },
          components: [IS({
            dom: {
              tag: "iframe",
              attributes: {
                src: n.url
              }
            },
            behaviours: ba([Gy.config({}), vg.config({})])
          })]
        }],
        behaviours: ba([lg.config({
          mode: "acyclic",
          useTabstopAt: b(MS)
        })])
      };
      return wM.parts().body(t);
    }(e),
        a = e.buttons.bind(function (n) {
      return 0 === n.length ? on.none() : on.some(j_({
        buttons: n
      }, t));
    }),
        c = QF(function () {
      return h;
    }, eM(function () {
      return p;
    }, n)),
        s = _N(_N({}, e.height.fold(function () {
      return {};
    }, function (n) {
      return {
        height: n + "px",
        "max-height": n + "px"
      };
    })), e.width.fold(function () {
      return {};
    }, function (n) {
      return {
        width: n + "px",
        "max-width": n + "px"
      };
    })),
        f = e.width.isNone() && e.height.isNone() ? ["tox-dialog--width-lg"] : [],
        l = new tI(e.url, {
      base_uri: new tI(v.window.location.href)
    }),
        d = l.protocol + "://" + l.host + (l.port ? ":" + l.port : ""),
        m = ye(on.none()),
        g = [Kd("messages", [Ii(function () {
      var n = sb(we.fromDom(v.window), "message", function (n) {
        if (l.isSameOrigin(new tI(n.raw().origin))) {
          var t = n.raw().data;
          cM(t) ? function (n, t, e) {
            switch (e.mceAction) {
              case "insertContent":
                n.insertContent(e.content);
                break;

              case "setContent":
                n.setContent(e.content);
                break;

              case "execCommand":
                var o = !!ln(e.ui) && e.ui;
                n.execCommand(e.cmd, o, e.value);
                break;

              case "close":
                t.close();
                break;

              case "block":
                t.block(e.message);
                break;

              case "unblock":
                t.unblock();
            }
          }(o, h, t) : function (n) {
            return !cM(n) && sn(n) && En(n, "mceAction");
          }(t) && e.onMessage(h, t);
        }
      });
      m.set(on.some(n));
    }), Ri(function () {
      m.get().each(function (n) {
        return n.unbind();
      });
    })]), lc.config({
      channels: (r = {}, r[$F] = {
        onReceive: function onReceive(n, t) {
          ku(n.element(), "iframe").each(function (n) {
            n.dom().contentWindow.postMessage(t, d);
          });
        }
      }, r)
    })],
        p = oM({
      header: i,
      body: u,
      footer: a,
      extraClasses: f,
      extraBehaviours: g,
      extraStyles: s
    }, e, c, t),
        h = function (t) {
      function n(n) {
        t.getSystem().isConnected() && n(t);
      }

      return {
        block: function block(t) {
          if (!cn(t)) throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");
          n(function (n) {
            ro(n, ly, {
              message: t
            });
          });
        },
        unblock: function unblock() {
          n(function (n) {
            oo(n, dy);
          });
        },
        close: function close() {
          n(function (n) {
            oo(n, ay);
          });
        },
        sendMessage: function sendMessage(t) {
          n(function (n) {
            n.getSystem().broadcastOn([$F], t);
          });
        }
      };
    }(p);

    return {
      dialog: p,
      instanceApi: h
    };
  }

  var fM,
      lM,
      dM,
      mM,
      gM,
      pM = function pM(i, r) {
    r.delimiter || (r.delimiter = "\xbb");
    return {
      dom: {
        tag: "div",
        classes: ["tox-statusbar__path"],
        attributes: {
          role: "navigation"
        }
      },
      behaviours: ba([lg.config({
        mode: "flow",
        selector: "div[role=button]"
      }), Gy.config({}), mg.config({}), Kd("elementPathEvents", [Ii(function (e, n) {
        i.shortcuts.add("alt+F11", "focus statusbar elementpath", function () {
          return lg.focusIn(e);
        }), i.on("NodeChange", function (n) {
          var t = function (n) {
            for (var t = [], e = n.length; 0 < e--;) {
              var o = n[e];

              if (1 === o.nodeType && !O_(o)) {
                var r = i.fire("ResolveName", {
                  name: o.nodeName.toLowerCase(),
                  target: o
                });
                if (r.isDefaultPrevented() || t.push({
                  name: r.name,
                  element: o
                }), r.isPropagationStopped()) break;
              }
            }

            return t;
          }(n.parents);

          0 < t.length && mg.set(e, function (n) {
            var t = S(n || [], function (t, n) {
              return Gg.sketch({
                dom: {
                  tag: "div",
                  classes: ["tox-statusbar__path-item"],
                  attributes: {
                    role: "button",
                    "data-index": n,
                    "tab-index": -1,
                    "aria-level": n + 1
                  },
                  innerHtml: t.name
                },
                action: function action(n) {
                  i.focus(), i.selection.select(t.element), i.nodeChanged();
                }
              });
            }),
                o = {
              dom: {
                tag: "div",
                classes: ["tox-statusbar__path-divider"],
                attributes: {
                  "aria-hidden": !0
                },
                innerHtml: " " + r.delimiter + " "
              }
            };
            return O(t.slice(1), function (n, t) {
              var e = n;
              return e.push(o), e.push(t), e;
            }, [t[0]]);
          }(t));
        });
      })])]),
      components: []
    };
  },
      hM = function hM(l) {
    function d() {
      return e.bind(FA.getHeader);
    }

    function m() {
      return an.value(v);
    }

    function n() {
      return e.bind(function (n) {
        return FA.getMoreButton(n);
      }).getOrDie("Could not find more button element");
    }

    function g() {
      return e.bind(function (n) {
        return FA.getThrobber(n);
      }).getOrDie("Could not find throbber element");
    }

    var t = l.inline,
        p = t ? GA : LA,
        h = $b(l) ? dA : hA,
        e = on.none(),
        o = Ht(),
        r = o.browser.isIE() ? ["tox-platform-ie"] : [],
        i = o.deviceType.isTouch() ? ["tox-platform-touch"] : [],
        u = rh.isRtl() ? {
      attributes: {
        dir: "rtl"
      }
    } : {},
        v = uu({
      dom: _N({
        tag: "div",
        classes: ["tox", "tox-silver-sink", "tox-tinymce-aux"].concat(r).concat(i)
      }, u),
      behaviours: ba([Af.config({
        useFixed: function useFixed() {
          return h.isDocked(d);
        }
      })])
    }),
        a = vm({
      dom: {
        tag: "div",
        classes: ["tox-anchorbar"]
      }
    }),
        b = hO(v, l, function () {
      return e.bind(function (n) {
        return a.getOpt(n);
      }).getOrDie("Could not find a anchor bar element");
    }, n),
        c = FA.parts().menubar({
      dom: {
        tag: "div",
        classes: ["tox-menubar"]
      },
      backstage: b,
      onEscape: function onEscape() {
        l.focus();
      }
    }),
        s = Yb(l),
        f = FA.parts().toolbar({
      dom: {
        tag: "div",
        classes: ["tox-toolbar"]
      },
      getSink: m,
      backstage: b,
      onEscape: function onEscape() {
        l.focus();
      },
      split: s,
      lazyToolbar: function lazyToolbar() {
        return e.bind(function (n) {
          return FA.getToolbar(n);
        }).getOrDie("Could not find more toolbar element");
      },
      lazyMoreButton: n,
      lazyHeader: function lazyHeader() {
        return d().getOrDie("Could not find header element");
      }
    }),
        y = FA.parts()["multiple-toolbar"]({
      dom: {
        tag: "div",
        classes: ["tox-toolbar-overlord"]
      },
      onEscape: function onEscape() {},
      split: s
    }),
        x = FA.parts().socket({
      dom: {
        tag: "div",
        classes: ["tox-edit-area"]
      }
    }),
        w = FA.parts().sidebar({
      dom: {
        tag: "div",
        classes: ["tox-sidebar"]
      }
    }),
        S = FA.parts().throbber({
      dom: {
        tag: "div",
        classes: ["tox-throbber"]
      },
      backstage: b
    }),
        C = l.getParam("statusbar", !0, "boolean") && !t ? on.some(E_(l, b.shared.providers)) : on.none(),
        k = {
      dom: {
        tag: "div",
        classes: ["tox-sidebar-wrap"]
      },
      components: [x, w]
    },
        O = Xb(l),
        E = zb(l),
        T = Pb(l),
        B = FA.parts().header({
      dom: {
        tag: "div",
        classes: ["tox-editor-header"]
      },
      components: H([T ? [c] : [], O ? [y] : E ? [f] : [], Kb(l) ? [] : [a.asSpec()]]),
      sticky: $b(l),
      editor: l,
      getSink: m
    }),
        D = H([[B], t ? [] : [k]]),
        A = H([[{
      dom: {
        tag: "div",
        classes: ["tox-editor-container"]
      },
      components: D
    }], t ? [] : C.toArray(), [S]]),
        _ = Jb(l),
        M = _N(_N({
      role: "application"
    }, rh.isRtl() ? {
      dir: "rtl"
    } : {}), _ ? {
      "aria-hidden": "true"
    } : {}),
        F = uu(FA.sketch({
      dom: {
        tag: "div",
        classes: ["tox", "tox-tinymce"].concat(t ? ["tox-tinymce-inline"] : []).concat(i).concat(r),
        styles: _N({
          visibility: "hidden"
        }, _ ? {
          opacity: "0",
          border: "0"
        } : {}),
        attributes: M
      },
      components: A,
      behaviours: ba([lg.config({
        mode: "cyclic",
        selector: ".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a"
      })])
    }));

    e = on.some(F), l.shortcuts.add("alt+F9", "focus menubar", function () {
      FA.focusMenubar(F);
    }), l.shortcuts.add("alt+F10", "focus toolbar", function () {
      FA.focusToolbar(F);
    });
    var I = Mb(F),
        R = Mb(v);
    XD(l, I, R), iy(l);

    function V() {
      var n = WA(KB(l)),
          t = WA(function (n) {
        return JB(n).getOr(Ib(n));
      }(l));
      return l.inline || (Cr("div", "width", t) && yr(F.element(), "width", t), Cr("div", "height", n) ? yr(F.element(), "height", n) : yr(F.element(), "height", "200px")), n;
    }

    return {
      mothership: I,
      uiMothership: R,
      backstage: b,
      renderUI: function renderUI() {
        h.setup(l, d), QA(l, b), lD(l, m, b), function (o) {
          var r = o.ui.registry.getAll().sidebars;
          bn(wn(r), function (t) {
            function e() {
              return on.from(o.queryCommandValue("ToggleSidebar")).is(t);
            }

            var n = r[t];
            o.ui.registry.addToggleButton(t, {
              icon: n.icon,
              tooltip: n.tooltip,
              onAction: function onAction(n) {
                o.execCommand("ToggleSidebar", !1, t), n.setActive(e());
              },
              onSetup: function onSetup(n) {
                function t() {
                  return n.setActive(e());
                }

                return o.on("ToggleSidebar", t), function () {
                  o.off("ToggleSidebar", t);
                };
              }
            });
          });
        }(l), function (e, t, o) {
          function r(n) {
            n !== i.get() && (WB(t(), n, o.providers), i.set(n));
          }

          var i = ye(!1),
              u = ye(on.none());
          e.on("ProgressState", function (n) {
            if (u.get().each(qg.clearTimeout), mn(n.time)) {
              var t = qg.setEditorTimeout(e, function () {
                return r(n.state);
              }, n.time);
              u.set(on.some(t));
            } else r(n.state), u.set(on.none());
          });
        }(l, g, b.shared);
        var n = l.ui.registry.getAll(),
            t = n.buttons,
            e = n.menuItems,
            o = n.contextToolbars,
            r = n.sidebars,
            i = Lb(l),
            u = {
          menuItems: e,
          menus: l.settings.menu ? P(l.settings.menu, function (n) {
            return An(n, {
              items: n.items
            });
          }) : {},
          menubar: l.settings.menubar,
          toolbar: i.getOrThunk(function () {
            return l.getParam("toolbar", !0);
          }),
          buttons: t,
          sidebar: r
        };
        GD(l, o, v, {
          backstage: b
        }), C_(l, v);
        var a = l.getElement(),
            c = V(),
            s = {
          mothership: I,
          uiMothership: R,
          outerContainer: F
        },
            f = {
          targetNode: a,
          height: c
        };
        return p.render(l, s, u, b, f);
      },
      getUi: function getUi() {
        return {
          channels: {
            broadcastAll: R.broadcast,
            broadcastOn: R.broadcastOn,
            register: function register() {}
          }
        };
      }
    };
  },
      vM = function vM(n, t) {
    var e = on.from(zo(n, "id")).fold(function () {
      var n = Xo("dialog-label");
      return Po(t, "id", n), n;
    }, l);
    Po(n, "aria-labelledby", e);
  },
      bM = nn([ct("lazySink"), ht("dragBlockClass"), Bt("getBounds", Su), St("useTabstopAt", nn(!0)), St("eventOrder", {}), Fs("modalBehaviours", [lg]), Ku("onExecute"), $u("onEscape")]),
      yM = {
    sketch: l
  },
      xM = nn([Sl({
    name: "draghandle",
    overrides: function overrides(n, t) {
      return {
        behaviours: ba([w_.config({
          mode: "mouse",
          getTarget: function getTarget(n) {
            return Cu(n, '[role="dialog"]').getOr(n);
          },
          blockerClass: n.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n" + JSON.stringify(t, null, 2)).message),
          getBounds: n.getDragBounds
        })])
      };
    }
  }), xl({
    schema: [ct("dom")],
    name: "title"
  }), xl({
    factory: yM,
    schema: [ct("dom")],
    name: "close"
  }), xl({
    factory: yM,
    schema: [ct("dom")],
    name: "body"
  }), Sl({
    factory: yM,
    schema: [ct("dom")],
    name: "footer"
  }), wl({
    factory: {
      sketch: function sketch(n, t) {
        return _N(_N({}, n), {
          dom: t.dom,
          components: t.components
        });
      }
    },
    schema: [St("dom", {
      tag: "div",
      styles: {
        position: "fixed",
        left: "0px",
        top: "0px",
        right: "0px",
        bottom: "0px"
      }
    }), St("components", [])],
    name: "blocker"
  })]),
      wM = Al({
    name: "ModalDialog",
    configFields: bM(),
    partFields: xM(),
    factory: function factory(o, n, t, r) {
      var a = Xo("alloy.dialog.busy"),
          c = Xo("alloy.dialog.idle"),
          s = ba([lg.config({
        mode: "special",
        onTab: function onTab() {
          return on.some(!0);
        },
        onShiftTab: function onShiftTab() {
          return on.some(!0);
        }
      }), vg.config({})]),
          e = Xo("modal-events"),
          i = _N(_N({}, o.eventOrder), {
        "alloy.system.attached": [e].concat(o.eventOrder["alloy.system.attached"] || [])
      });

      return {
        uid: o.uid,
        dom: o.dom,
        components: n,
        apis: {
          show: function show(i) {
            var n = o.lazySink(i).getOrDie(),
                u = ye(on.none()),
                t = r.blocker(),
                e = n.getSystem().build(_N(_N({}, t), {
              components: t.components.concat([au(i)]),
              behaviours: ba([vg.config({}), Kd("dialog-blocker-events", [bo(Qr(), function () {
                lg.focusIn(i);
              }), lo(c, function (n, t) {
                Lo(i.element(), "aria-busy") && (jo(i.element(), "aria-busy"), u.get().each(function (n) {
                  return mg.remove(i, n);
                }));
              }), lo(a, function (n, t) {
                Po(i.element(), "aria-busy", "true");
                var e = t.event().getBusySpec();
                u.get().each(function (n) {
                  mg.remove(i, n);
                });
                var o = e(i, s),
                    r = n.getSystem().build(o);
                u.set(on.some(r)), mg.append(i, au(r)), r.hasConfigured(lg) && lg.focusIn(r);
              })])])
            }));
            hs(n, e), lg.focusIn(i);
          },
          hide: function hide(t) {
            Eo(t.element()).each(function (n) {
              t.getSystem().getByDom(n).each(function (n) {
                bs(n);
              });
            });
          },
          getBody: function getBody(n) {
            return Ks(n, o, "body");
          },
          getFooter: function getFooter(n) {
            return Ks(n, o, "footer");
          },
          setIdle: function setIdle(n) {
            oo(n, c);
          },
          setBusy: function setBusy(n, t) {
            ro(n, a, {
              getBusySpec: t
            });
          }
        },
        eventOrder: i,
        domModification: {
          attributes: {
            role: "dialog",
            "aria-modal": "true"
          }
        },
        behaviours: Rs(o.modalBehaviours, [mg.config({}), lg.config({
          mode: "cyclic",
          onEnter: o.onExecute,
          onEscape: o.onEscape,
          useTabstopAt: o.useTabstopAt
        }), Kd(e, [Ii(function (n) {
          vM(n.element(), Ks(n, o, "title").element()), function (n, t) {
            var e = on.from(zo(n, "id")).fold(function () {
              var n = Xo("dialog-describe");
              return Po(t, "id", n), n;
            }, l);
            Po(n, "aria-describedby", e);
          }(n.element(), Ks(n, o, "body").element());
        })])])
      };
    },
    apis: {
      show: function show(n, t) {
        n.show(t);
      },
      hide: function hide(n, t) {
        n.hide(t);
      },
      getBody: function getBody(n, t) {
        return n.getBody(t);
      },
      getFooter: function getFooter(n, t) {
        return n.getFooter(t);
      },
      setBusy: function setBusy(n, t, e) {
        n.setBusy(t, e);
      },
      setIdle: function setIdle(n, t) {
        n.setIdle(t);
      }
    }
  }),
      SM = [ft("type"), ft("text"), lt("level", ["info", "warn", "error", "success"]), ft("icon"), St("url", "")],
      CM = re(SM),
      kM = [ft("type"), ft("text"), Tt("disabled", !1), Tt("primary", !1), ce("name", "name", In(function () {
    return Xo("button-name");
  }), ge), yt("icon"), Tt("borderless", !1)],
      OM = re(kM),
      EM = [ft("type"), ft("name"), ft("label"), Tt("disabled", !1)],
      TM = re(EM),
      BM = pe,
      DM = [ft("type"), ft("name")],
      AM = DM.concat([yt("label")]),
      _M = re(AM),
      MM = ge,
      FM = re(AM),
      IM = ge,
      RM = re(AM),
      VM = Kn(se),
      NM = AM.concat([Tt("sandboxed", !0)]),
      HM = re(NM),
      PM = ge,
      zM = AM.concat([yt("inputMode"), yt("placeholder"), Tt("maximized", !1), Tt("disabled", !1)]),
      LM = re(zM),
      jM = ge,
      UM = AM.concat([gt("items", [ft("text"), ft("value")]), kt("size", 1), Tt("disabled", !1)]),
      WM = re(UM),
      GM = ge,
      XM = AM.concat([Tt("constrain", !0), Tt("disabled", !1)]),
      YM = re(XM),
      qM = re([ft("width"), ft("height")]),
      KM = AM.concat([yt("placeholder"), Tt("maximized", !1), Tt("disabled", !1)]),
      JM = re(KM),
      $M = ge,
      QM = AM.concat([Et("filetype", "file", ["image", "media", "file"]), St("disabled", !1)]),
      ZM = re(QM),
      nF = re([ft("value"), St("meta", {})]),
      tF = DM.concat([Ot("tag", "textarea"), ft("scriptId"), ft("scriptUrl"), (fM = "settings", lM = undefined, Ct(fM, lM, be))]),
      eF = DM.concat([Ot("tag", "textarea"), dt("init")]),
      oF = Zn(function (n) {
    return tt("customeditor.old", qn(eF), n).orThunk(function () {
      return tt("customeditor.new", qn(tF), n);
    });
  }),
      rF = ge,
      iF = [ft("type"), ft("html"), Et("presets", "presentation", ["presentation", "document"])],
      uF = re(iF),
      aF = AM.concat([st("currentState", re([ct("blob"), ft("url")]))]),
      cF = re(aF),
      sF = AM.concat([St("columns", "auto")]),
      fF = re(sF),
      lF = (dM = [ft("value"), ft("text"), ft("icon")], ue(dM)),
      dF = [ft("type"), pt("header", ge), pt("cells", Kn(ge))],
      mF = re(dF),
      gF = fe(function () {
    return rt("type", {
      alertbanner: CM,
      bar: re(function (n) {
        return [ft("type"), n];
      }(B_("bar"))),
      button: OM,
      checkbox: TM,
      colorinput: _M,
      colorpicker: FM,
      dropzone: RM,
      grid: re(T_(B_("grid"))),
      iframe: HM,
      input: LM,
      selectbox: WM,
      sizeinput: YM,
      textarea: JM,
      urlinput: ZM,
      customeditor: oF,
      htmlpanel: uF,
      imagetools: cF,
      collection: fF,
      label: re(function (n) {
        return [ft("type"), ft("label"), n];
      }(B_("label"))),
      table: mF,
      panel: hF
    });
  }),
      pF = [ft("type"), St("classes", []), pt("items", gF)],
      hF = re(pF),
      vF = [ce("name", "name", In(function () {
    return Xo("tab-name");
  }), ge), ft("title"), pt("items", gF)],
      bF = [ft("type"), gt("tabs", vF)],
      yF = re(bF),
      xF = re([ft("type"), ft("name"), Tt("active", !1)].concat(Wp)),
      wF = pe,
      SF = [ce("name", "name", In(function () {
    return Xo("button-name");
  }), ge), yt("icon"), Et("align", "end", ["start", "end"]), Tt("primary", !1), Tt("disabled", !1)],
      CF = g(SF, [ft("text")]),
      kF = g([lt("type", ["submit", "cancel", "custom"])], CF),
      OF = g([lt("type", ["menu"]), yt("text"), yt("tooltip"), yt("icon"), pt("items", xF), Bt("onSetup", function () {
    return Z;
  })], SF),
      EF = CF,
      TF = it("type", {
    submit: kF,
    cancel: kF,
    custom: kF,
    menu: OF
  }),
      BF = re([ft("title"), st("body", rt("type", {
    panel: hF,
    tabpanel: yF
  })), Ot("size", "normal"), pt("buttons", TF), St("initialData", {}), Bt("onAction", Z), Bt("onChange", Z), Bt("onSubmit", Z), Bt("onClose", Z), Bt("onCancel", Z), St("onTabChange", Z)]),
      DF = function DF(n) {
    return sn(n) ? [n].concat(B(R(n), DF)) : fn(n) ? B(n, DF) : [];
  },
      AF = {
    checkbox: BM,
    colorinput: MM,
    colorpicker: IM,
    dropzone: VM,
    input: jM,
    iframe: PM,
    sizeinput: qM,
    selectbox: GM,
    size: qM,
    textarea: $M,
    urlinput: nF,
    customeditor: rF,
    collection: lF,
    togglemenuitem: wF
  },
      _F = re(g([lt("type", ["cancel", "custom"])], EF)),
      MF = re([ft("title"), ft("url"), bt("height"), bt("width"), (mM = "buttons", gM = _F, vt(mM, Kn(gM))), Bt("onAction", Z), Bt("onCancel", Z), Bt("onClose", Z), Bt("onMessage", Z)]),
      FF = {
    open: function open(n, t) {
      var e = __(t);

      return n(e.internalDialog, e.initialData, e.dataValidator);
    },
    openUrl: function openUrl(n, t) {
      return n(et(function (n) {
        return tt("dialog", MF, n);
      }(t)));
    },
    redial: function redial(n) {
      return __(n);
    }
  },
      IF = Dl({
    name: "TabButton",
    configFields: [St("uid", undefined), ct("value"), ce("dom", "dom", Rn(function (n) {
      return {
        attributes: {
          role: "tab",
          id: Xo("aria"),
          "aria-selected": "false"
        }
      };
    }), de()), ht("action"), St("domModification", {}), Fs("tabButtonBehaviours", [vg, lg, Zf]), ct("view")],
    factory: function factory(n, t) {
      return {
        uid: n.uid,
        dom: n.dom,
        components: n.components,
        events: rm(n.action),
        behaviours: Rs(n.tabButtonBehaviours, [vg.config({}), lg.config({
          mode: "execution",
          useSpace: !0,
          useEnter: !0
        }), Zf.config({
          store: {
            mode: "memory",
            initialValue: n.value
          }
        })]),
        domModification: n.domModification
      };
    }
  }),
      RF = nn([ct("tabs"), ct("dom"), St("clickToDismiss", !1), Fs("tabbarBehaviours", [ad, lg]), Xu(["tabClass", "selectedClass"])]),
      VF = Cl({
    factory: IF,
    name: "tabs",
    unit: "tab",
    overrides: function overrides(o, n) {
      function r(n, t) {
        ad.dehighlight(n, t), ro(n, Ai(), {
          tabbar: n,
          button: t
        });
      }

      function i(n, t) {
        ad.highlight(n, t), ro(n, Di(), {
          tabbar: n,
          button: t
        });
      }

      return {
        action: function action(n) {
          var t = n.getSystem().getByUid(o.uid).getOrDie(),
              e = ad.isHighlighted(t, n);
          (e && o.clickToDismiss ? r : e ? Z : i)(t, n);
        },
        domModification: {
          classes: [o.markers.tabClass]
        }
      };
    }
  }),
      NF = nn([VF]),
      HF = Al({
    name: "Tabbar",
    configFields: RF(),
    partFields: NF(),
    factory: function factory(n, t, e, o) {
      return {
        uid: n.uid,
        dom: n.dom,
        components: t,
        "debug.sketcher": "Tabbar",
        domModification: {
          attributes: {
            role: "tablist"
          }
        },
        behaviours: Rs(n.tabbarBehaviours, [ad.config({
          highlightClass: n.markers.selectedClass,
          itemClass: n.markers.tabClass,
          onHighlight: function onHighlight(n, t) {
            Po(t.element(), "aria-selected", "true");
          },
          onDehighlight: function onDehighlight(n, t) {
            Po(t.element(), "aria-selected", "false");
          }
        }), lg.config({
          mode: "flow",
          getInitial: function getInitial(n) {
            return ad.getHighlighted(n).map(function (n) {
              return n.element();
            });
          },
          selector: "." + n.markers.tabClass,
          executeOnMove: !0
        })])
      };
    }
  }),
      PF = Dl({
    name: "Tabview",
    configFields: [Fs("tabviewBehaviours", [mg])],
    factory: function factory(n, t) {
      return {
        uid: n.uid,
        dom: n.dom,
        behaviours: Rs(n.tabviewBehaviours, [mg.config({})]),
        domModification: {
          attributes: {
            role: "tabpanel"
          }
        }
      };
    }
  }),
      zF = nn([St("selectFirst", !0), qu("onChangeTab"), qu("onDismissTab"), St("tabs", []), Fs("tabSectionBehaviours", [])]),
      LF = xl({
    factory: HF,
    schema: [ct("dom"), mt("markers", [ct("tabClass"), ct("selectedClass")])],
    name: "tabbar",
    defaults: function defaults(n) {
      return {
        tabs: n.tabs
      };
    }
  }),
      jF = xl({
    factory: PF,
    name: "tabview"
  }),
      UF = nn([LF, jF]),
      WF = Al({
    name: "TabSection",
    configFields: zF(),
    partFields: UF(),
    factory: function factory(r, n, t, e) {
      function o(n, t) {
        qs(n, r, "tabbar").each(function (n) {
          t(n).each(io);
        });
      }

      return {
        uid: r.uid,
        dom: r.dom,
        components: n,
        behaviours: Is(r.tabSectionBehaviours),
        events: co(H([r.selectFirst ? [Ii(function (n, t) {
          o(n, ad.getFirst);
        })] : [], [lo(Di(), function (n, t) {
          !function (o) {
            var t = Zf.getValue(o);
            qs(o, r, "tabview").each(function (e) {
              E(r.tabs, function (n) {
                return n.value === t;
              }).each(function (n) {
                var t = n.view();
                Po(e.element(), "aria-labelledby", zo(o.element(), "id")), mg.set(e, t), r.onChangeTab(e, o, t);
              });
            });
          }(t.event().button());
        }), lo(Ai(), function (n, t) {
          var e = t.event().button();
          r.onDismissTab(n, e);
        })]])),
        apis: {
          getViewItems: function getViewItems(n) {
            return qs(n, r, "tabview").map(function (n) {
              return mg.contents(n);
            }).getOr([]);
          },
          showTab: function showTab(n, e) {
            o(n, function (t) {
              var n = ad.getCandidates(t);
              return E(n, function (n) {
                return Zf.getValue(n) === e;
              }).filter(function (n) {
                return !ad.isHighlighted(t, n);
              });
            });
          }
        }
      };
    },
    apis: {
      getViewItems: function getViewItems(n, t) {
        return n.getViewItems(t);
      },
      showTab: function showTab(n, t, e) {
        n.showTab(t, e);
      }
    }
  }),
      GF = "send-data-to-section",
      XF = "send-data-to-view",
      YF = Xo("update-dialog"),
      qF = Xo("update-title"),
      KF = Xo("update-body"),
      JF = Xo("update-footer"),
      $F = Xo("body-send-message"),
      QF = function QF(i, n) {
    function t(n, r) {
      return lo(n, function (e, o) {
        u(e, function (n, t) {
          r(i(), n, o.event(), e);
        });
      });
    }

    var u = function u(t, e) {
      RT.getState(t).get().each(function (n) {
        e(n, t);
      });
    };

    return g(P_(t, n), [t(sy, function (n, t, e) {
      t.onAction(n, {
        name: e.name()
      });
    })]);
  },
      ZF = function ZF(i, n) {
    function t(n, r) {
      return lo(n, function (e, o) {
        u(e, function (n, t) {
          r(i(), n, o.event(), e);
        });
      });
    }

    var u = function u(t, e) {
      RT.getState(t).get().each(function (n) {
        e(n.internalDialog, t);
      });
    };

    return g(P_(t, n), [t(fy, function (n, t) {
      return t.onSubmit(n);
    }), t(uy, function (n, t, e) {
      t.onChange(n, {
        name: e.name()
      });
    }), t(sy, function (n, t, e, o) {
      function r() {
        return lg.focusIn(o);
      }

      var i = Sa();
      t.onAction(n, {
        name: e.name(),
        value: e.value()
      }), Sa().fold(function () {
        r();
      }, function (n) {
        !Ye(o.element(), n) || Lo(n, "disabled") ? r() : Ye(n, i.getOrNull()) && Lo(i.getOrDie(), "disabled") && r();
      });
    }), t(my, function (n, t, e) {
      t.onTabChange(n, {
        newTabName: e.name(),
        oldTabName: e.oldName()
      });
    }), Ri(function (n) {
      var t = i();
      Zf.setValue(n, t.getData());
    })]);
  },
      nI = gh.deviceType.isTouch(),
      tI = tinymce.util.Tools.resolve("tinymce.util.URI"),
      eI = ["insertContent", "setContent", "execCommand", "close", "block", "unblock"],
      oI = function oI(n) {
    var l = n.backstage,
        d = n.editor,
        m = $b(d),
        e = function (c) {
      var s = c.backstage.shared;
      return {
        open: function open(n, t) {
          function e() {
            wM.hide(u), t();
          }

          var o = vm(YC({
            name: "close-alert",
            text: "OK",
            primary: !0,
            align: "end",
            disabled: !1,
            icon: on.none()
          }, "cancel", c.backstage)),
              r = Y_(),
              i = X_(e, s.providers),
              u = uu($_({
            lazySink: function lazySink() {
              return s.getSink();
            },
            header: G_(r, i),
            body: q_(n, s.providers),
            footer: on.some(K_(J_([], [o.asSpec()]))),
            onEscape: e,
            extraClasses: ["tox-alert-dialog"],
            extraBehaviours: [],
            extraStyles: {},
            dialogEvents: [lo(cy, e)],
            eventOrder: {}
          }));
          wM.show(u);
          var a = o.get(u);
          vg.focus(a);
        }
      };
    }(n),
        o = function (s) {
      var f = s.backstage.shared;
      return {
        open: function open(n, t) {
          function e(n) {
            wM.hide(a), t(n);
          }

          var o = vm(YC({
            name: "yes",
            text: "Yes",
            primary: !0,
            align: "end",
            disabled: !1,
            icon: on.none()
          }, "submit", s.backstage)),
              r = YC({
            name: "no",
            text: "No",
            primary: !0,
            align: "end",
            disabled: !1,
            icon: on.none()
          }, "cancel", s.backstage),
              i = Y_(),
              u = X_(function () {
            return e(!1);
          }, f.providers),
              a = uu($_({
            lazySink: function lazySink() {
              return f.getSink();
            },
            header: G_(i, u),
            body: q_(n, f.providers),
            footer: on.some(K_(J_([], [r, o.asSpec()]))),
            onEscape: function onEscape() {
              return e(!1);
            },
            extraClasses: ["tox-confirm-dialog"],
            extraBehaviours: [],
            extraStyles: {},
            dialogEvents: [lo(cy, function () {
              return e(!1);
            }), lo(fy, function () {
              return e(!0);
            })],
            eventOrder: {}
          }));
          wM.show(a);
          var c = o.get(a);
          vg.focus(c);
        }
      };
    }(n),
        r = function r(n, e) {
      return FF.openUrl(function (n) {
        var t = sM(n, {
          closeWindow: function closeWindow() {
            wM.hide(t.dialog), e(t.instanceApi);
          }
        }, d, l);
        return wM.show(t.dialog), t.instanceApi;
      }, n);
    },
        i = function i(n, _i2) {
      return FF.open(function (n, t, e) {
        var o = t,
            r = uM({
          dataValidator: e,
          initialData: o,
          internalDialog: n
        }, {
          redial: FF.redial,
          closeWindow: function closeWindow() {
            wM.hide(r.dialog), _i2(r.instanceApi);
          }
        }, l);
        return wM.show(r.dialog), r.instanceApi.setData(o), r.instanceApi;
      }, n);
    },
        u = function u(n, c, s, f) {
      return FF.open(function (n, t, e) {
        function o() {
          return i.on(function (n) {
            cA.refresh(n);
          });
        }

        var r = function (n, t) {
          return et(tt("data", t, n));
        }(t, e),
            i = function () {
          var t = ye(on.none());
          return {
            clear: function clear() {
              t.set(on.none());
            },
            set: function set(n) {
              t.set(on.some(n));
            },
            isSet: function isSet() {
              return t.get().isSome();
            },
            on: function on(n) {
              t.get().each(n);
            }
          };
        }(),
            u = aM({
          dataValidator: e,
          initialData: r,
          internalDialog: n
        }, {
          redial: FF.redial,
          closeWindow: function closeWindow() {
            i.on(jg.hide), d.off("ResizeEditor", o), i.clear(), s(u.instanceApi);
          }
        }, l, f),
            a = uu(jg.sketch({
          lazySink: l.shared.getSink,
          dom: {
            tag: "div",
            classes: []
          },
          fireDismissalEventInstead: {},
          inlineBehaviours: ba(g([Kd("window-manager-inline-events", [lo(Oi(), function (n, t) {
            oo(u.dialog, cy);
          })])], function (n, t) {
            return t ? [] : [cA.config({
              contextual: {
                lazyContext: function lazyContext() {
                  return on.some(xu(we.fromDom(n.getContentAreaContainer())));
                },
                fadeInClass: "tox-dialog-dock-fadein",
                fadeOutClass: "tox-dialog-dock-fadeout",
                transitionClass: "tox-dialog-dock-transition"
              },
              leftAttr: "data-dock-left",
              topAttr: "data-dock-top",
              positionAttr: "data-dock-pos",
              modes: ["top"]
            })];
          }(d, m)))
        }));

        return i.set(a), jg.showWithin(a, c, au(u.dialog), on.some(zr())), m || (cA.refresh(a), d.on("ResizeEditor", o)), u.instanceApi.setData(r), lg.focusIn(u.dialog), u.instanceApi;
      }, n);
    };

    return {
      open: function open(n, t, e) {
        return t !== undefined && "toolbar" === t.inline ? u(n, l.shared.anchors.toolbar(), e, t.ariaAttrs) : t !== undefined && "cursor" === t.inline ? u(n, l.shared.anchors.cursor(), e, t.ariaAttrs) : i(n, e);
      },
      openUrl: function openUrl(n, t) {
        return r(n, t);
      },
      alert: function alert(n, t) {
        e.open(n, function () {
          t();
        });
      },
      close: function close(n) {
        n.close();
      },
      confirm: function confirm(n, t) {
        o.open(n, function (n) {
          t(n);
        });
      }
    };
  };

  !function mI() {
    n.add("silver", function (n) {
      var t = hM(n),
          e = t.uiMothership,
          o = t.backstage,
          r = t.renderUI,
          i = t.getUi;
      db(n, o.shared);
      var u = oI({
        editor: n,
        backstage: o
      });
      return {
        renderUI: r,
        getWindowManagerImpl: nn(u),
        getNotificationManagerImpl: function getNotificationManagerImpl() {
          return Kg(0, {
            backstage: o
          }, e);
        },
        ui: i()
      };
    });
  }();
}(window);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../../../node_modules/webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./resources/js/modules/tinymce/tinymce.min.js":
/*!*****************************************************!*\
  !*** ./resources/js/modules/tinymce/tinymce.min.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global, module) {function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/**
 * Copyright (c) Tiny Technologies, Inc. All rights reserved.
 * Licensed under the LGPL or a commercial license.
 * For LGPL see License.txt in the project root for license information.
 * For commercial licenses see https://www.tiny.cloud/
 *
 * Version: 5.1.5 (2019-12-19)
 */
!function (j) {
  "use strict";

  function i() {}

  var q = function q(n, r) {
    return function () {
      for (var e = [], t = 0; t < arguments.length; t++) {
        e[t] = arguments[t];
      }

      return n(r.apply(null, e));
    };
  },
      $ = function $(e) {
    return function () {
      return e;
    };
  },
      W = function W(e) {
    return e;
  };

  function d(r) {
    for (var o = [], e = 1; e < arguments.length; e++) {
      o[e - 1] = arguments[e];
    }

    return function () {
      for (var e = [], t = 0; t < arguments.length; t++) {
        e[t] = arguments[t];
      }

      var n = o.concat(e);
      return r.apply(null, n);
    };
  }

  function s(n) {
    return function () {
      for (var e = [], t = 0; t < arguments.length; t++) {
        e[t] = arguments[t];
      }

      return !n.apply(null, e);
    };
  }

  function e() {
    return u;
  }

  var t,
      c = $(!1),
      a = $(!0),
      u = (t = {
    fold: function fold(e, t) {
      return e();
    },
    is: c,
    isSome: c,
    isNone: a,
    getOr: o,
    getOrThunk: r,
    getOrDie: function getOrDie(e) {
      throw new Error(e || "error: getOrDie called on none.");
    },
    getOrNull: $(null),
    getOrUndefined: $(undefined),
    or: o,
    orThunk: r,
    map: e,
    each: i,
    bind: e,
    exists: c,
    forall: a,
    filter: e,
    equals: n,
    equals_: n,
    toArray: function toArray() {
      return [];
    },
    toString: $("none()")
  }, Object.freeze && Object.freeze(t), t);

  function n(e) {
    return e.isNone();
  }

  function r(e) {
    return e();
  }

  function o(e) {
    return e;
  }

  function l(t) {
    return function (e) {
      return function (e) {
        if (null === e) return "null";

        var t = _typeof(e);

        return "object" == t && (Array.prototype.isPrototypeOf(e) || e.constructor && "Array" === e.constructor.name) ? "array" : "object" == t && (String.prototype.isPrototypeOf(e) || e.constructor && "String" === e.constructor.name) ? "string" : t;
      }(e) === t;
    };
  }

  function f(e, t) {
    return O.call(e, t);
  }

  function h(e, t) {
    return -1 < f(e, t);
  }

  function C(e, t) {
    for (var n = 0, r = e.length; n < r; n++) {
      if (t(e[n], n)) return !0;
    }

    return !1;
  }

  function z(e, t) {
    for (var n = 0, r = e.length; n < r; n++) {
      t(e[n], n);
    }
  }

  function y(e, t) {
    for (var n = [], r = 0, o = e.length; r < o; r++) {
      var i = e[r];
      t(i, r) && n.push(i);
    }

    return n;
  }

  function m(e, t, n) {
    return function (e, t) {
      for (var n = e.length - 1; 0 <= n; n--) {
        t(e[n], n);
      }
    }(e, function (e) {
      n = t(n, e);
    }), n;
  }

  function b(e, t, n) {
    return z(e, function (e) {
      n = t(n, e);
    }), n;
  }

  function g(e, t) {
    for (var n = 0, r = e.length; n < r; n++) {
      var o = e[n];
      if (t(o, n)) return k.some(o);
    }

    return k.none();
  }

  function p(e, t) {
    for (var n = 0, r = e.length; n < r; n++) {
      if (t(e[n], n)) return k.some(n);
    }

    return k.none();
  }

  function v(e, t) {
    return function (e) {
      for (var t = [], n = 0, r = e.length; n < r; ++n) {
        if (!A(e[n])) throw new Error("Arr.flatten item " + n + " was not an array, input: " + e);
        H.apply(t, e[n]);
      }

      return t;
    }(X(e, t));
  }

  function w(e, t) {
    for (var n = 0, r = e.length; n < r; ++n) {
      if (!0 !== t(e[n], n)) return !1;
    }

    return !0;
  }

  function x(e, t) {
    return y(e, function (e) {
      return !h(t, e);
    });
  }

  function E(e) {
    return 0 === e.length ? k.none() : k.some(e[0]);
  }

  function N(e) {
    return 0 === e.length ? k.none() : k.some(e[e.length - 1]);
  }

  var S = function S(n) {
    function e() {
      return o;
    }

    function t(e) {
      return e(n);
    }

    var r = $(n),
        o = {
      fold: function fold(e, t) {
        return t(n);
      },
      is: function is(e) {
        return n === e;
      },
      isSome: a,
      isNone: c,
      getOr: r,
      getOrThunk: r,
      getOrDie: r,
      getOrNull: r,
      getOrUndefined: r,
      or: e,
      orThunk: e,
      map: function map(e) {
        return S(e(n));
      },
      each: function each(e) {
        e(n);
      },
      bind: t,
      exists: t,
      forall: t,
      filter: function filter(e) {
        return e(n) ? o : u;
      },
      toArray: function toArray() {
        return [n];
      },
      toString: function toString() {
        return "some(" + n + ")";
      },
      equals: function equals(e) {
        return e.is(n);
      },
      equals_: function equals_(e, t) {
        return e.fold(c, function (e) {
          return t(n, e);
        });
      }
    };
    return o;
  },
      k = {
    some: S,
    none: e,
    from: function from(e) {
      return null === e || e === undefined ? u : S(e);
    }
  },
      K = l("string"),
      T = l("object"),
      A = l("array"),
      M = l("null"),
      R = l("boolean"),
      D = l("function"),
      _ = l("number"),
      B = Array.prototype.slice,
      O = Array.prototype.indexOf,
      H = Array.prototype.push,
      X = function X(e, t) {
    for (var n = e.length, r = new Array(n), o = 0; o < n; o++) {
      var i = e[o];
      r[o] = t(i, o);
    }

    return r;
  },
      Y = function Y(e, t) {
    for (var n = [], r = [], o = 0, i = e.length; o < i; o++) {
      var a = e[o];
      (t(a, o) ? n : r).push(a);
    }

    return {
      pass: n,
      fail: r
    };
  },
      P = D(Array.from) ? Array.from : function (e) {
    return B.call(e);
  },
      _G = function G() {
    return (_G = Object.assign || function (e) {
      for (var t, n = 1, r = arguments.length; n < r; n++) {
        for (var o in t = arguments[n]) {
          Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
        }
      }

      return e;
    }).apply(this, arguments);
  };

  function L(t) {
    return function (e) {
      return !!e && e.nodeType === t;
    };
  }

  function V(e) {
    var n = e.map(function (e) {
      return e.toLowerCase();
    });
    return function (e) {
      if (e && e.nodeName) {
        var t = e.nodeName.toLowerCase();
        return h(n, t);
      }

      return !1;
    };
  }

  function I(t) {
    return function (e) {
      if (Fe(e)) {
        if (e.contentEditable === t) return !0;
        if (e.getAttribute("data-mce-contenteditable") === t) return !0;
      }

      return !1;
    };
  }

  function F(e, t) {
    var n = function (e, t) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        if (r.test(t)) return r;
      }

      return undefined;
    }(e, t);

    if (!n) return {
      major: 0,
      minor: 0
    };

    function r(e) {
      return Number(t.replace(n, "$" + e));
    }

    return Ze(r(1), r(2));
  }

  function U(e, t) {
    return function () {
      return t === e;
    };
  }

  function J(e, t) {
    return function () {
      return t === e;
    };
  }

  function Q(e, t) {
    var n = String(t).toLowerCase();
    return g(e, function (e) {
      return e.search(n);
    });
  }

  function Z(e, t) {
    return -1 !== e.indexOf(t);
  }

  function ee(e, t) {
    return function (e, t, n) {
      return "" === t || !(e.length < t.length) && e.substr(n, n + t.length) === t;
    }(e, t, 0);
  }

  function te(e) {
    return e.replace(/^\s+|\s+$/g, "");
  }

  function ne(e) {
    return e.replace(/\s+$/g, "");
  }

  function re(t) {
    return function (e) {
      return Z(e, t);
    };
  }

  function oe() {
    return pt.get();
  }

  function ie(e) {
    return e.dom().nodeName.toLowerCase();
  }

  function ae(t) {
    return function (e) {
      return function (e) {
        return e.dom().nodeType;
      }(e) === t;
    };
  }

  function ue(e, t) {
    for (var n = Et(e), r = 0, o = n.length; r < o; r++) {
      var i = n[r];
      t(e[i], i);
    }
  }

  function se(e, n) {
    return St(e, function (e, t) {
      return {
        k: t,
        v: n(e, t)
      };
    });
  }

  function ce(e, n) {
    var r = {},
        o = {};
    return ue(e, function (e, t) {
      (n(e, t) ? r : o)[t] = e;
    }), {
      t: r,
      f: o
    };
  }

  function le(e, t) {
    return kt(e, t) ? k.from(e[t]) : k.none();
  }

  function fe(e) {
    return e.style !== undefined && D(e.style.getPropertyValue);
  }

  function de(e) {
    var t = zt(e) ? e.dom().parentNode : e.dom();
    return t !== undefined && null !== t && t.ownerDocument.body.contains(t);
  }

  function he(e, t, n) {
    if (!(K(n) || R(n) || _(n))) throw j.console.error("Invalid call to Attr.set. Key ", t, ":: Value ", n, ":: Element ", e), new Error("Attribute value was not simple");
    e.setAttribute(t, n + "");
  }

  function me(e, t) {
    var n = e.dom();
    ue(t, function (e, t) {
      he(n, t, e);
    });
  }

  function ge(e, t) {
    var n = e.dom().getAttribute(t);
    return null === n ? undefined : n;
  }

  function pe(e, t) {
    e.dom().removeAttribute(t);
  }

  function ve(e, t) {
    var n = e.dom(),
        r = j.window.getComputedStyle(n).getPropertyValue(t),
        o = "" !== r || de(e) ? r : At(n, t);
    return null === o ? undefined : o;
  }

  function ye(e, t) {
    var n = e.dom(),
        r = At(n, t);
    return k.from(r).filter(function (e) {
      return 0 < e.length;
    });
  }

  function be() {
    for (var t = [], e = 0; e < arguments.length; e++) {
      t[e] = arguments[e];
    }

    return function () {
      for (var n = [], e = 0; e < arguments.length; e++) {
        n[e] = arguments[e];
      }

      if (t.length !== n.length) throw new Error('Wrong number of arguments to struct. Expected "[' + t.length + ']", got ' + n.length + " arguments");
      var r = {};
      return z(t, function (e, t) {
        r[e] = $(n[t]);
      }), r;
    };
  }

  function Ce(e, t, n) {
    return 0 != (e.compareDocumentPosition(t) & n);
  }

  function we(e, t) {
    var n = e.dom();
    if (n.nodeType !== Dt) return !1;
    var r = n;
    if (r.matches !== undefined) return r.matches(t);
    if (r.msMatchesSelector !== undefined) return r.msMatchesSelector(t);
    if (r.webkitMatchesSelector !== undefined) return r.webkitMatchesSelector(t);
    if (r.mozMatchesSelector !== undefined) return r.mozMatchesSelector(t);
    throw new Error("Browser lacks native selectors");
  }

  function xe(e) {
    return e.nodeType !== Dt && e.nodeType !== _t || 0 === e.childElementCount;
  }

  function ze(e, t) {
    return e.dom() === t.dom();
  }

  function Ee(e) {
    return yt.fromDom(e.dom().ownerDocument);
  }

  function Ne(e) {
    return yt.fromDom(e.dom().ownerDocument.defaultView);
  }

  function Se(e) {
    return k.from(e.dom().parentNode).map(yt.fromDom);
  }

  function ke(e) {
    return k.from(e.dom().previousSibling).map(yt.fromDom);
  }

  function Te(e) {
    return k.from(e.dom().nextSibling).map(yt.fromDom);
  }

  function Ae(e) {
    return function (e) {
      var t = B.call(e, 0);
      return t.reverse(), t;
    }(Mt(e, ke));
  }

  function Me(e) {
    return Mt(e, Te);
  }

  function Re(e) {
    return X(e.dom().childNodes, yt.fromDom);
  }

  function De(e, t) {
    var n = e.dom().childNodes;
    return k.from(n[t]).map(yt.fromDom);
  }

  function _e(e) {
    return De(e, 0);
  }

  function Be(e) {
    return De(e, e.dom().childNodes.length - 1);
  }

  function Oe(e) {
    return g(e, xt);
  }

  function He(e, t) {
    return e.children && h(e.children, t);
  }

  var Pe,
      Le,
      Ve,
      Ie,
      Fe = L(1),
      Ue = V(["textarea", "input"]),
      je = L(3),
      qe = L(8),
      $e = L(9),
      We = L(11),
      Ke = V(["br"]),
      Xe = I("true"),
      Ye = I("false"),
      Ge = {
    isText: je,
    isElement: Fe,
    isComment: qe,
    isDocument: $e,
    isDocumentFragment: We,
    isBr: Ke,
    isContentEditableTrue: Xe,
    isContentEditableFalse: Ye,
    isRestrictedNode: function isRestrictedNode(e) {
      return !!e && !Object.getPrototypeOf(e);
    },
    matchNodeNames: V,
    hasPropValue: function hasPropValue(t, n) {
      return function (e) {
        return Fe(e) && e[t] === n;
      };
    },
    hasAttribute: function hasAttribute(t, e) {
      return function (e) {
        return Fe(e) && e.hasAttribute(t);
      };
    },
    hasAttributeValue: function hasAttributeValue(t, n) {
      return function (e) {
        return Fe(e) && e.getAttribute(t) === n;
      };
    },
    matchStyleValues: function matchStyleValues(r, e) {
      var o = e.toLowerCase().split(" ");
      return function (e) {
        var t;
        if (Fe(e)) for (t = 0; t < o.length; t++) {
          var n = e.ownerDocument.defaultView.getComputedStyle(e, null);
          if ((n ? n.getPropertyValue(r) : null) === o[t]) return !0;
        }
        return !1;
      };
    },
    isBogus: function isBogus(e) {
      return Fe(e) && e.hasAttribute("data-mce-bogus");
    },
    isBogusAll: function isBogusAll(e) {
      return Fe(e) && "all" === e.getAttribute("data-mce-bogus");
    },
    isTable: function isTable(e) {
      return Fe(e) && "TABLE" === e.tagName;
    },
    isTextareaOrInput: Ue
  },
      Je = function Je(e) {
    function t() {
      return n;
    }

    var n = e;
    return {
      get: t,
      set: function set(e) {
        n = e;
      },
      clone: function clone() {
        return Je(t());
      }
    };
  },
      Qe = function Qe() {
    return Ze(0, 0);
  },
      Ze = function Ze(e, t) {
    return {
      major: e,
      minor: t
    };
  },
      et = {
    nu: Ze,
    detect: function detect(e, t) {
      var n = String(t).toLowerCase();
      return 0 === e.length ? Qe() : F(e, n);
    },
    unknown: Qe
  },
      tt = "Firefox",
      nt = function nt(e) {
    var t = e.current;
    return {
      current: t,
      version: e.version,
      isEdge: U("Edge", t),
      isChrome: U("Chrome", t),
      isIE: U("IE", t),
      isOpera: U("Opera", t),
      isFirefox: U(tt, t),
      isSafari: U("Safari", t)
    };
  },
      rt = {
    unknown: function unknown() {
      return nt({
        current: undefined,
        version: et.unknown()
      });
    },
    nu: nt,
    edge: $("Edge"),
    chrome: $("Chrome"),
    ie: $("IE"),
    opera: $("Opera"),
    firefox: $(tt),
    safari: $("Safari")
  },
      ot = "Windows",
      it = "Android",
      at = "Solaris",
      ut = "FreeBSD",
      st = function st(e) {
    var t = e.current;
    return {
      current: t,
      version: e.version,
      isWindows: J(ot, t),
      isiOS: J("iOS", t),
      isAndroid: J(it, t),
      isOSX: J("OSX", t),
      isLinux: J("Linux", t),
      isSolaris: J(at, t),
      isFreeBSD: J(ut, t)
    };
  },
      ct = {
    unknown: function unknown() {
      return st({
        current: undefined,
        version: et.unknown()
      });
    },
    nu: st,
    windows: $(ot),
    ios: $("iOS"),
    android: $(it),
    linux: $("Linux"),
    osx: $("OSX"),
    solaris: $(at),
    freebsd: $(ut)
  },
      lt = function lt(e, n) {
    return Q(e, n).map(function (e) {
      var t = et.detect(e.versionRegexes, n);
      return {
        current: e.name,
        version: t
      };
    });
  },
      ft = function ft(e, n) {
    return Q(e, n).map(function (e) {
      var t = et.detect(e.versionRegexes, n);
      return {
        current: e.name,
        version: t
      };
    });
  },
      dt = /.*?version\/\ ?([0-9]+)\.([0-9]+).*/,
      ht = [{
    name: "Edge",
    versionRegexes: [/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],
    search: function search(e) {
      return Z(e, "edge/") && Z(e, "chrome") && Z(e, "safari") && Z(e, "applewebkit");
    }
  }, {
    name: "Chrome",
    versionRegexes: [/.*?chrome\/([0-9]+)\.([0-9]+).*/, dt],
    search: function search(e) {
      return Z(e, "chrome") && !Z(e, "chromeframe");
    }
  }, {
    name: "IE",
    versionRegexes: [/.*?msie\ ?([0-9]+)\.([0-9]+).*/, /.*?rv:([0-9]+)\.([0-9]+).*/],
    search: function search(e) {
      return Z(e, "msie") || Z(e, "trident");
    }
  }, {
    name: "Opera",
    versionRegexes: [dt, /.*?opera\/([0-9]+)\.([0-9]+).*/],
    search: re("opera")
  }, {
    name: "Firefox",
    versionRegexes: [/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],
    search: re("firefox")
  }, {
    name: "Safari",
    versionRegexes: [dt, /.*?cpu os ([0-9]+)_([0-9]+).*/],
    search: function search(e) {
      return (Z(e, "safari") || Z(e, "mobile/")) && Z(e, "applewebkit");
    }
  }],
      mt = [{
    name: "Windows",
    search: re("win"),
    versionRegexes: [/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]
  }, {
    name: "iOS",
    search: function search(e) {
      return Z(e, "iphone") || Z(e, "ipad");
    },
    versionRegexes: [/.*?version\/\ ?([0-9]+)\.([0-9]+).*/, /.*cpu os ([0-9]+)_([0-9]+).*/, /.*cpu iphone os ([0-9]+)_([0-9]+).*/]
  }, {
    name: "Android",
    search: re("android"),
    versionRegexes: [/.*?android\ ?([0-9]+)\.([0-9]+).*/]
  }, {
    name: "OSX",
    search: re("os x"),
    versionRegexes: [/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]
  }, {
    name: "Linux",
    search: re("linux"),
    versionRegexes: []
  }, {
    name: "Solaris",
    search: re("sunos"),
    versionRegexes: []
  }, {
    name: "FreeBSD",
    search: re("freebsd"),
    versionRegexes: []
  }],
      gt = {
    browsers: $(ht),
    oses: $(mt)
  },
      pt = Je(function (e, t) {
    var n = gt.browsers(),
        r = gt.oses(),
        o = lt(n, e).fold(rt.unknown, rt.nu),
        i = ft(r, e).fold(ct.unknown, ct.nu);
    return {
      browser: o,
      os: i,
      deviceType: function (e, t, n, r) {
        var o = e.isiOS() && !0 === /ipad/i.test(n),
            i = e.isiOS() && !o,
            a = e.isiOS() || e.isAndroid(),
            u = a || r("(pointer:coarse)"),
            s = o || !i && a && r("(min-device-width:768px)"),
            c = i || a && !s,
            l = t.isSafari() && e.isiOS() && !1 === /safari/i.test(n),
            f = !c && !s && !l;
        return {
          isiPad: $(o),
          isiPhone: $(i),
          isTablet: $(s),
          isPhone: $(c),
          isTouch: $(u),
          isAndroid: e.isAndroid,
          isiOS: e.isiOS,
          isWebView: $(l),
          isDesktop: $(f)
        };
      }(i, o, e, t)
    };
  }(j.navigator.userAgent, function (e) {
    return j.window.matchMedia(e).matches;
  })),
      vt = function vt(e) {
    if (null === e || e === undefined) throw new Error("Node cannot be null or undefined");
    return {
      dom: $(e)
    };
  },
      yt = {
    fromHtml: function fromHtml(e, t) {
      var n = (t || j.document).createElement("div");
      if (n.innerHTML = e, !n.hasChildNodes() || 1 < n.childNodes.length) throw j.console.error("HTML does not have a single root node", e), new Error("HTML must have a single root node");
      return vt(n.childNodes[0]);
    },
    fromTag: function fromTag(e, t) {
      var n = (t || j.document).createElement(e);
      return vt(n);
    },
    fromText: function fromText(e, t) {
      var n = (t || j.document).createTextNode(e);
      return vt(n);
    },
    fromDom: vt,
    fromPoint: function fromPoint(e, t, n) {
      var r = e.dom();
      return k.from(r.elementFromPoint(t, n)).map(vt);
    }
  },
      bt = (j.Node.ATTRIBUTE_NODE, j.Node.CDATA_SECTION_NODE, j.Node.COMMENT_NODE, j.Node.DOCUMENT_NODE),
      Ct = (j.Node.DOCUMENT_TYPE_NODE, j.Node.DOCUMENT_FRAGMENT_NODE, j.Node.ELEMENT_NODE),
      wt = j.Node.TEXT_NODE,
      xt = (j.Node.PROCESSING_INSTRUCTION_NODE, j.Node.ENTITY_REFERENCE_NODE, j.Node.ENTITY_NODE, j.Node.NOTATION_NODE, "undefined" != typeof j.window ? j.window : Function("return this;")(), ae(Ct)),
      zt = ae(wt),
      Et = Object.keys,
      Nt = Object.hasOwnProperty,
      St = function St(e, r) {
    var o = {};
    return ue(e, function (e, t) {
      var n = r(e, t);
      o[n.k] = n.v;
    }), o;
  },
      kt = function kt(e, t) {
    return Nt.call(e, t);
  },
      Tt = function Tt(e, t, n) {
    he(e.dom(), t, n);
  },
      At = function At(e, t) {
    return fe(e) ? e.style.getPropertyValue(t) : "";
  },
      Mt = function Mt(e, t) {
    for (var n = [], r = function r(e) {
      return n.push(e), t(e);
    }, o = t(e); (o = o.bind(r)).isSome();) {
      ;
    }

    return n;
  },
      Rt = function Rt(e, t) {
    return Ce(e, t, j.Node.DOCUMENT_POSITION_CONTAINED_BY);
  },
      Dt = Ct,
      _t = bt,
      Bt = oe().browser.isIE() ? function (e, t) {
    return Rt(e.dom(), t.dom());
  } : function (e, t) {
    var n = e.dom(),
        r = t.dom();
    return n !== r && n.contains(r);
  },
      Ot = (be("element", "offset"), oe().browser),
      Ht = {
    getPos: function getPos(e, t, n) {
      var r,
          o,
          i = 0,
          a = 0,
          u = e.ownerDocument;

      if (n = n || e, t) {
        if (n === e && t.getBoundingClientRect && "static" === ve(yt.fromDom(e), "position")) return {
          x: i = (o = t.getBoundingClientRect()).left + (u.documentElement.scrollLeft || e.scrollLeft) - u.documentElement.clientLeft,
          y: a = o.top + (u.documentElement.scrollTop || e.scrollTop) - u.documentElement.clientTop
        };

        for (r = t; r && r !== n && r.nodeType && !He(r, n);) {
          i += r.offsetLeft || 0, a += r.offsetTop || 0, r = r.offsetParent;
        }

        for (r = t.parentNode; r && r !== n && r.nodeType && !He(r, n);) {
          i -= r.scrollLeft || 0, a -= r.scrollTop || 0, r = r.parentNode;
        }

        a += function (e) {
          return Ot.isFirefox() && "table" === ie(e) ? Oe(Re(e)).filter(function (e) {
            return "caption" === ie(e);
          }).bind(function (o) {
            return Oe(Me(o)).map(function (e) {
              var t = e.dom().offsetTop,
                  n = o.dom().offsetTop,
                  r = o.dom().offsetHeight;
              return t <= n ? -r : 0;
            });
          }).getOr(0) : 0;
        }(yt.fromDom(t));
      }

      return {
        x: i,
        y: a
      };
    }
  },
      Pt = {},
      Lt = {
    exports: Pt
  };

  Pe = undefined, Le = Pt, Ve = Lt, Ie = undefined, function (e) {
    "object" == _typeof(Le) && void 0 !== Ve ? Ve.exports = e() : "function" == typeof Pe && Pe.amd ? Pe([], e) : ("undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this).EphoxContactWrapper = e();
  }(function () {
    return function l(i, a, u) {
      function s(t, e) {
        if (!a[t]) {
          if (!i[t]) {
            var n = "function" == typeof Ie && Ie;
            if (!e && n) return n(t, !0);
            if (c) return c(t, !0);
            var r = new Error("Cannot find module '" + t + "'");
            throw r.code = "MODULE_NOT_FOUND", r;
          }

          var o = a[t] = {
            exports: {}
          };
          i[t][0].call(o.exports, function (e) {
            return s(i[t][1][e] || e);
          }, o, o.exports, l, i, a, u);
        }

        return a[t].exports;
      }

      for (var c = "function" == typeof Ie && Ie, e = 0; e < u.length; e++) {
        s(u[e]);
      }

      return s;
    }({
      1: [function (e, t, n) {
        var r,
            o,
            i = t.exports = {};

        function a() {
          throw new Error("setTimeout has not been defined");
        }

        function u() {
          throw new Error("clearTimeout has not been defined");
        }

        function s(e) {
          if (r === setTimeout) return setTimeout(e, 0);
          if ((r === a || !r) && setTimeout) return r = setTimeout, setTimeout(e, 0);

          try {
            return r(e, 0);
          } catch (t) {
            try {
              return r.call(null, e, 0);
            } catch (t) {
              return r.call(this, e, 0);
            }
          }
        }

        !function () {
          try {
            r = "function" == typeof setTimeout ? setTimeout : a;
          } catch (e) {
            r = a;
          }

          try {
            o = "function" == typeof clearTimeout ? clearTimeout : u;
          } catch (e) {
            o = u;
          }
        }();
        var c,
            l = [],
            f = !1,
            d = -1;

        function h() {
          f && c && (f = !1, c.length ? l = c.concat(l) : d = -1, l.length && m());
        }

        function m() {
          if (!f) {
            var e = s(h);
            f = !0;

            for (var t = l.length; t;) {
              for (c = l, l = []; ++d < t;) {
                c && c[d].run();
              }

              d = -1, t = l.length;
            }

            c = null, f = !1, function n(e) {
              if (o === clearTimeout) return clearTimeout(e);
              if ((o === u || !o) && clearTimeout) return o = clearTimeout, clearTimeout(e);

              try {
                return o(e);
              } catch (t) {
                try {
                  return o.call(null, e);
                } catch (t) {
                  return o.call(this, e);
                }
              }
            }(e);
          }
        }

        function g(e, t) {
          this.fun = e, this.array = t;
        }

        function p() {}

        i.nextTick = function (e) {
          var t = new Array(arguments.length - 1);
          if (1 < arguments.length) for (var n = 1; n < arguments.length; n++) {
            t[n - 1] = arguments[n];
          }
          l.push(new g(e, t)), 1 !== l.length || f || s(m);
        }, g.prototype.run = function () {
          this.fun.apply(null, this.array);
        }, i.title = "browser", i.browser = !0, i.env = {}, i.argv = [], i.version = "", i.versions = {}, i.on = p, i.addListener = p, i.once = p, i.off = p, i.removeListener = p, i.removeAllListeners = p, i.emit = p, i.prependListener = p, i.prependOnceListener = p, i.listeners = function (e) {
          return [];
        }, i.binding = function (e) {
          throw new Error("process.binding is not supported");
        }, i.cwd = function () {
          return "/";
        }, i.chdir = function (e) {
          throw new Error("process.chdir is not supported");
        }, i.umask = function () {
          return 0;
        };
      }, {}],
      2: [function (e, f, t) {
        (function (t) {
          function r() {}

          function i(e) {
            if ("object" != _typeof(this)) throw new TypeError("Promises must be constructed via new");
            if ("function" != typeof e) throw new TypeError("not a function");
            this._state = 0, this._handled = !1, this._value = undefined, this._deferreds = [], l(e, this);
          }

          function o(r, o) {
            for (; 3 === r._state;) {
              r = r._value;
            }

            0 !== r._state ? (r._handled = !0, i._immediateFn(function () {
              var e = 1 === r._state ? o.onFulfilled : o.onRejected;

              if (null !== e) {
                var t;

                try {
                  t = e(r._value);
                } catch (n) {
                  return void u(o.promise, n);
                }

                a(o.promise, t);
              } else (1 === r._state ? a : u)(o.promise, r._value);
            })) : r._deferreds.push(o);
          }

          function a(e, t) {
            try {
              if (t === e) throw new TypeError("A promise cannot be resolved with itself.");

              if (t && ("object" == _typeof(t) || "function" == typeof t)) {
                var n = t.then;
                if (t instanceof i) return e._state = 3, e._value = t, void s(e);
                if ("function" == typeof n) return void l(function r(e, t) {
                  return function () {
                    e.apply(t, arguments);
                  };
                }(n, t), e);
              }

              e._state = 1, e._value = t, s(e);
            } catch (o) {
              u(e, o);
            }
          }

          function u(e, t) {
            e._state = 2, e._value = t, s(e);
          }

          function s(e) {
            2 === e._state && 0 === e._deferreds.length && i._immediateFn(function () {
              e._handled || i._unhandledRejectionFn(e._value);
            });

            for (var t = 0, n = e._deferreds.length; t < n; t++) {
              o(e, e._deferreds[t]);
            }

            e._deferreds = null;
          }

          function c(e, t, n) {
            this.onFulfilled = "function" == typeof e ? e : null, this.onRejected = "function" == typeof t ? t : null, this.promise = n;
          }

          function l(e, t) {
            var n = !1;

            try {
              e(function (e) {
                n || (n = !0, a(t, e));
              }, function (e) {
                n || (n = !0, u(t, e));
              });
            } catch (r) {
              if (n) return;
              n = !0, u(t, r);
            }
          }

          var e, n;
          e = this, n = setTimeout, i.prototype["catch"] = function (e) {
            return this.then(null, e);
          }, i.prototype.then = function (e, t) {
            var n = new this.constructor(r);
            return o(this, new c(e, t, n)), n;
          }, i.all = function (e) {
            var s = Array.prototype.slice.call(e);
            return new i(function (o, i) {
              if (0 === s.length) return o([]);
              var a = s.length;

              function u(t, e) {
                try {
                  if (e && ("object" == _typeof(e) || "function" == typeof e)) {
                    var n = e.then;
                    if ("function" == typeof n) return void n.call(e, function (e) {
                      u(t, e);
                    }, i);
                  }

                  s[t] = e, 0 == --a && o(s);
                } catch (r) {
                  i(r);
                }
              }

              for (var e = 0; e < s.length; e++) {
                u(e, s[e]);
              }
            });
          }, i.resolve = function (t) {
            return t && "object" == _typeof(t) && t.constructor === i ? t : new i(function (e) {
              e(t);
            });
          }, i.reject = function (n) {
            return new i(function (e, t) {
              t(n);
            });
          }, i.race = function (o) {
            return new i(function (e, t) {
              for (var n = 0, r = o.length; n < r; n++) {
                o[n].then(e, t);
              }
            });
          }, i._immediateFn = "function" == typeof t ? function (e) {
            t(e);
          } : function (e) {
            n(e, 0);
          }, i._unhandledRejectionFn = function (e) {
            "undefined" != typeof console && console && console.warn("Possible Unhandled Promise Rejection:", e);
          }, i._setImmediateFn = function (e) {
            i._immediateFn = e;
          }, i._setUnhandledRejectionFn = function (e) {
            i._unhandledRejectionFn = e;
          }, void 0 !== f && f.exports ? f.exports = i : e.Promise || (e.Promise = i);
        }).call(this, e("timers").setImmediate);
      }, {
        timers: 3
      }],
      3: [function (s, e, c) {
        (function (e, t) {
          var r = s("process/browser.js").nextTick,
              n = Function.prototype.apply,
              o = Array.prototype.slice,
              i = {},
              a = 0;

          function u(e, t) {
            this._id = e, this._clearFn = t;
          }

          c.setTimeout = function () {
            return new u(n.call(setTimeout, window, arguments), clearTimeout);
          }, c.setInterval = function () {
            return new u(n.call(setInterval, window, arguments), clearInterval);
          }, c.clearTimeout = c.clearInterval = function (e) {
            e.close();
          }, u.prototype.unref = u.prototype.ref = function () {}, u.prototype.close = function () {
            this._clearFn.call(window, this._id);
          }, c.enroll = function (e, t) {
            clearTimeout(e._idleTimeoutId), e._idleTimeout = t;
          }, c.unenroll = function (e) {
            clearTimeout(e._idleTimeoutId), e._idleTimeout = -1;
          }, c._unrefActive = c.active = function (e) {
            clearTimeout(e._idleTimeoutId);
            var t = e._idleTimeout;
            0 <= t && (e._idleTimeoutId = setTimeout(function () {
              e._onTimeout && e._onTimeout();
            }, t));
          }, c.setImmediate = "function" == typeof e ? e : function (e) {
            var t = a++,
                n = !(arguments.length < 2) && o.call(arguments, 1);
            return i[t] = !0, r(function () {
              i[t] && (n ? e.apply(null, n) : e.call(null), c.clearImmediate(t));
            }), t;
          }, c.clearImmediate = "function" == typeof t ? t : function (e) {
            delete i[e];
          };
        }).call(this, s("timers").setImmediate, s("timers").clearImmediate);
      }, {
        "process/browser.js": 1,
        timers: 3
      }],
      4: [function (e, t, n) {
        var r = e("promise-polyfill"),
            o = "undefined" != typeof window ? window : Function("return this;")();
        t.exports = {
          boltExport: o.Promise || r
        };
      }, {
        "promise-polyfill": 2
      }]
    }, {}, [4])(4);
  });

  function Vt(e) {
    j.setTimeout(function () {
      throw e;
    }, 0);
  }

  function It(i, e) {
    return e(function (n) {
      var r = [],
          o = 0;
      0 === i.length ? n([]) : z(i, function (e, t) {
        e.get(function (t) {
          return function (e) {
            r[t] = e, ++o >= i.length && n(r);
          };
        }(t));
      });
    });
  }

  var Ft,
      Ut,
      jt,
      qt = Lt.exports.boltExport,
      $t = function $t(e) {
    var n = k.none(),
        t = [],
        r = function r(e) {
      o() ? a(e) : t.push(e);
    },
        o = function o() {
      return n.isSome();
    },
        i = function i(e) {
      z(e, a);
    },
        a = function a(t) {
      n.each(function (e) {
        j.setTimeout(function () {
          t(e);
        }, 0);
      });
    };

    return e(function (e) {
      n = k.some(e), i(t), t = [];
    }), {
      get: r,
      map: function map(n) {
        return $t(function (t) {
          r(function (e) {
            t(n(e));
          });
        });
      },
      isReady: o
    };
  },
      Wt = {
    nu: $t,
    pure: function pure(t) {
      return $t(function (e) {
        e(t);
      });
    }
  },
      Kt = function Kt(n) {
    function e(e) {
      n().then(e, Vt);
    }

    return {
      map: function map(e) {
        return Kt(function () {
          return n().then(e);
        });
      },
      bind: function bind(t) {
        return Kt(function () {
          return n().then(function (e) {
            return t(e).toPromise();
          });
        });
      },
      anonBind: function anonBind(e) {
        return Kt(function () {
          return n().then(function () {
            return e.toPromise();
          });
        });
      },
      toLazy: function toLazy() {
        return Wt.nu(e);
      },
      toCached: function toCached() {
        var e = null;
        return Kt(function () {
          return null === e && (e = n()), e;
        });
      },
      toPromise: n,
      get: e
    };
  },
      Xt = {
    nu: function nu(e) {
      return Kt(function () {
        return new qt(e);
      });
    },
    pure: function pure(e) {
      return Kt(function () {
        return qt.resolve(e);
      });
    }
  },
      Yt = function Yt(e) {
    return It(e, Xt.nu);
  },
      Gt = function Gt(n) {
    return {
      is: function is(e) {
        return n === e;
      },
      isValue: a,
      isError: c,
      getOr: $(n),
      getOrThunk: $(n),
      getOrDie: $(n),
      or: function or(e) {
        return Gt(n);
      },
      orThunk: function orThunk(e) {
        return Gt(n);
      },
      fold: function fold(e, t) {
        return t(n);
      },
      map: function map(e) {
        return Gt(e(n));
      },
      mapError: function mapError(e) {
        return Gt(n);
      },
      each: function each(e) {
        e(n);
      },
      bind: function bind(e) {
        return e(n);
      },
      exists: function exists(e) {
        return e(n);
      },
      forall: function forall(e) {
        return e(n);
      },
      toOption: function toOption() {
        return k.some(n);
      }
    };
  },
      Jt = function Jt(n) {
    return {
      is: c,
      isValue: c,
      isError: a,
      getOr: W,
      getOrThunk: function getOrThunk(e) {
        return e();
      },
      getOrDie: function getOrDie() {
        return function (e) {
          return function () {
            throw new Error(e);
          };
        }(String(n))();
      },
      or: function or(e) {
        return e;
      },
      orThunk: function orThunk(e) {
        return e();
      },
      fold: function fold(e, t) {
        return e(n);
      },
      map: function map(e) {
        return Jt(n);
      },
      mapError: function mapError(e) {
        return Jt(e(n));
      },
      each: i,
      bind: function bind(e) {
        return Jt(n);
      },
      exists: c,
      forall: a,
      toOption: k.none
    };
  },
      Qt = {
    value: Gt,
    error: Jt,
    fromOption: function fromOption(e, t) {
      return e.fold(function () {
        return Jt(t);
      }, Gt);
    }
  },
      Zt = window.Promise ? window.Promise : (Ft = Array.isArray || function (e) {
    return "[object Array]" === Object.prototype.toString.call(e);
  }, Ut = tn.immediateFn || "function" == typeof j.setImmediate && j.setImmediate || function (e) {
    j.setTimeout(e, 1);
  }, tn.prototype["catch"] = function (e) {
    return this.then(null, e);
  }, tn.prototype.then = function (n, r) {
    var o = this;
    return new tn(function (e, t) {
      nn.call(o, new un(n, r, e, t));
    });
  }, tn.all = function () {
    var s = Array.prototype.slice.call(1 === arguments.length && Ft(arguments[0]) ? arguments[0] : arguments);
    return new tn(function (o, i) {
      if (0 === s.length) return o([]);
      var a = s.length;

      function u(t, e) {
        try {
          if (e && ("object" == _typeof(e) || "function" == typeof e)) {
            var n = e.then;
            if ("function" == typeof n) return void n.call(e, function (e) {
              u(t, e);
            }, i);
          }

          s[t] = e, 0 == --a && o(s);
        } catch (r) {
          i(r);
        }
      }

      for (var e = 0; e < s.length; e++) {
        u(e, s[e]);
      }
    });
  }, tn.resolve = function (t) {
    return t && "object" == _typeof(t) && t.constructor === tn ? t : new tn(function (e) {
      e(t);
    });
  }, tn.reject = function (n) {
    return new tn(function (e, t) {
      t(n);
    });
  }, tn.race = function (o) {
    return new tn(function (e, t) {
      for (var n = 0, r = o.length; n < r; n++) {
        o[n].then(e, t);
      }
    });
  }, tn);

  function en(e, t) {
    return function () {
      e.apply(t, arguments);
    };
  }

  function tn(e) {
    if ("object" != _typeof(this)) throw new TypeError("Promises must be constructed via new");
    if ("function" != typeof e) throw new TypeError("not a function");
    this._state = null, this._value = null, this._deferreds = [], sn(e, en(rn, this), en(on, this));
  }

  function nn(r) {
    var o = this;
    null !== this._state ? Ut(function () {
      var e = o._state ? r.onFulfilled : r.onRejected;

      if (null !== e) {
        var t;

        try {
          t = e(o._value);
        } catch (n) {
          return void r.reject(n);
        }

        r.resolve(t);
      } else (o._state ? r.resolve : r.reject)(o._value);
    }) : this._deferreds.push(r);
  }

  function rn(e) {
    try {
      if (e === this) throw new TypeError("A promise cannot be resolved with itself.");

      if (e && ("object" == _typeof(e) || "function" == typeof e)) {
        var t = e.then;
        if ("function" == typeof t) return void sn(en(t, e), en(rn, this), en(on, this));
      }

      this._state = !0, this._value = e, an.call(this);
    } catch (n) {
      on.call(this, n);
    }
  }

  function on(e) {
    this._state = !1, this._value = e, an.call(this);
  }

  function an() {
    for (var e = 0, t = this._deferreds.length; e < t; e++) {
      nn.call(this, this._deferreds[e]);
    }

    this._deferreds = null;
  }

  function un(e, t, n, r) {
    this.onFulfilled = "function" == typeof e ? e : null, this.onRejected = "function" == typeof t ? t : null, this.resolve = n, this.reject = r;
  }

  function sn(e, t, n) {
    var r = !1;

    try {
      e(function (e) {
        r || (r = !0, t(e));
      }, function (e) {
        r || (r = !0, n(e));
      });
    } catch (o) {
      if (r) return;
      r = !0, n(o);
    }
  }

  function cn(e, t) {
    return "number" != typeof t && (t = 0), j.setTimeout(e, t);
  }

  function ln(e, t) {
    return "number" != typeof t && (t = 1), j.setInterval(e, t);
  }

  function fn(n, r) {
    var o, e;
    return (e = function e() {
      for (var e = [], t = 0; t < arguments.length; t++) {
        e[t] = arguments[t];
      }

      j.clearTimeout(o), o = cn(function () {
        n.apply(this, e);
      }, r);
    }).stop = function () {
      j.clearTimeout(o);
    }, e;
  }

  function dn(e, t, n) {
    var r, o;
    if (!e) return 0;

    if (n = n || e, e.length !== undefined) {
      for (r = 0, o = e.length; r < o; r++) {
        if (!1 === t.call(n, e[r], r, e)) return 0;
      }
    } else for (r in e) {
      if (e.hasOwnProperty(r) && !1 === t.call(n, e[r], r, e)) return 0;
    }

    return 1;
  }

  function hn(e, t, n) {
    var r, o;

    for (r = 0, o = e.length; r < o; r++) {
      if (t.call(n, e[r], r, e)) return r;
    }

    return -1;
  }

  function mn(e) {
    return null === e || e === undefined ? "" : ("" + e).replace(Tn, "");
  }

  function gn(e, t) {
    return t ? !("array" !== t || !kn.isArray(e)) || _typeof(e) === t : e !== undefined;
  }

  var pn = {
    requestAnimationFrame: function requestAnimationFrame(e, t) {
      jt ? jt.then(e) : jt = new Zt(function (e) {
        !function (e, t) {
          var n,
              r = j.window.requestAnimationFrame,
              o = ["ms", "moz", "webkit"];

          for (n = 0; n < o.length && !r; n++) {
            r = j.window[o[n] + "RequestAnimationFrame"];
          }

          (r = r || function (e) {
            j.window.setTimeout(e, 0);
          })(e, t);
        }(e, t = t || j.document.body);
      }).then(e);
    },
    setTimeout: cn,
    setInterval: ln,
    setEditorTimeout: function setEditorTimeout(e, t, n) {
      return cn(function () {
        e.removed || t();
      }, n);
    },
    setEditorInterval: function setEditorInterval(e, t, n) {
      var r;
      return r = ln(function () {
        e.removed ? j.clearInterval(r) : t();
      }, n);
    },
    debounce: fn,
    throttle: fn,
    clearInterval: function clearInterval(e) {
      return j.clearInterval(e);
    },
    clearTimeout: function clearTimeout(e) {
      return j.clearTimeout(e);
    }
  },
      vn = j.navigator.userAgent,
      yn = oe(),
      bn = yn.browser,
      Cn = yn.os,
      wn = yn.deviceType,
      xn = /WebKit/.test(vn) && !bn.isEdge(),
      zn = "FormData" in j.window && "FileReader" in j.window && "URL" in j.window && !!j.URL.createObjectURL,
      En = -1 !== vn.indexOf("Windows Phone"),
      Nn = {
    opera: bn.isOpera(),
    webkit: xn,
    ie: !(!bn.isIE() && !bn.isEdge()) && bn.version.major,
    gecko: bn.isFirefox(),
    mac: Cn.isOSX() || Cn.isiOS(),
    iOS: wn.isiPad() || wn.isiPhone(),
    android: Cn.isAndroid(),
    contentEditable: !0,
    transparentSrc: "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
    caretAfter: !0,
    range: j.window.getSelection && "Range" in j.window,
    documentMode: bn.isIE() ? j.document.documentMode || 7 : 10,
    fileApi: zn,
    ceFalse: !0,
    cacheSuffix: null,
    container: null,
    experimentalShadowDom: !1,
    canHaveCSP: !bn.isIE(),
    desktop: wn.isDesktop(),
    windowsPhone: En,
    browser: {
      current: bn.current,
      version: bn.version,
      isChrome: bn.isChrome,
      isEdge: bn.isEdge,
      isFirefox: bn.isFirefox,
      isIE: bn.isIE,
      isOpera: bn.isOpera,
      isSafari: bn.isSafari
    },
    os: {
      current: Cn.current,
      version: Cn.version,
      isAndroid: Cn.isAndroid,
      isFreeBSD: Cn.isFreeBSD,
      isiOS: Cn.isiOS,
      isLinux: Cn.isLinux,
      isOSX: Cn.isOSX,
      isSolaris: Cn.isSolaris,
      isWindows: Cn.isWindows
    },
    deviceType: {
      isDesktop: wn.isDesktop,
      isiPad: wn.isiPad,
      isiPhone: wn.isiPhone,
      isPhone: wn.isPhone,
      isTablet: wn.isTablet,
      isTouch: wn.isTouch,
      isWebView: wn.isWebView
    }
  },
      Sn = Array.isArray,
      kn = {
    isArray: Sn,
    toArray: function toArray(e) {
      var t,
          n,
          r = e;
      if (!Sn(e)) for (r = [], t = 0, n = e.length; t < n; t++) {
        r[t] = e[t];
      }
      return r;
    },
    each: dn,
    map: function map(n, r) {
      var o = [];
      return dn(n, function (e, t) {
        o.push(r(e, t, n));
      }), o;
    },
    filter: function filter(n, r) {
      var o = [];
      return dn(n, function (e, t) {
        r && !r(e, t, n) || o.push(e);
      }), o;
    },
    indexOf: function indexOf(e, t) {
      var n, r;
      if (e) for (n = 0, r = e.length; n < r; n++) {
        if (e[n] === t) return n;
      }
      return -1;
    },
    reduce: function reduce(e, t, n, r) {
      var o = 0;

      for (arguments.length < 3 && (n = e[0]); o < e.length; o++) {
        n = t.call(r, n, e[o], o);
      }

      return n;
    },
    findIndex: hn,
    find: function find(e, t, n) {
      var r = hn(e, t, n);
      return -1 !== r ? e[r] : undefined;
    },
    last: function last(e) {
      return e[e.length - 1];
    }
  },
      Tn = /^\s*|\s*$/g,
      An = function An(e, n, r, o) {
    o = o || this, e && (r && (e = e[r]), kn.each(e, function (e, t) {
      if (!1 === n.call(o, e, t, r)) return !1;
      An(e, n, r, o);
    }));
  },
      Mn = {
    trim: mn,
    isArray: kn.isArray,
    is: gn,
    toArray: kn.toArray,
    makeMap: function makeMap(e, t, n) {
      var r;

      for (t = t || ",", "string" == typeof (e = e || []) && (e = e.split(t)), n = n || {}, r = e.length; r--;) {
        n[e[r]] = {};
      }

      return n;
    },
    each: kn.each,
    map: kn.map,
    grep: kn.filter,
    inArray: kn.indexOf,
    hasOwn: function hasOwn(e, t) {
      return Object.prototype.hasOwnProperty.call(e, t);
    },
    extend: function extend(e, t) {
      for (var n, r, o, i = [], a = 2; a < arguments.length; a++) {
        i[a - 2] = arguments[a];
      }

      var u,
          s = arguments;

      for (n = 1, r = s.length; n < r; n++) {
        for (o in t = s[n]) {
          t.hasOwnProperty(o) && (u = t[o]) !== undefined && (e[o] = u);
        }
      }

      return e;
    },
    create: function create(e, t, n) {
      var r,
          o,
          i,
          a,
          u,
          s = this,
          c = 0;

      if (e = /^((static) )?([\w.]+)(:([\w.]+))?/.exec(e), i = e[3].match(/(^|\.)(\w+)$/i)[2], !(o = s.createNS(e[3].replace(/\.\w+$/, ""), n))[i]) {
        if ("static" === e[2]) return o[i] = t, void (this.onCreate && this.onCreate(e[2], e[3], o[i]));
        t[i] || (t[i] = function () {}, c = 1), o[i] = t[i], s.extend(o[i].prototype, t), e[5] && (r = s.resolve(e[5]).prototype, a = e[5].match(/\.(\w+)$/i)[1], u = o[i], o[i] = c ? function () {
          return r[a].apply(this, arguments);
        } : function () {
          return this.parent = r[a], u.apply(this, arguments);
        }, o[i].prototype[i] = o[i], s.each(r, function (e, t) {
          o[i].prototype[t] = r[t];
        }), s.each(t, function (e, t) {
          r[t] ? o[i].prototype[t] = function () {
            return this.parent = r[t], e.apply(this, arguments);
          } : t !== i && (o[i].prototype[t] = e);
        })), s.each(t["static"], function (e, t) {
          o[i][t] = e;
        });
      }
    },
    walk: An,
    createNS: function createNS(e, t) {
      var n, r;

      for (t = t || j.window, e = e.split("."), n = 0; n < e.length; n++) {
        t[r = e[n]] || (t[r] = {}), t = t[r];
      }

      return t;
    },
    resolve: function resolve(e, t) {
      var n, r;

      for (t = t || j.window, n = 0, r = (e = e.split(".")).length; n < r && (t = t[e[n]]); n++) {
        ;
      }

      return t;
    },
    explode: function explode(e, t) {
      return !e || gn(e, "array") ? e : kn.map(e.split(t || ","), mn);
    },
    _addCacheSuffix: function _addCacheSuffix(e) {
      var t = Nn.cacheSuffix;
      return t && (e += (-1 === e.indexOf("?") ? "?" : "&") + t), e;
    }
  };

  function Rn(t) {
    var n;
    return function (e) {
      return (n = n || function (e, t) {
        for (var n = {}, r = 0, o = e.length; r < o; r++) {
          var i = e[r];
          n[String(i)] = t(i, r);
        }

        return n;
      }(t, $(!0))).hasOwnProperty(ie(e));
    };
  }

  function Dn(e) {
    return xt(e) && !Vn(e);
  }

  function _n(e) {
    return xt(e) && "br" === ie(e);
  }

  function Bn(e) {
    return e && "SPAN" === e.tagName && "bookmark" === e.getAttribute("data-mce-type");
  }

  var On,
      Hn,
      Pn,
      Ln = Rn(["h1", "h2", "h3", "h4", "h5", "h6"]),
      Vn = Rn(["article", "aside", "details", "div", "dt", "figcaption", "footer", "form", "fieldset", "header", "hgroup", "html", "main", "nav", "section", "summary", "body", "p", "dl", "multicol", "dd", "figure", "address", "center", "blockquote", "h1", "h2", "h3", "h4", "h5", "h6", "listing", "xmp", "pre", "plaintext", "menu", "dir", "ul", "ol", "li", "hr", "table", "tbody", "thead", "tfoot", "th", "tr", "td", "caption"]),
      In = Rn(["h1", "h2", "h3", "h4", "h5", "h6", "p", "div", "address", "pre", "form", "blockquote", "center", "dir", "fieldset", "header", "footer", "article", "section", "hgroup", "aside", "nav", "figure"]),
      Fn = Rn(["ul", "ol", "dl"]),
      Un = Rn(["li", "dd", "dt"]),
      jn = Rn(["area", "base", "basefont", "br", "col", "frame", "hr", "img", "input", "isindex", "link", "meta", "param", "embed", "source", "wbr", "track"]),
      qn = Rn(["thead", "tbody", "tfoot"]),
      $n = Rn(["td", "th"]),
      Wn = Rn(["pre", "script", "textarea", "style"]),
      Kn = function Kn(e, t) {
    var n,
        r = t.childNodes;

    if (!Ge.isElement(t) || !Bn(t)) {
      for (n = r.length - 1; 0 <= n; n--) {
        Kn(e, r[n]);
      }

      if (!1 === Ge.isDocument(t)) {
        if (Ge.isText(t) && 0 < t.nodeValue.length) {
          var o = Mn.trim(t.nodeValue).length;
          if (e.isBlock(t.parentNode) || 0 < o) return;
          if (0 === o && function (e) {
            var t = e.previousSibling && "SPAN" === e.previousSibling.nodeName,
                n = e.nextSibling && "SPAN" === e.nextSibling.nodeName;
            return t && n;
          }(t)) return;
        } else if (Ge.isElement(t) && (1 === (r = t.childNodes).length && Bn(r[0]) && t.parentNode.insertBefore(r[0], t), r.length || jn(yt.fromDom(t)))) return;

        e.remove(t);
      }

      return t;
    }
  },
      Xn = {
    trimNode: Kn
  },
      Yn = Mn.makeMap,
      Gn = /[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
      Jn = /[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
      Qn = /[<>&\"\']/g,
      Zn = /&#([a-z0-9]+);?|&([a-z0-9]+);/gi,
      er = {
    128: "\u20AC",
    130: "\u201A",
    131: "\u0192",
    132: "\u201E",
    133: "\u2026",
    134: "\u2020",
    135: "\u2021",
    136: "\u02C6",
    137: "\u2030",
    138: "\u0160",
    139: "\u2039",
    140: "\u0152",
    142: "\u017D",
    145: "\u2018",
    146: "\u2019",
    147: "\u201C",
    148: "\u201D",
    149: "\u2022",
    150: "\u2013",
    151: "\u2014",
    152: "\u02DC",
    153: "\u2122",
    154: "\u0161",
    155: "\u203A",
    156: "\u0153",
    158: "\u017E",
    159: "\u0178"
  };

  Hn = {
    '"': "&quot;",
    "'": "&#39;",
    "<": "&lt;",
    ">": "&gt;",
    "&": "&amp;",
    "`": "&#96;"
  }, Pn = {
    "&lt;": "<",
    "&gt;": ">",
    "&amp;": "&",
    "&quot;": '"',
    "&apos;": "'"
  };

  function tr(e, t) {
    var n,
        r,
        o,
        i = {};

    if (e) {
      for (e = e.split(","), t = t || 10, n = 0; n < e.length; n += 2) {
        r = String.fromCharCode(parseInt(e[n], t)), Hn[r] || (o = "&" + e[n + 1] + ";", i[r] = o, i[o] = r);
      }

      return i;
    }
  }

  On = tr("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro", 32);

  function nr(e, t) {
    return e.replace(t ? Gn : Jn, function (e) {
      return Hn[e] || e;
    });
  }

  function rr(e, t) {
    return e.replace(t ? Gn : Jn, function (e) {
      return 1 < e.length ? "&#" + (1024 * (e.charCodeAt(0) - 55296) + (e.charCodeAt(1) - 56320) + 65536) + ";" : Hn[e] || "&#" + e.charCodeAt(0) + ";";
    });
  }

  function or(e, t, n) {
    return n = n || On, e.replace(t ? Gn : Jn, function (e) {
      return Hn[e] || n[e] || e;
    });
  }

  var ir = {
    encodeRaw: nr,
    encodeAllRaw: function encodeAllRaw(e) {
      return ("" + e).replace(Qn, function (e) {
        return Hn[e] || e;
      });
    },
    encodeNumeric: rr,
    encodeNamed: or,
    getEncodeFunc: function getEncodeFunc(e, t) {
      var n = tr(t) || On,
          r = Yn(e.replace(/\+/g, ","));
      return r.named && r.numeric ? function (e, t) {
        return e.replace(t ? Gn : Jn, function (e) {
          return Hn[e] !== undefined ? Hn[e] : n[e] !== undefined ? n[e] : 1 < e.length ? "&#" + (1024 * (e.charCodeAt(0) - 55296) + (e.charCodeAt(1) - 56320) + 65536) + ";" : "&#" + e.charCodeAt(0) + ";";
        });
      } : r.named ? t ? function (e, t) {
        return or(e, t, n);
      } : or : r.numeric ? rr : nr;
    },
    decode: function decode(e) {
      return e.replace(Zn, function (e, t) {
        return t ? 65535 < (t = "x" === t.charAt(0).toLowerCase() ? parseInt(t.substr(1), 16) : parseInt(t, 10)) ? (t -= 65536, String.fromCharCode(55296 + (t >> 10), 56320 + (1023 & t))) : er[t] || String.fromCharCode(t) : Pn[e] || On[e] || function (e) {
          var t;
          return (t = yt.fromTag("div").dom()).innerHTML = e, t.textContent || t.innerText || e;
        }(e);
      });
    }
  },
      ar = {},
      ur = {},
      sr = Mn.makeMap,
      cr = Mn.each,
      lr = Mn.extend,
      fr = Mn.explode,
      dr = Mn.inArray,
      hr = function hr(e, t) {
    return (e = Mn.trim(e)) ? e.split(t || " ") : [];
  },
      mr = function mr(e) {
    function t(e, t, n) {
      function r(e, t) {
        var n,
            r,
            o = {};

        for (n = 0, r = e.length; n < r; n++) {
          o[e[n]] = t || {};
        }

        return o;
      }

      var o, i, a;

      for (t = t || "", "string" == typeof (n = n || []) && (n = hr(n)), o = (e = hr(e)).length; o--;) {
        a = {
          attributes: r(i = hr([u, t].join(" "))),
          attributesOrder: i,
          children: r(n, ur)
        }, c[e[o]] = a;
      }
    }

    function n(e, t) {
      var n, r, o, i;

      for (n = (e = hr(e)).length, t = hr(t); n--;) {
        for (r = c[e[n]], o = 0, i = t.length; o < i; o++) {
          r.attributes[t[o]] = {}, r.attributesOrder.push(t[o]);
        }
      }
    }

    var u,
        r,
        o,
        i,
        a,
        s,
        c = {};
    return ar[e] ? ar[e] : (u = "id accesskey class dir lang style tabindex title role", r = "address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul", o = "a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment", "html4" !== e && (u += " contenteditable contextmenu draggable dropzone hidden spellcheck translate", r += " article aside details dialog figure main header footer hgroup section nav", o += " audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"), "html5-strict" !== e && (u += " xml:lang", o = [o, s = "acronym applet basefont big font strike tt"].join(" "), cr(hr(s), function (e) {
      t(e, "", o);
    }), r = [r, a = "center dir isindex noframes"].join(" "), i = [r, o].join(" "), cr(hr(a), function (e) {
      t(e, "", i);
    })), i = i || [r, o].join(" "), t("html", "manifest", "head body"), t("head", "", "base command link meta noscript script style title"), t("title hr noscript br"), t("base", "href target"), t("link", "href rel media hreflang type sizes hreflang"), t("meta", "name http-equiv content charset"), t("style", "media type scoped"), t("script", "src async defer type charset"), t("body", "onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload", i), t("address dt dd div caption", "", i), t("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn", "", o), t("blockquote", "cite", i), t("ol", "reversed start type", "li"), t("ul", "", "li"), t("li", "value", i), t("dl", "", "dt dd"), t("a", "href target rel media hreflang type", o), t("q", "cite", o), t("ins del", "cite datetime", i), t("img", "src sizes srcset alt usemap ismap width height"), t("iframe", "src name width height", i), t("embed", "src type width height"), t("object", "data type typemustmatch name usemap form width height", [i, "param"].join(" ")), t("param", "name value"), t("map", "name", [i, "area"].join(" ")), t("area", "alt coords shape href target rel media hreflang type"), t("table", "border", "caption colgroup thead tfoot tbody tr" + ("html4" === e ? " col" : "")), t("colgroup", "span", "col"), t("col", "span"), t("tbody thead tfoot", "", "tr"), t("tr", "", "td th"), t("td", "colspan rowspan headers", i), t("th", "colspan rowspan headers scope abbr", i), t("form", "accept-charset action autocomplete enctype method name novalidate target", i), t("fieldset", "disabled form name", [i, "legend"].join(" ")), t("label", "form for", o), t("input", "accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"), t("button", "disabled form formaction formenctype formmethod formnovalidate formtarget name type value", "html4" === e ? i : o), t("select", "disabled form multiple name required size", "option optgroup"), t("optgroup", "disabled label", "option"), t("option", "disabled label selected value"), t("textarea", "cols dirname disabled form maxlength name readonly required rows wrap"), t("menu", "type label", [i, "li"].join(" ")), t("noscript", "", i), "html4" !== e && (t("wbr"), t("ruby", "", [o, "rt rp"].join(" ")), t("figcaption", "", i), t("mark rt rp summary bdi", "", o), t("canvas", "width height", i), t("video", "src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered", [i, "track source"].join(" ")), t("audio", "src crossorigin preload autoplay mediagroup loop muted controls buffered volume", [i, "track source"].join(" ")), t("picture", "", "img source"), t("source", "src srcset type media sizes"), t("track", "kind src srclang label default"), t("datalist", "", [o, "option"].join(" ")), t("article section nav aside main header footer", "", i), t("hgroup", "", "h1 h2 h3 h4 h5 h6"), t("figure", "", [i, "figcaption"].join(" ")), t("time", "datetime", o), t("dialog", "open", i), t("command", "type label icon disabled checked radiogroup command"), t("output", "for form name", o), t("progress", "value max", o), t("meter", "value min max low high optimum", o), t("details", "open", [i, "summary"].join(" ")), t("keygen", "autofocus challenge disabled form keytype name")), "html5-strict" !== e && (n("script", "language xml:space"), n("style", "xml:space"), n("object", "declare classid code codebase codetype archive standby align border hspace vspace"), n("embed", "align name hspace vspace"), n("param", "valuetype type"), n("a", "charset name rev shape coords"), n("br", "clear"), n("applet", "codebase archive code object alt name width height align hspace vspace"), n("img", "name longdesc align border hspace vspace"), n("iframe", "longdesc frameborder marginwidth marginheight scrolling align"), n("font basefont", "size color face"), n("input", "usemap align"), n("select", "onchange"), n("textarea"), n("h1 h2 h3 h4 h5 h6 div p legend caption", "align"), n("ul", "type compact"), n("li", "type"), n("ol dl menu dir", "compact"), n("pre", "width xml:space"), n("hr", "align noshade size width"), n("isindex", "prompt"), n("table", "summary width frame rules cellspacing cellpadding align bgcolor"), n("col", "width align char charoff valign"), n("colgroup", "width align char charoff valign"), n("thead", "align char charoff valign"), n("tr", "align char charoff valign bgcolor"), n("th", "axis align char charoff valign nowrap bgcolor width height"), n("form", "accept"), n("td", "abbr axis scope align char charoff valign nowrap bgcolor width height"), n("tfoot", "align char charoff valign"), n("tbody", "align char charoff valign"), n("area", "nohref"), n("body", "background bgcolor text link vlink alink")), "html4" !== e && (n("input button select textarea", "autofocus"), n("input textarea", "placeholder"), n("a", "download"), n("link script img", "crossorigin"), n("iframe", "sandbox seamless allowfullscreen")), cr(hr("a form meter progress dfn"), function (e) {
      c[e] && delete c[e].children[e];
    }), delete c.caption.children.table, delete c.script, ar[e] = c);
  },
      gr = function gr(e, n) {
    var r;
    return e && (r = {}, "string" == typeof e && (e = {
      "*": e
    }), cr(e, function (e, t) {
      r[t] = r[t.toUpperCase()] = "map" === n ? sr(e, /[, ]/) : fr(e, /[, ]/);
    })), r;
  };

  function pr(i) {
    function e(e, t, n) {
      var r = i[e];
      return r ? r = sr(r, /[, ]/, sr(r.toUpperCase(), /[, ]/)) : (r = ar[e]) || (r = sr(t, " ", sr(t.toUpperCase(), " ")), r = lr(r, n), ar[e] = r), r;
    }

    var t,
        n,
        r,
        o,
        a,
        u,
        s,
        c,
        l,
        f,
        d,
        h,
        m,
        z = {},
        g = {},
        E = [],
        p = {},
        v = {};
    r = mr((i = i || {}).schema), !1 === i.verify_html && (i.valid_elements = "*[*]"), t = gr(i.valid_styles), n = gr(i.invalid_styles, "map"), c = gr(i.valid_classes, "map"), o = e("whitespace_elements", "pre script noscript style textarea video audio iframe object code"), a = e("self_closing_elements", "colgroup dd dt li option p td tfoot th thead tr"), u = e("short_ended_elements", "area base basefont br col frame hr img input isindex link meta param embed source wbr track"), s = e("boolean_attributes", "checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"), f = e("non_empty_elements", "td th iframe video audio object script pre code", u), d = e("move_caret_before_on_enter_elements", "table", f), h = e("text_block_elements", "h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"), l = e("block_elements", "hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary", h), m = e("text_inline_elements", "span strong b em i font strike u var cite dfn code mark q sup sub samp"), cr((i.special || "script noscript noframes noembed title style textarea xmp").split(" "), function (e) {
      v[e] = new RegExp("</" + e + "[^>]*>", "gi");
    });

    function N(e) {
      return new RegExp("^" + e.replace(/([?+*])/g, ".$1") + "$");
    }

    function y(e) {
      var t,
          n,
          r,
          o,
          i,
          a,
          u,
          s,
          c,
          l,
          f,
          d,
          h,
          m,
          g,
          p,
          v,
          y,
          b,
          C = /^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,
          w = /^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,
          x = /[*?+]/;
      if (e) for (e = hr(e, ","), z["@"] && (p = z["@"].attributes, v = z["@"].attributesOrder), t = 0, n = e.length; t < n; t++) {
        if (i = C.exec(e[t])) {
          if (m = i[1], c = i[2], g = i[3], s = i[5], a = {
            attributes: d = {},
            attributesOrder: h = []
          }, "#" === m && (a.paddEmpty = !0), "-" === m && (a.removeEmpty = !0), "!" === i[4] && (a.removeEmptyAttrs = !0), p) {
            for (y in p) {
              d[y] = p[y];
            }

            h.push.apply(h, v);
          }

          if (s) for (r = 0, o = (s = hr(s, "|")).length; r < o; r++) {
            if (i = w.exec(s[r])) {
              if (u = {}, f = i[1], l = i[2].replace(/[\\:]:/g, ":"), m = i[3], b = i[4], "!" === f && (a.attributesRequired = a.attributesRequired || [], a.attributesRequired.push(l), u.required = !0), "-" === f) {
                delete d[l], h.splice(dr(h, l), 1);
                continue;
              }

              m && ("=" === m && (a.attributesDefault = a.attributesDefault || [], a.attributesDefault.push({
                name: l,
                value: b
              }), u.defaultValue = b), ":" === m && (a.attributesForced = a.attributesForced || [], a.attributesForced.push({
                name: l,
                value: b
              }), u.forcedValue = b), "<" === m && (u.validValues = sr(b, "?"))), x.test(l) ? (a.attributePatterns = a.attributePatterns || [], u.pattern = N(l), a.attributePatterns.push(u)) : (d[l] || h.push(l), d[l] = u);
            }
          }
          p || "@" !== c || (p = d, v = h), g && (a.outputName = c, z[g] = a), x.test(c) ? (a.pattern = N(c), E.push(a)) : z[c] = a;
        }
      }
    }

    function b(e) {
      z = {}, E = [], y(e), cr(r, function (e, t) {
        g[t] = e.children;
      });
    }

    function C(e) {
      var a = /^(~)?(.+)$/;
      e && (ar.text_block_elements = ar.block_elements = null, cr(hr(e, ","), function (e) {
        var t = a.exec(e),
            n = "~" === t[1],
            r = n ? "span" : "div",
            o = t[2];

        if (g[o] = g[r], p[o] = r, n || (l[o.toUpperCase()] = {}, l[o] = {}), !z[o]) {
          var i = z[r];
          delete (i = lr({}, i)).removeEmptyAttrs, delete i.removeEmpty, z[o] = i;
        }

        cr(g, function (e, t) {
          e[r] && (g[t] = e = lr({}, g[t]), e[o] = e[r]);
        });
      }));
    }

    function w(e) {
      var o = /^([+\-]?)(\w+)\[([^\]]+)\]$/;
      ar[i.schema] = null, e && cr(hr(e, ","), function (e) {
        var t,
            n,
            r = o.exec(e);
        r && (n = r[1], t = n ? g[r[2]] : g[r[2]] = {
          "#comment": {}
        }, t = g[r[2]], cr(hr(r[3], "|"), function (e) {
          "-" === n ? delete t[e] : t[e] = {};
        }));
      });
    }

    function x(e) {
      var t,
          n = z[e];
      if (n) return n;

      for (t = E.length; t--;) {
        if ((n = E[t]).pattern.test(e)) return n;
      }
    }

    i.valid_elements ? b(i.valid_elements) : (cr(r, function (e, t) {
      z[t] = {
        attributes: e.attributes,
        attributesOrder: e.attributesOrder
      }, g[t] = e.children;
    }), "html5" !== i.schema && cr(hr("strong/b em/i"), function (e) {
      e = hr(e, "/"), z[e[1]].outputName = e[0];
    }), cr(hr("ol ul sub sup blockquote span font a table tbody tr strong em b i"), function (e) {
      z[e] && (z[e].removeEmpty = !0);
    }), cr(hr("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"), function (e) {
      z[e].paddEmpty = !0;
    }), cr(hr("span"), function (e) {
      z[e].removeEmptyAttrs = !0;
    })), C(i.custom_elements), w(i.valid_children), y(i.extended_valid_elements), w("+ol[ul|ol],+ul[ul|ol]"), cr({
      dd: "dl",
      dt: "dl",
      li: "ul ol",
      td: "tr",
      th: "tr",
      tr: "tbody thead tfoot",
      tbody: "table",
      thead: "table",
      tfoot: "table",
      legend: "fieldset",
      area: "map",
      param: "video audio object"
    }, function (e, t) {
      z[t] && (z[t].parentsRequired = hr(e));
    }), i.invalid_elements && cr(fr(i.invalid_elements), function (e) {
      z[e] && delete z[e];
    }), x("span") || y("span[!data-mce-type|*]");
    return {
      children: g,
      elements: z,
      getValidStyles: function getValidStyles() {
        return t;
      },
      getValidClasses: function getValidClasses() {
        return c;
      },
      getBlockElements: function getBlockElements() {
        return l;
      },
      getInvalidStyles: function getInvalidStyles() {
        return n;
      },
      getShortEndedElements: function getShortEndedElements() {
        return u;
      },
      getTextBlockElements: function getTextBlockElements() {
        return h;
      },
      getTextInlineElements: function getTextInlineElements() {
        return m;
      },
      getBoolAttrs: function getBoolAttrs() {
        return s;
      },
      getElementRule: x,
      getSelfClosingElements: function getSelfClosingElements() {
        return a;
      },
      getNonEmptyElements: function getNonEmptyElements() {
        return f;
      },
      getMoveCaretBeforeOnEnterElements: function getMoveCaretBeforeOnEnterElements() {
        return d;
      },
      getWhiteSpaceElements: function getWhiteSpaceElements() {
        return o;
      },
      getSpecialElements: function getSpecialElements() {
        return v;
      },
      isValidChild: function isValidChild(e, t) {
        var n = g[e.toLowerCase()];
        return !(!n || !n[t.toLowerCase()]);
      },
      isValid: function isValid(e, t) {
        var n,
            r,
            o = x(e);

        if (o) {
          if (!t) return !0;
          if (o.attributes[t]) return !0;
          if (n = o.attributePatterns) for (r = n.length; r--;) {
            if (n[r].pattern.test(e)) return !0;
          }
        }

        return !1;
      },
      getCustomElements: function getCustomElements() {
        return p;
      },
      addValidElements: y,
      setValidElements: b,
      addCustomElements: C,
      addValidChildren: w
    };
  }

  function vr(e, t, n, r) {
    function o(e) {
      return 1 < (e = parseInt(e, 10).toString(16)).length ? e : "0" + e;
    }

    return "#" + o(t) + o(n) + o(r);
  }

  function yr(e, t, n, r) {
    e.addEventListener ? e.addEventListener(t, n, r || !1) : e.attachEvent && e.attachEvent("on" + t, n);
  }

  function br(e, t, n, r) {
    e.removeEventListener ? e.removeEventListener(t, n, r || !1) : e.detachEvent && e.detachEvent("on" + t, n);
  }

  function Cr(e, t) {
    var n,
        r = t || {};

    for (n in e) {
      Er[n] || (r[n] = e[n]);
    }

    if (r.target || (r.target = r.srcElement || j.document), Nn.experimentalShadowDom && (r.target = function (e, t) {
      if (e.composedPath) {
        var n = e.composedPath();
        if (n && 0 < n.length) return n[0];
      }

      return t;
    }(e, r.target)), e && zr.test(e.type) && e.pageX === undefined && e.clientX !== undefined) {
      var o = r.target.ownerDocument || j.document,
          i = o.documentElement,
          a = o.body;
      r.pageX = e.clientX + (i && i.scrollLeft || a && a.scrollLeft || 0) - (i && i.clientLeft || a && a.clientLeft || 0), r.pageY = e.clientY + (i && i.scrollTop || a && a.scrollTop || 0) - (i && i.clientTop || a && a.clientTop || 0);
    }

    return r.preventDefault = function () {
      r.isDefaultPrevented = Sr, e && (e.preventDefault ? e.preventDefault() : e.returnValue = !1);
    }, r.stopPropagation = function () {
      r.isPropagationStopped = Sr, e && (e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0);
    }, !(r.stopImmediatePropagation = function () {
      r.isImmediatePropagationStopped = Sr, r.stopPropagation();
    }) === function (e) {
      return e.isDefaultPrevented === Sr || e.isDefaultPrevented === Nr;
    }(r) && (r.isDefaultPrevented = Nr, r.isPropagationStopped = Nr, r.isImmediatePropagationStopped = Nr), "undefined" == typeof r.metaKey && (r.metaKey = !1), r;
  }

  function wr(e, t, n) {
    var r = e.document,
        o = {
      type: "ready"
    };
    if (n.domLoaded) t(o);else {
      var i = function i() {
        br(e, "DOMContentLoaded", i), br(e, "load", i), n.domLoaded || (n.domLoaded = !0, t(o));
      };

      "complete" === r.readyState || "interactive" === r.readyState && r.body ? i() : yr(e, "DOMContentLoaded", i), yr(e, "load", i);
    }
  }

  var xr = function xr(b, e) {
    var C,
        t,
        c,
        l,
        w = /rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,
        x = /(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,
        z = /\s*([^:]+):\s*([^;]+);?/g,
        E = /\s+$/,
        N = {},
        S = "\uFEFF";

    for (b = b || {}, e && (c = e.getValidStyles(), l = e.getInvalidStyles()), t = ("\\\" \\' \\; \\: ; : " + S).split(" "), C = 0; C < t.length; C++) {
      N[t[C]] = S + C, N[S + C] = t[C];
    }

    return {
      toHex: function toHex(e) {
        return e.replace(w, vr);
      },
      parse: function parse(e) {
        function t(e, t, n) {
          var r, o, i, a;

          if ((r = p[e + "-top" + t]) && (o = p[e + "-right" + t]) && (i = p[e + "-bottom" + t]) && (a = p[e + "-left" + t])) {
            var u = [r, o, i, a];

            for (C = u.length - 1; C-- && u[C] === u[C + 1];) {
              ;
            }

            -1 < C && n || (p[e + t] = -1 === C ? u[0] : u.join(" "), delete p[e + "-top" + t], delete p[e + "-right" + t], delete p[e + "-bottom" + t], delete p[e + "-left" + t]);
          }
        }

        function n(e) {
          var t,
              n = p[e];

          if (n) {
            for (t = (n = n.split(" ")).length; t--;) {
              if (n[t] !== n[0]) return !1;
            }

            return p[e] = n[0], !0;
          }
        }

        function r(e) {
          return f = !0, N[e];
        }

        function u(e, t) {
          return f && (e = e.replace(/\uFEFF[0-9]/g, function (e) {
            return N[e];
          })), t || (e = e.replace(/\\([\'\";:])/g, "$1")), e;
        }

        function o(e) {
          return String.fromCharCode(parseInt(e.slice(1), 16));
        }

        function i(e) {
          return e.replace(/\\[0-9a-f]+/gi, o);
        }

        function a(e, t, n, r, o, i) {
          if (o = o || i) return "'" + (o = u(o)).replace(/\'/g, "\\'") + "'";

          if (t = u(t || n || r), !b.allow_script_urls) {
            var a = t.replace(/[\s\r\n]+/g, "");
            if (/(java|vb)script:/i.test(a)) return "";
            if (!b.allow_svg_data_urls && /^data:image\/svg/i.test(a)) return "";
          }

          return v && (t = v.call(y, t, "style")), "url('" + t.replace(/\'/g, "\\'") + "')";
        }

        var s,
            c,
            l,
            f,
            d,
            h,
            m,
            g,
            p = {},
            v = b.url_converter,
            y = b.url_converter_scope || this;

        if (e) {
          for (e = (e = e.replace(/[\u0000-\u001F]/g, "")).replace(/\\[\"\';:\uFEFF]/g, r).replace(/\"[^\"]+\"|\'[^\']+\'/g, function (e) {
            return e.replace(/[;:]/g, r);
          }); s = z.exec(e);) {
            if (z.lastIndex = s.index + s[0].length, c = s[1].replace(E, "").toLowerCase(), l = s[2].replace(E, ""), c && l) {
              if (c = i(c), l = i(l), -1 !== c.indexOf(S) || -1 !== c.indexOf('"')) continue;
              if (!b.allow_script_urls && ("behavior" === c || /expression\s*\(|\/\*|\*\//.test(l))) continue;
              "font-weight" === c && "700" === l ? l = "bold" : "color" !== c && "background-color" !== c || (l = l.toLowerCase()), l = (l = l.replace(w, vr)).replace(x, a), p[c] = f ? u(l, !0) : l;
            }
          }

          t("border", "", !0), t("border", "-width"), t("border", "-color"), t("border", "-style"), t("padding", ""), t("margin", ""), d = "border", m = "border-style", g = "border-color", n(h = "border-width") && n(m) && n(g) && (p[d] = p[h] + " " + p[m] + " " + p[g], delete p[h], delete p[m], delete p[g]), "medium none" === p.border && delete p.border, "none" === p["border-image"] && delete p["border-image"];
        }

        return p;
      },
      serialize: function serialize(i, e) {
        function t(e) {
          var t, n, r, o;
          if (t = c[e]) for (n = 0, r = t.length; n < r; n++) {
            e = t[n], (o = i[e]) && (s += (0 < s.length ? " " : "") + e + ": " + o + ";");
          }
        }

        var n,
            r,
            o,
            a,
            u,
            s = "";
        if (e && c) t("*"), t(e);else for (n in i) {
          !(r = i[n]) || l && (o = n, a = e, u = void 0, (u = l["*"]) && u[o] || (u = l[a]) && u[o]) || (s += (0 < s.length ? " " : "") + n + ": " + r + ";");
        }
        return s;
      }
    };
  },
      zr = /^(?:mouse|contextmenu)|click/,
      Er = {
    keyLocation: 1,
    layerX: 1,
    layerY: 1,
    returnValue: 1,
    webkitMovementX: 1,
    webkitMovementY: 1,
    keyIdentifier: 1,
    mozPressure: 1
  },
      Nr = function Nr() {
    return !1;
  },
      Sr = function Sr() {
    return !0;
  },
      kr = (Tr.prototype.bind = function (e, t, n, r) {
    function o(e) {
      d.executeHandlers(Cr(e || h.event), i);
    }

    var i,
        a,
        u,
        s,
        c,
        l,
        f,
        d = this,
        h = j.window;

    if (e && 3 !== e.nodeType && 8 !== e.nodeType) {
      e[d.expando] ? i = e[d.expando] : (i = d.count++, e[d.expando] = i, d.events[i] = {}), r = r || e;
      var m = t.split(" ");

      for (u = m.length; u--;) {
        l = o, c = f = !1, "DOMContentLoaded" === (s = m[u]) && (s = "ready"), d.domLoaded && "ready" === s && "complete" === e.readyState ? n.call(r, Cr({
          type: s
        })) : (d.hasMouseEnterLeave || (c = d.mouseEnterLeave[s]) && (l = function l(e) {
          var t, n;
          if (t = e.currentTarget, (n = e.relatedTarget) && t.contains) n = t.contains(n);else for (; n && n !== t;) {
            n = n.parentNode;
          }
          n || ((e = Cr(e || h.event)).type = "mouseout" === e.type ? "mouseleave" : "mouseenter", e.target = t, d.executeHandlers(e, i));
        }), d.hasFocusIn || "focusin" !== s && "focusout" !== s || (f = !0, c = "focusin" === s ? "focus" : "blur", l = function l(e) {
          (e = Cr(e || h.event)).type = "focus" === e.type ? "focusin" : "focusout", d.executeHandlers(e, i);
        }), (a = d.events[i][s]) ? "ready" === s && d.domLoaded ? n(Cr({
          type: s
        })) : a.push({
          func: n,
          scope: r
        }) : (d.events[i][s] = a = [{
          func: n,
          scope: r
        }], a.fakeName = c, a.capture = f, a.nativeHandler = l, "ready" === s ? wr(e, l, d) : yr(e, c || s, l, f)));
      }

      return e = a = 0, n;
    }
  }, Tr.prototype.unbind = function (e, t, n) {
    var r, o, i, a, u, s;
    if (!e || 3 === e.nodeType || 8 === e.nodeType) return this;

    if (r = e[this.expando]) {
      if (s = this.events[r], t) {
        var c = t.split(" ");

        for (i = c.length; i--;) {
          if (o = s[u = c[i]]) {
            if (n) for (a = o.length; a--;) {
              if (o[a].func === n) {
                var l = o.nativeHandler,
                    f = o.fakeName,
                    d = o.capture;
                (o = o.slice(0, a).concat(o.slice(a + 1))).nativeHandler = l, o.fakeName = f, o.capture = d, s[u] = o;
              }
            }
            n && 0 !== o.length || (delete s[u], br(e, o.fakeName || u, o.nativeHandler, o.capture));
          }
        }
      } else {
        for (u in s) {
          o = s[u], br(e, o.fakeName || u, o.nativeHandler, o.capture);
        }

        s = {};
      }

      for (u in s) {
        return this;
      }

      delete this.events[r];

      try {
        delete e[this.expando];
      } catch (h) {
        e[this.expando] = null;
      }
    }

    return this;
  }, Tr.prototype.fire = function (e, t, n) {
    var r;
    if (!e || 3 === e.nodeType || 8 === e.nodeType) return this;
    var o = Cr(null, n);

    for (o.type = t, o.target = e; (r = e[this.expando]) && this.executeHandlers(o, r), (e = e.parentNode || e.ownerDocument || e.defaultView || e.parentWindow) && !o.isPropagationStopped();) {
      ;
    }

    return this;
  }, Tr.prototype.clean = function (e) {
    var t, n;
    if (!e || 3 === e.nodeType || 8 === e.nodeType) return this;
    if (e[this.expando] && this.unbind(e), e.getElementsByTagName || (e = e.document), e && e.getElementsByTagName) for (this.unbind(e), t = (n = e.getElementsByTagName("*")).length; t--;) {
      (e = n[t])[this.expando] && this.unbind(e);
    }
    return this;
  }, Tr.prototype.destroy = function () {
    this.events = {};
  }, Tr.prototype.cancel = function (e) {
    return e && (e.preventDefault(), e.stopImmediatePropagation()), !1;
  }, Tr.prototype.executeHandlers = function (e, t) {
    var n,
        r,
        o,
        i,
        a = this.events[t];
    if (n = a && a[e.type]) for (r = 0, o = n.length; r < o; r++) {
      if ((i = n[r]) && !1 === i.func.call(i.scope, e) && e.preventDefault(), e.isImmediatePropagationStopped()) return;
    }
  }, Tr.Event = new Tr(), Tr);

  function Tr() {
    this.domLoaded = !1, this.events = {}, this.count = 1, this.expando = "mce-data-" + (+new Date()).toString(32), this.hasMouseEnterLeave = "onmouseenter" in j.document.documentElement, this.hasFocusIn = "onfocusin" in j.document.documentElement, this.count = 1;
  }

  function Ar(e, t, n) {
    var r = "0x" + t - 65536;
    return r != r || n ? t : r < 0 ? String.fromCharCode(65536 + r) : String.fromCharCode(r >> 10 | 55296, 1023 & r | 56320);
  }

  var Mr,
      Rr,
      Dr,
      _r,
      Br,
      Or,
      Hr,
      Pr,
      Lr,
      Vr,
      Ir,
      Fr,
      Ur,
      jr,
      qr,
      $r,
      Wr,
      Kr,
      Xr = "sizzle" + -new Date(),
      Yr = j.window.document,
      Gr = 0,
      Jr = 0,
      Qr = Mo(),
      Zr = Mo(),
      eo = Mo(),
      to = function to(e, t) {
    return e === t && (Ir = !0), 0;
  },
      no =  true ? "undefined" : undefined,
      ro = {}.hasOwnProperty,
      oo = [],
      io = oo.pop,
      ao = oo.push,
      uo = oo.push,
      so = oo.slice,
      co = oo.indexOf || function (e) {
    for (var t = 0, n = this.length; t < n; t++) {
      if (this[t] === e) return t;
    }

    return -1;
  },
      lo = "[\\x20\\t\\r\\n\\f]",
      fo = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",
      ho = "\\[" + lo + "*(" + fo + ")(?:" + lo + "*([*^$|!~]?=)" + lo + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + fo + "))|)" + lo + "*\\]",
      mo = ":(" + fo + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + ho + ")*)|.*)\\)|)",
      go = new RegExp("^" + lo + "+|((?:^|[^\\\\])(?:\\\\.)*)" + lo + "+$", "g"),
      po = new RegExp("^" + lo + "*," + lo + "*"),
      vo = new RegExp("^" + lo + "*([>+~]|" + lo + ")" + lo + "*"),
      yo = new RegExp("=" + lo + "*([^\\]'\"]*?)" + lo + "*\\]", "g"),
      bo = new RegExp(mo),
      Co = new RegExp("^" + fo + "$"),
      wo = {
    ID: new RegExp("^#(" + fo + ")"),
    CLASS: new RegExp("^\\.(" + fo + ")"),
    TAG: new RegExp("^(" + fo + "|[*])"),
    ATTR: new RegExp("^" + ho),
    PSEUDO: new RegExp("^" + mo),
    CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + lo + "*(even|odd|(([+-]|)(\\d*)n|)" + lo + "*(?:([+-]|)" + lo + "*(\\d+)|))" + lo + "*\\)|)", "i"),
    bool: new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$", "i"),
    needsContext: new RegExp("^" + lo + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + lo + "*((?:-\\d)?\\d*)" + lo + "*\\)|)(?=[^-]|$)", "i")
  },
      xo = /^(?:input|select|textarea|button)$/i,
      zo = /^h\d$/i,
      Eo = /^[^{]+\{\s*\[native \w/,
      No = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
      So = /[+~]/,
      ko = /'|\\/g,
      To = new RegExp("\\\\([\\da-f]{1,6}" + lo + "?|(" + lo + ")|.)", "ig");

  try {
    uo.apply(oo = so.call(Yr.childNodes), Yr.childNodes), oo[Yr.childNodes.length].nodeType;
  } catch (yN) {
    uo = {
      apply: oo.length ? function (e, t) {
        ao.apply(e, so.call(t));
      } : function (e, t) {
        for (var n = e.length, r = 0; e[n++] = t[r++];) {
          ;
        }

        e.length = n - 1;
      }
    };
  }

  var Ao = function Ao(e, t, n, r) {
    var o, i, a, u, s, c, l, f, d, h;
    if ((t ? t.ownerDocument || t : Yr) !== Ur && Fr(t), n = n || [], !e || "string" != typeof e) return n;
    if (1 !== (u = (t = t || Ur).nodeType) && 9 !== u) return [];

    if (qr && !r) {
      if (o = No.exec(e)) if (a = o[1]) {
        if (9 === u) {
          if (!(i = t.getElementById(a)) || !i.parentNode) return n;
          if (i.id === a) return n.push(i), n;
        } else if (t.ownerDocument && (i = t.ownerDocument.getElementById(a)) && Kr(t, i) && i.id === a) return n.push(i), n;
      } else {
        if (o[2]) return uo.apply(n, t.getElementsByTagName(e)), n;
        if ((a = o[3]) && Rr.getElementsByClassName) return uo.apply(n, t.getElementsByClassName(a)), n;
      }

      if (Rr.qsa && (!$r || !$r.test(e))) {
        if (f = l = Xr, d = t, h = 9 === u && e, 1 === u && "object" !== t.nodeName.toLowerCase()) {
          for (c = Or(e), (l = t.getAttribute("id")) ? f = l.replace(ko, "\\$&") : t.setAttribute("id", f), f = "[id='" + f + "'] ", s = c.length; s--;) {
            c[s] = f + Lo(c[s]);
          }

          d = So.test(e) && Ho(t.parentNode) || t, h = c.join(",");
        }

        if (h) try {
          return uo.apply(n, d.querySelectorAll(h)), n;
        } catch (m) {} finally {
          l || t.removeAttribute("id");
        }
      }
    }

    return Pr(e.replace(go, "$1"), t, n, r);
  };

  function Mo() {
    var n = [];
    return function r(e, t) {
      return n.push(e + " ") > Dr.cacheLength && delete r[n.shift()], r[e + " "] = t;
    };
  }

  function Ro(e) {
    return e[Xr] = !0, e;
  }

  function Do(e, t) {
    var n = t && e,
        r = n && 1 === e.nodeType && 1 === t.nodeType && (~t.sourceIndex || 1 << 31) - (~e.sourceIndex || 1 << 31);
    if (r) return r;
    if (n) for (; n = n.nextSibling;) {
      if (n === t) return -1;
    }
    return e ? 1 : -1;
  }

  function _o(t) {
    return function (e) {
      return "input" === e.nodeName.toLowerCase() && e.type === t;
    };
  }

  function Bo(n) {
    return function (e) {
      var t = e.nodeName.toLowerCase();
      return ("input" === t || "button" === t) && e.type === n;
    };
  }

  function Oo(a) {
    return Ro(function (i) {
      return i = +i, Ro(function (e, t) {
        for (var n, r = a([], e.length, i), o = r.length; o--;) {
          e[n = r[o]] && (e[n] = !(t[n] = e[n]));
        }
      });
    });
  }

  function Ho(e) {
    return e && _typeof(e.getElementsByTagName) != no && e;
  }

  for (Mr in Rr = Ao.support = {}, Br = Ao.isXML = function (e) {
    var t = e && (e.ownerDocument || e).documentElement;
    return !!t && "HTML" !== t.nodeName;
  }, Fr = Ao.setDocument = function (e) {
    var t,
        s = e ? e.ownerDocument || e : Yr,
        n = s.defaultView;
    return s !== Ur && 9 === s.nodeType && s.documentElement ? (jr = (Ur = s).documentElement, qr = !Br(s), n && n !== function r(e) {
      try {
        return e.top;
      } catch (t) {}

      return null;
    }(n) && (n.addEventListener ? n.addEventListener("unload", function () {
      Fr();
    }, !1) : n.attachEvent && n.attachEvent("onunload", function () {
      Fr();
    })), Rr.attributes = !0, Rr.getElementsByTagName = !0, Rr.getElementsByClassName = Eo.test(s.getElementsByClassName), Rr.getById = !0, Dr.find.ID = function (e, t) {
      if (_typeof(t.getElementById) != no && qr) {
        var n = t.getElementById(e);
        return n && n.parentNode ? [n] : [];
      }
    }, Dr.filter.ID = function (e) {
      var t = e.replace(To, Ar);
      return function (e) {
        return e.getAttribute("id") === t;
      };
    }, Dr.find.TAG = Rr.getElementsByTagName ? function (e, t) {
      if (_typeof(t.getElementsByTagName) != no) return t.getElementsByTagName(e);
    } : function (e, t) {
      var n,
          r = [],
          o = 0,
          i = t.getElementsByTagName(e);
      if ("*" !== e) return i;

      for (; n = i[o++];) {
        1 === n.nodeType && r.push(n);
      }

      return r;
    }, Dr.find.CLASS = Rr.getElementsByClassName && function (e, t) {
      if (qr) return t.getElementsByClassName(e);
    }, Wr = [], $r = [], Rr.disconnectedMatch = !0, $r = $r.length && new RegExp($r.join("|")), Wr = Wr.length && new RegExp(Wr.join("|")), t = Eo.test(jr.compareDocumentPosition), Kr = t || Eo.test(jr.contains) ? function (e, t) {
      var n = 9 === e.nodeType ? e.documentElement : e,
          r = t && t.parentNode;
      return e === r || !(!r || 1 !== r.nodeType || !(n.contains ? n.contains(r) : e.compareDocumentPosition && 16 & e.compareDocumentPosition(r)));
    } : function (e, t) {
      if (t) for (; t = t.parentNode;) {
        if (t === e) return !0;
      }
      return !1;
    }, to = t ? function (e, t) {
      if (e === t) return Ir = !0, 0;
      var n = !e.compareDocumentPosition - !t.compareDocumentPosition;
      return n || (1 & (n = (e.ownerDocument || e) === (t.ownerDocument || t) ? e.compareDocumentPosition(t) : 1) || !Rr.sortDetached && t.compareDocumentPosition(e) === n ? e === s || e.ownerDocument === Yr && Kr(Yr, e) ? -1 : t === s || t.ownerDocument === Yr && Kr(Yr, t) ? 1 : Vr ? co.call(Vr, e) - co.call(Vr, t) : 0 : 4 & n ? -1 : 1);
    } : function (e, t) {
      if (e === t) return Ir = !0, 0;
      var n,
          r = 0,
          o = e.parentNode,
          i = t.parentNode,
          a = [e],
          u = [t];
      if (!o || !i) return e === s ? -1 : t === s ? 1 : o ? -1 : i ? 1 : Vr ? co.call(Vr, e) - co.call(Vr, t) : 0;
      if (o === i) return Do(e, t);

      for (n = e; n = n.parentNode;) {
        a.unshift(n);
      }

      for (n = t; n = n.parentNode;) {
        u.unshift(n);
      }

      for (; a[r] === u[r];) {
        r++;
      }

      return r ? Do(a[r], u[r]) : a[r] === Yr ? -1 : u[r] === Yr ? 1 : 0;
    }, s) : Ur;
  }, Ao.matches = function (e, t) {
    return Ao(e, null, null, t);
  }, Ao.matchesSelector = function (e, t) {
    if ((e.ownerDocument || e) !== Ur && Fr(e), t = t.replace(yo, "='$1']"), Rr.matchesSelector && qr && (!Wr || !Wr.test(t)) && (!$r || !$r.test(t))) try {
      var n = (void 0).call(e, t);
      if (n || Rr.disconnectedMatch || e.document && 11 !== e.document.nodeType) return n;
    } catch (yN) {}
    return 0 < Ao(t, Ur, null, [e]).length;
  }, Ao.contains = function (e, t) {
    return (e.ownerDocument || e) !== Ur && Fr(e), Kr(e, t);
  }, Ao.attr = function (e, t) {
    (e.ownerDocument || e) !== Ur && Fr(e);
    var n = Dr.attrHandle[t.toLowerCase()],
        r = n && ro.call(Dr.attrHandle, t.toLowerCase()) ? n(e, t, !qr) : undefined;
    return r !== undefined ? r : Rr.attributes || !qr ? e.getAttribute(t) : (r = e.getAttributeNode(t)) && r.specified ? r.value : null;
  }, Ao.error = function (e) {
    throw new Error("Syntax error, unrecognized expression: " + e);
  }, Ao.uniqueSort = function (e) {
    var t,
        n = [],
        r = 0,
        o = 0;

    if (Ir = !Rr.detectDuplicates, Vr = !Rr.sortStable && e.slice(0), e.sort(to), Ir) {
      for (; t = e[o++];) {
        t === e[o] && (r = n.push(o));
      }

      for (; r--;) {
        e.splice(n[r], 1);
      }
    }

    return Vr = null, e;
  }, _r = Ao.getText = function (e) {
    var t,
        n = "",
        r = 0,
        o = e.nodeType;

    if (o) {
      if (1 === o || 9 === o || 11 === o) {
        if ("string" == typeof e.textContent) return e.textContent;

        for (e = e.firstChild; e; e = e.nextSibling) {
          n += _r(e);
        }
      } else if (3 === o || 4 === o) return e.nodeValue;
    } else for (; t = e[r++];) {
      n += _r(t);
    }

    return n;
  }, (Dr = Ao.selectors = {
    cacheLength: 50,
    createPseudo: Ro,
    match: wo,
    attrHandle: {},
    find: {},
    relative: {
      ">": {
        dir: "parentNode",
        first: !0
      },
      " ": {
        dir: "parentNode"
      },
      "+": {
        dir: "previousSibling",
        first: !0
      },
      "~": {
        dir: "previousSibling"
      }
    },
    preFilter: {
      ATTR: function ATTR(e) {
        return e[1] = e[1].replace(To, Ar), e[3] = (e[3] || e[4] || e[5] || "").replace(To, Ar), "~=" === e[2] && (e[3] = " " + e[3] + " "), e.slice(0, 4);
      },
      CHILD: function CHILD(e) {
        return e[1] = e[1].toLowerCase(), "nth" === e[1].slice(0, 3) ? (e[3] || Ao.error(e[0]), e[4] = +(e[4] ? e[5] + (e[6] || 1) : 2 * ("even" === e[3] || "odd" === e[3])), e[5] = +(e[7] + e[8] || "odd" === e[3])) : e[3] && Ao.error(e[0]), e;
      },
      PSEUDO: function PSEUDO(e) {
        var t,
            n = !e[6] && e[2];
        return wo.CHILD.test(e[0]) ? null : (e[3] ? e[2] = e[4] || e[5] || "" : n && bo.test(n) && (t = Or(n, !0)) && (t = n.indexOf(")", n.length - t) - n.length) && (e[0] = e[0].slice(0, t), e[2] = n.slice(0, t)), e.slice(0, 3));
      }
    },
    filter: {
      TAG: function TAG(e) {
        var t = e.replace(To, Ar).toLowerCase();
        return "*" === e ? function () {
          return !0;
        } : function (e) {
          return e.nodeName && e.nodeName.toLowerCase() === t;
        };
      },
      CLASS: function CLASS(e) {
        var t = Qr[e + " "];
        return t || (t = new RegExp("(^|" + lo + ")" + e + "(" + lo + "|$)")) && Qr(e, function (e) {
          return t.test("string" == typeof e.className && e.className || _typeof(e.getAttribute) != no && e.getAttribute("class") || "");
        });
      },
      ATTR: function ATTR(n, r, o) {
        return function (e) {
          var t = Ao.attr(e, n);
          return null == t ? "!=" === r : !r || (t += "", "=" === r ? t === o : "!=" === r ? t !== o : "^=" === r ? o && 0 === t.indexOf(o) : "*=" === r ? o && -1 < t.indexOf(o) : "$=" === r ? o && t.slice(-o.length) === o : "~=" === r ? -1 < (" " + t + " ").indexOf(o) : "|=" === r && (t === o || t.slice(0, o.length + 1) === o + "-"));
        };
      },
      CHILD: function CHILD(h, e, t, m, g) {
        var p = "nth" !== h.slice(0, 3),
            v = "last" !== h.slice(-4),
            y = "of-type" === e;
        return 1 === m && 0 === g ? function (e) {
          return !!e.parentNode;
        } : function (e, t, n) {
          var r,
              o,
              i,
              a,
              u,
              s,
              c = p != v ? "nextSibling" : "previousSibling",
              l = e.parentNode,
              f = y && e.nodeName.toLowerCase(),
              d = !n && !y;

          if (l) {
            if (p) {
              for (; c;) {
                for (i = e; i = i[c];) {
                  if (y ? i.nodeName.toLowerCase() === f : 1 === i.nodeType) return !1;
                }

                s = c = "only" === h && !s && "nextSibling";
              }

              return !0;
            }

            if (s = [v ? l.firstChild : l.lastChild], v && d) {
              for (u = (r = (o = l[Xr] || (l[Xr] = {}))[h] || [])[0] === Gr && r[1], a = r[0] === Gr && r[2], i = u && l.childNodes[u]; i = ++u && i && i[c] || (a = u = 0) || s.pop();) {
                if (1 === i.nodeType && ++a && i === e) {
                  o[h] = [Gr, u, a];
                  break;
                }
              }
            } else if (d && (r = (e[Xr] || (e[Xr] = {}))[h]) && r[0] === Gr) a = r[1];else for (; (i = ++u && i && i[c] || (a = u = 0) || s.pop()) && ((y ? i.nodeName.toLowerCase() !== f : 1 !== i.nodeType) || !++a || (d && ((i[Xr] || (i[Xr] = {}))[h] = [Gr, a]), i !== e));) {
              ;
            }

            return (a -= g) === m || a % m == 0 && 0 <= a / m;
          }
        };
      },
      PSEUDO: function PSEUDO(e, i) {
        var t,
            a = Dr.pseudos[e] || Dr.setFilters[e.toLowerCase()] || Ao.error("unsupported pseudo: " + e);
        return a[Xr] ? a(i) : 1 < a.length ? (t = [e, e, "", i], Dr.setFilters.hasOwnProperty(e.toLowerCase()) ? Ro(function (e, t) {
          for (var n, r = a(e, i), o = r.length; o--;) {
            e[n = co.call(e, r[o])] = !(t[n] = r[o]);
          }
        }) : function (e) {
          return a(e, 0, t);
        }) : a;
      }
    },
    pseudos: {
      not: Ro(function (e) {
        var r = [],
            o = [],
            u = Hr(e.replace(go, "$1"));
        return u[Xr] ? Ro(function (e, t, n, r) {
          for (var o, i = u(e, null, r, []), a = e.length; a--;) {
            (o = i[a]) && (e[a] = !(t[a] = o));
          }
        }) : function (e, t, n) {
          return r[0] = e, u(r, null, n, o), !o.pop();
        };
      }),
      has: Ro(function (t) {
        return function (e) {
          return 0 < Ao(t, e).length;
        };
      }),
      contains: Ro(function (t) {
        return t = t.replace(To, Ar), function (e) {
          return -1 < (e.textContent || e.innerText || _r(e)).indexOf(t);
        };
      }),
      lang: Ro(function (n) {
        return Co.test(n || "") || Ao.error("unsupported lang: " + n), n = n.replace(To, Ar).toLowerCase(), function (e) {
          var t;

          do {
            if (t = qr ? e.lang : e.getAttribute("xml:lang") || e.getAttribute("lang")) return (t = t.toLowerCase()) === n || 0 === t.indexOf(n + "-");
          } while ((e = e.parentNode) && 1 === e.nodeType);

          return !1;
        };
      }),
      target: function target(e) {
        var t = j.window.location && j.window.location.hash;
        return t && t.slice(1) === e.id;
      },
      root: function root(e) {
        return e === jr;
      },
      focus: function focus(e) {
        return e === Ur.activeElement && (!Ur.hasFocus || Ur.hasFocus()) && !!(e.type || e.href || ~e.tabIndex);
      },
      enabled: function enabled(e) {
        return !1 === e.disabled;
      },
      disabled: function disabled(e) {
        return !0 === e.disabled;
      },
      checked: function checked(e) {
        var t = e.nodeName.toLowerCase();
        return "input" === t && !!e.checked || "option" === t && !!e.selected;
      },
      selected: function selected(e) {
        return e.parentNode && e.parentNode.selectedIndex, !0 === e.selected;
      },
      empty: function empty(e) {
        for (e = e.firstChild; e; e = e.nextSibling) {
          if (e.nodeType < 6) return !1;
        }

        return !0;
      },
      parent: function parent(e) {
        return !Dr.pseudos.empty(e);
      },
      header: function header(e) {
        return zo.test(e.nodeName);
      },
      input: function input(e) {
        return xo.test(e.nodeName);
      },
      button: function button(e) {
        var t = e.nodeName.toLowerCase();
        return "input" === t && "button" === e.type || "button" === t;
      },
      text: function text(e) {
        var t;
        return "input" === e.nodeName.toLowerCase() && "text" === e.type && (null == (t = e.getAttribute("type")) || "text" === t.toLowerCase());
      },
      first: Oo(function () {
        return [0];
      }),
      last: Oo(function (e, t) {
        return [t - 1];
      }),
      eq: Oo(function (e, t, n) {
        return [n < 0 ? n + t : n];
      }),
      even: Oo(function (e, t) {
        for (var n = 0; n < t; n += 2) {
          e.push(n);
        }

        return e;
      }),
      odd: Oo(function (e, t) {
        for (var n = 1; n < t; n += 2) {
          e.push(n);
        }

        return e;
      }),
      lt: Oo(function (e, t, n) {
        for (var r = n < 0 ? n + t : n; 0 <= --r;) {
          e.push(r);
        }

        return e;
      }),
      gt: Oo(function (e, t, n) {
        for (var r = n < 0 ? n + t : n; ++r < t;) {
          e.push(r);
        }

        return e;
      })
    }
  }).pseudos.nth = Dr.pseudos.eq, {
    radio: !0,
    checkbox: !0,
    file: !0,
    password: !0,
    image: !0
  }) {
    Dr.pseudos[Mr] = _o(Mr);
  }

  for (Mr in {
    submit: !0,
    reset: !0
  }) {
    Dr.pseudos[Mr] = Bo(Mr);
  }

  function Po() {}

  function Lo(e) {
    for (var t = 0, n = e.length, r = ""; t < n; t++) {
      r += e[t].value;
    }

    return r;
  }

  function Vo(a, e, t) {
    var u = e.dir,
        s = t && "parentNode" === u,
        c = Jr++;
    return e.first ? function (e, t, n) {
      for (; e = e[u];) {
        if (1 === e.nodeType || s) return a(e, t, n);
      }
    } : function (e, t, n) {
      var r,
          o,
          i = [Gr, c];

      if (n) {
        for (; e = e[u];) {
          if ((1 === e.nodeType || s) && a(e, t, n)) return !0;
        }
      } else for (; e = e[u];) {
        if (1 === e.nodeType || s) {
          if ((r = (o = e[Xr] || (e[Xr] = {}))[u]) && r[0] === Gr && r[1] === c) return i[2] = r[2];
          if ((o[u] = i)[2] = a(e, t, n)) return !0;
        }
      }
    };
  }

  function Io(o) {
    return 1 < o.length ? function (e, t, n) {
      for (var r = o.length; r--;) {
        if (!o[r](e, t, n)) return !1;
      }

      return !0;
    } : o[0];
  }

  function Fo(e, t, n, r, o) {
    for (var i, a = [], u = 0, s = e.length, c = null != t; u < s; u++) {
      (i = e[u]) && (n && !n(i, r, o) || (a.push(i), c && t.push(u)));
    }

    return a;
  }

  function Uo(m, g, p, v, y, e) {
    return v && !v[Xr] && (v = Uo(v)), y && !y[Xr] && (y = Uo(y, e)), Ro(function (e, t, n, r) {
      var o,
          i,
          a,
          u = [],
          s = [],
          c = t.length,
          l = e || function h(e, t, n) {
        for (var r = 0, o = t.length; r < o; r++) {
          Ao(e, t[r], n);
        }

        return n;
      }(g || "*", n.nodeType ? [n] : n, []),
          f = !m || !e && g ? l : Fo(l, u, m, n, r),
          d = p ? y || (e ? m : c || v) ? [] : t : f;

      if (p && p(f, d, n, r), v) for (o = Fo(d, s), v(o, [], n, r), i = o.length; i--;) {
        (a = o[i]) && (d[s[i]] = !(f[s[i]] = a));
      }

      if (e) {
        if (y || m) {
          if (y) {
            for (o = [], i = d.length; i--;) {
              (a = d[i]) && o.push(f[i] = a);
            }

            y(null, d = [], o, r);
          }

          for (i = d.length; i--;) {
            (a = d[i]) && -1 < (o = y ? co.call(e, a) : u[i]) && (e[o] = !(t[o] = a));
          }
        }
      } else d = Fo(d === t ? d.splice(c, d.length) : d), y ? y(null, t, d, r) : uo.apply(t, d);
    });
  }

  function jo(e) {
    for (var r, t, n, o = e.length, i = Dr.relative[e[0].type], a = i || Dr.relative[" "], u = i ? 1 : 0, s = Vo(function (e) {
      return e === r;
    }, a, !0), c = Vo(function (e) {
      return -1 < co.call(r, e);
    }, a, !0), l = [function (e, t, n) {
      return !i && (n || t !== Lr) || ((r = t).nodeType ? s(e, t, n) : c(e, t, n));
    }]; u < o; u++) {
      if (t = Dr.relative[e[u].type]) l = [Vo(Io(l), t)];else {
        if ((t = Dr.filter[e[u].type].apply(null, e[u].matches))[Xr]) {
          for (n = ++u; n < o && !Dr.relative[e[n].type]; n++) {
            ;
          }

          return Uo(1 < u && Io(l), 1 < u && Lo(e.slice(0, u - 1).concat({
            value: " " === e[u - 2].type ? "*" : ""
          })).replace(go, "$1"), t, u < n && jo(e.slice(u, n)), n < o && jo(e = e.slice(n)), n < o && Lo(e));
        }

        l.push(t);
      }
    }

    return Io(l);
  }

  Po.prototype = Dr.filters = Dr.pseudos, Dr.setFilters = new Po(), Or = Ao.tokenize = function (e, t) {
    var n,
        r,
        o,
        i,
        a,
        u,
        s,
        c = Zr[e + " "];
    if (c) return t ? 0 : c.slice(0);

    for (a = e, u = [], s = Dr.preFilter; a;) {
      for (i in n && !(r = po.exec(a)) || (r && (a = a.slice(r[0].length) || a), u.push(o = [])), n = !1, (r = vo.exec(a)) && (n = r.shift(), o.push({
        value: n,
        type: r[0].replace(go, " ")
      }), a = a.slice(n.length)), Dr.filter) {
        Dr.filter.hasOwnProperty(i) && (!(r = wo[i].exec(a)) || s[i] && !(r = s[i](r)) || (n = r.shift(), o.push({
          value: n,
          type: i,
          matches: r
        }), a = a.slice(n.length)));
      }

      if (!n) break;
    }

    return t ? a.length : a ? Ao.error(e) : Zr(e, u).slice(0);
  }, Hr = Ao.compile = function (e, t) {
    var n,
        r = [],
        o = [],
        i = eo[e + " "];

    if (!i) {
      for (n = (t = t || Or(e)).length; n--;) {
        (i = jo(t[n]))[Xr] ? r.push(i) : o.push(i);
      }

      (i = eo(e, function a(p, v) {
        function e(e, t, n, r, o) {
          var i,
              a,
              u,
              s = 0,
              c = "0",
              l = e && [],
              f = [],
              d = Lr,
              h = e || b && Dr.find.TAG("*", o),
              m = Gr += null == d ? 1 : Math.random() || .1,
              g = h.length;

          for (o && (Lr = t !== Ur && t); c !== g && null != (i = h[c]); c++) {
            if (b && i) {
              for (a = 0; u = p[a++];) {
                if (u(i, t, n)) {
                  r.push(i);
                  break;
                }
              }

              o && (Gr = m);
            }

            y && ((i = !u && i) && s--, e && l.push(i));
          }

          if (s += c, y && c !== s) {
            for (a = 0; u = v[a++];) {
              u(l, f, t, n);
            }

            if (e) {
              if (0 < s) for (; c--;) {
                l[c] || f[c] || (f[c] = io.call(r));
              }
              f = Fo(f);
            }

            uo.apply(r, f), o && !e && 0 < f.length && 1 < s + v.length && Ao.uniqueSort(r);
          }

          return o && (Gr = m, Lr = d), l;
        }

        var y = 0 < v.length,
            b = 0 < p.length;
        return y ? Ro(e) : e;
      }(o, r))).selector = e;
    }

    return i;
  }, Pr = Ao.select = function (e, t, n, r) {
    var o,
        i,
        a,
        u,
        s,
        c = "function" == typeof e && e,
        l = !r && Or(e = c.selector || e);

    if (n = n || [], 1 === l.length) {
      if (2 < (i = l[0] = l[0].slice(0)).length && "ID" === (a = i[0]).type && Rr.getById && 9 === t.nodeType && qr && Dr.relative[i[1].type]) {
        if (!(t = (Dr.find.ID(a.matches[0].replace(To, Ar), t) || [])[0])) return n;
        c && (t = t.parentNode), e = e.slice(i.shift().value.length);
      }

      for (o = wo.needsContext.test(e) ? 0 : i.length; o-- && (a = i[o], !Dr.relative[u = a.type]);) {
        if ((s = Dr.find[u]) && (r = s(a.matches[0].replace(To, Ar), So.test(i[0].type) && Ho(t.parentNode) || t))) {
          if (i.splice(o, 1), !(e = r.length && Lo(i))) return uo.apply(n, r), n;
          break;
        }
      }
    }

    return (c || Hr(e, l))(r, t, !qr, n, So.test(e) && Ho(t.parentNode) || t), n;
  }, Rr.sortStable = Xr.split("").sort(to).join("") === Xr, Rr.detectDuplicates = !!Ir, Fr(), Rr.sortDetached = !0;

  function qo(e) {
    return void 0 !== e;
  }

  function $o(e) {
    return "string" == typeof e;
  }

  function Wo(e, t) {
    var n, r, o;

    for (o = (t = t || Zo).createElement("div"), n = t.createDocumentFragment(), o.innerHTML = e; r = o.firstChild;) {
      n.appendChild(r);
    }

    return n;
  }

  function Ko(e, t) {
    return e && t && -1 !== (" " + e.className + " ").indexOf(" " + t + " ");
  }

  function Xo(e, t, n) {
    var r, o;
    return t = vi(t)[0], e.each(function () {
      n && r === this.parentNode || (r = this.parentNode, o = t.cloneNode(!1), this.parentNode.insertBefore(o, this)), o.appendChild(this);
    }), e;
  }

  function Yo(e, t) {
    return new vi.fn.init(e, t);
  }

  function Go(e) {
    return null === e || e === undefined ? "" : ("" + e).replace(di, "");
  }

  function Jo(e, t) {
    var n, r, o, i;
    if (e) if ((n = e.length) === undefined) {
      for (r in e) {
        if (e.hasOwnProperty(r) && (i = e[r], !1 === t.call(i, r, i))) break;
      }
    } else for (o = 0; o < n && (i = e[o], !1 !== t.call(i, o, i)); o++) {
      ;
    }
    return e;
  }

  function Qo(e, n) {
    var r = [];
    return Jo(e, function (e, t) {
      n(t, e) && r.push(t);
    }), r;
  }

  var Zo = j.document,
      ei = Array.prototype.push,
      ti = Array.prototype.slice,
      ni = /^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,
      ri = kr.Event,
      oi = Mn.makeMap("children,contents,next,prev"),
      ii = function ii(e, t, n, r) {
    var o;
    if ($o(t)) t = Wo(t, hi(e[0]));else if (t.length && !t.nodeType) {
      if (t = vi.makeArray(t), r) for (o = t.length - 1; 0 <= o; o--) {
        ii(e, t[o], n, r);
      } else for (o = 0; o < t.length; o++) {
        ii(e, t[o], n, r);
      }
      return e;
    }
    if (t.nodeType) for (o = e.length; o--;) {
      n.call(e[o], t);
    }
    return e;
  },
      ai = Mn.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom", " "),
      ui = Mn.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected", " "),
      si = {
    "for": "htmlFor",
    "class": "className",
    readonly: "readOnly"
  },
      ci = {
    "float": "cssFloat"
  },
      li = {},
      fi = {},
      di = /^\s*|\s*$/g,
      hi = function hi(e) {
    return e ? 9 === e.nodeType ? e : e.ownerDocument : Zo;
  };

  Yo.fn = Yo.prototype = {
    constructor: Yo,
    selector: "",
    context: null,
    length: 0,
    init: function init(e, t) {
      var n,
          r,
          o = this;
      if (!e) return o;
      if (e.nodeType) return o.context = o[0] = e, o.length = 1, o;
      if (t && t.nodeType) o.context = t;else {
        if (t) return vi(e).attr(t);
        o.context = t = j.document;
      }

      if ($o(e)) {
        if (!(n = "<" === (o.selector = e).charAt(0) && ">" === e.charAt(e.length - 1) && 3 <= e.length ? [null, e, null] : ni.exec(e))) return vi(t).find(e);
        if (n[1]) for (r = Wo(e, hi(t)).firstChild; r;) {
          ei.call(o, r), r = r.nextSibling;
        } else {
          if (!(r = hi(t).getElementById(n[2]))) return o;
          if (r.id !== n[2]) return o.find(e);
          o.length = 1, o[0] = r;
        }
      } else this.add(e, !1);

      return o;
    },
    toArray: function toArray() {
      return Mn.toArray(this);
    },
    add: function add(e, t) {
      var n, r;
      if ($o(e)) return this.add(vi(e));
      if (!1 !== t) for (n = vi.unique(this.toArray().concat(vi.makeArray(e))), this.length = n.length, r = 0; r < n.length; r++) {
        this[r] = n[r];
      } else ei.apply(this, vi.makeArray(e));
      return this;
    },
    attr: function attr(t, n) {
      var e,
          r = this;
      if ("object" == _typeof(t)) Jo(t, function (e, t) {
        r.attr(e, t);
      });else {
        if (!qo(n)) {
          if (r[0] && 1 === r[0].nodeType) {
            if ((e = li[t]) && e.get) return e.get(r[0], t);
            if (ui[t]) return r.prop(t) ? t : undefined;
            null === (n = r[0].getAttribute(t, 2)) && (n = undefined);
          }

          return n;
        }

        this.each(function () {
          var e;

          if (1 === this.nodeType) {
            if ((e = li[t]) && e.set) return void e.set(this, n);
            null === n ? this.removeAttribute(t, 2) : this.setAttribute(t, n, 2);
          }
        });
      }
      return r;
    },
    removeAttr: function removeAttr(e) {
      return this.attr(e, null);
    },
    prop: function prop(e, t) {
      var n = this;
      if ("object" == _typeof(e = si[e] || e)) Jo(e, function (e, t) {
        n.prop(e, t);
      });else {
        if (!qo(t)) return n[0] && n[0].nodeType && e in n[0] ? n[0][e] : t;
        this.each(function () {
          1 === this.nodeType && (this[e] = t);
        });
      }
      return n;
    },
    css: function css(n, r) {
      function e(e) {
        return e.replace(/-(\D)/g, function (e, t) {
          return t.toUpperCase();
        });
      }

      function o(e) {
        return e.replace(/[A-Z]/g, function (e) {
          return "-" + e;
        });
      }

      var t,
          i,
          a = this;
      if ("object" == _typeof(n)) Jo(n, function (e, t) {
        a.css(e, t);
      });else if (qo(r)) n = e(n), "number" != typeof r || ai[n] || (r = r.toString() + "px"), a.each(function () {
        var e = this.style;
        if ((i = fi[n]) && i.set) i.set(this, r);else {
          try {
            this.style[ci[n] || n] = r;
          } catch (t) {}

          null !== r && "" !== r || (e.removeProperty ? e.removeProperty(o(n)) : e.removeAttribute(n));
        }
      });else {
        if (t = a[0], (i = fi[n]) && i.get) return i.get(t);
        if (!t.ownerDocument.defaultView) return t.currentStyle ? t.currentStyle[e(n)] : "";

        try {
          return t.ownerDocument.defaultView.getComputedStyle(t, null).getPropertyValue(o(n));
        } catch (u) {
          return undefined;
        }
      }
      return a;
    },
    remove: function remove() {
      for (var e, t = this.length; t--;) {
        e = this[t], ri.clean(e), e.parentNode && e.parentNode.removeChild(e);
      }

      return this;
    },
    empty: function empty() {
      for (var e, t = this.length; t--;) {
        for (e = this[t]; e.firstChild;) {
          e.removeChild(e.firstChild);
        }
      }

      return this;
    },
    html: function html(e) {
      var t,
          n = this;

      if (qo(e)) {
        t = n.length;

        try {
          for (; t--;) {
            n[t].innerHTML = e;
          }
        } catch (r) {
          vi(n[t]).empty().append(e);
        }

        return n;
      }

      return n[0] ? n[0].innerHTML : "";
    },
    text: function text(e) {
      var t;

      if (qo(e)) {
        for (t = this.length; t--;) {
          "innerText" in this[t] ? this[t].innerText = e : this[0].textContent = e;
        }

        return this;
      }

      return this[0] ? this[0].innerText || this[0].textContent : "";
    },
    append: function append() {
      return ii(this, arguments, function (e) {
        (1 === this.nodeType || this.host && 1 === this.host.nodeType) && this.appendChild(e);
      });
    },
    prepend: function prepend() {
      return ii(this, arguments, function (e) {
        (1 === this.nodeType || this.host && 1 === this.host.nodeType) && this.insertBefore(e, this.firstChild);
      }, !0);
    },
    before: function before() {
      return this[0] && this[0].parentNode ? ii(this, arguments, function (e) {
        this.parentNode.insertBefore(e, this);
      }) : this;
    },
    after: function after() {
      return this[0] && this[0].parentNode ? ii(this, arguments, function (e) {
        this.parentNode.insertBefore(e, this.nextSibling);
      }, !0) : this;
    },
    appendTo: function appendTo(e) {
      return vi(e).append(this), this;
    },
    prependTo: function prependTo(e) {
      return vi(e).prepend(this), this;
    },
    replaceWith: function replaceWith(e) {
      return this.before(e).remove();
    },
    wrap: function wrap(e) {
      return Xo(this, e);
    },
    wrapAll: function wrapAll(e) {
      return Xo(this, e, !0);
    },
    wrapInner: function wrapInner(e) {
      return this.each(function () {
        vi(this).contents().wrapAll(e);
      }), this;
    },
    unwrap: function unwrap() {
      return this.parent().each(function () {
        vi(this).replaceWith(this.childNodes);
      });
    },
    clone: function clone() {
      var e = [];
      return this.each(function () {
        e.push(this.cloneNode(!0));
      }), vi(e);
    },
    addClass: function addClass(e) {
      return this.toggleClass(e, !0);
    },
    removeClass: function removeClass(e) {
      return this.toggleClass(e, !1);
    },
    toggleClass: function toggleClass(o, i) {
      var e = this;
      return "string" != typeof o || (-1 !== o.indexOf(" ") ? Jo(o.split(" "), function () {
        e.toggleClass(this, i);
      }) : e.each(function (e, t) {
        var n, r;
        (r = Ko(t, o)) !== i && (n = t.className, r ? t.className = Go((" " + n + " ").replace(" " + o + " ", " ")) : t.className += n ? " " + o : o);
      })), e;
    },
    hasClass: function hasClass(e) {
      return Ko(this[0], e);
    },
    each: function each(e) {
      return Jo(this, e);
    },
    on: function on(e, t) {
      return this.each(function () {
        ri.bind(this, e, t);
      });
    },
    off: function off(e, t) {
      return this.each(function () {
        ri.unbind(this, e, t);
      });
    },
    trigger: function trigger(e) {
      return this.each(function () {
        "object" == _typeof(e) ? ri.fire(this, e.type, e) : ri.fire(this, e);
      });
    },
    show: function show() {
      return this.css("display", "");
    },
    hide: function hide() {
      return this.css("display", "none");
    },
    slice: function slice() {
      return new vi(ti.apply(this, arguments));
    },
    eq: function eq(e) {
      return -1 === e ? this.slice(e) : this.slice(e, +e + 1);
    },
    first: function first() {
      return this.eq(0);
    },
    last: function last() {
      return this.eq(-1);
    },
    find: function find(e) {
      var t,
          n,
          r = [];

      for (t = 0, n = this.length; t < n; t++) {
        vi.find(e, this[t], r);
      }

      return vi(r);
    },
    filter: function filter(n) {
      return vi("function" == typeof n ? Qo(this.toArray(), function (e, t) {
        return n(t, e);
      }) : vi.filter(n, this.toArray()));
    },
    closest: function closest(n) {
      var r = [];
      return n instanceof vi && (n = n[0]), this.each(function (e, t) {
        for (; t;) {
          if ("string" == typeof n && vi(t).is(n)) {
            r.push(t);
            break;
          }

          if (t === n) {
            r.push(t);
            break;
          }

          t = t.parentNode;
        }
      }), vi(r);
    },
    offset: function offset(e) {
      var t,
          n,
          r,
          o,
          i = 0,
          a = 0;
      return e ? this.css(e) : ((t = this[0]) && (r = (n = t.ownerDocument).documentElement, t.getBoundingClientRect && (i = (o = t.getBoundingClientRect()).left + (r.scrollLeft || n.body.scrollLeft) - r.clientLeft, a = o.top + (r.scrollTop || n.body.scrollTop) - r.clientTop)), {
        left: i,
        top: a
      });
    },
    push: ei,
    sort: Array.prototype.sort,
    splice: Array.prototype.splice
  }, Mn.extend(Yo, {
    extend: Mn.extend,
    makeArray: function makeArray(e) {
      return function (e) {
        return e && e === e.window;
      }(e) || e.nodeType ? [e] : Mn.toArray(e);
    },
    inArray: function inArray(e, t) {
      var n;
      if (t.indexOf) return t.indexOf(e);

      for (n = t.length; n--;) {
        if (t[n] === e) return n;
      }

      return -1;
    },
    isArray: Mn.isArray,
    each: Jo,
    trim: Go,
    grep: Qo,
    find: Ao,
    expr: Ao.selectors,
    unique: Ao.uniqueSort,
    text: Ao.getText,
    contains: Ao.contains,
    filter: function filter(e, t, n) {
      var r = t.length;

      for (n && (e = ":not(" + e + ")"); r--;) {
        1 !== t[r].nodeType && t.splice(r, 1);
      }

      return t = 1 === t.length ? vi.find.matchesSelector(t[0], e) ? [t[0]] : [] : vi.find.matches(e, t);
    }
  });

  function mi(e, t, n) {
    var r = [],
        o = e[t];

    for ("string" != typeof n && n instanceof vi && (n = n[0]); o && 9 !== o.nodeType;) {
      if (n !== undefined) {
        if (o === n) break;
        if ("string" == typeof n && vi(o).is(n)) break;
      }

      1 === o.nodeType && r.push(o), o = o[t];
    }

    return r;
  }

  function gi(e, t, n, r) {
    var o = [];

    for (r instanceof vi && (r = r[0]); e; e = e[t]) {
      if (!n || e.nodeType === n) {
        if (r !== undefined) {
          if (e === r) break;
          if ("string" == typeof r && vi(e).is(r)) break;
        }

        o.push(e);
      }
    }

    return o;
  }

  function pi(e, t, n) {
    for (e = e[t]; e; e = e[t]) {
      if (e.nodeType === n) return e;
    }

    return null;
  }

  Jo({
    parent: function parent(e) {
      var t = e.parentNode;
      return t && 11 !== t.nodeType ? t : null;
    },
    parents: function parents(e) {
      return mi(e, "parentNode");
    },
    next: function next(e) {
      return pi(e, "nextSibling", 1);
    },
    prev: function prev(e) {
      return pi(e, "previousSibling", 1);
    },
    children: function children(e) {
      return gi(e.firstChild, "nextSibling", 1);
    },
    contents: function contents(e) {
      return Mn.toArray(("iframe" === e.nodeName ? e.contentDocument || e.contentWindow.document : e).childNodes);
    }
  }, function (r, o) {
    Yo.fn[r] = function (t) {
      var n = [];
      this.each(function () {
        var e = o.call(n, this, t, n);
        e && (vi.isArray(e) ? n.push.apply(n, e) : n.push(e));
      }), 1 < this.length && (oi[r] || (n = vi.unique(n)), 0 === r.indexOf("parents") && (n = n.reverse()));
      var e = vi(n);
      return t ? e.filter(t) : e;
    };
  }), Jo({
    parentsUntil: function parentsUntil(e, t) {
      return mi(e, "parentNode", t);
    },
    nextUntil: function nextUntil(e, t) {
      return gi(e, "nextSibling", 1, t).slice(1);
    },
    prevUntil: function prevUntil(e, t) {
      return gi(e, "previousSibling", 1, t).slice(1);
    }
  }, function (o, i) {
    Yo.fn[o] = function (t, e) {
      var n = [];
      this.each(function () {
        var e = i.call(n, this, t, n);
        e && (vi.isArray(e) ? n.push.apply(n, e) : n.push(e));
      }), 1 < this.length && (n = vi.unique(n), 0 !== o.indexOf("parents") && "prevUntil" !== o || (n = n.reverse()));
      var r = vi(n);
      return e ? r.filter(e) : r;
    };
  }), Yo.fn.is = function (e) {
    return !!e && 0 < this.filter(e).length;
  }, Yo.fn.init.prototype = Yo.fn, Yo.overrideDefaults = function (n) {
    var r,
        o = function o(e, t) {
      return r = r || n(), 0 === arguments.length && (e = r.element), t = t || r.context, new o.fn.init(e, t);
    };

    return vi.extend(o, this), o;
  }, Yo.attrHooks = li, Yo.cssHooks = fi;
  var vi = Yo,
      yi = (bi.prototype.current = function () {
    return this.node;
  }, bi.prototype.next = function (e) {
    return this.node = this.findSibling(this.node, "firstChild", "nextSibling", e), this.node;
  }, bi.prototype.prev = function (e) {
    return this.node = this.findSibling(this.node, "lastChild", "previousSibling", e), this.node;
  }, bi.prototype.prev2 = function (e) {
    return this.node = this.findPreviousNode(this.node, "lastChild", "previousSibling", e), this.node;
  }, bi.prototype.findSibling = function (e, t, n, r) {
    var o, i;

    if (e) {
      if (!r && e[t]) return e[t];

      if (e !== this.rootNode) {
        if (o = e[n]) return o;

        for (i = e.parentNode; i && i !== this.rootNode; i = i.parentNode) {
          if (o = i[n]) return o;
        }
      }
    }
  }, bi.prototype.findPreviousNode = function (e, t, n, r) {
    var o, i, a;

    if (e) {
      if (o = e[n], this.rootNode && o === this.rootNode) return;

      if (o) {
        if (!r) for (a = o[t]; a; a = a[t]) {
          if (!a[t]) return a;
        }
        return o;
      }

      if ((i = e.parentNode) && i !== this.rootNode) return i;
    }
  }, bi);

  function bi(e, t) {
    this.node = e, this.rootNode = t, this.current = this.current.bind(this), this.next = this.next.bind(this), this.prev = this.prev.bind(this), this.prev2 = this.prev2.bind(this);
  }

  function Ci(t, n) {
    Se(t).each(function (e) {
      e.dom().insertBefore(n.dom(), t.dom());
    });
  }

  function wi(e, t) {
    Te(e).fold(function () {
      Se(e).each(function (e) {
        Di(e, t);
      });
    }, function (e) {
      Ci(e, t);
    });
  }

  function xi(t, n) {
    _e(t).fold(function () {
      Di(t, n);
    }, function (e) {
      t.dom().insertBefore(n.dom(), e.dom());
    });
  }

  function zi(t, e) {
    z(e, function (e) {
      Di(t, e);
    });
  }

  function Ei(e) {
    e.dom().textContent = "", z(Re(e), function (e) {
      _i(e);
    });
  }

  function Ni(e) {
    var t = Re(e);
    0 < t.length && function (t, e) {
      z(e, function (e) {
        Ci(t, e);
      });
    }(e, t), _i(e);
  }

  function Si(e, t) {
    return e !== undefined ? e : t !== undefined ? t : 0;
  }

  function ki(e) {
    var t = e !== undefined ? e.dom() : j.document,
        n = t.body.scrollLeft || t.documentElement.scrollLeft,
        r = t.body.scrollTop || t.documentElement.scrollTop;
    return Oi(n, r);
  }

  function Ti(e, t, n) {
    (n !== undefined ? n.dom() : j.document).defaultView.scrollTo(e, t);
  }

  function Ai(e, t) {
    Pi && D(e.dom().scrollIntoViewIfNeeded) ? e.dom().scrollIntoViewIfNeeded(!1) : e.dom().scrollIntoView(t);
  }

  function Mi(e, t, n, r) {
    return {
      x: $(e),
      y: $(t),
      width: $(n),
      height: $(r),
      right: $(e + n),
      bottom: $(t + r)
    };
  }

  var Ri,
      Di = function Di(e, t) {
    e.dom().appendChild(t.dom());
  },
      _i = function _i(e) {
    var t = e.dom();
    null !== t.parentNode && t.parentNode.removeChild(t);
  },
      Bi = function Bi(n, r) {
    return {
      left: $(n),
      top: $(r),
      translate: function translate(e, t) {
        return Bi(n + e, r + t);
      }
    };
  },
      Oi = Bi,
      Hi = function Hi(e) {
    var t = e.dom(),
        n = t.ownerDocument.body;
    return n === t ? Oi(n.offsetLeft, n.offsetTop) : de(e) ? function (e) {
      var t = e.getBoundingClientRect();
      return Oi(t.left, t.top);
    }(t) : Oi(0, 0);
  },
      Pi = oe().browser.isSafari(),
      Li = function Li(e) {
    var t = e === undefined ? j.window : e,
        n = t.document,
        r = ki(yt.fromDom(n)),
        o = t.visualViewport;
    if (o !== undefined) return Mi(Math.max(o.pageLeft, r.left()), Math.max(o.pageTop, r.top()), o.width, o.height);
    var i = n.documentElement,
        a = i.clientWidth,
        u = i.clientHeight;
    return Mi(r.left(), r.top(), a, u);
  },
      Vi = Mn.each,
      Ii = Mn.grep,
      Fi = Nn.ie,
      Ui = /^([a-z0-9],?)+$/i,
      ji = /^[ \t\r\n]*$/,
      qi = function qi(n, r, o) {
    var i = r.keep_values,
        e = {
      set: function set(e, t, n) {
        r.url_converter && (t = r.url_converter.call(r.url_converter_scope || o(), t, n, e[0])), e.attr("data-mce-" + n, t).attr(n, t);
      },
      get: function get(e, t) {
        return e.attr("data-mce-" + t) || e.attr(t);
      }
    },
        t = {
      style: {
        set: function set(e, t) {
          null === t || "object" != _typeof(t) ? (i && e.attr("data-mce-style", t), e.attr("style", t)) : e.css(t);
        },
        get: function get(e) {
          var t = e.attr("data-mce-style") || e.attr("style");
          return t = n.serialize(n.parse(t), e[0].nodeName);
        }
      }
    };
    return i && (t.href = t.src = e), t;
  },
      $i = function $i(e, t) {
    var n = t.attr("style"),
        r = e.serialize(e.parse(n), t[0].nodeName);
    r = r || null, t.attr("data-mce-style", r);
  },
      Wi = function Wi(e, t) {
    var n,
        r,
        o = 0;
    if (e) for (n = e.nodeType, e = e.previousSibling; e; e = e.previousSibling) {
      r = e.nodeType, (!t || 3 !== r || r !== n && e.nodeValue.length) && (o++, n = r);
    }
    return o;
  };

  function Ki(a, u) {
    var s,
        c = this;
    void 0 === u && (u = {});

    function l(e) {
      if (e && a && "string" == typeof e) {
        var t = a.getElementById(e);
        return t && t.id !== e ? a.getElementsByName(e)[1] : t;
      }

      return e;
    }

    function f(e) {
      return "string" == typeof e && (e = l(e)), H(e);
    }

    function r(e, t, n) {
      var r,
          o,
          i = f(e);
      return i.length && (o = (r = s[t]) && r.get ? r.get(i, t) : i.attr(t)), void 0 === o && (o = n || ""), o;
    }

    function d(e) {
      var t = l(e);
      return t ? t.attributes : [];
    }

    function o(e, t, n) {
      var r, o;
      "" === n && (n = null);
      var i = f(e);
      r = i.attr(t), i.length && ((o = s[t]) && o.set ? o.set(i, n, t) : i.attr(t, n), r !== n && u.onSetAttrib && u.onSetAttrib({
        attrElm: i,
        attrName: t,
        attrValue: n
      }));
    }

    function h() {
      return u.root_element || a.body;
    }

    function i(e, t) {
      return Ht.getPos(a.body, l(e), t);
    }

    function m(e, t, n) {
      var r = f(e);
      return n ? r.css(t) : ("float" === (t = t.replace(/-(\D)/g, function (e, t) {
        return t.toUpperCase();
      })) && (t = Nn.browser.isIE() ? "styleFloat" : "cssFloat"), r[0] && r[0].style ? r[0].style[t] : undefined);
    }

    function g(e) {
      var t, n;
      return e = l(e), t = m(e, "width"), n = m(e, "height"), -1 === t.indexOf("px") && (t = 0), -1 === n.indexOf("px") && (n = 0), {
        w: parseInt(t, 10) || e.offsetWidth || e.clientWidth,
        h: parseInt(n, 10) || e.offsetHeight || e.clientHeight
      };
    }

    function p(e, t) {
      var n;
      if (!e) return !1;

      if (!Array.isArray(e)) {
        if ("*" === t) return 1 === e.nodeType;

        if (Ui.test(t)) {
          var r = t.toLowerCase().split(/,/),
              o = e.nodeName.toLowerCase();

          for (n = r.length - 1; 0 <= n; n--) {
            if (r[n] === o) return !0;
          }

          return !1;
        }

        if (e.nodeType && 1 !== e.nodeType) return !1;
      }

      var i = Array.isArray(e) ? e : [e];
      return 0 < Ao(t, i[0].ownerDocument || i[0], null, i).length;
    }

    function v(e, t, n, r) {
      var o,
          i = [],
          a = l(e);

      for (r = r === undefined, n = n || ("BODY" !== h().nodeName ? h().parentNode : null), Mn.is(t, "string") && (t = "*" === (o = t) ? function (e) {
        return 1 === e.nodeType;
      } : function (e) {
        return p(e, o);
      }); a && a !== n && a.nodeType && 9 !== a.nodeType;) {
        if (!t || "function" == typeof t && t(a)) {
          if (!r) return [a];
          i.push(a);
        }

        a = a.parentNode;
      }

      return r ? i : null;
    }

    function n(e, t, n) {
      var r = t;
      if (e) for ("string" == typeof t && (r = function r(e) {
        return p(e, t);
      }), e = e[n]; e; e = e[n]) {
        if ("function" == typeof r && r(e)) return e;
      }
      return null;
    }

    function y(e, n, r) {
      var o,
          t = "string" == typeof e ? l(e) : e;
      if (!t) return !1;
      if (Mn.isArray(t) && (t.length || 0 === t.length)) return o = [], Vi(t, function (e, t) {
        e && ("string" == typeof e && (e = l(e)), o.push(n.call(r, e, t)));
      }), o;
      var i = r || c;
      return n.call(i, t);
    }

    function b(e, t) {
      f(e).each(function (e, n) {
        Vi(t, function (e, t) {
          o(n, t, e);
        });
      });
    }

    function C(e, r) {
      var t = f(e);
      Fi ? t.each(function (e, t) {
        if (!1 !== t.canHaveHTML) {
          for (; t.firstChild;) {
            t.removeChild(t.firstChild);
          }

          try {
            t.innerHTML = "<br>" + r, t.removeChild(t.firstChild);
          } catch (n) {
            vi("<div></div>").html("<br>" + r).contents().slice(1).appendTo(t);
          }

          return r;
        }
      }) : t.html(r);
    }

    function w(e, n, r, o, i) {
      return y(e, function (e) {
        var t = "string" == typeof n ? a.createElement(n) : n;
        return b(t, r), o && ("string" != typeof o && o.nodeType ? t.appendChild(o) : "string" == typeof o && C(t, o)), i ? t : e.appendChild(t);
      });
    }

    function x(e, t, n) {
      return w(a.createElement(e), e, t, n, !0);
    }

    function z(e, t) {
      var n = f(e);
      return t ? n.each(function () {
        for (var e; e = this.firstChild;) {
          3 === e.nodeType && 0 === e.data.length ? this.removeChild(e) : this.parentNode.insertBefore(e, this);
        }
      }).remove() : n.remove(), 1 < n.length ? n.toArray() : n[0];
    }

    function E(e, t, n) {
      f(e).toggleClass(t, n).each(function () {
        "" === this.className && vi(this).attr("class", null);
      });
    }

    function N(t, e, n) {
      return y(e, function (e) {
        return Mn.is(e, "array") && (t = t.cloneNode(!0)), n && Vi(Ii(e.childNodes), function (e) {
          t.appendChild(e);
        }), e.parentNode.replaceChild(t, e);
      });
    }

    function S() {
      return a.createRange();
    }

    function k(e) {
      if (e && Ge.isElement(e)) {
        var t = e.getAttribute("data-mce-contenteditable");
        return t && "inherit" !== t ? t : "inherit" !== e.contentEditable ? e.contentEditable : null;
      }

      return null;
    }

    var T = {},
        A = j.window,
        M = {},
        t = 0,
        e = function U(m, g) {
      void 0 === g && (g = {});
      var p,
          v = 0,
          y = {};

      function b(e) {
        m.getElementsByTagName("head")[0].appendChild(e);
      }

      function n(e, t, n) {
        function r(e) {
          l.status = e, l.passed = [], l.failed = [], u && (u.onload = null, u.onerror = null, u = null);
        }

        function o() {
          for (var e = l.passed, t = e.length; t--;) {
            e[t]();
          }

          r(2);
        }

        function i() {
          for (var e = l.failed, t = e.length; t--;) {
            e[t]();
          }

          r(3);
        }

        function a(e, t) {
          e() || (new Date().getTime() - c < p ? pn.setTimeout(t) : i());
        }

        var u,
            s,
            c,
            l,
            f = function f() {
          a(function () {
            for (var e, t, n = m.styleSheets, r = n.length; r--;) {
              if ((t = (e = n[r]).ownerNode ? e.ownerNode : e.owningElement) && t.id === u.id) return o(), !0;
            }
          }, f);
        },
            d = function d() {
          a(function () {
            try {
              var e = s.sheet.cssRules;
              return o(), !!e;
            } catch (t) {}
          }, d);
        };

        if (e = Mn._addCacheSuffix(e), y[e] ? l = y[e] : (l = {
          passed: [],
          failed: []
        }, y[e] = l), t && l.passed.push(t), n && l.failed.push(n), 1 !== l.status) if (2 !== l.status) {
          if (3 !== l.status) {
            if (l.status = 1, (u = m.createElement("link")).rel = "stylesheet", u.type = "text/css", u.id = "u" + v++, u.async = !1, u.defer = !1, c = new Date().getTime(), g.contentCssCors && (u.crossOrigin = "anonymous"), g.referrerPolicy && Tt(yt.fromDom(u), "referrerpolicy", g.referrerPolicy), "onload" in u && !((h = j.navigator.userAgent.match(/WebKit\/(\d*)/)) && parseInt(h[1], 10) < 536)) u.onload = f, u.onerror = i;else {
              if (0 < j.navigator.userAgent.indexOf("Firefox")) return (s = m.createElement("style")).textContent = '@import "' + e + '"', d(), void b(s);
              f();
            }
            var h;
            b(u), u.href = e;
          } else i();
        } else o();
      }

      function t(t) {
        return Xt.nu(function (e) {
          n(t, q(e, $(Qt.value(t))), q(e, $(Qt.error(t))));
        });
      }

      function o(e) {
        return e.fold(W, W);
      }

      return p = g.maxLoadTime || 5e3, {
        load: n,
        loadAll: function loadAll(e, n, r) {
          Yt(X(e, t)).get(function (e) {
            var t = Y(e, function (e) {
              return e.isValue();
            });
            0 < t.fail.length ? r(t.fail.map(o)) : n(t.pass.map(o));
          });
        },
        _setReferrerPolicy: function _setReferrerPolicy(e) {
          g.referrerPolicy = e;
        }
      };
    }(a, {
      contentCssCors: u.contentCssCors,
      referrerPolicy: u.referrerPolicy
    }),
        R = [],
        D = u.schema ? u.schema : pr({}),
        _ = xr({
      url_converter: u.url_converter,
      url_converter_scope: u.url_converter_scope
    }, u.schema),
        B = u.ownEvents ? new kr() : kr.Event,
        O = D.getBlockElements(),
        H = vi.overrideDefaults(function () {
      return {
        context: a,
        element: F.getRoot()
      };
    }),
        P = ir.decode,
        L = ir.encodeAllRaw,
        V = function V(e, t, n, r) {
      if (Mn.isArray(e)) {
        for (var o = e.length, i = []; o--;) {
          i[o] = V(e[o], t, n, r);
        }

        return i;
      }

      return !u.collect || e !== a && e !== A || R.push([e, t, n, r]), B.bind(e, t, n, r || F);
    },
        I = function I(e, t, n) {
      var r;

      if (Mn.isArray(e)) {
        r = e.length;

        for (var o = []; r--;) {
          o[r] = I(e[r], t, n);
        }

        return o;
      }

      if (R && (e === a || e === A)) for (r = R.length; r--;) {
        var i = R[r];
        e !== i[0] || t && t !== i[1] || n && n !== i[2] || B.unbind(i[0], i[1], i[2]);
      }
      return B.unbind(e, t, n);
    },
        F = {
      doc: a,
      settings: u,
      win: A,
      files: M,
      stdMode: !0,
      boxModel: !0,
      styleSheetLoader: e,
      boundEvents: R,
      styles: _,
      schema: D,
      events: B,
      isBlock: function isBlock(e) {
        if ("string" == typeof e) return !!O[e];

        if (e) {
          var t = e.nodeType;
          if (t) return !(1 !== t || !O[e.nodeName]);
        }

        return !1;
      },
      $: H,
      $$: f,
      root: null,
      clone: function clone(t, e) {
        if (!Fi || 1 !== t.nodeType || e) return t.cloneNode(e);
        if (e) return null;
        var n = a.createElement(t.nodeName);
        return Vi(d(t), function (e) {
          o(n, e.nodeName, r(t, e.nodeName));
        }), n;
      },
      getRoot: h,
      getViewPort: function getViewPort(e) {
        var t = Li(e);
        return {
          x: t.x(),
          y: t.y(),
          w: t.width(),
          h: t.height()
        };
      },
      getRect: function getRect(e) {
        var t, n;
        return e = l(e), t = i(e), n = g(e), {
          x: t.x,
          y: t.y,
          w: n.w,
          h: n.h
        };
      },
      getSize: g,
      getParent: function getParent(e, t, n) {
        var r = v(e, t, n, !1);
        return r && 0 < r.length ? r[0] : null;
      },
      getParents: v,
      get: l,
      getNext: function getNext(e, t) {
        return n(e, t, "nextSibling");
      },
      getPrev: function getPrev(e, t) {
        return n(e, t, "previousSibling");
      },
      select: function select(e, t) {
        return Ao(e, l(t) || u.root_element || a, []);
      },
      is: p,
      add: w,
      create: x,
      createHTML: function createHTML(e, t, n) {
        var r,
            o = "";

        for (r in o += "<" + e, t) {
          t.hasOwnProperty(r) && null !== t[r] && "undefined" != typeof t[r] && (o += " " + r + '="' + L(t[r]) + '"');
        }

        return void 0 !== n ? o + ">" + n + "</" + e + ">" : o + " />";
      },
      createFragment: function createFragment(e) {
        var t,
            n = a.createElement("div"),
            r = a.createDocumentFragment();

        for (e && (n.innerHTML = e); t = n.firstChild;) {
          r.appendChild(t);
        }

        return r;
      },
      remove: z,
      setStyle: function setStyle(e, t, n) {
        var r = K(t) ? f(e).css(t, n) : f(e).css(t);
        u.update_styles && $i(_, r);
      },
      getStyle: m,
      setStyles: function setStyles(e, t) {
        var n = f(e).css(t);
        u.update_styles && $i(_, n);
      },
      removeAllAttribs: function removeAllAttribs(e) {
        return y(e, function (e) {
          var t,
              n = e.attributes;

          for (t = n.length - 1; 0 <= t; t--) {
            e.removeAttributeNode(n.item(t));
          }
        });
      },
      setAttrib: o,
      setAttribs: b,
      getAttrib: r,
      getPos: i,
      parseStyle: function parseStyle(e) {
        return _.parse(e);
      },
      serializeStyle: function serializeStyle(e, t) {
        return _.serialize(e, t);
      },
      addStyle: function addStyle(e) {
        var t, n;

        if (F !== Ki.DOM && a === j.document) {
          if (T[e]) return;
          T[e] = !0;
        }

        (n = a.getElementById("mceDefaultStyles")) || ((n = a.createElement("style")).id = "mceDefaultStyles", n.type = "text/css", (t = a.getElementsByTagName("head")[0]).firstChild ? t.insertBefore(n, t.firstChild) : t.appendChild(n)), n.styleSheet ? n.styleSheet.cssText += e : n.appendChild(a.createTextNode(e));
      },
      loadCSS: function loadCSS(e) {
        var n;
        F === Ki.DOM || a !== j.document ? (e = e || "", n = a.getElementsByTagName("head")[0], Vi(e.split(","), function (e) {
          var t;
          e = Mn._addCacheSuffix(e), M[e] || (M[e] = !0, t = x("link", _G(_G({
            rel: "stylesheet",
            type: "text/css",
            href: e
          }, u.contentCssCors ? {
            crossOrigin: "anonymous"
          } : {}), u.referrerPolicy ? {
            referrerPolicy: u.referrerPolicy
          } : {})), n.appendChild(t));
        })) : Ki.DOM.loadCSS(e);
      },
      addClass: function addClass(e, t) {
        f(e).addClass(t);
      },
      removeClass: function removeClass(e, t) {
        E(e, t, !1);
      },
      hasClass: function hasClass(e, t) {
        return f(e).hasClass(t);
      },
      toggleClass: E,
      show: function show(e) {
        f(e).show();
      },
      hide: function hide(e) {
        f(e).hide();
      },
      isHidden: function isHidden(e) {
        return "none" === f(e).css("display");
      },
      uniqueId: function uniqueId(e) {
        return (e || "mce_") + t++;
      },
      setHTML: C,
      getOuterHTML: function getOuterHTML(e) {
        var t = "string" == typeof e ? l(e) : e;
        return Ge.isElement(t) ? t.outerHTML : vi("<div></div>").append(vi(t).clone()).html();
      },
      setOuterHTML: function setOuterHTML(e, t) {
        f(e).each(function () {
          try {
            if ("outerHTML" in this) return void (this.outerHTML = t);
          } catch (e) {}

          z(vi(this).html(t), !0);
        });
      },
      decode: P,
      encode: L,
      insertAfter: function insertAfter(e, t) {
        var r = l(t);
        return y(e, function (e) {
          var t, n;
          return t = r.parentNode, (n = r.nextSibling) ? t.insertBefore(e, n) : t.appendChild(e), e;
        });
      },
      replace: N,
      rename: function rename(t, e) {
        var n;
        return t.nodeName !== e.toUpperCase() && (n = x(e), Vi(d(t), function (e) {
          o(n, e.nodeName, r(t, e.nodeName));
        }), N(n, t, !0)), n || t;
      },
      findCommonAncestor: function findCommonAncestor(e, t) {
        for (var n, r = e; r;) {
          for (n = t; n && r !== n;) {
            n = n.parentNode;
          }

          if (r === n) break;
          r = r.parentNode;
        }

        return !r && e.ownerDocument ? e.ownerDocument.documentElement : r;
      },
      toHex: function toHex(e) {
        return _.toHex(Mn.trim(e));
      },
      run: y,
      getAttribs: d,
      isEmpty: function isEmpty(e, t) {
        var n,
            r,
            o,
            i,
            a = 0;

        if (e = e.firstChild) {
          var u = new yi(e, e.parentNode),
              s = D ? D.getWhiteSpaceElements() : {};
          t = t || (D ? D.getNonEmptyElements() : null);

          do {
            if (o = e.nodeType, Ge.isElement(e)) {
              var c = e.getAttribute("data-mce-bogus");

              if (c) {
                e = u.next("all" === c);
                continue;
              }

              if (i = e.nodeName.toLowerCase(), t && t[i]) {
                if ("br" !== i) return !1;
                a++, e = u.next();
                continue;
              }

              for (n = (r = d(e)).length; n--;) {
                if ("name" === (i = r[n].nodeName) || "data-mce-bookmark" === i) return !1;
              }
            }

            if (8 === o) return !1;
            if (3 === o && !ji.test(e.nodeValue)) return !1;
            if (3 === o && e.parentNode && s[e.parentNode.nodeName] && ji.test(e.nodeValue)) return !1;
            e = u.next();
          } while (e);
        }

        return a <= 1;
      },
      createRng: S,
      nodeIndex: Wi,
      split: function split(e, t, n) {
        var r,
            o,
            i,
            a = S();
        if (e && t) return a.setStart(e.parentNode, Wi(e)), a.setEnd(t.parentNode, Wi(t)), r = a.extractContents(), (a = S()).setStart(t.parentNode, Wi(t) + 1), a.setEnd(e.parentNode, Wi(e) + 1), o = a.extractContents(), (i = e.parentNode).insertBefore(Xn.trimNode(F, r), e), n ? i.insertBefore(n, e) : i.insertBefore(t, e), i.insertBefore(Xn.trimNode(F, o), e), z(e), n || t;
      },
      bind: V,
      unbind: I,
      fire: function fire(e, t, n) {
        return B.fire(e, t, n);
      },
      getContentEditable: k,
      getContentEditableParent: function getContentEditableParent(e) {
        for (var t = h(), n = null; e && e !== t && null === (n = k(e)); e = e.parentNode) {
          ;
        }

        return n;
      },
      destroy: function destroy() {
        if (R) for (var e = R.length; e--;) {
          var t = R[e];
          B.unbind(t[0], t[1], t[2]);
        }
        Ao.setDocument && Ao.setDocument();
      },
      isChildOf: function isChildOf(e, t) {
        for (; e;) {
          if (t === e) return !0;
          e = e.parentNode;
        }

        return !1;
      },
      dumpRng: function dumpRng(e) {
        return "startContainer: " + e.startContainer.nodeName + ", startOffset: " + e.startOffset + ", endContainer: " + e.endContainer.nodeName + ", endOffset: " + e.endOffset;
      }
    };

    return s = qi(_, u, function () {
      return F;
    }), F;
  }

  (Ri = Ki = Ki || {}).DOM = Ri(j.document), Ri.nodeIndex = Wi;
  var Xi = Ki,
      Yi = Xi.DOM,
      Gi = Mn.each,
      Ji = Mn.grep,
      Qi = (Zi.prototype._setReferrerPolicy = function (e) {
    this.settings.referrerPolicy = e;
  }, Zi.prototype.loadScript = function (e, t, n) {
    var r,
        o,
        i = Yi;
    o = i.uniqueId(), (r = j.document.createElement("script")).id = o, r.type = "text/javascript", r.src = Mn._addCacheSuffix(e), this.settings.referrerPolicy && i.setAttrib(r, "referrerpolicy", this.settings.referrerPolicy), r.onload = function () {
      i.remove(o), r && (r.onreadystatechange = r.onload = r = null), t();
    }, r.onerror = function () {
      D(n) ? n() : "undefined" != typeof j.console && j.console.log && j.console.log("Failed to load script: " + e);
    }, (j.document.getElementsByTagName("head")[0] || j.document.body).appendChild(r);
  }, Zi.prototype.isDone = function (e) {
    return 2 === this.states[e];
  }, Zi.prototype.markDone = function (e) {
    this.states[e] = 2;
  }, Zi.prototype.add = function (e, t, n, r) {
    this.states[e] === undefined && (this.queue.push(e), this.states[e] = 0), t && (this.scriptLoadedCallbacks[e] || (this.scriptLoadedCallbacks[e] = []), this.scriptLoadedCallbacks[e].push({
      success: t,
      failure: r,
      scope: n || this
    }));
  }, Zi.prototype.load = function (e, t, n, r) {
    return this.add(e, t, n, r);
  }, Zi.prototype.remove = function (e) {
    delete this.states[e], delete this.scriptLoadedCallbacks[e];
  }, Zi.prototype.loadQueue = function (e, t, n) {
    this.loadScripts(this.queue, e, t, n);
  }, Zi.prototype.loadScripts = function (n, e, t, r) {
    function o(t, e) {
      Gi(a.scriptLoadedCallbacks[e], function (e) {
        D(e[t]) && e[t].call(e.scope);
      }), a.scriptLoadedCallbacks[e] = undefined;
    }

    var _i2,
        a = this,
        u = [];

    a.queueLoadedCallbacks.push({
      success: e,
      failure: r,
      scope: t || this
    }), (_i2 = function i() {
      var e = Ji(n);

      if (n.length = 0, Gi(e, function (e) {
        2 !== a.states[e] ? 3 !== a.states[e] ? 1 !== a.states[e] && (a.states[e] = 1, a.loading++, a.loadScript(e, function () {
          a.states[e] = 2, a.loading--, o("success", e), _i2();
        }, function () {
          a.states[e] = 3, a.loading--, u.push(e), o("failure", e), _i2();
        })) : o("failure", e) : o("success", e);
      }), !a.loading) {
        var t = a.queueLoadedCallbacks.slice(0);
        a.queueLoadedCallbacks.length = 0, Gi(t, function (e) {
          0 === u.length ? D(e.success) && e.success.call(e.scope) : D(e.failure) && e.failure.call(e.scope, u);
        });
      }
    })();
  }, Zi.ScriptLoader = new Zi(), Zi);

  function Zi(e) {
    void 0 === e && (e = {}), this.states = {}, this.queue = [], this.scriptLoadedCallbacks = {}, this.queueLoadedCallbacks = [], this.loading = 0, this.settings = e;
  }

  var ea,
      ta = {},
      na = Je("en"),
      ra = {
    getData: function getData() {
      return se(ta, function (e) {
        return _G({}, e);
      });
    },
    setCode: function setCode(e) {
      e && na.set(e);
    },
    getCode: function getCode() {
      return na.get();
    },
    add: function add(e, t) {
      var n = ta[e];

      for (var r in n || (ta[e] = n = {}), t) {
        n[r.toLowerCase()] = t[r];
      }
    },
    translate: function translate(e) {
      function r(e) {
        return D(e) ? Object.prototype.toString.call(e) : a(e) ? "" : "" + e;
      }

      function t(e) {
        var t = r(e),
            n = t.toLowerCase();
        return kt(i, n) ? r(i[n]) : t;
      }

      function n(e) {
        return e.replace(/{context:\w+}$/, "");
      }

      function o(e) {
        return e;
      }

      var i = ta[na.get()] || {},
          a = function a(e) {
        return "" === e || null === e || e === undefined;
      };

      if (a(e)) return o("");
      if (function (e) {
        return T(e) && kt(e, "raw");
      }(e)) return o(r(e.raw));

      if (function (e) {
        return A(e) && 1 < e.length;
      }(e)) {
        var u = e.slice(1);
        return o(n(t(e[0]).replace(/\{([0-9]+)\}/g, function (e, t) {
          return kt(u, t) ? r(u[t]) : e;
        })));
      }

      return o(n(t(e)));
    },
    isRtl: function isRtl() {
      return le(ta, na.get()).bind(function (e) {
        return le(e, "_dir");
      }).exists(function (e) {
        return "rtl" === e;
      });
    },
    hasCode: function hasCode(e) {
      return kt(ta, e);
    }
  },
      oa = Mn.each;

  function ia() {
    function i(e) {
      var t;
      return c[e] && (t = c[e].dependencies), t || [];
    }

    function a(e, t) {
      return "object" == _typeof(t) ? t : "string" == typeof e ? {
        prefix: "",
        resource: t,
        suffix: ""
      } : {
        prefix: e.prefix,
        resource: t,
        suffix: e.suffix
      };
    }

    function u(e, n, t, r) {
      var o = i(e);
      oa(o, function (e) {
        var t = a(n, e);
        f(t.resource, t, undefined, undefined);
      }), t && (r ? t.call(r) : t.call(Qi));
    }

    var r = this,
        o = [],
        s = {},
        c = {},
        l = [],
        f = function f(e, t, n, r, o) {
      if (!s[e]) {
        var i = "string" == typeof t ? t : t.prefix + t.resource + t.suffix;
        0 !== i.indexOf("/") && -1 === i.indexOf("://") && (i = ia.baseURL + "/" + i), s[e] = i.substring(0, i.lastIndexOf("/")), c[e] ? u(e, t, n, r) : Qi.ScriptLoader.add(i, function () {
          return u(e, t, n, r);
        }, r, o);
      }
    };

    return {
      items: o,
      urls: s,
      lookup: c,
      _listeners: l,
      get: function get(e) {
        return c[e] ? c[e].instance : undefined;
      },
      dependencies: i,
      requireLangPack: function requireLangPack(e, t) {
        var n = ra.getCode();

        if (n && !1 !== ia.languageLoad) {
          if (t) if (-1 !== (t = "," + t + ",").indexOf("," + n.substr(0, 2) + ",")) n = n.substr(0, 2);else if (-1 === t.indexOf("," + n + ",")) return;
          Qi.ScriptLoader.add(s[e] + "/langs/" + n + ".js");
        }
      },
      add: function add(t, e, n) {
        o.push(e), c[t] = {
          instance: e,
          dependencies: n
        };
        var r = Y(l, function (e) {
          return e.name === t;
        });
        return l = r.fail, oa(r.pass, function (e) {
          e.callback();
        }), e;
      },
      remove: function remove(e) {
        delete s[e], delete c[e];
      },
      createUrl: a,
      addComponents: function addComponents(e, t) {
        var n = r.urls[e];
        oa(t, function (e) {
          Qi.ScriptLoader.add(n + "/" + e);
        });
      },
      load: f,
      waitFor: function waitFor(e, t) {
        c.hasOwnProperty(e) ? t() : l.push({
          name: e,
          callback: t
        });
      }
    };
  }

  (ea = ia = ia || {}).PluginManager = ea(), ea.ThemeManager = ea();

  function aa(n, r) {
    var o = null;
    return {
      cancel: function cancel() {
        null !== o && (j.clearTimeout(o), o = null);
      },
      throttle: function throttle() {
        for (var e = [], t = 0; t < arguments.length; t++) {
          e[t] = arguments[t];
        }

        null === o && (o = j.setTimeout(function () {
          n.apply(null, e), o = null;
        }, r));
      }
    };
  }

  function ua(e, t) {
    var n = ge(e, t);
    return n === undefined || "" === n ? [] : n.split(" ");
  }

  function sa(e) {
    return e.dom().classList !== undefined;
  }

  function ca(e, t) {
    return function (e, t, n) {
      var r = ua(e, t).concat([n]);
      return Tt(e, t, r.join(" ")), !0;
    }(e, "class", t);
  }

  function la(e, t) {
    return function (e, t, n) {
      var r = y(ua(e, t), function (e) {
        return e !== n;
      });
      return 0 < r.length ? Tt(e, t, r.join(" ")) : pe(e, t), !1;
    }(e, "class", t);
  }

  function fa(e, t) {
    sa(e) ? e.dom().classList.add(t) : ca(e, t);
  }

  function da(e) {
    0 === (sa(e) ? e.dom().classList : function (e) {
      return ua(e, "class");
    }(e)).length && pe(e, "class");
  }

  function ha(e, t) {
    return sa(e) && e.dom().classList.contains(t);
  }

  function ma(e, t) {
    return function (e, t) {
      var n = t === undefined ? j.document : t.dom();
      return xe(n) ? [] : X(n.querySelectorAll(e), yt.fromDom);
    }(t, e);
  }

  var ga = ia,
      pa = function pa(e, t) {
    var n = [];
    return z(Re(e), function (e) {
      t(e) && (n = n.concat([e])), n = n.concat(pa(e, t));
    }), n;
  };

  function va(e, t, n, r, o) {
    return e(n, r) ? k.some(n) : D(o) && o(n) ? k.none() : t(n, r, o);
  }

  function ya(e, t, n) {
    for (var r = e.dom(), o = D(n) ? n : $(!1); r.parentNode;) {
      r = r.parentNode;
      var i = yt.fromDom(r);
      if (t(i)) return k.some(i);
      if (o(i)) break;
    }

    return k.none();
  }

  function ba(e, t, n) {
    return va(function (e, t) {
      return t(e);
    }, ya, e, t, n);
  }

  function Ca(e, t, n) {
    return ya(e, function (e) {
      return we(e, t);
    }, n);
  }

  function wa(e, t) {
    return function (e, t) {
      var n = t === undefined ? j.document : t.dom();
      return xe(n) ? k.none() : k.from(n.querySelector(e)).map(yt.fromDom);
    }(t, e);
  }

  function xa(e, t, n) {
    return va(we, Ca, e, t, n);
  }

  function za(r, e) {
    function t(e, t) {
      return function (e, t) {
        var n = e.dom();
        return !(!n || !n.hasAttribute) && n.hasAttribute(t);
      }(e, t) ? k.some(ge(e, t)) : k.none();
    }

    var n = r.selection.getRng(),
        o = yt.fromDom(n.startContainer),
        i = yt.fromDom(r.getBody()),
        a = e.fold(function () {
      return "." + nu();
    }, function (e) {
      return "[" + ru() + '="' + e + '"]';
    }),
        u = De(o, n.startOffset).getOr(o);
    return xa(u, a, function (e) {
      return ze(e, i);
    }).bind(function (e) {
      return t(e, "" + ou()).bind(function (n) {
        return t(e, "" + ru()).map(function (e) {
          var t = iu(r, n);
          return {
            uid: n,
            name: e,
            elements: t
          };
        });
      });
    });
  }

  function Ea(n, e) {
    function a(e, t) {
      r(e, function (e) {
        return t(e), e;
      });
    }

    var o = Je({}),
        r = function r(e, t) {
      var n = o.get(),
          r = t(n.hasOwnProperty(e) ? n[e] : {
        listeners: [],
        previous: Je(k.none())
      });
      n[e] = r, o.set(n);
    },
        t = function (n, r) {
      var o = null;
      return {
        cancel: function cancel() {
          null !== o && (j.clearTimeout(o), o = null);
        },
        throttle: function throttle() {
          for (var e = [], t = 0; t < arguments.length; t++) {
            e[t] = arguments[t];
          }

          null !== o && j.clearTimeout(o), o = j.setTimeout(function () {
            n.apply(null, e), o = null;
          }, r);
        }
      };
    }(function () {
      var e = o.get(),
          t = function (e, t) {
        var n = B.call(e, 0);
        return n.sort(t), n;
      }(Et(e));

      z(t, function (e) {
        r(e, function (o) {
          var i = o.previous.get();
          return za(n, k.some(e)).fold(function () {
            i.isSome() && (function (t) {
              a(t, function (e) {
                z(e.listeners, function (e) {
                  return e(!1, t);
                });
              });
            }(e), o.previous.set(k.none()));
          }, function (e) {
            var t = e.uid,
                n = e.name,
                r = e.elements;
            i.is(t) || (function (t, n, r) {
              a(t, function (e) {
                z(e.listeners, function (e) {
                  return e(!0, t, {
                    uid: n,
                    nodes: X(r, function (e) {
                      return e.dom();
                    })
                  });
                });
              });
            }(n, t, r), o.previous.set(k.some(t)));
          }), {
            previous: o.previous,
            listeners: o.listeners
          };
        });
      });
    }, 30);

    return n.on("remove", function () {
      t.cancel();
    }), n.on("NodeChange", function () {
      t.throttle();
    }), {
      addListener: function addListener(e, t) {
        r(e, function (e) {
          return {
            previous: e.previous,
            listeners: e.listeners.concat([t])
          };
        });
      }
    };
  }

  function Na(e, n) {
    e.on("init", function () {
      e.serializer.addNodeFilter("span", function (e) {
        z(e, function (t) {
          (function (e) {
            return k.from(e.attr(ru())).bind(n.lookup);
          })(t).each(function (e) {
            !1 === e.persistent && t.unwrap();
          });
        });
      });
    });
  }

  function Sa(e, t) {
    return yt.fromDom(e.dom().cloneNode(t));
  }

  function ka(e) {
    return Sa(e, !1);
  }

  function Ta(e) {
    return Sa(e, !0);
  }

  function Aa(e, t) {
    var n = Ee(e).dom(),
        r = yt.fromDom(n.createDocumentFragment()),
        o = function (e, t) {
      var n = (t || j.document).createElement("div");
      return n.innerHTML = e, Re(yt.fromDom(n));
    }(t, n);

    zi(r, o), Ei(e), Di(e, r);
  }

  function Ma(e) {
    return du(e) && (e = e.parentNode), fu(e) && e.hasAttribute("data-mce-caret");
  }

  function Ra(e) {
    return du(e) && su(e.data);
  }

  function Da(e) {
    return Ma(e) || Ra(e);
  }

  function _a(e) {
    return e.firstChild !== e.lastChild || !Ge.isBr(e.firstChild);
  }

  function Ba(e) {
    var t = e.container();
    return !(!e || !Ge.isText(t)) && (t.data.charAt(e.offset()) === cu || e.isAtStart() && Ra(t.previousSibling));
  }

  function Oa(e) {
    var t = e.container();
    return !(!e || !Ge.isText(t)) && (t.data.charAt(e.offset() - 1) === cu || e.isAtEnd() && Ra(t.nextSibling));
  }

  function Ha(e, t, n) {
    var r, o;
    return (r = t.ownerDocument.createElement(e)).setAttribute("data-mce-caret", n ? "before" : "after"), r.setAttribute("data-mce-bogus", "all"), r.appendChild(function () {
      var e = j.document.createElement("br");
      return e.setAttribute("data-mce-bogus", "1"), e;
    }()), o = t.parentNode, n ? o.insertBefore(r, t) : t.nextSibling ? o.insertBefore(r, t.nextSibling) : o.appendChild(r), r;
  }

  function Pa(e) {
    return e && e.hasAttribute("data-mce-caret") ? (function (e) {
      var t = e.getElementsByTagName("br"),
          n = t[t.length - 1];
      Ge.isBogus(n) && n.parentNode.removeChild(n);
    }(e), e.removeAttribute("data-mce-caret"), e.removeAttribute("data-mce-bogus"), e.removeAttribute("style"), e.removeAttribute("_moz_abspos"), e) : null;
  }

  function La(e) {
    return !xu(e) && (yu(e) ? !bu(e.parentNode) : Cu(e) || vu(e) || wu(e) || zu(e));
  }

  function Va(e, t) {
    return La(e) && function (e, t) {
      for (e = e.parentNode; e && e !== t; e = e.parentNode) {
        if (zu(e)) return !1;
        if (gu(e)) return !0;
      }

      return !0;
    }(e, t);
  }

  function Ia(e) {
    return e ? {
      left: Eu(e.left),
      top: Eu(e.top),
      bottom: Eu(e.bottom),
      right: Eu(e.right),
      width: Eu(e.width),
      height: Eu(e.height)
    } : {
      left: 0,
      top: 0,
      bottom: 0,
      right: 0,
      width: 0,
      height: 0
    };
  }

  function Fa(e, t) {
    return e = Ia(e), t || (e.left = e.left + e.width), e.right = e.left, e.width = 0, e;
  }

  function Ua(e, t, n) {
    return 0 <= e && e <= Math.min(t.height, n.height) / 2;
  }

  function ja(e, t) {
    return e.bottom - e.height / 2 < t.top || !(e.top > t.bottom) && Ua(t.top - e.bottom, e, t);
  }

  function qa(e, t) {
    return e.top > t.bottom || !(e.bottom < t.top) && Ua(t.bottom - e.top, e, t);
  }

  function $a(e, t, n) {
    return t >= e.left && t <= e.right && n >= e.top && n <= e.bottom;
  }

  function Wa(e) {
    var t = e.startContainer,
        n = e.startOffset;
    return t.hasChildNodes() && e.endOffset === n + 1 ? t.childNodes[n] : null;
  }

  function Ka(e, t) {
    return 1 === e.nodeType && e.hasChildNodes() && (t >= e.childNodes.length && (t = e.childNodes.length - 1), e = e.childNodes[t]), e;
  }

  function Xa(e) {
    return "string" == typeof e && 768 <= e.charCodeAt(0) && Nu.test(e);
  }

  function Ya(e, t, n) {
    return e.isSome() && t.isSome() ? k.some(n(e.getOrDie(), t.getOrDie())) : k.none();
  }

  function Ga(e) {
    return e && /[\r\n\t ]/.test(e);
  }

  function Ja(e) {
    return !!e.setStart && !!e.setEnd;
  }

  function Qa(e) {
    var t,
        n = e.startContainer,
        r = e.startOffset;
    return !!(Ga(e.toString()) && Bu(n.parentNode) && Ge.isText(n) && (t = n.data, Ga(t[r - 1]) || Ga(t[r + 1])));
  }

  function Za(e) {
    return 0 === e.left && 0 === e.right && 0 === e.top && 0 === e.bottom;
  }

  function eu(e, t) {
    var n = Fa(e, t);
    return n.width = 1, n.right = n.left + 1, n;
  }

  var tu,
      nu = $("mce-annotation"),
      ru = $("data-mce-annotation"),
      ou = $("data-mce-annotation-uid"),
      iu = function iu(e, t) {
    var n = yt.fromDom(e.getBody());
    return ma(n, "[" + ou() + '="' + t + '"]');
  },
      au = 0,
      uu = "\uFEFF",
      su = function su(e) {
    return e === uu;
  },
      cu = uu,
      lu = function lu(e) {
    return e.replace(new RegExp(uu, "g"), "");
  },
      fu = Ge.isElement,
      du = Ge.isText,
      hu = function hu(e) {
    return du(e) && e.data[0] === cu;
  },
      mu = function mu(e) {
    return du(e) && e.data[e.data.length - 1] === cu;
  },
      gu = Ge.isContentEditableTrue,
      pu = Ge.isContentEditableFalse,
      vu = Ge.isBr,
      yu = Ge.isText,
      bu = Ge.matchNodeNames(["script", "style", "textarea"]),
      Cu = Ge.matchNodeNames(["img", "input", "textarea", "hr", "iframe", "video", "audio", "object"]),
      wu = Ge.matchNodeNames(["table"]),
      xu = Da,
      zu = function zu(e) {
    return !1 === function (e) {
      return Ge.isElement(e) && "true" === e.getAttribute("unselectable");
    }(e) && pu(e);
  },
      Eu = Math.round,
      Nu = new RegExp("[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B57\u0B62-\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC-\u0CCD\u0CD5-\u0CD6\u0CE2-\u0CE3\u0D01\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62-\u0D63\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u200C-\u200D\u20D0-\u20DC\u20DD-\u20E0\u20E1\u20E2-\u20E4\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u302E-\u302F\u3099-\u309A\uA66F\uA670-\uA672\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E-\uFF9F]"),
      Su = [].slice,
      ku = function ku() {
    for (var e = [], t = 0; t < arguments.length; t++) {
      e[t] = arguments[t];
    }

    var n = Su.call(arguments);
    return function (e) {
      for (var t = 0; t < n.length; t++) {
        if (!n[t](e)) return !1;
      }

      return !0;
    };
  },
      Tu = function Tu() {
    for (var e = [], t = 0; t < arguments.length; t++) {
      e[t] = arguments[t];
    }

    var n = Su.call(arguments);
    return function (e) {
      for (var t = 0; t < n.length; t++) {
        if (n[t](e)) return !0;
      }

      return !1;
    };
  },
      Au = Ge.isElement,
      Mu = La,
      Ru = Ge.matchStyleValues("display", "block table"),
      Du = Ge.matchStyleValues("float", "left right"),
      _u = ku(Au, Mu, s(Du)),
      Bu = s(Ge.matchStyleValues("white-space", "pre pre-line pre-wrap")),
      Ou = Ge.isText,
      Hu = Ge.isBr,
      Pu = Xi.nodeIndex,
      Lu = Ka,
      Vu = function Vu(e) {
    return "createRange" in e ? e.createRange() : Xi.DOM.createRng();
  },
      Iu = function Iu(e) {
    var t, n;
    return t = 0 < (n = e.getClientRects()).length ? Ia(n[0]) : Ia(e.getBoundingClientRect()), !Ja(e) && Hu(e) && Za(t) ? function (e) {
      var t,
          n = e.ownerDocument,
          r = Vu(n),
          o = n.createTextNode("\xa0"),
          i = e.parentNode;
      return i.insertBefore(o, e), r.setStart(o, 0), r.setEnd(o, 1), t = Ia(r.getBoundingClientRect()), i.removeChild(o), t;
    }(e) : Za(t) && Ja(e) ? function (e) {
      var t = e.startContainer,
          n = e.endContainer,
          r = e.startOffset,
          o = e.endOffset;

      if (t === n && Ge.isText(n) && 0 === r && 1 === o) {
        var i = e.cloneRange();
        return i.setEndAfter(n), Iu(i);
      }

      return null;
    }(e) : t;
  },
      Fu = function Fu(e) {
    function r(e) {
      0 !== e.height && (0 < i.length && function (e, t) {
        return e.left === t.left && e.top === t.top && e.bottom === t.bottom && e.right === t.right;
      }(e, i[i.length - 1]) || i.push(e));
    }

    function t(e, t) {
      var n = Vu(e.ownerDocument);

      if (t < e.data.length) {
        if (Xa(e.data[t])) return i;
        if (Xa(e.data[t - 1]) && (n.setStart(e, t), n.setEnd(e, t + 1), !Qa(n))) return r(eu(Iu(n), !1)), i;
      }

      0 < t && (n.setStart(e, t - 1), n.setEnd(e, t), Qa(n) || r(eu(Iu(n), !1))), t < e.data.length && (n.setStart(e, t), n.setEnd(e, t + 1), Qa(n) || r(eu(Iu(n), !0)));
    }

    var n,
        o,
        i = [];
    if (Ou(e.container())) return t(e.container(), e.offset()), i;
    if (Au(e.container())) if (e.isAtEnd()) o = Lu(e.container(), e.offset()), Ou(o) && t(o, o.data.length), _u(o) && !Hu(o) && r(eu(Iu(o), !1));else {
      if (o = Lu(e.container(), e.offset()), Ou(o) && t(o, 0), _u(o) && e.isAtEnd()) return r(eu(Iu(o), !1)), i;
      n = Lu(e.container(), e.offset() - 1), _u(n) && !Hu(n) && (!Ru(n) && !Ru(o) && _u(o) || r(eu(Iu(n), !1))), _u(o) && r(eu(Iu(o), !0));
    }
    return i;
  };

  function Uu(t, n, e) {
    function r() {
      return e = e || Fu(Uu(t, n));
    }

    return {
      container: $(t),
      offset: $(n),
      toRange: function toRange() {
        var e;
        return (e = Vu(t.ownerDocument)).setStart(t, n), e.setEnd(t, n), e;
      },
      getClientRects: r,
      isVisible: function isVisible() {
        return 0 < r().length;
      },
      isAtStart: function isAtStart() {
        return Ou(t), 0 === n;
      },
      isAtEnd: function isAtEnd() {
        return Ou(t) ? n >= t.data.length : n >= t.childNodes.length;
      },
      isEqual: function isEqual(e) {
        return e && t === e.container() && n === e.offset();
      },
      getNode: function getNode(e) {
        return Lu(t, e ? n - 1 : n);
      }
    };
  }

  (tu = Uu = Uu || {}).fromRangeStart = function (e) {
    return tu(e.startContainer, e.startOffset);
  }, tu.fromRangeEnd = function (e) {
    return tu(e.endContainer, e.endOffset);
  }, tu.after = function (e) {
    return tu(e.parentNode, Pu(e) + 1);
  }, tu.before = function (e) {
    return tu(e.parentNode, Pu(e));
  }, tu.isAbove = function (e, t) {
    return Ya(E(t.getClientRects()), N(e.getClientRects()), ja).getOr(!1);
  }, tu.isBelow = function (e, t) {
    return Ya(N(t.getClientRects()), E(e.getClientRects()), qa).getOr(!1);
  }, tu.isAtStart = function (e) {
    return !!e && e.isAtStart();
  }, tu.isAtEnd = function (e) {
    return !!e && e.isAtEnd();
  }, tu.isTextPosition = function (e) {
    return !!e && Ge.isText(e.container());
  }, tu.isElementPosition = function (e) {
    return !1 === tu.isTextPosition(e);
  };

  function ju(t) {
    return function (e) {
      return t === e;
    };
  }

  function qu(e) {
    return (_s(e) ? "text()" : e.nodeName.toLowerCase()) + "[" + function (e) {
      var r, t, n;
      return r = Ps(Hs(e)), t = kn.findIndex(r, ju(e), e), r = r.slice(0, t + 1), n = kn.reduce(r, function (e, t, n) {
        return _s(t) && _s(r[n - 1]) && e++, e;
      }, 0), r = kn.filter(r, Ge.matchNodeNames([e.nodeName])), (t = kn.findIndex(r, ju(e), e)) - n;
    }(e) + "]";
  }

  function $u(e, t) {
    var n,
        r,
        o,
        i,
        a,
        u = [];
    return n = t.container(), r = t.offset(), _s(n) ? o = function (e, t) {
      for (; (e = e.previousSibling) && _s(e);) {
        t += e.data.length;
      }

      return t;
    }(n, r) : (r >= (i = n.childNodes).length ? (o = "after", r = i.length - 1) : o = "before", n = i[r]), u.push(qu(n)), a = function (e, t, n) {
      var r = [];

      for (t = t.parentNode; t !== e && (!n || !n(t)); t = t.parentNode) {
        r.push(t);
      }

      return r;
    }(e, n), a = kn.filter(a, s(Ge.isBogus)), (u = u.concat(kn.map(a, function (e) {
      return qu(e);
    }))).reverse().join("/") + "," + o;
  }

  function Wu(e, t) {
    var n, r, o;
    return t ? (t = (n = t.split(","))[0].split("/"), o = 1 < n.length ? n[1] : "before", (r = kn.reduce(t, function (e, t) {
      return (t = /([\w\-\(\)]+)\[([0-9]+)\]/.exec(t)) ? ("text()" === t[1] && (t[1] = "#text"), function (e, t, n) {
        var r = Ps(e);
        return r = kn.filter(r, function (e, t) {
          return !_s(e) || !_s(r[t - 1]);
        }), (r = kn.filter(r, Ge.matchNodeNames([t])))[n];
      }(e, t[1], parseInt(t[2], 10))) : null;
    }, e)) ? _s(r) ? function (e, t) {
      for (var n, r = e, o = 0; _s(r);) {
        if (n = r.data.length, o <= t && t <= o + n) {
          e = r, t -= o;
          break;
        }

        if (!_s(r.nextSibling)) {
          e = r, t = n;
          break;
        }

        o += n, r = r.nextSibling;
      }

      return _s(e) && t > e.data.length && (t = e.data.length), Ds(e, t);
    }(r, parseInt(o, 10)) : (o = "after" === o ? Os(r) + 1 : Os(r), Ds(r.parentNode, o)) : null) : null;
  }

  function Ku(e, t) {
    Ge.isText(t) && 0 === t.data.length && e.remove(t);
  }

  function Xu(e, t, n) {
    Ge.isDocumentFragment(n) ? function (t, e, n) {
      var r = k.from(n.firstChild),
          o = k.from(n.lastChild);
      e.insertNode(n), r.each(function (e) {
        return Ku(t, e.previousSibling);
      }), o.each(function (e) {
        return Ku(t, e.nextSibling);
      });
    }(e, t, n) : function (e, t, n) {
      t.insertNode(n), Ku(e, n.previousSibling), Ku(e, n.nextSibling);
    }(e, t, n);
  }

  function Yu(e, t, n, r, o) {
    var i,
        a = r[o ? "startContainer" : "endContainer"],
        u = r[o ? "startOffset" : "endOffset"],
        s = [],
        c = 0,
        l = e.getRoot();

    for (Ge.isText(a) ? s.push(n ? function (e, t, n) {
      var r, o;

      for (o = e(t.data.slice(0, n)).length, r = t.previousSibling; r && Ge.isText(r); r = r.previousSibling) {
        o += e(r.data).length;
      }

      return o;
    }(t, a, u) : u) : (u >= (i = a.childNodes).length && i.length && (c = 1, u = Math.max(0, i.length - 1)), s.push(e.nodeIndex(i[u], n) + c)); a && a !== l; a = a.parentNode) {
      s.push(e.nodeIndex(a, n));
    }

    return s;
  }

  function Gu(e, t, n) {
    var r = 0;
    return Mn.each(e.select(t), function (e) {
      if ("all" !== e.getAttribute("data-mce-bogus")) return e !== n && void r++;
    }), r;
  }

  function Ju(e, t) {
    var n,
        r,
        o,
        i = t ? "start" : "end";
    n = e[i + "Container"], r = e[i + "Offset"], Ge.isElement(n) && "TR" === n.nodeName && (n = (o = n.childNodes)[Math.min(t ? r : r - 1, o.length - 1)]) && (r = t ? 0 : n.childNodes.length, e["set" + (t ? "Start" : "End")](n, r));
  }

  function Qu(e) {
    return Ju(e, !0), Ju(e, !1), e;
  }

  function Zu(e, t) {
    var n;
    if (Ge.isElement(e) && (e = Ka(e, t), Ls(e))) return e;

    if (Da(e)) {
      if (Ge.isText(e) && Ma(e) && (e = e.parentNode), n = e.previousSibling, Ls(n)) return n;
      if (n = e.nextSibling, Ls(n)) return n;
    }
  }

  function es(e, t, n) {
    var r = n.getNode(),
        o = r ? r.nodeName : null,
        i = n.getRng();
    if (Ls(r) || "IMG" === o) return {
      name: o,
      index: Gu(n.dom, o, r)
    };

    var a = function (e) {
      return Zu(e.startContainer, e.startOffset) || Zu(e.endContainer, e.endOffset);
    }(i);

    return a ? {
      name: o = a.tagName,
      index: Gu(n.dom, o, a)
    } : function (e, t, n, r) {
      var o = t.dom,
          i = {};
      return i.start = Yu(o, e, n, r, !0), t.isCollapsed() || (i.end = Yu(o, e, n, r, !1)), i;
    }(e, n, t, i);
  }

  function ts(e, t, n) {
    var r = {
      "data-mce-type": "bookmark",
      id: t,
      style: "overflow:hidden;line-height:0px"
    };
    return n ? e.create("span", r, "&#xFEFF;") : e.create("span", r);
  }

  function ns(e, t) {
    var n = e.dom,
        r = e.getRng(),
        o = n.uniqueId(),
        i = e.isCollapsed(),
        a = e.getNode(),
        u = a.nodeName;
    if ("IMG" === u) return {
      name: u,
      index: Gu(n, u, a)
    };
    var s = Qu(r.cloneRange());

    if (!i) {
      s.collapse(!1);
      var c = ts(n, o + "_end", t);
      Xu(n, s, c);
    }

    (r = Qu(r)).collapse(!0);
    var l = ts(n, o + "_start", t);
    return Xu(n, r, l), e.moveToBookmark({
      id: o,
      keep: 1
    }), {
      id: o
    };
  }

  function rs(e) {
    return Ge.isElement(e) && e.id === Is;
  }

  function os(e, t) {
    for (; t && t !== e;) {
      if (t.id === Is) return t;
      t = t.parentNode;
    }

    return null;
  }

  function is(e) {
    var t = e.parentNode;
    t && t.removeChild(e);
  }

  function as(e, t) {
    0 === t.length ? is(e) : e.nodeValue = t;
  }

  function us(e) {
    var t = lu(e);
    return {
      count: e.length - t.length,
      text: t
    };
  }

  function ss(e, t) {
    return js(e), t;
  }

  function cs(e, t) {
    var n = t.container(),
        r = function (e, t) {
      var n = f(e, t);
      return -1 === n ? k.none() : k.some(n);
    }(P(n.childNodes), e).map(function (e) {
      return e < t.offset() ? Ds(n, t.offset() - 1) : t;
    }).getOr(t);

    return js(e), r;
  }

  function ls(e, t) {
    return Us(e) && t.container() === e ? function (e, t) {
      var n = us(e.data.substr(0, t.offset())),
          r = us(e.data.substr(t.offset())),
          o = n.text + r.text;
      return 0 < o.length ? (as(e, o), Ds(e, t.offset() - n.count)) : t;
    }(e, t) : ss(e, t);
  }

  function fs(e, t, n) {
    var r,
        o,
        i,
        a,
        u,
        s = Fa(t.getBoundingClientRect(), n);
    return i = "BODY" === e.tagName ? (r = e.ownerDocument.documentElement, o = e.scrollLeft || r.scrollLeft, e.scrollTop || r.scrollTop) : (u = e.getBoundingClientRect(), o = e.scrollLeft - u.left, e.scrollTop - u.top), s.left += o, s.right += o, s.top += i, s.bottom += i, s.width = 1, 0 < (a = t.offsetWidth - t.clientWidth) && (n && (a *= -1), s.left += a, s.right += a), s;
  }

  function ds(i, a, e) {
    var t,
        u,
        s = Je(k.none()),
        c = function c() {
      !function (e) {
        var t, n, r, o, i;

        for (t = vi("*[contentEditable=false]", e), o = 0; o < t.length; o++) {
          r = (n = t[o]).previousSibling, mu(r) && (1 === (i = r.data).length ? r.parentNode.removeChild(r) : r.deleteData(i.length - 1, 1)), r = n.nextSibling, hu(r) && (1 === (i = r.data).length ? r.parentNode.removeChild(r) : r.deleteData(0, 1));
        }
      }(i), u && (qs.remove(u), u = null), s.get().each(function (e) {
        vi(e.caret).remove(), s.set(k.none());
      }), pn.clearInterval(t);
    },
        l = function l() {
      t = pn.setInterval(function () {
        e() ? vi("div.mce-visual-caret", i).toggleClass("mce-visual-caret-hidden") : vi("div.mce-visual-caret", i).addClass("mce-visual-caret-hidden");
      }, 500);
    };

    return {
      show: function show(t, e) {
        var n, r;
        if (c(), function (e) {
          return Ge.isElement(e) && /^(TD|TH)$/i.test(e.tagName);
        }(e)) return null;
        if (!a(e)) return u = function (e, t) {
          var n, r, o;

          if (r = e.ownerDocument.createTextNode(cu), o = e.parentNode, t) {
            if (n = e.previousSibling, du(n)) {
              if (Da(n)) return n;
              if (mu(n)) return n.splitText(n.data.length - 1);
            }

            o.insertBefore(r, e);
          } else {
            if (n = e.nextSibling, du(n)) {
              if (Da(n)) return n;
              if (hu(n)) return n.splitText(1), n;
            }

            e.nextSibling ? o.insertBefore(r, e.nextSibling) : o.appendChild(r);
          }

          return r;
        }(e, t), r = e.ownerDocument.createRange(), Ws(u.nextSibling) ? (r.setStart(u, 0), r.setEnd(u, 0)) : (r.setStart(u, 1), r.setEnd(u, 1)), r;
        u = Ha("p", e, t), n = fs(i, e, t), vi(u).css("top", n.top);
        var o = vi('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(n).appendTo(i)[0];
        return s.set(k.some({
          caret: o,
          element: e,
          before: t
        })), s.get().each(function (e) {
          t && vi(e.caret).addClass("mce-visual-caret-before");
        }), l(), (r = e.ownerDocument.createRange()).setStart(u, 0), r.setEnd(u, 0), r;
      },
      hide: c,
      getCss: function getCss() {
        return ".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}";
      },
      reposition: function reposition() {
        s.get().each(function (e) {
          var t = fs(i, e.element, e.before);
          vi(e.caret).css(_G({}, t));
        });
      },
      destroy: function destroy() {
        return pn.clearInterval(t);
      }
    };
  }

  function hs() {
    return $s.isIE() || $s.isEdge() || $s.isFirefox();
  }

  function ms(e) {
    return Ws(e) || Ge.isTable(e) && hs();
  }

  function gs(e) {
    return 0 < e;
  }

  function ps(e) {
    return e < 0;
  }

  function vs(e, t) {
    for (var n; n = e(t);) {
      if (!Gs(n)) return n;
    }

    return null;
  }

  function ys(e, t, n, r, o) {
    var i = new yi(e, r);

    if (ps(t)) {
      if ((Ks(e) || Gs(e)) && n(e = vs(i.prev, !0))) return e;

      for (; e = vs(i.prev, o);) {
        if (n(e)) return e;
      }
    }

    if (gs(t)) {
      if ((Ks(e) || Gs(e)) && n(e = vs(i.next, !0))) return e;

      for (; e = vs(i.next, o);) {
        if (n(e)) return e;
      }
    }

    return null;
  }

  function bs(e, t) {
    for (; e && e !== t;) {
      if (Xs(e)) return e;
      e = e.parentNode;
    }

    return null;
  }

  function Cs(e, t, n) {
    return bs(e.container(), n) === bs(t.container(), n);
  }

  function ws(e, t) {
    var n, r;
    return t ? (n = t.container(), r = t.offset(), Js(n) ? n.childNodes[r + e] : null) : null;
  }

  function xs(e, t) {
    var n = t.ownerDocument.createRange();
    return e ? (n.setStartBefore(t), n.setEndBefore(t)) : (n.setStartAfter(t), n.setEndAfter(t)), n;
  }

  function zs(e, t, n) {
    var r, o, i, a;

    for (o = e ? "previousSibling" : "nextSibling"; n && n !== t;) {
      if (r = n[o], Ys(r) && (r = r[o]), Ks(r)) {
        if (a = n, bs(r, i = t) === bs(a, i)) return r;
        break;
      }

      if (Qs(r)) break;
      n = n.parentNode;
    }

    return null;
  }

  function Es(e, t, n) {
    var r,
        o,
        i,
        a,
        u = d(zs, !0, t),
        s = d(zs, !1, t);

    if (o = n.startContainer, i = n.startOffset, Ma(o)) {
      if (Js(o) || (o = o.parentNode), "before" === (a = o.getAttribute("data-mce-caret")) && (r = o.nextSibling, ms(r))) return Zs(r);
      if ("after" === a && (r = o.previousSibling, ms(r))) return ec(r);
    }

    if (!n.collapsed) return n;

    if (Ge.isText(o)) {
      if (Ys(o)) {
        if (1 === e) {
          if (r = s(o)) return Zs(r);
          if (r = u(o)) return ec(r);
        }

        if (-1 === e) {
          if (r = u(o)) return ec(r);
          if (r = s(o)) return Zs(r);
        }

        return n;
      }

      if (mu(o) && i >= o.data.length - 1) return 1 === e && (r = s(o)) ? Zs(r) : n;
      if (hu(o) && i <= 1) return -1 === e && (r = u(o)) ? ec(r) : n;
      if (i === o.data.length) return (r = s(o)) ? Zs(r) : n;
      if (0 === i) return (r = u(o)) ? ec(r) : n;
    }

    return n;
  }

  function Ns(e, t) {
    return k.from(ws(e ? 0 : -1, t)).filter(Ks);
  }

  function Ss(e, t, n) {
    var r = Es(e, t, n);
    return -1 === e ? Uu.fromRangeStart(r) : Uu.fromRangeEnd(r);
  }

  function ks(e) {
    return k.from(e.getNode()).map(yt.fromDom);
  }

  function Ts(e, t) {
    for (; t = e(t);) {
      if (t.isVisible()) return t;
    }

    return t;
  }

  function As(e, t) {
    var n = Cs(e, t);
    return !(n || !Ge.isBr(e.getNode())) || n;
  }

  var Ms,
      Rs,
      Ds = Uu,
      _s = Ge.isText,
      Bs = Ge.isBogus,
      Os = Xi.nodeIndex,
      Hs = function Hs(e) {
    var t = e.parentNode;
    return Bs(t) ? Hs(t) : t;
  },
      Ps = function Ps(e) {
    return e ? kn.reduce(e.childNodes, function (e, t) {
      return Bs(t) && "BR" !== t.nodeName ? e = e.concat(Ps(t)) : e.push(t), e;
    }, []) : [];
  },
      Ls = Ge.isContentEditableFalse,
      Vs = {
    getBookmark: function getBookmark(e, t, n) {
      return 2 === t ? es(lu, n, e) : 3 === t ? function (e) {
        var t = e.getRng();
        return {
          start: $u(e.dom.getRoot(), Ds.fromRangeStart(t)),
          end: $u(e.dom.getRoot(), Ds.fromRangeEnd(t))
        };
      }(e) : t ? function (e) {
        return {
          rng: e.getRng()
        };
      }(e) : ns(e, !1);
    },
    getUndoBookmark: d(es, W, !0),
    getPersistentBookmark: ns
  },
      Is = "_mce_caret",
      Fs = Ge.isElement,
      Us = Ge.isText,
      js = function js(e) {
    if (Fs(e) && Da(e) && (_a(e) ? e.removeAttribute("data-mce-caret") : is(e)), Us(e)) {
      var t = lu(function (e) {
        try {
          return e.nodeValue;
        } catch (t) {
          return "";
        }
      }(e));
      as(e, t);
    }
  },
      qs = {
    removeAndReposition: function removeAndReposition(e, t) {
      return Ds.isTextPosition(t) ? ls(e, t) : function (e, t) {
        return t.container() === e.parentNode ? cs(e, t) : ss(e, t);
      }(e, t);
    },
    remove: js
  },
      $s = oe().browser,
      Ws = Ge.isContentEditableFalse,
      Ks = Ge.isContentEditableFalse,
      Xs = Ge.matchStyleValues("display", "block table table-cell table-caption list-item"),
      Ys = Da,
      Gs = Ma,
      Js = Ge.isElement,
      Qs = La,
      Zs = d(xs, !0),
      ec = d(xs, !1);

  (Rs = Ms = Ms || {})[Rs.Backwards = -1] = "Backwards", Rs[Rs.Forwards = 1] = "Forwards";

  function tc(e, t) {
    return e.hasChildNodes() && t < e.childNodes.length ? e.childNodes[t] : null;
  }

  function nc(e, t) {
    if (gs(e)) {
      if (Ac(t.previousSibling) && !Sc(t.previousSibling)) return Ds.before(t);
      if (Sc(t)) return Ds(t, 0);
    }

    if (ps(e)) {
      if (Ac(t.nextSibling) && !Sc(t.nextSibling)) return Ds.after(t);
      if (Sc(t)) return Ds(t, t.data.length);
    }

    return ps(e) ? Tc(t) ? Ds.before(t) : Ds.after(t) : Ds.before(t);
  }

  function rc(t) {
    return {
      next: function next(e) {
        return Dc(Ms.Forwards, e, t);
      },
      prev: function prev(e) {
        return Dc(Ms.Backwards, e, t);
      }
    };
  }

  function oc(e) {
    return Ds.isTextPosition(e) ? 0 === e.offset() : La(e.getNode());
  }

  function ic(e) {
    if (Ds.isTextPosition(e)) {
      var t = e.container();
      return e.offset() === t.data.length;
    }

    return La(e.getNode(!0));
  }

  function ac(e, t) {
    return !Ds.isTextPosition(e) && !Ds.isTextPosition(t) && e.getNode() === t.getNode(!0);
  }

  function uc(e, t, n) {
    return e ? !ac(t, n) && !function (e) {
      return !Ds.isTextPosition(e) && Ge.isBr(e.getNode());
    }(t) && ic(t) && oc(n) : !ac(n, t) && oc(t) && ic(n);
  }

  function sc(t, n, r) {
    return _c(t, n, r).bind(function (e) {
      return Cs(r, e, n) && uc(t, r, e) ? _c(t, n, e) : k.some(e);
    });
  }

  function cc(e, t) {
    var n = e ? t.firstChild : t.lastChild;
    return Ge.isText(n) ? k.some(Ds(n, e ? 0 : n.data.length)) : n ? La(n) ? k.some(e ? Ds.before(n) : function (e) {
      return Ge.isBr(e) ? Ds.before(e) : Ds.after(e);
    }(n)) : function (e, t, n) {
      var r = e ? Ds.before(n) : Ds.after(n);
      return _c(e, t, r);
    }(e, t, n) : k.none();
  }

  function lc(e, t) {
    return Ge.isElement(t) && e.isBlock(t) && !t.innerHTML && !Nn.ie && (t.innerHTML = '<br data-mce-bogus="1" />'), t;
  }

  function fc(e, t) {
    return Pc.lastPositionIn(e).fold(function () {
      return !1;
    }, function (e) {
      return t.setStart(e.container(), e.offset()), t.setEnd(e.container(), e.offset()), !0;
    });
  }

  function dc(e, t, n) {
    return !(!function (e) {
      return !1 === e.hasChildNodes();
    }(t) || !os(e, t)) && (function (e, t) {
      var n = e.ownerDocument.createTextNode(cu);
      e.appendChild(n), t.setStart(n, 0), t.setEnd(n, 0);
    }(t, n), !0);
  }

  function hc(e, t, n, r) {
    var o,
        i,
        a,
        u,
        s = n[t ? "start" : "end"],
        c = e.getRoot();

    if (s) {
      for (a = s[0], i = c, o = s.length - 1; 1 <= o; o--) {
        if (u = i.childNodes, dc(c, i, r)) return !0;
        if (s[o] > u.length - 1) return !!dc(c, i, r) || fc(i, r);
        i = u[s[o]];
      }

      3 === i.nodeType && (a = Math.min(s[0], i.nodeValue.length)), 1 === i.nodeType && (a = Math.min(s[0], i.childNodes.length)), t ? r.setStart(i, a) : r.setEnd(i, a);
    }

    return !0;
  }

  function mc(e) {
    return Ge.isText(e) && 0 < e.data.length;
  }

  function gc(e, t, n) {
    var r,
        o,
        i,
        a,
        u,
        s,
        c = e.get(n.id + "_" + t),
        l = n.keep;

    if (c) {
      if (r = c.parentNode, s = (u = (o = "start" === t ? l ? c.hasChildNodes() ? (r = c.firstChild, 1) : mc(c.nextSibling) ? (r = c.nextSibling, 0) : mc(c.previousSibling) ? (r = c.previousSibling, c.previousSibling.data.length) : (r = c.parentNode, e.nodeIndex(c) + 1) : e.nodeIndex(c) : l ? c.hasChildNodes() ? (r = c.firstChild, 1) : mc(c.previousSibling) ? (r = c.previousSibling, c.previousSibling.data.length) : (r = c.parentNode, e.nodeIndex(c)) : e.nodeIndex(c), r), o), !l) {
        for (a = c.previousSibling, i = c.nextSibling, Mn.each(Mn.grep(c.childNodes), function (e) {
          Ge.isText(e) && (e.nodeValue = e.nodeValue.replace(/\uFEFF/g, ""));
        }); c = e.get(n.id + "_" + t);) {
          e.remove(c, !0);
        }

        a && i && a.nodeType === i.nodeType && Ge.isText(a) && !Nn.opera && (o = a.nodeValue.length, a.appendData(i.nodeValue), e.remove(i), s = (u = a, o));
      }

      return k.some(Ds(u, s));
    }

    return k.none();
  }

  function pc(e) {
    return e && /^(IMG)$/.test(e.nodeName);
  }

  function vc(e, t, n) {
    return "color" !== n && "backgroundColor" !== n || (t = e.toHex(t)), "fontWeight" === n && 700 === t && (t = "bold"), "fontFamily" === n && (t = t.replace(/[\'\"]/g, "").replace(/,\s+/g, ",")), "" + t;
  }

  function yc(e, t) {
    for (void 0 === t && (t = 3 === e.nodeType ? e.length : e.childNodes.length); e && e.hasChildNodes();) {
      (e = e.childNodes[t]) && (t = 3 === e.nodeType ? e.length : e.childNodes.length);
    }

    return {
      node: e,
      offset: t
    };
  }

  function bc(e, t) {
    for (var n = t; n;) {
      if (1 === n.nodeType && e.getContentEditable(n)) return "false" === e.getContentEditable(n) ? n : t;
      n = n.parentNode;
    }

    return t;
  }

  function Cc(e, t, n, r) {
    var o,
        i,
        a = n.nodeValue;
    return void 0 === r && (r = e ? a.length : 0), e ? (o = a.lastIndexOf(" ", r), -1 !== (o = (i = a.lastIndexOf("\xa0", r)) < o ? o : i) && !t && (o < r || !e) && o <= a.length && o++) : (o = a.indexOf(" ", r), i = a.indexOf("\xa0", r), o = -1 !== o && (-1 === i || o < i) ? o : i), o;
  }

  function wc(e, t, n, r, o, i) {
    var a, u, s;

    if (3 === n.nodeType) {
      if (-1 !== (u = Cc(o, i, n, r))) return {
        container: n,
        offset: u
      };
      s = n;
    }

    for (var c = new yi(n, e.getParent(n, e.isBlock) || t); a = c[o ? "prev" : "next"]();) {
      if (3 !== a.nodeType || qc(a.parentNode)) {
        if (e.isBlock(a) || jc.isEq(a, "BR")) break;
      } else if (-1 !== (u = Cc(o, i, s = a))) return {
        container: a,
        offset: u
      };
    }

    if (s) return {
      container: s,
      offset: r = o ? 0 : s.length
    };
  }

  function xc(e, t, n, r, o) {
    var i, a, u, s;

    for (3 === r.nodeType && 0 === r.nodeValue.length && r[o] && (r = r[o]), i = $c(e, r), a = 0; a < i.length; a++) {
      for (u = 0; u < t.length; u++) {
        if (!("collapsed" in (s = t[u]) && s.collapsed !== n.collapsed) && e.is(i[a], s.selector)) return i[a];
      }
    }

    return r;
  }

  function zc(t, e, n, r) {
    var o,
        i = t.dom,
        a = i.getRoot();

    if (e[0].wrapper || (o = i.getParent(n, e[0].block, a)), !o) {
      var u = i.getParent(n, "LI,TD,TH");
      o = i.getParent(3 === n.nodeType ? n.parentNode : n, function (e) {
        return e !== a && Kc(t, e);
      }, u);
    }

    if (o && e[0].wrapper && (o = $c(i, o, "ul,ol").reverse()[0] || o), !o) for (o = n; o[r] && !i.isBlock(o[r]) && (o = o[r], !jc.isEq(o, "br"));) {
      ;
    }
    return o || n;
  }

  function Ec(e, t, n, r, o, i, a) {
    var u, s, c, l, f, d;
    if (u = s = a ? n : o, l = a ? "previousSibling" : "nextSibling", f = e.getRoot(), 3 === u.nodeType && !Wc(u) && (a ? 0 < r : i < u.nodeValue.length)) return u;

    for (;;) {
      if (!t[0].block_expand && e.isBlock(s)) return s;

      for (c = s[l]; c; c = c[l]) {
        if (!qc(c) && !Wc(c) && ("BR" !== (d = c).nodeName || !d.getAttribute("data-mce-bogus") || d.nextSibling)) return s;
      }

      if (s === f || s.parentNode === f) {
        u = s;
        break;
      }

      s = s.parentNode;
    }

    return u;
  }

  var Nc = Ge.isContentEditableFalse,
      Sc = Ge.isText,
      kc = Ge.isElement,
      Tc = Ge.isBr,
      Ac = La,
      Mc = function Mc(e) {
    return Cu(e) || function (e) {
      return !!zu(e) && !0 !== b(P(e.getElementsByTagName("*")), function (e, t) {
        return e || gu(t);
      }, !1);
    }(e);
  },
      Rc = Va,
      Dc = function Dc(e, t, n) {
    var r, o, i, a, u;
    if (!kc(n) || !t) return null;

    if (t.isEqual(Ds.after(n)) && n.lastChild) {
      if (u = Ds.after(n.lastChild), ps(e) && Ac(n.lastChild) && kc(n.lastChild)) return Tc(n.lastChild) ? Ds.before(n.lastChild) : u;
    } else u = t;

    var s = u.container(),
        c = u.offset();

    if (Sc(s)) {
      if (ps(e) && 0 < c) return Ds(s, --c);
      if (gs(e) && c < s.length) return Ds(s, ++c);
      r = s;
    } else {
      if (ps(e) && 0 < c && (o = tc(s, c - 1), Ac(o))) return !Mc(o) && (i = ys(o, e, Rc, o)) ? Sc(i) ? Ds(i, i.data.length) : Ds.after(i) : Sc(o) ? Ds(o, o.data.length) : Ds.before(o);
      if (gs(e) && c < s.childNodes.length && (o = tc(s, c), Ac(o))) return Tc(o) ? function (e, t) {
        var n = t.nextSibling;
        return n && Ac(n) ? Sc(n) ? Ds(n, 0) : Ds.before(n) : Dc(Ms.Forwards, Ds.after(t), e);
      }(n, o) : !Mc(o) && (i = ys(o, e, Rc, o)) ? Sc(i) ? Ds(i, 0) : Ds.before(i) : Sc(o) ? Ds(o, 0) : Ds.after(o);
      r = o || u.getNode();
    }

    return (gs(e) && u.isAtEnd() || ps(e) && u.isAtStart()) && (r = ys(r, e, $(!0), n, !0), Rc(r, n)) ? nc(e, r) : (o = ys(r, e, Rc, n), !(a = kn.last(y(function (e, t) {
      for (var n = []; e && e !== t;) {
        n.push(e), e = e.parentNode;
      }

      return n;
    }(s, n), Nc))) || o && a.contains(o) ? o ? nc(e, o) : null : u = gs(e) ? Ds.after(a) : Ds.before(a));
  },
      _c = function _c(e, t, n) {
    var r = rc(t);
    return k.from(e ? r.next(n) : r.prev(n));
  },
      Bc = function Bc(t, n, e, r) {
    return sc(t, n, e).bind(function (e) {
      return r(e) ? Bc(t, n, e, r) : k.some(e);
    });
  },
      Oc = d(_c, !0),
      Hc = d(_c, !1),
      Pc = {
    fromPosition: _c,
    nextPosition: Oc,
    prevPosition: Hc,
    navigate: sc,
    navigateIgnore: Bc,
    positionIn: cc,
    firstPositionIn: d(cc, !0),
    lastPositionIn: d(cc, !1)
  },
      Lc = function Lc(e, t) {
    var n = e.dom;

    if (t) {
      if (function (e) {
        return Mn.isArray(e.start);
      }(t)) return function (e, t) {
        var n = e.createRng();
        return hc(e, !0, t, n) && hc(e, !1, t, n) ? k.some(n) : k.none();
      }(n, t);
      if (function (e) {
        return "string" == typeof e.start;
      }(t)) return k.some(function (e, t) {
        var n, r;
        return n = e.createRng(), r = Wu(e.getRoot(), t.start), n.setStart(r.container(), r.offset()), r = Wu(e.getRoot(), t.end), n.setEnd(r.container(), r.offset()), n;
      }(n, t));
      if (function (e) {
        return e.hasOwnProperty("id");
      }(t)) return function (r, e) {
        var t = gc(r, "start", e),
            n = gc(r, "end", e);
        return Ya(t, n.or(t), function (e, t) {
          var n = r.createRng();
          return n.setStart(lc(r, e.container()), e.offset()), n.setEnd(lc(r, t.container()), t.offset()), n;
        });
      }(n, t);
      if (function (e) {
        return e.hasOwnProperty("name");
      }(t)) return function (n, e) {
        return k.from(n.select(e.name)[e.index]).map(function (e) {
          var t = n.createRng();
          return t.selectNode(e), t;
        });
      }(n, t);
      if (function (e) {
        return e.hasOwnProperty("rng");
      }(t)) return k.some(t.rng);
    }

    return k.none();
  },
      Vc = function Vc(e, t, n) {
    return Vs.getBookmark(e, t, n);
  },
      Ic = function Ic(t, e) {
    Lc(t, e).each(function (e) {
      t.setRng(e);
    });
  },
      Fc = function Fc(e) {
    return Ge.isElement(e) && "SPAN" === e.tagName && "bookmark" === e.getAttribute("data-mce-type");
  },
      Uc = function Uc(e) {
    return e && 3 === e.nodeType && /^([\t \r\n]+|)$/.test(e.nodeValue);
  },
      jc = {
    isInlineBlock: pc,
    moveStart: function moveStart(e, t, n) {
      var r,
          o,
          i,
          a = n.startOffset,
          u = n.startContainer;
      if ((n.startContainer !== n.endContainer || !pc(n.startContainer.childNodes[n.startOffset])) && 1 === u.nodeType) for (a < (i = u.childNodes).length ? (u = i[a], r = new yi(u, e.getParent(u, e.isBlock))) : (u = i[i.length - 1], (r = new yi(u, e.getParent(u, e.isBlock))).next(!0)), o = r.current(); o; o = r.next()) {
        if (3 === o.nodeType && !Uc(o)) return n.setStart(o, 0), void t.setRng(n);
      }
    },
    getNonWhiteSpaceSibling: function getNonWhiteSpaceSibling(e, t, n) {
      if (e) for (t = t ? "nextSibling" : "previousSibling", e = n ? e : e[t]; e; e = e[t]) {
        if (1 === e.nodeType || !Uc(e)) return e;
      }
    },
    isTextBlock: function isTextBlock(e, t) {
      return t.nodeType && (t = t.nodeName), !!e.schema.getTextBlockElements()[t.toLowerCase()];
    },
    isValid: function isValid(e, t, n) {
      return e.schema.isValidChild(t, n);
    },
    isWhiteSpaceNode: Uc,
    replaceVars: function replaceVars(e, n) {
      return "string" != typeof e ? e = e(n) : n && (e = e.replace(/%(\w+)/g, function (e, t) {
        return n[t] || e;
      })), e;
    },
    isEq: function isEq(e, t) {
      return e = "" + ((e = e || "").nodeName || e), t = "" + ((t = t || "").nodeName || t), e.toLowerCase() === t.toLowerCase();
    },
    normalizeStyleValue: vc,
    getStyle: function getStyle(e, t, n) {
      return vc(e, e.getStyle(t, n), n);
    },
    getTextDecoration: function getTextDecoration(t, e) {
      var n;
      return t.getParent(e, function (e) {
        return (n = t.getStyle(e, "text-decoration")) && "none" !== n;
      }), n;
    },
    getParents: function getParents(e, t, n) {
      return e.getParents(t, n, e.getRoot());
    }
  },
      qc = Fc,
      $c = jc.getParents,
      Wc = jc.isWhiteSpaceNode,
      Kc = jc.isTextBlock,
      Xc = function Xc(e, t, n, r) {
    var o,
        i = t.startContainer,
        a = t.startOffset,
        u = t.endContainer,
        s = t.endOffset,
        c = e.dom;
    return 1 === i.nodeType && i.hasChildNodes() && 3 === (i = Ka(i, a)).nodeType && (a = 0), 1 === u.nodeType && u.hasChildNodes() && 3 === (u = Ka(u, t.collapsed ? s : s - 1)).nodeType && (s = u.nodeValue.length), i = bc(c, i), u = bc(c, u), (qc(i.parentNode) || qc(i)) && (i = qc(i) ? i : i.parentNode, 3 === (i = t.collapsed ? i.previousSibling || i : i.nextSibling || i).nodeType && (a = t.collapsed ? i.length : 0)), (qc(u.parentNode) || qc(u)) && (u = qc(u) ? u : u.parentNode, 3 === (u = t.collapsed ? u.nextSibling || u : u.previousSibling || u).nodeType && (s = t.collapsed ? 0 : u.length)), t.collapsed && ((o = wc(c, e.getBody(), i, a, !0, r)) && (i = o.container, a = o.offset), (o = wc(c, e.getBody(), u, s, !1, r)) && (u = o.container, s = o.offset)), n[0].inline && (u = r ? u : function (e, t) {
      var n = yc(e, t);

      if (n.node) {
        for (; n.node && 0 === n.offset && n.node.previousSibling;) {
          n = yc(n.node.previousSibling);
        }

        n.node && 0 < n.offset && 3 === n.node.nodeType && " " === n.node.nodeValue.charAt(n.offset - 1) && 1 < n.offset && (e = n.node).splitText(n.offset - 1);
      }

      return e;
    }(u, s)), (n[0].inline || n[0].block_expand) && (n[0].inline && 3 === i.nodeType && 0 !== a || (i = Ec(c, n, i, a, u, s, !0)), n[0].inline && 3 === u.nodeType && s !== u.nodeValue.length || (u = Ec(c, n, i, a, u, s, !1))), n[0].selector && !1 !== n[0].expand && !n[0].inline && (i = xc(c, n, t, i, "previousSibling"), u = xc(c, n, t, u, "nextSibling")), (n[0].block || n[0].selector) && (i = zc(e, n, i, "previousSibling"), u = zc(e, n, u, "nextSibling"), n[0].block && (c.isBlock(i) || (i = Ec(c, n, i, a, u, s, !0)), c.isBlock(u) || (u = Ec(c, n, i, a, u, s, !1)))), 1 === i.nodeType && (a = c.nodeIndex(i), i = i.parentNode), 1 === u.nodeType && (s = c.nodeIndex(u) + 1, u = u.parentNode), {
      startContainer: i,
      startOffset: a,
      endContainer: u,
      endOffset: s
    };
  },
      Yc = Mn.each,
      Gc = function Gc(e, t, o) {
    var n,
        r,
        i,
        a,
        u,
        s,
        c,
        l = t.startContainer,
        f = t.startOffset,
        d = t.endContainer,
        h = t.endOffset;
    if (0 < (c = e.select("td[data-mce-selected],th[data-mce-selected]")).length) Yc(c, function (e) {
      o([e]);
    });else {
      var m = function m(e) {
        var t;
        return 3 === (t = e[0]).nodeType && t === l && f >= t.nodeValue.length && e.splice(0, 1), t = e[e.length - 1], 0 === h && 0 < e.length && t === d && 3 === t.nodeType && e.splice(e.length - 1, 1), e;
      },
          g = function g(e, t, n) {
        for (var r = []; e && e !== n; e = e[t]) {
          r.push(e);
        }

        return r;
      },
          p = function p(e, t) {
        do {
          if (e.parentNode === t) return e;
          e = e.parentNode;
        } while (e);
      },
          v = function v(e, t, n) {
        var r = n ? "nextSibling" : "previousSibling";

        for (u = (a = e).parentNode; a && a !== t; a = u) {
          u = a.parentNode, (s = g(a === e ? a : a[r], r)).length && (n || s.reverse(), o(m(s)));
        }
      };

      if (1 === l.nodeType && l.hasChildNodes() && (l = l.childNodes[f]), 1 === d.nodeType && d.hasChildNodes() && (d = function (e, t) {
        var n = e.childNodes;
        return --t > n.length - 1 ? t = n.length - 1 : t < 0 && (t = 0), n[t] || e;
      }(d, h)), l === d) return o(m([l]));

      for (n = e.findCommonAncestor(l, d), a = l; a; a = a.parentNode) {
        if (a === d) return v(l, n, !0);
        if (a === n) break;
      }

      for (a = d; a; a = a.parentNode) {
        if (a === l) return v(d, n);
        if (a === n) break;
      }

      r = p(l, n) || l, i = p(d, n) || d, v(l, r, !0), (s = g(r === l ? r : r.nextSibling, "nextSibling", i === d ? i.nextSibling : i)).length && o(m(s)), v(d, i);
    }
  };

  function Jc(e) {
    return ol.get(e);
  }

  function Qc(t, n, r, o) {
    return Se(n).fold(function () {
      return "skipping";
    }, function (e) {
      return "br" === o || function (e) {
        return zt(e) && "\uFEFF" === Jc(e);
      }(n) ? "valid" : function (e) {
        return xt(e) && ha(e, nu());
      }(n) ? "existing" : rs(n) ? "caret" : jc.isValid(t, r, o) && jc.isValid(t, ie(e), r) ? "valid" : "invalid-child";
    });
  }

  function Zc(e, t, n, r) {
    var o = t.uid,
        i = void 0 === o ? function (e) {
      var t = new Date().getTime();
      return e + "_" + Math.floor(1e9 * Math.random()) + ++au + String(t);
    }("mce-annotation") : o,
        a = function h(e, t) {
      var n = {};

      for (var r in e) {
        Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r]);
      }

      if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
        var o = 0;

        for (r = Object.getOwnPropertySymbols(e); o < r.length; o++) {
          t.indexOf(r[o]) < 0 && Object.prototype.propertyIsEnumerable.call(e, r[o]) && (n[r[o]] = e[r[o]]);
        }
      }

      return n;
    }(t, ["uid"]),
        u = yt.fromTag("span", e);

    fa(u, nu()), Tt(u, "" + ou(), i), Tt(u, "" + ru(), n);
    var s = r(i, a),
        c = s.attributes,
        l = void 0 === c ? {} : c,
        f = s.classes,
        d = void 0 === f ? [] : f;
    return me(u, l), function (t, e) {
      z(e, function (e) {
        fa(t, e);
      });
    }(u, d), u;
  }

  function el(n, e, t, r, o) {
    function i() {
      c.set(k.none());
    }

    function a(e) {
      z(e, l);
    }

    var u = [],
        s = Zc(n.getDoc(), o, t, r),
        c = Je(k.none()),
        l = function l(e) {
      switch (Qc(n, e, "span", ie(e))) {
        case "invalid-child":
          i();
          var t = Re(e);
          a(t), i();
          break;

        case "valid":
          !function (e, t) {
            Ci(e, t), Di(t, e);
          }(e, c.get().getOrThunk(function () {
            var e = ka(s);
            return u.push(e), c.set(k.some(e)), e;
          }));
      }
    };

    return Gc(n.dom, e, function (e) {
      i(), function (e) {
        var t = X(e, yt.fromDom);
        a(t);
      }(e);
    }), u;
  }

  function tl(o, i, a, u) {
    o.undoManager.transact(function () {
      var e = o.selection.getRng();

      if (e.collapsed && function (e, t) {
        var n = Xc(e, t, [{
          inline: !0
        }], function (e) {
          return 3 === e.startContainer.nodeType && e.startContainer.nodeValue.length >= e.startOffset && "\xa0" === e.startContainer.nodeValue[e.startOffset];
        }(t));
        t.setStart(n.startContainer, n.startOffset), t.setEnd(n.endContainer, n.endOffset), e.selection.setRng(t);
      }(o, e), o.selection.getRng().collapsed) {
        var t = Zc(o.getDoc(), u, i, a.decorate);
        Aa(t, "\xa0"), o.selection.getRng().insertNode(t.dom()), o.selection.select(t.dom());
      } else {
        var n = Vs.getPersistentBookmark(o.selection, !1),
            r = o.selection.getRng();
        el(o, r, i, a.decorate, u), o.selection.moveToBookmark(n);
      }
    });
  }

  function nl(r) {
    var o = function () {
      var n = {};
      return {
        register: function register(e, t) {
          n[e] = {
            name: e,
            settings: t
          };
        },
        lookup: function lookup(e) {
          return n.hasOwnProperty(e) ? k.from(n[e]).map(function (e) {
            return e.settings;
          }) : k.none();
        }
      };
    }();

    Na(r, o);
    var n = Ea(r);
    return {
      register: function register(e, t) {
        o.register(e, t);
      },
      annotate: function annotate(t, n) {
        o.lookup(t).each(function (e) {
          tl(r, t, e, n);
        });
      },
      annotationChanged: function annotationChanged(e, t) {
        n.addListener(e, t);
      },
      remove: function remove(e) {
        za(r, k.some(e)).each(function (e) {
          var t = e.elements;
          z(t, Ni);
        });
      },
      getAll: function getAll(e) {
        var t = function (e, t) {
          var n = yt.fromDom(e.getBody()),
              r = ma(n, "[" + ru() + '="' + t + '"]'),
              o = {};
          return z(r, function (e) {
            var t = ge(e, ou()),
                n = o.hasOwnProperty(t) ? o[t] : [];
            o[t] = n.concat([e]);
          }), o;
        }(r, e);

        return se(t, function (e) {
          return X(e, function (e) {
            return e.dom();
          });
        });
      }
    };
  }

  function rl(e, t, n) {
    var r = n ? "lastChild" : "firstChild",
        o = n ? "prev" : "next";
    if (e[r]) return e[r];

    if (e !== t) {
      var i = e[o];
      if (i) return i;

      for (var a = e.parent; a && a !== t; a = a.parent) {
        if (i = a[o]) return i;
      }
    }
  }

  var ol = function bN(n, r) {
    var t = function t(e) {
      return n(e) ? k.from(e.dom().nodeValue) : k.none();
    };

    return {
      get: function get(e) {
        if (!n(e)) throw new Error("Can only get " + r + " value of a " + r + " node");
        return t(e).getOr("");
      },
      getOption: t,
      set: function set(e, t) {
        if (!n(e)) throw new Error("Can only set raw " + r + " value of a " + r + " node");
        e.dom().nodeValue = t;
      }
    };
  }(zt, "text"),
      il = /^[ \t\r\n]*$/,
      al = {
    "#text": 3,
    "#comment": 8,
    "#cdata": 4,
    "#pi": 7,
    "#doctype": 10,
    "#document-fragment": 11
  },
      ul = (sl.create = function (e, t) {
    var n = new sl(e, al[e] || 1);
    if (t) for (var r in t) {
      n.attr(r, t[r]);
    }
    return n;
  }, sl.prototype.replace = function (e) {
    return e.parent && e.remove(), this.insert(e, this), this.remove(), this;
  }, sl.prototype.attr = function (e, t) {
    var n;

    if ("string" != typeof e) {
      for (var r in e) {
        this.attr(r, e[r]);
      }

      return this;
    }

    if (n = this.attributes) {
      if (t === undefined) return n.map[e];

      if (null === t) {
        if (e in n.map) {
          delete n.map[e];

          for (var o = n.length; o--;) {
            if (n[o].name === e) return n.splice(o, 1), this;
          }
        }

        return this;
      }

      if (e in n.map) {
        for (o = n.length; o--;) {
          if (n[o].name === e) {
            n[o].value = t;
            break;
          }
        }
      } else n.push({
        name: e,
        value: t
      });

      return n.map[e] = t, this;
    }
  }, sl.prototype.clone = function () {
    var e,
        t = new sl(this.name, this.type);

    if (e = this.attributes) {
      var n = [];
      n.map = {};

      for (var r = 0, o = e.length; r < o; r++) {
        var i = e[r];
        "id" !== i.name && (n[n.length] = {
          name: i.name,
          value: i.value
        }, n.map[i.name] = i.value);
      }

      t.attributes = n;
    }

    return t.value = this.value, t.shortEnded = this.shortEnded, t;
  }, sl.prototype.wrap = function (e) {
    return this.parent.insert(e, this), e.append(this), this;
  }, sl.prototype.unwrap = function () {
    for (var e = this.firstChild; e;) {
      var t = e.next;
      this.insert(e, this, !0), e = t;
    }

    this.remove();
  }, sl.prototype.remove = function () {
    var e = this.parent,
        t = this.next,
        n = this.prev;
    return e && (e.firstChild === this ? (e.firstChild = t) && (t.prev = null) : n.next = t, e.lastChild === this ? (e.lastChild = n) && (n.next = null) : t.prev = n, this.parent = this.next = this.prev = null), this;
  }, sl.prototype.append = function (e) {
    e.parent && e.remove();
    var t = this.lastChild;
    return t ? ((t.next = e).prev = t, this.lastChild = e) : this.lastChild = this.firstChild = e, e.parent = this, e;
  }, sl.prototype.insert = function (e, t, n) {
    e.parent && e.remove();
    var r = t.parent || this;
    return n ? (t === r.firstChild ? r.firstChild = e : t.prev.next = e, e.prev = t.prev, (e.next = t).prev = e) : (t === r.lastChild ? r.lastChild = e : t.next.prev = e, e.next = t.next, (e.prev = t).next = e), e.parent = r, e;
  }, sl.prototype.getAll = function (e) {
    for (var t = [], n = this.firstChild; n; n = rl(n, this)) {
      n.name === e && t.push(n);
    }

    return t;
  }, sl.prototype.empty = function () {
    if (this.firstChild) {
      for (var e = [], t = this.firstChild; t; t = rl(t, this)) {
        e.push(t);
      }

      for (var n = e.length; n--;) {
        (t = e[n]).parent = t.firstChild = t.lastChild = t.next = t.prev = null;
      }
    }

    return this.firstChild = this.lastChild = null, this;
  }, sl.prototype.isEmpty = function (e, t, n) {
    void 0 === t && (t = {});
    var r = this.firstChild;
    if (r) do {
      if (1 === r.type) {
        if (r.attr("data-mce-bogus")) continue;
        if (e[r.name]) return !1;

        for (var o = r.attributes.length; o--;) {
          var i = r.attributes[o].name;
          if ("name" === i || 0 === i.indexOf("data-mce-bookmark")) return !1;
        }
      }

      if (8 === r.type) return !1;
      if (3 === r.type && !il.test(r.value)) return !1;
      if (3 === r.type && r.parent && t[r.parent.name] && il.test(r.value)) return !1;
      if (n && n(r)) return !1;
    } while (r = rl(r, this));
    return !0;
  }, sl.prototype.walk = function (e) {
    return rl(this, null, e);
  }, sl);

  function sl(e, t) {
    this.name = e, 1 === (this.type = t) && (this.attributes = [], this.attributes.map = {});
  }

  function cl(e, t, n) {
    var r,
        o,
        i,
        a,
        u = 1;

    for (a = e.getShortEndedElements(), (i = /<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex = r = n; o = i.exec(t);) {
      if (r = i.lastIndex, "/" === o[1]) u--;else if (!o[1]) {
        if (o[2] in a) continue;
        u++;
      }
      if (0 === u) break;
    }

    return r;
  }

  function ll(e, t) {
    var n = e.exec(t);

    if (n) {
      var r = n[1],
          o = n[2];
      return "string" == typeof r && "data-mce-bogus" === r.toLowerCase() ? o : null;
    }

    return null;
  }

  function fl(V, I) {
    void 0 === I && (I = pr());

    function e() {}

    !1 !== (V = V || {}).fix_self_closing && (V.fix_self_closing = !0);
    var F = V.comment ? V.comment : e,
        U = V.cdata ? V.cdata : e,
        j = V.text ? V.text : e,
        q = V.start ? V.start : e,
        $ = V.end ? V.end : e,
        W = V.pi ? V.pi : e,
        K = V.doctype ? V.doctype : e;
    return {
      parse: function parse(e) {
        function t(e) {
          var t, n;

          for (t = _.length; t-- && _[t].name !== e;) {
            ;
          }

          if (0 <= t) {
            for (n = _.length - 1; t <= n; n--) {
              (e = _[n]).valid && $(e.name);
            }

            _.length = t;
          }
        }

        function n(e, t, n, r, o) {
          var i, a;

          if (n = (t = t.toLowerCase()) in h ? t : O(n || r || o || ""), g && !l && !1 === function (e) {
            return 0 === e.indexOf("data-") || 0 === e.indexOf("aria-");
          }(t)) {
            if (!(i = C[t]) && w) {
              for (a = w.length; a-- && !(i = w[a]).pattern.test(t);) {
                ;
              }

              -1 === a && (i = null);
            }

            if (!i) return;
            if (i.validValues && !(n in i.validValues)) return;
          }

          if (H[t] && !V.allow_script_urls) {
            var u = n.replace(/[\s\u0000-\u001F]+/g, "");

            try {
              u = decodeURIComponent(u);
            } catch (s) {
              u = unescape(u);
            }

            if (P.test(u)) return;
            if (function (e, t) {
              return !e.allow_html_data_urls && (/^data:image\//i.test(t) ? !1 === e.allow_svg_data_urls && /^data:image\/svg\+xml/i.test(t) : /^data:/i.test(t));
            }(V, u)) return;
          }

          l && (t in H || 0 === t.indexOf("on")) || (c.map[t] = n, c.push({
            name: t,
            value: n
          }));
        }

        var r,
            o,
            i,
            c,
            a,
            u,
            s,
            l,
            f,
            d,
            h,
            m,
            g,
            p,
            v,
            y,
            b,
            C,
            w,
            x,
            z,
            E,
            N,
            S,
            k,
            T,
            A,
            M,
            R,
            D = 0,
            _ = [],
            B = 0,
            O = ir.decode,
            H = Mn.makeMap("src,href,data,background,formaction,poster,xlink:href"),
            P = /((java|vb)script|mhtml):/i;

        for (k = new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))", "g"), T = /([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g, d = I.getShortEndedElements(), S = V.self_closing_elements || I.getSelfClosingElements(), h = I.getBoolAttrs(), g = V.validate, f = V.remove_internals, R = V.fix_self_closing, A = I.getSpecialElements(), N = e + ">"; r = k.exec(N);) {
          if (D < r.index && j(O(e.substr(D, r.index - D))), o = r[6]) ":" === (o = o.toLowerCase()).charAt(0) && (o = o.substr(1)), t(o);else if (o = r[7]) {
            if (r.index + r[0].length > e.length) {
              j(O(e.substr(r.index))), D = r.index + r[0].length;
              continue;
            }

            ":" === (o = o.toLowerCase()).charAt(0) && (o = o.substr(1)), m = o in d, R && S[o] && 0 < _.length && _[_.length - 1].name === o && t(o);
            var L = ll(T, r[8]);

            if (null !== L) {
              if ("all" === L) {
                D = cl(I, e, k.lastIndex), k.lastIndex = D;
                continue;
              }

              v = !1;
            }

            if (!g || (p = I.getElementRule(o))) {
              if (v = !0, g && (C = p.attributes, w = p.attributePatterns), (b = r[8]) ? ((l = -1 !== b.indexOf("data-mce-type")) && f && (v = !1), (c = []).map = {}, b.replace(T, n)) : (c = []).map = {}, g && !l) {
                if (x = p.attributesRequired, z = p.attributesDefault, E = p.attributesForced, p.removeEmptyAttrs && !c.length && (v = !1), E) for (a = E.length; a--;) {
                  s = (y = E[a]).name, "{$uid}" === (M = y.value) && (M = "mce_" + B++), c.map[s] = M, c.push({
                    name: s,
                    value: M
                  });
                }
                if (z) for (a = z.length; a--;) {
                  (s = (y = z[a]).name) in c.map || ("{$uid}" === (M = y.value) && (M = "mce_" + B++), c.map[s] = M, c.push({
                    name: s,
                    value: M
                  }));
                }

                if (x) {
                  for (a = x.length; a-- && !(x[a] in c.map);) {
                    ;
                  }

                  -1 === a && (v = !1);
                }

                if (y = c.map["data-mce-bogus"]) {
                  if ("all" === y) {
                    D = cl(I, e, k.lastIndex), k.lastIndex = D;
                    continue;
                  }

                  v = !1;
                }
              }

              v && q(o, c, m);
            } else v = !1;

            if (i = A[o]) {
              i.lastIndex = D = r.index + r[0].length, D = (r = i.exec(e)) ? (v && (u = e.substr(D, r.index - D)), r.index + r[0].length) : (u = e.substr(D), e.length), v && (0 < u.length && j(u, !0), $(o)), k.lastIndex = D;
              continue;
            }

            m || (b && b.indexOf("/") === b.length - 1 ? v && $(o) : _.push({
              name: o,
              valid: v
            }));
          } else (o = r[1]) ? (">" === o.charAt(0) && (o = " " + o), V.allow_conditional_comments || "[if" !== o.substr(0, 3).toLowerCase() || (o = " " + o), F(o)) : (o = r[2]) ? U(o.replace(/<!--|-->/g, "")) : (o = r[3]) ? K(o) : (o = r[4]) && W(o, r[5]);
          D = r.index + r[0].length;
        }

        for (D < e.length && j(O(e.substr(D))), a = _.length - 1; 0 <= a; a--) {
          (o = _[a]).valid && $(o.name);
        }
      }
    };
  }

  (fl = fl || {}).findEndTag = cl;

  function dl(e, t) {
    var n,
        r,
        o,
        i,
        a,
        u = t,
        s = /<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,
        c = e.schema;

    for (u = function (e, t) {
      var n = new RegExp(["\\s?(" + e.join("|") + ')="[^"]+"'].join("|"), "gi");
      return t.replace(n, "");
    }(e.getTempAttrs(), u), a = c.getShortEndedElements(); i = s.exec(u);) {
      r = s.lastIndex, o = i[0].length, n = a[i[1]] ? r : of.findEndTag(c, u, r), u = u.substring(0, r - o) + u.substring(n), s.lastIndex = r - o;
    }

    return lu(u);
  }

  function hl(e, t, n) {
    var r = e.getParam(t, n);
    if (-1 === r.indexOf("=")) return r;
    var o = e.getParam(t, "", "hash");
    return o.hasOwnProperty(e.id) ? o[e.id] : n;
  }

  function ml(e, t, n) {
    var r;
    if (t.format = t.format ? t.format : "html", t.get = !0, t.getInner = !0, t.no_events || e.fire("BeforeGetContent", t), "raw" === t.format) r = Mn.trim(af.trimExternal(e.serializer, n.innerHTML));else if ("text" === t.format) r = lu(n.innerText || n.textContent);else {
      if ("tree" === t.format) return e.serializer.serialize(n, t);

      r = function (e, t) {
        var n = mf(e),
            r = new RegExp("^(<" + n + "[^>]*>(&nbsp;|&#160;|\\s|\xa0|<br \\/>|)<\\/" + n + ">[\r\n]*|<br \\/>[\r\n]*)$");
        return t.replace(r, "");
      }(e, e.serializer.serialize(n, t));
    }
    return "text" === t.format || Wn(yt.fromDom(n)) ? t.content = r : t.content = Mn.trim(r), t.no_events || e.fire("GetContent", t), t.content;
  }

  function gl(e) {
    var u,
        s,
        c,
        l,
        f,
        d = [];
    return u = (e = e || {}).indent, s = Ff(e.indent_before || ""), c = Ff(e.indent_after || ""), l = ir.getEncodeFunc(e.entity_encoding || "raw", e.entities), f = "html" === e.element_format, {
      start: function start(e, t, n) {
        var r, o, i, a;
        if (u && s[e] && 0 < d.length && 0 < (a = d[d.length - 1]).length && "\n" !== a && d.push("\n"), d.push("<", e), t) for (r = 0, o = t.length; r < o; r++) {
          i = t[r], d.push(" ", i.name, '="', l(i.value, !0), '"');
        }
        d[d.length] = !n || f ? ">" : " />", n && u && c[e] && 0 < d.length && 0 < (a = d[d.length - 1]).length && "\n" !== a && d.push("\n");
      },
      end: function end(e) {
        var t;
        d.push("</", e, ">"), u && c[e] && 0 < d.length && 0 < (t = d[d.length - 1]).length && "\n" !== t && d.push("\n");
      },
      text: function text(e, t) {
        0 < e.length && (d[d.length] = t ? e : l(e));
      },
      cdata: function cdata(e) {
        d.push("<![CDATA[", e, "]]>");
      },
      comment: function comment(e) {
        d.push("\x3c!--", e, "--\x3e");
      },
      pi: function pi(e, t) {
        t ? d.push("<?", e, " ", l(t), "?>") : d.push("<?", e, "?>"), u && d.push("\n");
      },
      doctype: function doctype(e) {
        d.push("<!DOCTYPE", e, ">", u ? "\n" : "");
      },
      reset: function reset() {
        d.length = 0;
      },
      getContent: function getContent() {
        return d.join("").replace(/\n$/, "");
      }
    };
  }

  function pl(t, m) {
    void 0 === m && (m = pr());
    var g = gl(t);
    return (t = t || {}).validate = !("validate" in t) || t.validate, {
      serialize: function serialize(e) {
        var f, d;
        d = t.validate, f = {
          3: function _(e) {
            g.text(e.value, e.raw);
          },
          8: function _(e) {
            g.comment(e.value);
          },
          7: function _(e) {
            g.pi(e.name, e.value);
          },
          10: function _(e) {
            g.doctype(e.value);
          },
          4: function _(e) {
            g.cdata(e.value);
          },
          11: function _(e) {
            if (e = e.firstChild) for (; h(e), e = e.next;) {
              ;
            }
          }
        }, g.reset();

        var h = function h(e) {
          var t,
              n,
              r,
              o,
              i,
              a,
              u,
              s,
              c,
              l = f[e.type];
          if (l) l(e);else {
            if (t = e.name, n = e.shortEnded, r = e.attributes, d && r && 1 < r.length && ((a = []).map = {}, c = m.getElementRule(e.name))) {
              for (u = 0, s = c.attributesOrder.length; u < s; u++) {
                (o = c.attributesOrder[u]) in r.map && (i = r.map[o], a.map[o] = i, a.push({
                  name: o,
                  value: i
                }));
              }

              for (u = 0, s = r.length; u < s; u++) {
                (o = r[u].name) in a.map || (i = r.map[o], a.map[o] = i, a.push({
                  name: o,
                  value: i
                }));
              }

              r = a;
            }

            if (g.start(e.name, r, n), !n) {
              if (e = e.firstChild) for (; h(e), e = e.next;) {
                ;
              }
              g.end(t);
            }
          }
        };

        return 1 !== e.type || t.inner ? f[11](e) : h(e), g.getContent();
      }
    };
  }

  function vl(e, t, n) {
    var r = function (e, n, t) {
      var r = {},
          o = {},
          i = [];

      for (var a in t.firstChild && Uf(t.firstChild, function (t) {
        z(e, function (e) {
          e.name === t.name && (r[e.name] ? r[e.name].nodes.push(t) : r[e.name] = {
            filter: e,
            nodes: [t]
          });
        }), z(n, function (e) {
          "string" == typeof t.attr(e.name) && (o[e.name] ? o[e.name].nodes.push(t) : o[e.name] = {
            filter: e,
            nodes: [t]
          });
        });
      }), r) {
        r.hasOwnProperty(a) && i.push(r[a]);
      }

      for (var a in o) {
        o.hasOwnProperty(a) && i.push(o[a]);
      }

      return i;
    }(e, t, n);

    z(r, function (t) {
      z(t.filter.callbacks, function (e) {
        e(t.nodes, t.filter.name, {});
      });
    });
  }

  function yl(e) {
    var t = Ee(e).dom();
    return e.dom() === t.activeElement;
  }

  function bl(e) {
    var t = e !== undefined ? e.dom() : j.document;
    return k.from(t.activeElement).map(yt.fromDom);
  }

  function Cl(e, t) {
    var n = zt(t) ? Jc(t).length : Re(t).length + 1;
    return n < e ? n : e < 0 ? 0 : e;
  }

  function wl(e) {
    return Xf.range(e.start(), Cl(e.soffset(), e.start()), e.finish(), Cl(e.foffset(), e.finish()));
  }

  function xl(e, t) {
    return !Ge.isRestrictedNode(t.dom()) && (Bt(e, t) || ze(e, t));
  }

  function zl(t) {
    return function (e) {
      return xl(t, e.start()) && xl(t, e.finish());
    };
  }

  function El(e) {
    return !0 === e.inline || Yf.isIE();
  }

  function Nl(e) {
    return Xf.range(yt.fromDom(e.startContainer), e.startOffset, yt.fromDom(e.endContainer), e.endOffset);
  }

  function Sl(e) {
    var t = e.getSelection();
    return (t && 0 !== t.rangeCount ? k.from(t.getRangeAt(0)) : k.none()).map(Nl);
  }

  function kl(e) {
    var t = Ne(e);
    return Sl(t.dom()).filter(zl(e));
  }

  function Tl(e, t) {
    return k.from(t).filter(zl(e)).map(wl);
  }

  function Al(e) {
    var t = j.document.createRange();

    try {
      return t.setStart(e.start().dom(), e.soffset()), t.setEnd(e.finish().dom(), e.foffset()), k.some(t);
    } catch (n) {
      return k.none();
    }
  }

  function Ml(t) {
    return (t.bookmark ? t.bookmark : k.none()).bind(function (e) {
      return Tl(yt.fromDom(t.getBody()), e);
    }).bind(Al);
  }

  function Rl(t, e) {
    oe().browser.isIE() ? function (e) {
      e.on("focusout", function () {
        Gf(e);
      });
    }(t) : function (e, t) {
      e.on("mouseup touchend", function (e) {
        t.throttle();
      });
    }(t, e), t.on("keyup NodeChange", function (e) {
      !function (e) {
        return "nodechange" === e.type && e.selectionChange;
      }(e) && Gf(t);
    });
  }

  function Dl(e) {
    return Zf.isEditorUIElement(e);
  }

  function _l(t, e) {
    var n = t ? t.settings.custom_ui_selector : "";
    return null !== td.getParent(e, function (e) {
      return Dl(e) || !!n && t.dom.is(e, n);
    });
  }

  function Bl(r, e) {
    var t = e.editor;
    ed(t), t.on("focusin", function () {
      var e = r.focusedEditor;
      e !== this && (e && e.fire("blur", {
        focusedEditor: this
      }), r.setActive(this), (r.focusedEditor = this).fire("focus", {
        blurredEditor: e
      }), this.focus(!0));
    }), t.on("focusout", function () {
      var t = this;
      pn.setEditorTimeout(t, function () {
        var e = r.focusedEditor;
        _l(t, function () {
          try {
            return j.document.activeElement;
          } catch (e) {
            return j.document.body;
          }
        }()) || e !== t || (t.fire("blur", {
          focusedEditor: null
        }), r.focusedEditor = null);
      });
    }), rf || (rf = function rf(e) {
      var t,
          n = r.activeEditor;
      t = e.target, n && t.ownerDocument === j.document && (t === j.document.body || _l(n, t) || r.focusedEditor !== n || (n.fire("blur", {
        focusedEditor: null
      }), r.focusedEditor = null));
    }, td.bind(j.document, "focusin", rf));
  }

  function Ol(e, t) {
    e.focusedEditor === t.editor && (e.focusedEditor = null), e.activeEditor || (td.unbind(j.document, "focusin", rf), rf = null);
  }

  function Hl(t, e) {
    return function (e) {
      return e.collapsed ? k.from(Ka(e.startContainer, e.startOffset)).map(yt.fromDom) : k.none();
    }(e).bind(function (e) {
      return qn(e) ? k.some(e) : !1 === Bt(t, e) ? k.some(t) : k.none();
    });
  }

  function Pl(t, e) {
    Hl(yt.fromDom(t.getBody()), e).bind(function (e) {
      return Pc.firstPositionIn(e.dom());
    }).fold(function () {
      t.selection.normalize();
    }, function (e) {
      return t.selection.setRng(e.toRange());
    });
  }

  function Ll(e) {
    if (e.setActive) try {
      e.setActive();
    } catch (t) {
      e.focus();
    } else e.focus();
  }

  function Vl(e) {
    return yl(e) || function (t) {
      return bl(Ee(t)).filter(function (e) {
        return t.dom().contains(e.dom());
      });
    }(e).isSome();
  }

  function Il(e) {
    return e.inline ? function (e) {
      var t = e.getBody();
      return t && Vl(yt.fromDom(t));
    }(e) : function (e) {
      return e.iframeElement && yl(yt.fromDom(e.iframeElement));
    }(e);
  }

  function Fl(e) {
    return e instanceof ul;
  }

  function Ul(e, t) {
    e.dom.setHTML(e.getBody(), t), function (r) {
      ud(r) && Pc.firstPositionIn(r.getBody()).each(function (e) {
        var t = e.getNode(),
            n = Ge.isTable(t) ? Pc.firstPositionIn(t).getOr(e) : e;
        r.selection.setRng(n.toRange());
      });
    }(e);
  }

  function jl(t, n, r) {
    return void 0 === r && (r = {}), r.format = r.format ? r.format : "html", r.set = !0, r.content = Fl(n) ? "" : n, Fl(n) || r.no_events || (t.fire("BeforeSetContent", r), n = r.content), k.from(t.getBody()).fold($(n), function (e) {
      return Fl(n) ? function (e, t, n, r) {
        vl(e.parser.getNodeFilters(), e.parser.getAttributeFilters(), n);
        var o = pl({
          validate: e.validate
        }, e.schema).serialize(n);
        return r.content = Wn(yt.fromDom(t)) ? o : Mn.trim(o), Ul(e, r.content), r.no_events || e.fire("SetContent", r), n;
      }(t, e, n, r) : function (e, t, n, r) {
        var o, i;
        return 0 === n.length || /^\s+$/.test(n) ? (i = '<br data-mce-bogus="1">', "TABLE" === t.nodeName ? n = "<tr><td>" + i + "</td></tr>" : /^(UL|OL)$/.test(t.nodeName) && (n = "<li>" + i + "</li>"), n = (o = mf(e)) && e.schema.isValidChild(t.nodeName.toLowerCase(), o.toLowerCase()) ? (n = i, e.dom.createHTML(o, e.settings.forced_root_block_attrs, n)) : n || '<br data-mce-bogus="1">', Ul(e, n), e.fire("SetContent", r)) : ("raw" !== r.format && (n = pl({
          validate: e.validate
        }, e.schema).serialize(e.parser.parse(n, {
          isRootContent: !0,
          insert: !0
        }))), r.content = Wn(yt.fromDom(t)) ? n : Mn.trim(n), Ul(e, r.content), r.no_events || e.fire("SetContent", r)), r.content;
      }(t, e, n, r);
    });
  }

  function ql(e) {
    return k.from(e).each(function (e) {
      return e.destroy();
    });
  }

  function $l(e) {
    if (!e.removed) {
      var t = e._selectionOverrides,
          n = e.editorUpload,
          r = e.getBody(),
          o = e.getElement();
      r && e.save({
        is_removing: !0
      }), e.removed = !0, e.unbindAllNativeEvents(), e.hasHiddenInput && o && pd.remove(o.nextSibling), fd(e), e.editorManager.remove(e), !e.inline && r && function (e) {
        pd.setStyle(e.id, "display", e.orgDisplay);
      }(e), dd(e), pd.remove(e.getContainer()), ql(t), ql(n), e.destroy();
    }
  }

  function Wl(e, t) {
    var n = e.selection,
        r = e.dom;
    e.destroyed || (t || e.removed ? (t || (e.editorManager.off("beforeunload", e._beforeUnload), e.theme && e.theme.destroy && e.theme.destroy(), ql(n), ql(r)), function (e) {
      var t = e.formElement;
      t && (t._mceOldSubmit && (t.submit = t._mceOldSubmit, t._mceOldSubmit = null), pd.unbind(t, "submit reset", e.formEventDelegate));
    }(e), function (e) {
      e.contentAreaContainer = e.formElement = e.container = e.editorContainer = null, e.bodyElement = e.contentDocument = e.contentWindow = null, e.iframeElement = e.targetElm = null, e.selection && (e.selection = e.selection.win = e.selection.dom = e.selection.dom.doc = null);
    }(e), e.destroyed = !0) : e.remove());
  }

  function Kl(a) {
    return function () {
      for (var e = new Array(arguments.length), t = 0; t < e.length; t++) {
        e[t] = arguments[t];
      }

      if (0 === e.length) throw new Error("Can't merge zero objects");

      for (var n = {}, r = 0; r < e.length; r++) {
        var o = e[r];

        for (var i in o) {
          vd.call(o, i) && (n[i] = a(n[i], o[i]));
        }
      }

      return n;
    };
  }

  function Xl(e) {
    var t = A(e) ? e.join(" ") : e,
        n = X(K(t) ? t.split(" ") : [], te);
    return y(n, function (e) {
      return 0 < e.length;
    });
  }

  function Yl(e, t) {
    return e.sections().hasOwnProperty(t);
  }

  function Gl(e, t, n, r) {
    var o = Xl(n.forced_plugins),
        i = Xl(r.plugins),
        a = function (e, t) {
      return Yl(e, t) ? e.sections()[t] : {};
    }(t, "mobile"),
        u = a.plugins ? Xl(a.plugins) : i,
        s = function (e, t) {
      return [].concat(Xl(e)).concat(Xl(t));
    }(o, e && function (e, t, n) {
      var r = e.sections();
      return Yl(e, t) && r[t].theme === n;
    }(t, "mobile", "mobile") ? function (e) {
      return y(e, d(h, Nd));
    }(u) : e && Yl(t, "mobile") ? u : i);

    return Mn.extend(r, {
      plugins: s.join(" ")
    });
  }

  function Jl(e, t, n, r, o) {
    var i = e ? {
      mobile: function (e) {
        return _G(_G(_G({}, Sd), {
          resize: !1,
          toolbar_drawer: "scrolling",
          toolbar_sticky: !1
        }), e ? {
          menubar: !1
        } : {});
      }(t)
    } : {},
        a = function (n, e) {
      var t = ce(e, function (e, t) {
        return h(n, t);
      });
      return Cd(t.t, t.f);
    }(["mobile"], yd(i, o)),
        u = Mn.extend(n, r, a.settings(), function (e, t) {
      return e && Yl(t, "mobile");
    }(e, a) ? function (e, t, n) {
      void 0 === n && (n = {});
      var r = e.sections(),
          o = r.hasOwnProperty(t) ? r[t] : {};
      return Mn.extend({}, n, o);
    }(a, "mobile") : {}, {
      validate: !0,
      external_plugins: function (e, t) {
        var n = t.external_plugins ? t.external_plugins : {};
        return e && e.external_plugins ? Mn.extend({}, e.external_plugins, n) : n;
      }(r, a.settings())
    });

    return Gl(e, a, r, u);
  }

  function Ql(e, t, n, r, o) {
    var i = function (e, t, n, r) {
      var o = {
        id: e,
        theme: "silver",
        toolbar_drawer: "floating",
        plugins: "",
        document_base_url: t,
        add_form_submit_trigger: !0,
        submit_patch: !0,
        add_unload_trigger: !0,
        convert_urls: !0,
        relative_urls: !0,
        remove_script_host: !0,
        object_resizing: !0,
        doctype: "<!DOCTYPE html>",
        visual: !0,
        font_size_legacy_values: "xx-small,small,medium,large,x-large,xx-large,300%",
        forced_root_block: "p",
        hidden_input: !0,
        inline_styles: !0,
        convert_fonts_to_spans: !0,
        indent: !0,
        indent_before: "p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",
        indent_after: "p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",
        entity_encoding: "named",
        url_converter: r.convertURL,
        url_converter_scope: r
      };
      return _G(_G({}, o), n ? Sd : {});
    }(t, n, xd, e);

    return Jl(zd || Ed, zd, i, r, o);
  }

  function Zl(e, t, n) {
    return k.from(t.settings[n]).filter(e);
  }

  function ef(e, t, n, r) {
    var o = t in e.settings ? e.settings[t] : n;
    return "hash" === r ? function (e) {
      var n = {};
      return "string" == typeof e ? z(0 < e.indexOf("=") ? e.split(/[;,](?![^=;,]*(?:[;,]|$))/) : e.split(","), function (e) {
        var t = e.split("=");
        1 < t.length ? n[Mn.trim(t[0])] = Mn.trim(t[1]) : n[Mn.trim(t[0])] = Mn.trim(t[0]);
      }) : n = e, n;
    }(o) : "string" === r ? Zl(K, e, t).getOr(n) : "number" === r ? Zl(_, e, t).getOr(n) : "boolean" === r ? Zl(R, e, t).getOr(n) : "object" === r ? Zl(T, e, t).getOr(n) : "array" === r ? Zl(A, e, t).getOr(n) : "string[]" === r ? Zl(function (t) {
      return function (e) {
        return A(e) && w(e, t);
      };
    }(K), e, t).getOr(n) : "function" === r ? Zl(D, e, t).getOr(n) : o;
  }

  function tf(e, t) {
    return t.dom()[e];
  }

  function nf(e, t) {
    return parseInt(ve(t, e), 10);
  }

  var rf,
      of = fl,
      af = {
    trimExternal: dl,
    trimInternal: dl
  },
      uf = function uf(e) {
    return e.getParam("iframe_attrs", {});
  },
      sf = function sf(e) {
    return e.getParam("doctype", "<!DOCTYPE html>");
  },
      cf = function cf(e) {
    return e.getParam("document_base_url", "");
  },
      lf = function lf(e) {
    return hl(e, "body_id", "tinymce");
  },
      ff = function ff(e) {
    return hl(e, "body_class", "");
  },
      df = function df(e) {
    return e.getParam("content_security_policy", "");
  },
      hf = function hf(e) {
    return e.getParam("br_in_pre", !0);
  },
      mf = function mf(e) {
    if (e.getParam("force_p_newlines", !1)) return "p";
    var t = e.getParam("forced_root_block", "p");
    return !1 === t ? "" : !0 === t ? "p" : t;
  },
      gf = function gf(e) {
    return e.getParam("forced_root_block_attrs", {});
  },
      pf = function pf(e) {
    return e.getParam("br_newline_selector", ".mce-toc h2,figcaption,caption");
  },
      vf = function vf(e) {
    return e.getParam("no_newline_selector", "");
  },
      yf = function yf(e) {
    return e.getParam("keep_styles", !0);
  },
      bf = function bf(e) {
    return e.getParam("end_container_on_empty_block", !1);
  },
      Cf = function Cf(e) {
    return Mn.explode(e.getParam("font_size_style_values", "xx-small,x-small,small,medium,large,x-large,xx-large"));
  },
      wf = function wf(e) {
    return Mn.explode(e.getParam("font_size_classes", ""));
  },
      xf = function xf(e) {
    return e.getParam("icons", "", "string");
  },
      zf = function zf(e) {
    return e.getParam("icons_url", "", "string");
  },
      Ef = function Ef(e) {
    return e.getParam("images_dataimg_filter", $(!0), "function");
  },
      Nf = function Nf(e) {
    return e.getParam("automatic_uploads", !0, "boolean");
  },
      Sf = function Sf(e) {
    return e.getParam("images_reuse_filename", !1, "boolean");
  },
      kf = function kf(e) {
    return e.getParam("images_replace_blob_uris", !0, "boolean");
  },
      Tf = function Tf(e) {
    return e.getParam("images_upload_url", "", "string");
  },
      Af = function Af(e) {
    return e.getParam("images_upload_base_path", "", "string");
  },
      Mf = function Mf(e) {
    return e.getParam("images_upload_credentials", !1, "boolean");
  },
      Rf = function Rf(e) {
    return e.getParam("images_upload_handler", null, "function");
  },
      Df = function Df(e) {
    return e.getParam("content_css_cors", !1, "boolean");
  },
      _f = function _f(e) {
    return e.getParam("referrer_policy", "", "string");
  },
      Bf = function Bf(e) {
    return e.getParam("language", "en", "string");
  },
      Of = function Of(e) {
    return e.getParam("language_url", "", "string");
  },
      Hf = function Hf(e) {
    return e.getParam("indent_use_margin", !1);
  },
      Pf = function Pf(e) {
    return e.getParam("indentation", "40px", "string");
  },
      Lf = function Lf(e) {
    var t = e.settings.content_css;
    return K(t) ? X(t.split(","), te) : A(t) ? t : !1 === t || e.inline ? [] : ["default"];
  },
      Vf = function Vf(e) {
    return e.getParam("directionality", ra.isRtl() ? "rtl" : undefined);
  },
      If = function If(e) {
    return e.getParam("inline_boundaries_selector", "a[href],code,.mce-annotation", "string");
  },
      Ff = Mn.makeMap,
      Uf = function Uf(e, t) {
    t(e), e.firstChild && Uf(e.firstChild, t), e.next && Uf(e.next, t);
  },
      jf = function jf(a) {
    if (!A(a)) throw new Error("cases must be an array");
    if (0 === a.length) throw new Error("there must be at least one case");
    var u = [],
        n = {};
    return z(a, function (e, r) {
      var t = Et(e);
      if (1 !== t.length) throw new Error("one and only one name per case");
      var o = t[0],
          i = e[o];
      if (n[o] !== undefined) throw new Error("duplicate key detected:" + o);
      if ("cata" === o) throw new Error("cannot have a case named cata (sorry)");
      if (!A(i)) throw new Error("case arguments must be an array");
      u.push(o), n[o] = function () {
        var e = arguments.length;
        if (e !== i.length) throw new Error("Wrong number of arguments to case " + o + ". Expected " + i.length + " (" + i + "), got " + e);

        for (var n = new Array(e), t = 0; t < n.length; t++) {
          n[t] = arguments[t];
        }

        return {
          fold: function fold() {
            if (arguments.length !== a.length) throw new Error("Wrong number of arguments to fold. Expected " + a.length + ", got " + arguments.length);
            return arguments[r].apply(null, n);
          },
          match: function match(e) {
            var t = Et(e);
            if (u.length !== t.length) throw new Error("Wrong number of arguments to match. Expected: " + u.join(",") + "\nActual: " + t.join(","));
            if (!w(u, function (e) {
              return h(t, e);
            })) throw new Error("Not all branches were specified when using match. Specified: " + t.join(", ") + "\nRequired: " + u.join(", "));
            return e[o].apply(null, n);
          },
          log: function log(e) {
            j.console.log(e, {
              constructors: u,
              constructor: o,
              params: n
            });
          }
        };
      };
    }), n;
  },
      qf = {
    create: be("start", "soffset", "finish", "foffset")
  },
      $f = jf([{
    before: ["element"]
  }, {
    on: ["element", "offset"]
  }, {
    after: ["element"]
  }]),
      Wf = ($f.before, $f.on, $f.after, function (e) {
    return e.fold(W, W, W);
  }),
      Kf = jf([{
    domRange: ["rng"]
  }, {
    relative: ["startSitu", "finishSitu"]
  }, {
    exact: ["start", "soffset", "finish", "foffset"]
  }]),
      Xf = {
    domRange: Kf.domRange,
    relative: Kf.relative,
    exact: Kf.exact,
    exactFromRange: function exactFromRange(e) {
      return Kf.exact(e.start(), e.soffset(), e.finish(), e.foffset());
    },
    getWin: function getWin(e) {
      var t = function (e) {
        return e.match({
          domRange: function domRange(e) {
            return yt.fromDom(e.startContainer);
          },
          relative: function relative(e, t) {
            return Wf(e);
          },
          exact: function exact(e, t, n, r) {
            return e;
          }
        });
      }(e);

      return Ne(t);
    },
    range: qf.create
  },
      Yf = oe().browser,
      Gf = function Gf(e) {
    var t = El(e) ? kl(yt.fromDom(e.getBody())) : k.none();
    e.bookmark = t.isSome() ? t : e.bookmark;
  },
      Jf = function Jf(t) {
    Ml(t).each(function (e) {
      t.selection.setRng(e);
    });
  },
      Qf = Ml,
      Zf = {
    isEditorUIElement: function isEditorUIElement(e) {
      var t = e.className.toString();
      return -1 !== t.indexOf("tox-") || -1 !== t.indexOf("mce-");
    }
  },
      ed = function ed(e) {
    var t = aa(function () {
      Gf(e);
    }, 0);
    e.on("init", function () {
      e.inline && function (e, t) {
        function n() {
          t.throttle();
        }

        Xi.DOM.bind(j.document, "mouseup", n), e.on("remove", function () {
          Xi.DOM.unbind(j.document, "mouseup", n);
        });
      }(e, t), Rl(e, t);
    }), e.on("remove", function () {
      t.cancel();
    });
  },
      td = Xi.DOM,
      nd = function nd(e) {
    e.on("AddEditor", d(Bl, e)), e.on("RemoveEditor", d(Ol, e));
  },
      rd = function rd(e) {
    var t = e.classList;
    return t !== undefined && (t.contains("tox-edit-area") || t.contains("tox-edit-area__iframe") || t.contains("mce-content-body"));
  },
      od = _l,
      id = function id(e) {
    return e.editorManager.setActive(e);
  },
      ad = function ad(e, t) {
    e.removed || (t ? id(e) : function (t) {
      var e = t.selection,
          n = t.getBody(),
          r = e.getRng();
      t.quirks.refreshContentEditable(), t.bookmark !== undefined && !1 === Il(t) && Qf(t).each(function (e) {
        t.selection.setRng(e), r = e;
      });

      var o = function (t, e) {
        return t.dom.getParent(e, function (e) {
          return "true" === t.dom.getContentEditable(e);
        });
      }(t, e.getNode());

      if (t.$.contains(n, o)) return Ll(o), Pl(t, r), id(t);
      t.inline || (Nn.opera || Ll(n), t.getWin().focus()), (Nn.gecko || t.inline) && (Ll(n), Pl(t, r)), id(t);
    }(e));
  },
      ud = Il,
      sd = function sd(e) {
    return Il(e) || function (t) {
      return bl().filter(function (e) {
        return !rd(e.dom()) && od(t, e.dom());
      }).isSome();
    }(e);
  },
      cd = function cd(e, t) {
    return e.fire("PreProcess", t);
  },
      ld = function ld(e, t) {
    return e.fire("PostProcess", t);
  },
      fd = function fd(e) {
    return e.fire("remove");
  },
      dd = function dd(e) {
    return e.fire("detach");
  },
      hd = function hd(e, t) {
    return e.fire("SwitchMode", {
      mode: t
    });
  },
      md = function md(e, t, n, r) {
    e.fire("ObjectResizeStart", {
      target: t,
      width: n,
      height: r
    });
  },
      gd = function gd(e, t, n, r) {
    e.fire("ObjectResized", {
      target: t,
      width: n,
      height: r
    });
  },
      pd = Xi.DOM,
      vd = Object.prototype.hasOwnProperty,
      yd = Kl(function (e, t) {
    return T(e) && T(t) ? yd(e, t) : t;
  }),
      bd = Kl(function (e, t) {
    return t;
  }),
      Cd = be("sections", "settings"),
      wd = oe().deviceType,
      xd = wd.isTouch(),
      zd = wd.isPhone(),
      Ed = wd.isTablet(),
      Nd = ["lists", "autolink", "autosave"],
      Sd = {
    table_grid: !1,
    object_resizing: !1,
    resize: !1
  },
      kd = d(tf, "clientWidth"),
      Td = d(tf, "clientHeight"),
      Ad = d(nf, "margin-top"),
      Md = d(nf, "margin-left"),
      Rd = function Rd(e, t, n) {
    var r = yt.fromDom(e.getBody()),
        o = e.inline ? r : function (e) {
      return yt.fromDom(e.dom().ownerDocument.documentElement);
    }(r),
        i = function (e, t, n, r) {
      var o = function (e) {
        return e.dom().getBoundingClientRect();
      }(t);

      return {
        x: n - (e ? o.left + t.dom().clientLeft + Md(t) : 0),
        y: r - (e ? o.top + t.dom().clientTop + Ad(t) : 0)
      };
    }(e.inline, o, t, n);

    return function (e, t, n) {
      var r = kd(e),
          o = Td(e);
      return 0 <= t && 0 <= n && t <= r && n <= o;
    }(o, i.x, i.y);
  },
      Dd = function Dd(e) {
    return function (e) {
      return k.from(e).map(yt.fromDom);
    }(e.inline ? e.getBody() : e.getContentAreaContainer()).map(function (e) {
      return Bt(Ee(e), e);
    }).getOr(!1);
  };

  function _d(n) {
    function r() {
      var e = n.theme;
      return e && e.getNotificationManagerImpl ? e.getNotificationManagerImpl() : function t() {
        function e() {
          throw new Error("Theme did not provide a NotificationManager implementation.");
        }

        return {
          open: e,
          close: e,
          reposition: e,
          getArgs: e
        };
      }();
    }

    function o() {
      0 < u.length && r().reposition(u);
    }

    function i(t) {
      p(u, function (e) {
        return e === t;
      }).each(function (e) {
        u.splice(e, 1);
      });
    }

    function t(t) {
      if (!n.removed && Dd(n)) return g(u, function (e) {
        return function (e, t) {
          return !(e.type !== t.type || e.text !== t.text || e.progressBar || e.timeout || t.progressBar || t.timeout);
        }(r().getArgs(e), t);
      }).getOrThunk(function () {
        n.editorManager.setActive(n);
        var e = r().open(t, function () {
          i(e), o();
        });
        return function (e) {
          u.push(e);
        }(e), o(), e;
      });
    }

    var a,
        u = [];
    return (a = n).on("SkinLoaded", function () {
      var e = a.settings.service_message;
      e && t({
        text: e,
        type: "warning",
        timeout: 0
      });
    }), a.on("ResizeEditor ResizeWindow NodeChange", function () {
      pn.requestAnimationFrame(o);
    }), a.on("remove", function () {
      z(u.slice(), function (e) {
        r().close(e);
      });
    }), {
      open: t,
      close: function close() {
        k.from(u[0]).each(function (e) {
          r().close(e), i(e), o();
        });
      },
      getNotifications: function getNotifications() {
        return u;
      }
    };
  }

  function Bd(n) {
    function r() {
      var e = n.theme;
      return e && e.getWindowManagerImpl ? e.getWindowManagerImpl() : function t() {
        function e() {
          throw new Error("Theme did not provide a WindowManager implementation.");
        }

        return {
          open: e,
          openUrl: e,
          alert: e,
          confirm: e,
          close: e,
          getParams: e,
          setParams: e
        };
      }();
    }

    function o(e, t) {
      return function () {
        return t ? t.apply(e, arguments) : undefined;
      };
    }

    function i(e) {
      s.push(e), function (e) {
        n.fire("OpenWindow", {
          dialog: e
        });
      }(e);
    }

    function a(t) {
      !function (e) {
        n.fire("CloseWindow", {
          dialog: e
        });
      }(t), 0 === (s = y(s, function (e) {
        return e !== t;
      })).length && n.focus();
    }

    function u(e) {
      n.editorManager.setActive(n), Gf(n);
      var t = e();
      return i(t), t;
    }

    var s = [];
    return n.on("remove", function () {
      z(s, function (e) {
        r().close(e);
      });
    }), {
      open: function open(e, t) {
        return u(function () {
          return r().open(e, t, a);
        });
      },
      openUrl: function openUrl(e) {
        return u(function () {
          return r().openUrl(e, a);
        });
      },
      alert: function alert(e, t, n) {
        r().alert(e, o(n || this, t));
      },
      confirm: function confirm(e, t, n) {
        r().confirm(e, o(n || this, t));
      },
      close: function close() {
        k.from(s[s.length - 1]).each(function (e) {
          r().close(e), a(e);
        });
      }
    };
  }

  function Od(e, t) {
    e.notificationManager.open({
      type: "error",
      text: t
    });
  }

  function Hd(e, t) {
    e._skinLoaded ? Od(e, t) : e.on("SkinLoaded", function () {
      Od(e, t);
    });
  }

  function Pd(e) {
    j.console.error(e);
  }

  function Ld(e, t, n) {
    return n ? "Failed to load " + e + ": " + n + " from url " + t : "Failed to load " + e + " url: " + t;
  }

  var Vd,
      Id = function Id(e) {
    for (var t = [], n = 1; n < arguments.length; n++) {
      t[n - 1] = arguments[n];
    }

    var r = j.window.console;
    r && (r.error ? r.error.apply(r, arguments) : r.log.apply(r, arguments));
  },
      Fd = {
    pluginLoadError: function pluginLoadError(e, t) {
      Pd(Ld("plugin", e, t));
    },
    iconsLoadError: function iconsLoadError(e, t) {
      Pd(Ld("icons", e, t));
    },
    languageLoadError: function languageLoadError(e, t) {
      Pd(Ld("language", e, t));
    },
    pluginInitError: function pluginInitError(e, t, n) {
      var r = ra.translate(["Failed to initialize plugin: {0}", t]);
      Id(r, n), Hd(e, r);
    },
    uploadError: function uploadError(e, t) {
      Hd(e, ra.translate(["Failed to upload image: {0}", t]));
    },
    displayError: Hd,
    initError: Id
  },
      Ud = (Vd = {}, {
    add: function add(e, t) {
      Vd[e] = t;
    },
    get: function get(e) {
      return Vd[e] ? Vd[e] : {
        icons: {}
      };
    },
    has: function has(e) {
      return kt(Vd, e);
    }
  }),
      jd = ga.PluginManager,
      qd = ga.ThemeManager;

  function $d(s, a) {
    function n(e, t, n, r) {
      var o, i;
      (o = new j.XMLHttpRequest()).open("POST", a.url), o.withCredentials = a.credentials, o.upload.onprogress = function (e) {
        r(e.loaded / e.total * 100);
      }, o.onerror = function () {
        n("Image upload failed due to a XHR Transport error. Code: " + o.status);
      }, o.onload = function () {
        var e;
        o.status < 200 || 300 <= o.status ? n("HTTP Error: " + o.status) : (e = JSON.parse(o.responseText)) && "string" == typeof e.location ? t(function (e, t) {
          return e ? e.replace(/\/$/, "") + "/" + t.replace(/^\//, "") : t;
        }(a.basePath, e.location)) : n("Invalid JSON: " + o.responseText);
      }, (i = new j.FormData()).append("file", e.blob(), e.filename()), o.send(i);
    }

    function c(e, t) {
      return {
        url: t,
        blobInfo: e,
        status: !0
      };
    }

    function l(e, t) {
      return {
        url: "",
        blobInfo: e,
        status: !1,
        error: t
      };
    }

    function f(e, t) {
      Mn.each(o[e], function (e) {
        e(t);
      }), delete o[e];
    }

    function r(e, t) {
      return e = Mn.grep(e, function (e) {
        return !s.isUploaded(e.blobUri());
      }), Zt.all(Mn.map(e, function (e) {
        return s.isPending(e.blobUri()) ? function (e) {
          var t = e.blobUri();
          return new Zt(function (e) {
            o[t] = o[t] || [], o[t].push(e);
          });
        }(e) : function (i, a, u) {
          return s.markPending(i.blobUri()), new Zt(function (t) {
            function e() {}

            var n;

            try {
              var r = function r() {
                n && (n.close(), e);
              };

              a(i, function (e) {
                r(), s.markUploaded(i.blobUri(), e), f(i.blobUri(), c(i, e)), t(c(i, e));
              }, function (e) {
                r(), s.removeFailed(i.blobUri()), f(i.blobUri(), l(i, e)), t(l(i, e));
              }, function (e) {
                e < 0 || 100 < e || (n = n || u()).progressBar.value(e);
              });
            } catch (o) {
              t(l(i, o.message));
            }
          });
        }(e, a.handler, t);
      }));
    }

    var o = {};
    return !1 === D(a.handler) && (a.handler = n), {
      upload: function upload(e, t) {
        return !a.url && function (e) {
          return e === n;
        }(a.handler) ? new Zt(function (e) {
          e([]);
        }) : r(e, t);
      }
    };
  }

  function Wd(e) {
    var t,
        n,
        r = decodeURIComponent(e).split(",");
    return (n = /data:([^;]+)/.exec(r[0])) && (t = n[1]), {
      type: t,
      data: r[1]
    };
  }

  function Kd(e) {
    return (e || "blobid") + Jd++;
  }

  var Xd = function Xd(e) {
    return 0 === e.indexOf("blob:") ? function (i) {
      return new Zt(function (e, t) {
        function n() {
          t("Cannot convert " + i + " to Blob. Resource might not exist or is inaccessible.");
        }

        try {
          var r = new j.XMLHttpRequest();
          r.open("GET", i, !0), r.responseType = "blob", r.onload = function () {
            200 === this.status ? e(this.response) : n();
          }, r.onerror = n, r.send();
        } catch (o) {
          n();
        }
      });
    }(e) : 0 === e.indexOf("data:") ? function (i) {
      return new Zt(function (e) {
        var t,
            n,
            r,
            o = Wd(i);

        try {
          t = j.atob(o.data);
        } catch (yN) {
          return void e(new j.Blob([]));
        }

        for (n = new Uint8Array(t.length), r = 0; r < n.length; r++) {
          n[r] = t.charCodeAt(r);
        }

        e(new j.Blob([n], {
          type: o.type
        }));
      });
    }(e) : null;
  },
      Yd = function Yd(n) {
    return new Zt(function (e) {
      var t = new j.FileReader();
      t.onloadend = function () {
        e(t.result);
      }, t.readAsDataURL(n);
    });
  },
      Gd = Wd,
      Jd = 0;

  function Qd(o, i) {
    var a = {};
    return {
      findAll: function findAll(e, n) {
        var t;
        n = n || $(!0), t = y(function (e) {
          return e ? P(e.getElementsByTagName("img")) : [];
        }(e), function (e) {
          var t = e.src;
          return !!Nn.fileApi && !e.hasAttribute("data-mce-bogus") && !e.hasAttribute("data-mce-placeholder") && !(!t || t === Nn.transparentSrc) && (0 === t.indexOf("blob:") ? !o.isUploaded(t) && n(e) : 0 === t.indexOf("data:") && n(e));
        });
        var r = X(t, function (n) {
          if (a[n.src]) return new Zt(function (t) {
            a[n.src].then(function (e) {
              if ("string" == typeof e) return e;
              t({
                image: n,
                blobInfo: e.blobInfo
              });
            });
          });
          var e = new Zt(function (e, t) {
            !function (n, r, o, t) {
              var i, a;
              0 !== r.src.indexOf("blob:") ? (i = Gd(r.src).data, (a = n.findFirst(function (e) {
                return e.base64() === i;
              })) ? o({
                image: r,
                blobInfo: a
              }) : Xd(r.src).then(function (e) {
                a = n.create(Kd(), e, i), n.add(a), o({
                  image: r,
                  blobInfo: a
                });
              }, function (e) {
                t(e);
              })) : (a = n.getByUri(r.src)) ? o({
                image: r,
                blobInfo: a
              }) : Xd(r.src).then(function (t) {
                Yd(t).then(function (e) {
                  i = Gd(e).data, a = n.create(Kd(), t, i), n.add(a), o({
                    image: r,
                    blobInfo: a
                  });
                });
              }, function (e) {
                t(e);
              });
            }(i, n, e, t);
          }).then(function (e) {
            return delete a[e.image.src], e;
          })["catch"](function (e) {
            return delete a[n.src], e;
          });
          return a[n.src] = e;
        });
        return Zt.all(r);
      }
    };
  }

  var Zd = 0,
      eh = function eh(e) {
    return e + Zd++ + function () {
      function e() {
        return Math.round(4294967295 * Math.random()).toString(36);
      }

      return "s" + new Date().getTime().toString(36) + e() + e() + e();
    }();
  };

  function th(o) {
    function t(t) {
      return function (e) {
        return o.selection ? t(e) : [];
      };
    }

    function r(e, t, n) {
      for (var r = 0; -1 !== (r = e.indexOf(t, r)) && (e = e.substring(0, r) + n + e.substr(r + t.length), r += n.length - t.length + 1), -1 !== r;) {
        ;
      }

      return e;
    }

    function i(e, t, n) {
      return e = r(e, 'src="' + t + '"', 'src="' + n + '"'), e = r(e, 'data-mce-src="' + t + '"', 'data-mce-src="' + n + '"');
    }

    function n(t, n) {
      z(o.undoManager.data, function (e) {
        "fragmented" === e.type ? e.fragments = X(e.fragments, function (e) {
          return i(e, t, n);
        }) : e.content = i(e.content, t, n);
      });
    }

    function a() {
      return o.notificationManager.open({
        text: o.translate("Image uploading..."),
        type: "info",
        timeout: -1,
        progressBar: !0
      });
    }

    function u(e, t) {
      h.removeByUri(e.src), n(e.src, t), o.$(e).attr({
        src: Sf(o) ? t + "?" + new Date().getTime() : t,
        "data-mce-src": o.convertURL(t, "src")
      });
    }

    function s(n) {
      return f = f || $d(m, {
        url: Tf(o),
        basePath: Af(o),
        credentials: Mf(o),
        handler: Rf(o)
      }), p().then(t(function (r) {
        var e;
        return e = X(r, function (e) {
          return e.blobInfo;
        }), f.upload(e, a).then(t(function (e) {
          var t = X(e, function (e, t) {
            var n = r[t].image;
            return e.status && kf(o) ? u(n, e.url) : e.error && Fd.uploadError(o, e.error), {
              element: n,
              status: e.status
            };
          });
          return n && n(t), t;
        }));
      }));
    }

    function e(e) {
      if (Nf(o)) return s(e);
    }

    function c(t) {
      return !1 !== w(g, function (e) {
        return e(t);
      }) && (0 !== t.getAttribute("src").indexOf("data:") || Ef(o)(t));
    }

    function l(e) {
      return e.replace(/src="(blob:[^"]+)"/g, function (e, n) {
        var t = m.getResultUri(n);
        if (t) return 'src="' + t + '"';
        var r = h.getByUri(n);
        return (r = r || b(o.editorManager.get(), function (e, t) {
          return e || t.editorUpload && t.editorUpload.blobCache.getByUri(n);
        }, null)) ? 'src="data:' + r.blob().type + ";base64," + r.base64() + '"' : e;
      });
    }

    var f,
        d,
        h = function () {
      var n = [],
          o = function o(e) {
        var t, n;
        if (!e.blob || !e.base64) throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");
        return t = e.id || eh("blobid"), n = e.name || t, {
          id: $(t),
          name: $(n),
          filename: $(n + "." + function (e) {
            return {
              "image/jpeg": "jpg",
              "image/jpg": "jpg",
              "image/gif": "gif",
              "image/png": "png"
            }[e.toLowerCase()] || "dat";
          }(e.blob.type)),
          blob: $(e.blob),
          base64: $(e.base64),
          blobUri: $(e.blobUri || j.URL.createObjectURL(e.blob)),
          uri: $(e.uri)
        };
      },
          t = function t(_t2) {
        return e(function (e) {
          return e.id() === _t2;
        });
      },
          e = function e(_e2) {
        return y(n, _e2)[0];
      };

      return {
        create: function create(e, t, n, r) {
          if (K(e)) return o({
            id: e,
            name: r,
            blob: t,
            base64: n
          });
          if (T(e)) return o(e);
          throw new Error("Unknown input type");
        },
        add: function add(e) {
          t(e.id()) || n.push(e);
        },
        get: t,
        getByUri: function getByUri(t) {
          return e(function (e) {
            return e.blobUri() === t;
          });
        },
        findFirst: e,
        removeByUri: function removeByUri(t) {
          n = y(n, function (e) {
            return e.blobUri() !== t || (j.URL.revokeObjectURL(e.blobUri()), !1);
          });
        },
        destroy: function destroy() {
          z(n, function (e) {
            j.URL.revokeObjectURL(e.blobUri());
          }), n = [];
        }
      };
    }(),
        m = function v() {
      function n(e, t) {
        return {
          status: e,
          resultUri: t
        };
      }

      function t(e) {
        return e in r;
      }

      var r = {};
      return {
        hasBlobUri: t,
        getResultUri: function getResultUri(e) {
          var t = r[e];
          return t ? t.resultUri : null;
        },
        isPending: function isPending(e) {
          return !!t(e) && 1 === r[e].status;
        },
        isUploaded: function isUploaded(e) {
          return !!t(e) && 2 === r[e].status;
        },
        markPending: function markPending(e) {
          r[e] = n(1, null);
        },
        markUploaded: function markUploaded(e, t) {
          r[e] = n(2, t);
        },
        removeFailed: function removeFailed(e) {
          delete r[e];
        },
        destroy: function destroy() {
          r = {};
        }
      };
    }(),
        g = [],
        p = function p() {
      return (d = d || Qd(m, h)).findAll(o.getBody(), c).then(t(function (e) {
        return e = y(e, function (e) {
          return "string" != typeof e || (Fd.displayError(o, e), !1);
        }), z(e, function (e) {
          n(e.image.src, e.blobInfo.blobUri()), e.image.src = e.blobInfo.blobUri(), e.image.removeAttribute("data-mce-src");
        }), e;
      }));
    };

    return o.on("SetContent", function () {
      Nf(o) ? e() : p();
    }), o.on("RawSaveContent", function (e) {
      e.content = l(e.content);
    }), o.on("GetContent", function (e) {
      e.source_view || "raw" === e.format || (e.content = l(e.content));
    }), o.on("PostRender", function () {
      o.parser.addNodeFilter("img", function (e) {
        z(e, function (e) {
          var t = e.attr("src");

          if (!h.getByUri(t)) {
            var n = m.getResultUri(t);
            n && e.attr("src", n);
          }
        });
      });
    }), {
      blobCache: h,
      addFilter: function addFilter(e) {
        g.push(e);
      },
      uploadImages: s,
      uploadImagesAuto: e,
      scanForImages: p,
      destroy: function destroy() {
        h.destroy(), m.destroy(), d = f = null;
      }
    };
  }

  function nh(e, t, n) {
    return Bt(t, e) ? function (e) {
      return e.slice(0, -1);
    }(function (e, t) {
      for (var n = D(t) ? t : c, r = e.dom(), o = []; null !== r.parentNode && r.parentNode !== undefined;) {
        var i = r.parentNode,
            a = yt.fromDom(i);
        if (o.push(a), !0 === n(a)) break;
        r = i;
      }

      return o;
    }(e, function (e) {
      return n(e) || ze(e, t);
    })) : [];
  }

  function rh(e, t) {
    return nh(e, t, $(!1));
  }

  function oh(e, t) {
    return e.hasOwnProperty(t.nodeName);
  }

  function ih(e, t) {
    if (Ge.isText(t)) {
      if (0 === t.nodeValue.length) return !0;
      if (/^\s+$/.test(t.nodeValue) && (!t.nextSibling || oh(e, t.nextSibling))) return !0;
    }

    return !1;
  }

  function ah(e) {
    var t,
        n,
        r,
        o,
        i,
        a,
        u,
        s,
        c,
        l,
        f = e.dom,
        d = e.selection,
        h = e.schema,
        m = h.getBlockElements(),
        g = d.getStart(),
        p = e.getBody(),
        v = mf(e);

    if (g && Ge.isElement(g) && v && (l = p.nodeName.toLowerCase(), h.isValidChild(l, v.toLowerCase()) && !function (t, e, n) {
      return C(lh(yt.fromDom(n), yt.fromDom(e)), function (e) {
        return oh(t, e.dom());
      });
    }(m, p, g))) {
      for (n = (t = d.getRng()).startContainer, r = t.startOffset, o = t.endContainer, i = t.endOffset, c = ud(e), g = p.firstChild; g;) {
        if (y = m, b = g, Ge.isText(b) || Ge.isElement(b) && !oh(y, b) && !Fc(b)) {
          if (ih(m, g)) {
            g = (u = g).nextSibling, f.remove(u);
            continue;
          }

          a || (a = f.create(v, gf(e)), g.parentNode.insertBefore(a, g), s = !0), g = (u = g).nextSibling, a.appendChild(u);
        } else a = null, g = g.nextSibling;
      }

      var y, b;
      s && c && (t.setStart(n, r), t.setEnd(o, i), d.setRng(t), e.nodeChanged());
    }
  }

  function uh(o, e) {
    return Ya(function (e) {
      var t = e.startContainer,
          n = e.startOffset;
      return Ge.isText(t) ? 0 === n ? k.some(yt.fromDom(t)) : k.none() : k.from(t.childNodes[n]).map(yt.fromDom);
    }(e), function (e) {
      var t = e.endContainer,
          n = e.endOffset;
      return Ge.isText(t) ? n === t.data.length ? k.some(yt.fromDom(t)) : k.none() : k.from(t.childNodes[n - 1]).map(yt.fromDom);
    }(e), function (e, t) {
      var n = g(mh(o), d(ze, e)),
          r = g(gh(o), d(ze, t));
      return n.isSome() && r.isSome();
    }).getOr(!1);
  }

  function sh(e, t, n, r) {
    var o = n,
        i = new yi(n, o),
        a = e.schema.getNonEmptyElements();

    do {
      if (3 === n.nodeType && 0 !== Mn.trim(n.nodeValue).length) return void (r ? t.setStart(n, 0) : t.setEnd(n, n.nodeValue.length));
      if (a[n.nodeName] && !/^(TD|TH)$/.test(n.nodeName)) return void (r ? t.setStartBefore(n) : "BR" === n.nodeName ? t.setEndBefore(n) : t.setEndAfter(n));
    } while (n = r ? i.next() : i.prev());

    "BODY" === o.nodeName && (r ? t.setStart(o, 0) : t.setEnd(o, o.childNodes.length));
  }

  function ch(e) {
    var t = e.selection.getSel();
    return t && 0 < t.rangeCount;
  }

  var lh = rh,
      fh = function fh(e, t) {
    return [e].concat(rh(e, t));
  },
      dh = function dh(e) {
    mf(e) && e.on("NodeChange", d(ah, e));
  },
      hh = function hh(e, t) {
    return e && t && e.startContainer === t.startContainer && e.startOffset === t.startOffset && e.endContainer === t.endContainer && e.endOffset === t.endOffset;
  },
      mh = function mh(t) {
    return _e(t).fold($([t]), function (e) {
      return [t].concat(mh(e));
    });
  },
      gh = function gh(t) {
    return Be(t).fold($([t]), function (e) {
      return "br" === ie(e) ? ke(e).map(function (e) {
        return [t].concat(gh(e));
      }).getOr([]) : [t].concat(gh(e));
    });
  },
      ph = (vh.prototype.nodeChanged = function (e) {
    var t,
        n,
        r,
        o = this.editor.selection;
    this.editor.initialized && o && !this.editor.settings.disable_nodechange && !this.editor.readonly && (r = this.editor.getBody(), (t = o.getStart(!0) || r).ownerDocument === this.editor.getDoc() && this.editor.dom.isChildOf(t, r) || (t = r), n = [], this.editor.dom.getParent(t, function (e) {
      if (e === r) return !0;
      n.push(e);
    }), (e = e || {}).element = t, e.parents = n, this.editor.fire("NodeChange", e));
  }, vh.prototype.isSameElementPath = function (e) {
    var t, n;

    if ((n = this.editor.$(e).parentsUntil(this.editor.getBody()).add(e)).length === this.lastPath.length) {
      for (t = n.length; 0 <= t && n[t] === this.lastPath[t]; t--) {
        ;
      }

      if (-1 === t) return this.lastPath = n, !0;
    }

    return this.lastPath = n, !1;
  }, vh);

  function vh(r) {
    var o;
    this.lastPath = [], this.editor = r;
    var t = this;
    "onselectionchange" in r.getDoc() || r.on("NodeChange click mouseup keyup focus", function (e) {
      var t, n;
      n = {
        startContainer: (t = r.selection.getRng()).startContainer,
        startOffset: t.startOffset,
        endContainer: t.endContainer,
        endOffset: t.endOffset
      }, "nodechange" !== e.type && hh(n, o) || r.fire("SelectionChange"), o = n;
    }), r.on("contextmenu", function () {
      r.fire("SelectionChange");
    }), r.on("SelectionChange", function () {
      var e = r.selection.getStart(!0);
      !e || !Nn.range && r.selection.isCollapsed() || ch(r) && !t.isSameElementPath(e) && r.dom.isChildOf(e, r.getBody()) && r.nodeChanged({
        selectionChange: !0
      });
    }), r.on("mouseup", function (e) {
      !e.isDefaultPrevented() && ch(r) && ("IMG" === r.selection.getNode().nodeName ? pn.setEditorTimeout(r, function () {
        r.nodeChanged();
      }) : r.nodeChanged());
    });
  }

  function yh(e) {
    return /^[\r\n\t ]$/.test(e);
  }

  function bh(e) {
    return !yh(e) && !Mh(e);
  }

  function Ch(n, r, o) {
    return k.from(o.container()).filter(Ge.isText).exists(function (e) {
      var t = n ? 0 : -1;
      return r(e.data.charAt(o.offset() + t));
    });
  }

  function wh(e) {
    var t = e.container();
    return Ge.isText(t) && 0 === t.data.length;
  }

  function xh(t, n) {
    return function (e) {
      return k.from(ws(t ? 0 : -1, e)).filter(n).isSome();
    };
  }

  function zh(e) {
    return "IMG" === e.nodeName && "block" === ve(yt.fromDom(e), "display");
  }

  function Eh(e) {
    return Ge.isContentEditableFalse(e) && !Ge.isBogusAll(e);
  }

  function Nh(e) {
    return b(e, function (e, t) {
      return e.concat(function (t) {
        function e(e) {
          return X(e, function (e) {
            return (e = Ia(e)).node = t, e;
          });
        }

        if (Ge.isElement(t)) return e(t.getClientRects());

        if (Ge.isText(t)) {
          var n = t.ownerDocument.createRange();
          return n.setStart(t, 0), n.setEnd(t, t.data.length), e(n.getClientRects());
        }
      }(t));
    }, []);
  }

  var Sh,
      kh,
      Th,
      Ah = {
    BACKSPACE: 8,
    DELETE: 46,
    DOWN: 40,
    ENTER: 13,
    LEFT: 37,
    RIGHT: 39,
    SPACEBAR: 32,
    TAB: 9,
    UP: 38,
    END: 35,
    HOME: 36,
    modifierPressed: function modifierPressed(e) {
      return e.shiftKey || e.ctrlKey || e.altKey || this.metaKeyPressed(e);
    },
    metaKeyPressed: function metaKeyPressed(e) {
      return Nn.mac ? e.metaKey : e.ctrlKey && !e.altKey;
    }
  },
      Mh = (Sh = "\xa0", function (e) {
    return Sh === e;
  }),
      Rh = d(Ch, !0, yh),
      Dh = d(Ch, !1, yh),
      _h = xh(!0, zh),
      Bh = xh(!1, zh),
      Oh = xh(!0, Ge.isTable),
      Hh = xh(!1, Ge.isTable),
      Ph = xh(!0, Eh),
      Lh = xh(!1, Eh);

  (Th = kh = kh || {})[Th.Up = -1] = "Up", Th[Th.Down = 1] = "Down";

  function Vh(o, i, a, e, u, t) {
    function n(e) {
      var t, n, r;

      for (r = Nh([e]), -1 === o && (r = r.reverse()), t = 0; t < r.length; t++) {
        if (n = r[t], !a(n, s)) {
          if (0 < l.length && i(n, kn.last(l)) && c++, n.line = c, u(n)) return !0;
          l.push(n);
        }
      }
    }

    var r,
        s,
        c = 0,
        l = [];
    return (s = kn.last(t.getClientRects())) && (n(r = t.getNode()), function (e, t, n, r) {
      for (; r = ys(r, e, Va, t);) {
        if (n(r)) return;
      }
    }(o, e, n, r)), l;
  }

  function Ih(t) {
    return function (e) {
      return function (e, t) {
        return t.line > e;
      }(t, e);
    };
  }

  function Fh(t) {
    return function (e) {
      return function (e, t) {
        return t.line === e;
      }(t, e);
    };
  }

  function Uh(e, t) {
    return Math.abs(e.left - t);
  }

  function jh(e, t) {
    return Math.abs(e.right - t);
  }

  function qh(e, t) {
    return e >= t.left && e <= t.right;
  }

  function $h(e, o) {
    return kn.reduce(e, function (e, t) {
      var n, r;
      return n = Math.min(Uh(e, o), jh(e, o)), r = Math.min(Uh(t, o), jh(t, o)), qh(o, t) ? t : qh(o, e) ? e : r === n && Ym(t.node) ? t : r < n ? t : e;
    });
  }

  function Wh(e, t, n, r) {
    for (; r = Gm(r, e, Va, t);) {
      if (n(r)) return;
    }
  }

  function Kh(e, t, n) {
    var r,
        o = Nh(function (e) {
      return y(P(e.getElementsByTagName("*")), ms);
    }(e)),
        i = y(o, function (e) {
      return n >= e.top && n <= e.bottom;
    });
    return (r = (r = $h(i, t)) && $h(function (e, r) {
      function t(t, e) {
        var n;
        return n = y(Nh([e]), function (e) {
          return !t(e, r);
        }), o = o.concat(n), 0 === n.length;
      }

      var o = [];
      return o.push(r), Wh(kh.Up, e, d(t, ja), r.node), Wh(kh.Down, e, d(t, qa), r.node), o;
    }(e, r), t)) && ms(r.node) ? function (e, t) {
      return {
        node: e.node,
        before: Uh(e, t) < jh(e, t)
      };
    }(r, t) : null;
  }

  function Xh(e) {
    var t, n, r, o;
    return o = e.getBoundingClientRect(), n = (t = e.ownerDocument).documentElement, r = t.defaultView, {
      top: o.top + r.pageYOffset - n.clientTop,
      left: o.left + r.pageXOffset - n.clientLeft
    };
  }

  function Yh(e) {
    e && e.parentNode && e.parentNode.removeChild(e);
  }

  function Gh(i, a) {
    return function (e) {
      if (function (e) {
        return 0 === e.button;
      }(e)) {
        var t = g(a.dom.getParents(e.target), Tu(Zm, eg)).getOr(null);

        if (function (e, t) {
          return Zm(t) && t !== e;
        }(a.getBody(), t)) {
          var n = a.dom.getPos(t),
              r = a.getBody(),
              o = a.getDoc().documentElement;
          i.element = t, i.screenX = e.screenX, i.screenY = e.screenY, i.maxX = (a.inline ? r.scrollWidth : o.offsetWidth) - 2, i.maxY = (a.inline ? r.scrollHeight : o.offsetHeight) - 2, i.relX = e.pageX - n.x, i.relY = e.pageY - n.y, i.width = t.offsetWidth, i.height = t.offsetHeight, i.ghost = function (e, t, n, r) {
            var o = t.cloneNode(!0);
            e.dom.setStyles(o, {
              width: n,
              height: r
            }), e.dom.setAttrib(o, "data-mce-selected", null);
            var i = e.dom.create("div", {
              "class": "mce-drag-container",
              "data-mce-bogus": "all",
              unselectable: "on",
              contenteditable: "false"
            });
            return e.dom.setStyles(i, {
              position: "absolute",
              opacity: .5,
              overflow: "hidden",
              border: 0,
              padding: 0,
              margin: 0,
              width: n,
              height: r
            }), e.dom.setStyles(o, {
              margin: 0,
              boxSizing: "border-box"
            }), i.appendChild(o), i;
          }(a, t, i.width, i.height);
        }
      }
    };
  }

  function Jh(r, o) {
    return function (e) {
      if (r.dragging && function (e, t, n) {
        return t !== n && !e.dom.isChildOf(t, n) && !Zm(t);
      }(o, function (e) {
        var t = e.getSel().getRangeAt(0).startContainer;
        return 3 === t.nodeType ? t.parentNode : t;
      }(o.selection), r.element)) {
        var t = function (e) {
          var t = e.cloneNode(!0);
          return t.removeAttribute("data-mce-selected"), t;
        }(r.element),
            n = o.fire("drop", {
          targetClone: t,
          clientX: e.clientX,
          clientY: e.clientY
        });

        n.isDefaultPrevented() || (t = n.targetClone, o.undoManager.transact(function () {
          Yh(r.element), o.insertContent(o.dom.getOuterHTML(t)), o._selectionOverrides.hideFakeCaret();
        }));
      }

      tg(r);
    };
  }

  function Qh(e) {
    var t,
        n,
        r,
        o,
        i,
        a,
        u = {};
    t = Xi.DOM, a = j.document, n = Gh(u, e), r = function (r, o) {
      var i = pn.throttle(function (e, t) {
        o._selectionOverrides.hideFakeCaret(), o.selection.placeCaretAt(e, t);
      }, 0);
      return function (e) {
        var t = Math.max(Math.abs(e.screenX - r.screenX), Math.abs(e.screenY - r.screenY));

        if (function (e) {
          return e.element;
        }(r) && !r.dragging && 10 < t) {
          if (o.fire("dragstart", {
            target: r.element
          }).isDefaultPrevented()) return;
          r.dragging = !0, o.focus();
        }

        if (r.dragging) {
          var n = function (e, t) {
            return {
              pageX: t.pageX - e.relX,
              pageY: t.pageY + 5
            };
          }(r, Qm(o, e));

          !function (e, t) {
            e.parentNode !== t && t.appendChild(e);
          }(r.ghost, o.getBody()), function (e, t, n, r, o, i) {
            var a = 0,
                u = 0;
            e.style.left = t.pageX + "px", e.style.top = t.pageY + "px", t.pageX + n > o && (a = t.pageX + n - o), t.pageY + r > i && (u = t.pageY + r - i), e.style.width = n - a + "px", e.style.height = r - u + "px";
          }(r.ghost, n, r.width, r.height, r.maxX, r.maxY), i(e.clientX, e.clientY);
        }
      };
    }(u, e), o = Jh(u, e), i = function (e, t) {
      return function () {
        e.dragging && t.fire("dragend"), tg(e);
      };
    }(u, e), e.on("mousedown", n), e.on("mousemove", r), e.on("mouseup", o), t.bind(a, "mousemove", r), t.bind(a, "mouseup", i), e.on("remove", function () {
      t.unbind(a, "mousemove", r), t.unbind(a, "mouseup", i);
    });
  }

  function Zh(e, t, n, r, o) {
    return t._selectionOverrides.showCaret(e, n, r, o);
  }

  function em(e, t) {
    return e.fire("BeforeObjectSelected", {
      target: t
    }).isDefaultPrevented() ? null : function (e) {
      var t = e.ownerDocument.createRange();
      return t.selectNode(e), t;
    }(t);
  }

  function tm(e, t, n) {
    var r = Es(1, e.getBody(), t),
        o = Ds.fromRangeStart(r),
        i = o.getNode();
    if (og(i)) return Zh(1, e, i, !o.isAtEnd(), !1);
    var a = o.getNode(!0);
    if (og(a)) return Zh(1, e, a, !1, !1);
    var u = e.dom.getParent(o.getNode(), function (e) {
      return og(e) || rg(e);
    });
    return og(u) ? Zh(1, e, u, !1, n) : null;
  }

  function nm(e, t, n) {
    if (!t || !t.collapsed) return t;
    var r = tm(e, t, n);
    return r || t;
  }

  function rm(e, t) {
    for (var n = e.getBody(); t && t !== n;) {
      if (ag(t) || ug(t)) return t;
      t = t.parentNode;
    }

    return null;
  }

  function om(g) {
    function a(e) {
      e && g.selection.setRng(e);
    }

    function o() {
      return g.selection.getRng();
    }

    function p(e, t, n, r) {
      return void 0 === r && (r = !0), g.fire("ShowCaret", {
        target: t,
        direction: e,
        before: n
      }).isDefaultPrevented() ? null : (r && g.selection.scrollIntoView(t, -1 === e), u.show(n, t));
    }

    function t(e) {
      return Da(e) || hu(e) || mu(e);
    }

    var v,
        y = g.getBody(),
        u = ds(g.getBody(), function (e) {
      return g.dom.isBlock(e);
    }, function () {
      return ud(g);
    }),
        b = "sel-" + g.dom.uniqueId(),
        C = function C(e) {
      return t(e.startContainer) || t(e.endContainer);
    },
        s = function s(e) {
      var t = g.schema.getShortEndedElements(),
          n = g.dom.createRng(),
          r = e.startContainer,
          o = e.startOffset,
          i = e.endContainer,
          a = e.endOffset;
      return kt(t, r.nodeName.toLowerCase()) ? 0 === o ? n.setStartBefore(r) : n.setStartAfter(r) : n.setStart(r, o), kt(t, i.nodeName.toLowerCase()) ? 0 === a ? n.setEndBefore(i) : n.setEndAfter(i) : n.setEnd(i, a), n;
    },
        c = function c(e, t) {
      var n,
          r,
          o,
          i,
          a,
          u,
          s,
          c,
          l,
          f,
          d = g.$,
          h = g.dom;
      if (!e) return null;

      if (e.collapsed) {
        if (!C(e)) if (!1 === t) {
          if (c = Ss(-1, y, e), ms(c.getNode(!0))) return p(-1, c.getNode(!0), !1, !1);
          if (ms(c.getNode())) return p(-1, c.getNode(), !c.isAtEnd(), !1);
        } else {
          if (c = Ss(1, y, e), ms(c.getNode())) return p(1, c.getNode(), !c.isAtEnd(), !1);
          if (ms(c.getNode(!0))) return p(1, c.getNode(!0), !1, !1);
        }
        return null;
      }

      if (i = e.startContainer, a = e.startOffset, u = e.endOffset, 3 === i.nodeType && 0 === a && ug(i.parentNode) && (i = i.parentNode, a = h.nodeIndex(i), i = i.parentNode), 1 !== i.nodeType) return null;
      if (u === a + 1 && i === e.endContainer && (n = i.childNodes[a]), !ug(n)) return null;
      if (l = f = n.cloneNode(!0), (s = g.fire("ObjectSelected", {
        target: n,
        targetClone: l
      })).isDefaultPrevented()) return null;
      r = wa(yt.fromDom(g.getBody()), "#" + b).fold(function () {
        return d([]);
      }, function (e) {
        return d([e.dom()]);
      }), l = s.targetClone, 0 === r.length && (r = d('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id", b)).appendTo(g.getBody()), e = g.dom.createRng(), l === f && Nn.ie ? (r.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(l), e.setStartAfter(r[0].firstChild.firstChild), e.setEndAfter(l)) : (r.empty().append("\xa0").append(l).append("\xa0"), e.setStart(r[0].firstChild, 1), e.setEnd(r[0].lastChild, 0)), r.css({
        top: h.getPos(n, g.getBody()).y
      }), r[0].focus(), (o = g.selection.getSel()).removeAllRanges(), o.addRange(e);
      var m = yt.fromDom(n);
      return z(ma(yt.fromDom(g.getBody()), "*[data-mce-selected]"), function (e) {
        ze(m, e) || pe(e, "data-mce-selected");
      }), g.dom.getAttrib(n, "data-mce-selected") || n.setAttribute("data-mce-selected", "1"), v = n, w(), e;
    },
        l = function l() {
      v && (v.removeAttribute("data-mce-selected"), wa(yt.fromDom(g.getBody()), "#" + b).each(_i), v = null), wa(yt.fromDom(g.getBody()), "#" + b).each(_i), v = null;
    },
        w = function w() {
      u.hide();
    };

    return Nn.ceFalse && function () {
      g.on("mouseup", function (e) {
        var t = o();
        t.collapsed && Rd(g, e.clientX, e.clientY) && a(tm(g, t, !1));
      }), g.on("click", function (e) {
        var t;
        (t = rm(g, e.target)) && (ug(t) && (e.preventDefault(), g.focus()), ag(t) && g.dom.isChildOf(t, g.selection.getNode()) && l());
      }), g.on("blur NewBlock", function () {
        l();
      }), g.on("ResizeWindow FullscreenStateChanged", function () {
        return u.reposition();
      });

      function i(e, t) {
        var n = g.dom.getParent(e, g.dom.isBlock),
            r = g.dom.getParent(t, g.dom.isBlock);
        return !(!n || !g.dom.isChildOf(n, r) || !1 !== ug(rm(g, n))) || n && !function (e, t) {
          return g.dom.getParent(e, g.dom.isBlock) === g.dom.getParent(t, g.dom.isBlock);
        }(n, r) && function (e) {
          var t = rc(e);
          if (!e.firstChild) return !1;
          var n = Ds.before(e.firstChild),
              r = t.next(n);
          return r && !Ph(r) && !Lh(r);
        }(n);
      }

      var n, r;
      r = !1, (n = g).on("touchstart", function () {
        r = !1;
      }), n.on("touchmove", function () {
        r = !0;
      }), n.on("touchend", function (e) {
        if (!r) {
          var t = rm(n, e.target);
          ug(t) && (e.preventDefault(), c(em(n, t)));
        }
      }, !0), g.on("mousedown", function (e) {
        var t,
            n = e.target;
        if ((n === y || "HTML" === n.nodeName || g.dom.isChildOf(n, y)) && !1 !== Rd(g, e.clientX, e.clientY)) if (t = rm(g, n)) ug(t) ? (e.preventDefault(), c(em(g, t))) : (l(), ag(t) && e.shiftKey || Jm(e.clientX, e.clientY, g.selection.getRng()) || (w(), g.selection.placeCaretAt(e.clientX, e.clientY)));else if (!1 === ms(n)) {
          l(), w();
          var r = Kh(y, e.clientX, e.clientY);

          if (r && !i(e.target, r.node)) {
            e.preventDefault();
            var o = p(1, r.node, r.before, !1);
            g.getBody().focus(), a(o);
          }
        }
      }), g.on("keypress", function (e) {
        Ah.modifierPressed(e) || (e.keyCode, ug(g.selection.getNode()) && e.preventDefault());
      }), g.on("GetSelectionRange", function (e) {
        var t = e.range;

        if (v) {
          if (!v.parentNode) return void (v = null);
          (t = t.cloneRange()).selectNode(v), e.range = t;
        }
      }), g.on("SetSelectionRange", function (e) {
        e.range = s(e.range);
        var t = c(e.range, e.forward);
        t && (e.range = t);
      });
      g.on("AfterSetSelectionRange", function (e) {
        var t = e.range;
        C(t) || function (e) {
          return "mcepastebin" === e.id;
        }(t.startContainer.parentNode) || w(), function (e) {
          return g.dom.hasClass(e, "mce-offscreen-selection");
        }(t.startContainer.parentNode) || l();
      }), g.on("copy", function (e) {
        var t = e.clipboardData;

        if (!e.isDefaultPrevented() && e.clipboardData && !Nn.ie) {
          var n = function () {
            var e = g.dom.get(b);
            return e ? e.getElementsByTagName("*")[0] : e;
          }();

          n && (e.preventDefault(), t.clearData(), t.setData("text/html", n.outerHTML), t.setData("text/plain", n.outerText));
        }
      }), ng(g), ig(g);
    }(), {
      showCaret: p,
      showBlockCaretContainer: function showBlockCaretContainer(e) {
        e.hasAttribute("data-mce-caret") && (Pa(e), a(o()), g.selection.scrollIntoView(e));
      },
      hideFakeCaret: w,
      destroy: function destroy() {
        u.destroy(), v = null;
      }
    };
  }

  function im(e) {
    return Ge.isElement(e) ? e.outerHTML : Ge.isText(e) ? ir.encodeRaw(e.data, !1) : Ge.isComment(e) ? "\x3c!--" + e.data + "--\x3e" : "";
  }

  function am(e, t, n) {
    var r = function (e) {
      var t, n, r;

      for (r = j.document.createElement("div"), t = j.document.createDocumentFragment(), e && (r.innerHTML = e); n = r.firstChild;) {
        t.appendChild(n);
      }

      return t;
    }(t);

    if (e.hasChildNodes() && n < e.childNodes.length) {
      var o = e.childNodes[n];
      o.parentNode.insertBefore(r, o);
    } else e.appendChild(r);
  }

  function um(e) {
    return {
      type: "fragmented",
      fragments: e,
      content: "",
      bookmark: null,
      beforeBookmark: null
    };
  }

  function sm(e) {
    return {
      type: "complete",
      fragments: null,
      content: e,
      bookmark: null,
      beforeBookmark: null
    };
  }

  function cm(e) {
    return "fragmented" === e.type ? e.fragments.join("") : e.content;
  }

  function lm(e) {
    var t = yt.fromTag("body", mg.get().getOrThunk(function () {
      var e = j.document.implementation.createHTMLDocument("undo");
      return mg.set(k.some(e)), e;
    }));
    return Aa(t, cm(e)), z(ma(t, "*[data-mce-bogus]"), Ni), function (e) {
      return e.dom().innerHTML;
    }(t);
  }

  function fm(e) {
    return 0 === e.get();
  }

  function dm(e, t, n) {
    fm(n) && (e.typing = t);
  }

  function hm(e, t) {
    e.typing && (dm(e, !1, t), e.add());
  }

  function mm(n) {
    var r = Je(k.none()),
        o = Je(0),
        i = Je(0),
        a = {
      data: [],
      typing: !1,
      beforeChange: function beforeChange() {
        !function (e, t, n) {
          fm(t) && n.set(k.some(Vs.getUndoBookmark(e.selection)));
        }(n, o, r);
      },
      add: function add(e, t) {
        return function (e, t, n, r, o, i, a) {
          var u = e.settings,
              s = gg(e);
          if (i = i || {}, i = Mn.extend(i, s), !1 === fm(r) || e.removed) return null;
          var c = t.data[n.get()];
          if (e.fire("BeforeAddUndo", {
            level: i,
            lastLevel: c,
            originalEvent: a
          }).isDefaultPrevented()) return null;
          if (c && vg(c, i)) return null;

          if (t.data[n.get()] && o.get().each(function (e) {
            t.data[n.get()].beforeBookmark = e;
          }), u.custom_undo_redo_levels && t.data.length > u.custom_undo_redo_levels) {
            for (var l = 0; l < t.data.length - 1; l++) {
              t.data[l] = t.data[l + 1];
            }

            t.data.length--, n.set(t.data.length);
          }

          i.bookmark = Vs.getUndoBookmark(e.selection), n.get() < t.data.length - 1 && (t.data.length = n.get() + 1), t.data.push(i), n.set(t.data.length - 1);
          var f = {
            level: i,
            lastLevel: c,
            originalEvent: a
          };
          return e.fire("AddUndo", f), 0 < n.get() && (e.setDirty(!0), e.fire("change", f)), i;
        }(n, a, i, o, r, e, t);
      },
      undo: function undo() {
        return function (e, t, n, r) {
          var o;
          return t.typing && (t.add(), t.typing = !1, dm(t, !1, n)), 0 < r.get() && (r.set(r.get() - 1), o = t.data[r.get()], pg(e, o, !0), e.setDirty(!0), e.fire("Undo", {
            level: o
          })), o;
        }(n, a, o, i);
      },
      redo: function redo() {
        return function (e, t, n) {
          var r;
          return t.get() < n.length - 1 && (t.set(t.get() + 1), r = n[t.get()], pg(e, r, !1), e.setDirty(!0), e.fire("Redo", {
            level: r
          })), r;
        }(n, i, a.data);
      },
      clear: function clear() {
        !function (e, t, n) {
          t.data = [], n.set(0), t.typing = !1, e.fire("ClearUndos");
        }(n, a, i);
      },
      reset: function reset() {
        !function (e) {
          e.clear(), e.add();
        }(a);
      },
      hasUndo: function hasUndo() {
        return function (e, t, n) {
          return 0 < n.get() || t.typing && t.data[0] && !vg(gg(e), t.data[0]);
        }(n, a, i);
      },
      hasRedo: function hasRedo() {
        return function (e, t) {
          return t.get() < e.data.length - 1 && !e.typing;
        }(a, i);
      },
      transact: function transact(e) {
        return function (e, t, n) {
          return hm(e, t), e.beforeChange(), e.ignore(n), e.add();
        }(a, o, e);
      },
      ignore: function ignore(e) {
        !function (e, t) {
          try {
            e.set(e.get() + 1), t();
          } finally {
            e.set(e.get() - 1);
          }
        }(o, e);
      },
      extra: function extra(e, t) {
        !function (e, t, n, r, o) {
          if (t.transact(r)) {
            var i = t.data[n.get()].bookmark,
                a = t.data[n.get() - 1];
            pg(e, a, !0), t.transact(o) && (t.data[n.get() - 1].beforeBookmark = i);
          }
        }(n, a, i, e, t);
      }
    };
    return function (n, r, o) {
      function i(e) {
        dm(r, !1, o), r.add({}, e);
      }

      var a = Je(!1);
      n.on("init", function () {
        r.add();
      }), n.on("BeforeExecCommand", function (e) {
        var t = e.command;
        "Undo" !== t && "Redo" !== t && "mceRepaint" !== t && (hm(r, o), r.beforeChange());
      }), n.on("ExecCommand", function (e) {
        var t = e.command;
        "Undo" !== t && "Redo" !== t && "mceRepaint" !== t && i(e);
      }), n.on("ObjectResizeStart cut", function () {
        r.beforeChange();
      }), n.on("SaveContent ObjectResized blur", i), n.on("dragend", i), n.on("keyup", function (e) {
        var t = e.keyCode;
        e.isDefaultPrevented() || ((33 <= t && t <= 36 || 37 <= t && t <= 40 || 45 === t || e.ctrlKey) && (i(), n.nodeChanged()), 46 !== t && 8 !== t || n.nodeChanged(), a.get() && r.typing && !1 === vg(gg(n), r.data[0]) && (!1 === n.isDirty() && (n.setDirty(!0), n.fire("change", {
          level: r.data[0],
          lastLevel: null
        })), n.fire("TypingUndo"), a.set(!1), n.nodeChanged()));
      }), n.on("keydown", function (e) {
        var t = e.keyCode;
        if (!e.isDefaultPrevented()) if (33 <= t && t <= 36 || 37 <= t && t <= 40 || 45 === t) r.typing && i(e);else {
          var n = e.ctrlKey && !e.altKey || e.metaKey;
          !(t < 16 || 20 < t) || 224 === t || 91 === t || r.typing || n || (r.beforeChange(), dm(r, !0, o), r.add({}, e), a.set(!0));
        }
      }), n.on("mousedown", function (e) {
        r.typing && i(e);
      });
      n.on("input", function (e) {
        e.inputType && (function (e) {
          return "insertReplacementText" === e.inputType;
        }(e) || function (e) {
          return "insertText" === e.inputType && null === e.data;
        }(e)) && i(e);
      }), n.on("AddUndo Undo Redo ClearUndos", function (e) {
        e.isDefaultPrevented() || n.nodeChanged();
      });
    }(n, a, o), function (e) {
      e.addShortcut("meta+z", "", "Undo"), e.addShortcut("meta+y,meta+shift+z", "", "Redo");
    }(n), a;
  }

  function gm(e, t, n) {
    var r = e.formatter.get(n);
    if (r) for (var o = 0; o < r.length; o++) {
      if (!1 === r[o].inherit && e.dom.is(t, r[o].selector)) return !0;
    }
    return !1;
  }

  function pm(t, e, n, r) {
    var o = t.dom.getRoot();
    return e !== o && (e = t.dom.getParent(e, function (e) {
      return !!gm(t, e, n) || e.parentNode === o || !!xg(t, e, n, r, !0);
    }), xg(t, e, n, r));
  }

  function vm(e, t, n) {
    return !!wg(t, n.inline) || !!wg(t, n.block) || (n.selector ? 1 === t.nodeType && e.is(t, n.selector) : void 0);
  }

  function ym(e, t, n, r, o, i) {
    var a,
        u,
        s,
        c = n[r];
    if (n.onmatch) return n.onmatch(t, n, r);
    if (c) if ("undefined" == typeof c.length) {
      for (a in c) {
        if (c.hasOwnProperty(a)) {
          if (u = "attributes" === r ? e.getAttrib(t, a) : jc.getStyle(e, t, a), o && !u && !n.exact) return;
          if ((!o || n.exact) && !wg(u, jc.normalizeStyleValue(e, jc.replaceVars(c[a], i), a))) return;
        }
      }
    } else for (s = 0; s < c.length; s++) {
      if ("attributes" === r ? e.getAttrib(t, c[s]) : jc.getStyle(e, t, c[s])) return n;
    }
    return n;
  }

  function bm(e, t) {
    return e.splitText(t);
  }

  function Cm(e) {
    var t = e.startContainer,
        n = e.startOffset,
        r = e.endContainer,
        o = e.endOffset;
    return t === r && Ge.isText(t) ? 0 < n && n < t.nodeValue.length && (t = (r = bm(t, n)).previousSibling, n < o ? (t = r = bm(r, o -= n).previousSibling, o = r.nodeValue.length, n = 0) : o = 0) : (Ge.isText(t) && 0 < n && n < t.nodeValue.length && (t = bm(t, n), n = 0), Ge.isText(r) && 0 < o && o < r.nodeValue.length && (o = (r = bm(r, o).previousSibling).nodeValue.length)), {
      startContainer: t,
      startOffset: n,
      endContainer: r,
      endOffset: o
    };
  }

  function wm(e, t, n) {
    if (0 !== n) {
      var r = e.data.slice(t, t + n),
          o = t + n >= e.data.length,
          i = 0 === t;
      e.replaceData(t, n, function (n, r, o) {
        return b(n, function (e, t) {
          return function (e) {
            return -1 !== " \f\n\r\t\x0B".indexOf(e);
          }(t) || "\xa0" === t ? e.previousCharIsSpace || "" === e.str && r || e.str.length === n.length - 1 && o ? {
            previousCharIsSpace: !1,
            str: e.str + "\xa0"
          } : {
            previousCharIsSpace: !0,
            str: e.str + " "
          } : {
            previousCharIsSpace: !1,
            str: e.str + t
          };
        }, {
          previousCharIsSpace: !1,
          str: ""
        }).str;
      }(r, i, o));
    }
  }

  function xm(e, t) {
    var n = e.data.slice(t),
        r = n.length - function (e) {
      return e.replace(/^\s+/g, "");
    }(n).length;

    return wm(e, t, r);
  }

  function zm(e, t) {
    var n = yt.fromDom(e);
    return function (e, t, n) {
      return Ca(e, t, n).isSome();
    }(yt.fromDom(t), "pre,code", d(ze, n));
  }

  function Em(e, t) {
    return La(t) && !1 === function (e, t) {
      return Ge.isText(t) && /^[ \t\r\n]*$/.test(t.data) && !1 === zm(e, t);
    }(e, t) || function (e) {
      return Ge.isElement(e) && "A" === e.nodeName && e.hasAttribute("name");
    }(t) || Eg(t);
  }

  function Nm(e, t) {
    return function (e, t) {
      var n = e.container(),
          r = e.offset();
      return !1 === Ds.isTextPosition(e) && n === t.parentNode && r > Ds.before(t).offset();
    }(t, e) ? Ds(t.container(), t.offset() - 1) : t;
  }

  function Sm(e) {
    return La(e.previousSibling) ? k.some(function (e) {
      return Ge.isText(e) ? Ds(e, e.data.length) : Ds.after(e);
    }(e.previousSibling)) : e.previousSibling ? Pc.lastPositionIn(e.previousSibling) : k.none();
  }

  function km(e) {
    return La(e.nextSibling) ? k.some(function (e) {
      return Ge.isText(e) ? Ds(e, 0) : Ds.before(e);
    }(e.nextSibling)) : e.nextSibling ? Pc.firstPositionIn(e.nextSibling) : k.none();
  }

  function Tm(e, t) {
    return Sm(t).orThunk(function () {
      return km(t);
    }).orThunk(function () {
      return function (e, t) {
        var n = Ds.before(t.previousSibling ? t.previousSibling : t.parentNode);
        return Pc.prevPosition(e, n).fold(function () {
          return Pc.nextPosition(e, Ds.after(t));
        }, k.some);
      }(e, t);
    });
  }

  function Am(e, t) {
    return km(t).orThunk(function () {
      return Sm(t);
    }).orThunk(function () {
      return function (e, t) {
        return Pc.nextPosition(e, Ds.after(t)).fold(function () {
          return Pc.prevPosition(e, Ds.before(t));
        }, k.some);
      }(e, t);
    });
  }

  function Mm(e, t, n) {
    return function (e, t, n) {
      return e ? Am(t, n) : Tm(t, n);
    }(e, t, n).map(d(Nm, n));
  }

  function Rm(t, n, e) {
    e.fold(function () {
      t.focus();
    }, function (e) {
      t.selection.setRng(e.toRange(), n);
    });
  }

  function Dm(e, t) {
    return t && e.schema.getBlockElements().hasOwnProperty(ie(t));
  }

  function _m(e) {
    if (kg(e)) {
      var t = yt.fromHtml('<br data-mce-bogus="1">');
      return Ei(e), Di(e, t), k.some(Ds.before(t.dom()));
    }

    return k.none();
  }

  function Bm(e, t, a) {
    var n = ke(e).filter(zt),
        r = Te(e).filter(zt);
    return _i(e), function (e, t, n, r) {
      return e.isSome() && t.isSome() && n.isSome() ? k.some(r(e.getOrDie(), t.getOrDie(), n.getOrDie())) : k.none();
    }(n, r, t, function (e, t, n) {
      var r = e.dom(),
          o = t.dom(),
          i = r.data.length;
      return function (e, t, n) {
        var r = ne(e.data).length;
        e.appendData(t.data), _i(yt.fromDom(t)), n && xm(e, r);
      }(r, o, a), n.container() === o ? Ds(r, i) : n;
    }).orThunk(function () {
      return a && (n.each(function (e) {
        return function (e, t) {
          var n = e.data.slice(0, t),
              r = n.length - ne(n).length;
          return wm(e, t - r, r);
        }(e.dom(), e.dom().length);
      }), r.each(function (e) {
        return xm(e.dom(), 0);
      })), t;
    });
  }

  function Om(e) {
    return 0 < function (e) {
      for (var t = []; e;) {
        if (3 === e.nodeType && e.nodeValue !== Ag || 1 < e.childNodes.length) return [];
        1 === e.nodeType && t.push(e), e = e.firstChild;
      }

      return t;
    }(e).length;
  }

  function Hm(e) {
    if (e) {
      var t = new yi(e, e);

      for (e = t.current(); e; e = t.next()) {
        if (3 === e.nodeType) return e;
      }
    }

    return null;
  }

  function Pm(e) {
    var t = yt.fromTag("span");
    return me(t, {
      id: Mg,
      "data-mce-bogus": "1",
      "data-mce-type": "format-caret"
    }), e && Di(t, yt.fromText(Ag)), t;
  }

  function Lm(e, t, n) {
    void 0 === n && (n = !0);
    var r = e.dom,
        o = e.selection;
    if (Om(t)) Tg(e, !1, yt.fromDom(t), n);else {
      var i = o.getRng(),
          a = r.getParent(t, r.isBlock),
          u = function (e) {
        var t = Hm(e);
        return t && t.nodeValue.charAt(0) === Ag && t.deleteData(0, 1), t;
      }(t);

      i.startContainer === u && 0 < i.startOffset && i.setStart(u, i.startOffset - 1), i.endContainer === u && 0 < i.endOffset && i.setEnd(u, i.endOffset - 1), r.remove(t, !0), a && r.isEmpty(a) && bg(yt.fromDom(a)), o.setRng(i);
    }
  }

  function Vm(e, t, n) {
    void 0 === n && (n = !0);
    var r = e.dom,
        o = e.selection;
    if (t) Lm(e, t, n);else if (!(t = os(e.getBody(), o.getStart()))) for (; t = r.get(Mg);) {
      Lm(e, t, !1);
    }
  }

  function Im(e, t, n) {
    var r = e.dom,
        o = r.getParent(n, d(jc.isTextBlock, e));
    o && r.isEmpty(o) ? n.parentNode.replaceChild(t, n) : (yg(yt.fromDom(n)), r.isEmpty(n) ? n.parentNode.replaceChild(t, n) : r.insertAfter(t, n));
  }

  function Fm(e, t) {
    return e.appendChild(t), t;
  }

  function Um(e, t) {
    var n = m(e, function (e, t) {
      return Fm(e, t.cloneNode(!1));
    }, t);
    return Fm(n, n.ownerDocument.createTextNode(Ag));
  }

  function jm(t) {
    t.on("mouseup keydown", function (e) {
      !function (e, t) {
        var n = e.selection,
            r = e.getBody();
        Vm(e, null, !1), 8 !== t && 46 !== t || !n.isCollapsed() || n.getStart().innerHTML !== Ag || Vm(e, os(r, n.getStart())), 37 !== t && 39 !== t || Vm(e, os(r, n.getStart()));
      }(t, e.keyCode);
    });
  }

  function qm(e, t) {
    return e.schema.getTextInlineElements().hasOwnProperty(ie(t)) && !rs(t.dom()) && !Ge.isBogus(t.dom());
  }

  var $m,
      Wm,
      Km = d(Vh, kh.Up, ja, qa),
      Xm = d(Vh, kh.Down, qa, ja),
      Ym = Ge.isContentEditableFalse,
      Gm = ys,
      Jm = function Jm(t, n, e) {
    if (e.collapsed) return !1;

    if (Nn.browser.isIE() && e.startOffset === e.endOffset - 1 && e.startContainer === e.endContainer) {
      var r = e.startContainer.childNodes[e.startOffset];
      if (Ge.isElement(r)) return C(r.getClientRects(), function (e) {
        return $a(e, t, n);
      });
    }

    return C(e.getClientRects(), function (e) {
      return $a(e, t, n);
    });
  },
      Qm = function Qm(e, t) {
    return function (e, t, n) {
      return {
        pageX: n.left - e.left + t.left,
        pageY: n.top - e.top + t.top
      };
    }(function (e) {
      return e.inline ? Xh(e.getBody()) : {
        left: 0,
        top: 0
      };
    }(e), function (e) {
      var t = e.getBody();
      return e.inline ? {
        left: t.scrollLeft,
        top: t.scrollTop
      } : {
        left: 0,
        top: 0
      };
    }(e), function (e, t) {
      if (t.target.ownerDocument === e.getDoc()) return {
        left: t.pageX,
        top: t.pageY
      };

      var n = Xh(e.getContentAreaContainer()),
          r = function (e) {
        var t = e.getBody(),
            n = e.getDoc().documentElement,
            r = {
          left: t.scrollLeft,
          top: t.scrollTop
        },
            o = {
          left: t.scrollLeft || n.scrollLeft,
          top: t.scrollTop || n.scrollTop
        };
        return e.inline ? r : o;
      }(e);

      return {
        left: t.pageX - n.left + r.left,
        top: t.pageY - n.top + r.top
      };
    }(e, t));
  },
      Zm = Ge.isContentEditableFalse,
      eg = Ge.isContentEditableTrue,
      tg = function tg(e) {
    e.dragging = !1, e.element = null, Yh(e.ghost);
  },
      ng = function ng(e) {
    Qh(e), function (n) {
      n.on("drop", function (e) {
        var t = "undefined" != typeof e.clientX ? n.getDoc().elementFromPoint(e.clientX, e.clientY) : null;
        (Zm(t) || Zm(n.dom.getContentEditableParent(t))) && e.preventDefault();
      });
    }(e);
  },
      rg = Ge.isContentEditableTrue,
      og = Ge.isContentEditableFalse,
      ig = function ig(t) {
    var e = aa(function () {
      if (!t.removed && t.getBody().contains(j.document.activeElement) && t.selection.getRng().collapsed) {
        var e = nm(t, t.selection.getRng(), !1);
        t.selection.setRng(e);
      }
    }, 0);
    t.on("focus", function () {
      e.throttle();
    }), t.on("blur", function () {
      e.cancel();
    });
  },
      ag = Ge.isContentEditableTrue,
      ug = Ge.isContentEditableFalse,
      sg = 0,
      cg = 2,
      lg = 1,
      fg = function fg(m, g) {
    function p(e, t, n, r) {
      for (var o = e; o - t < r && o < n && m[o] === g[o - t];) {
        ++o;
      }

      return function (e, t, n) {
        return {
          start: e,
          end: t,
          diag: n
        };
      }(e, o, t);
    }

    var e = m.length + g.length + 2,
        v = new Array(e),
        y = new Array(e),
        c = function c(e, t, n, r, o) {
      var i = l(e, t, n, r);
      if (null === i || i.start === t && i.diag === t - r || i.end === e && i.diag === e - n) for (var a = e, u = n; a < t || u < r;) {
        a < t && u < r && m[a] === g[u] ? (o.push([0, m[a]]), ++a, ++u) : r - n < t - e ? (o.push([2, m[a]]), ++a) : (o.push([1, g[u]]), ++u);
      } else {
        c(e, i.start, n, i.start - i.diag, o);

        for (var s = i.start; s < i.end; ++s) {
          o.push([0, m[s]]);
        }

        c(i.end, t, i.end - i.diag, r, o);
      }
    },
        l = function l(e, t, n, r) {
      var o = t - e,
          i = r - n;
      if (0 == o || 0 == i) return null;
      var a,
          u,
          s,
          c,
          l,
          f = o - i,
          d = i + o,
          h = (d % 2 == 0 ? d : 1 + d) / 2;

      for (v[1 + h] = e, y[1 + h] = t + 1, a = 0; a <= h; ++a) {
        for (u = -a; u <= a; u += 2) {
          for (s = u + h, u === -a || u !== a && v[s - 1] < v[s + 1] ? v[s] = v[s + 1] : v[s] = v[s - 1] + 1, l = (c = v[s]) - e + n - u; c < t && l < r && m[c] === g[l];) {
            v[s] = ++c, ++l;
          }

          if (f % 2 != 0 && f - a <= u && u <= f + a && y[s - f] <= v[s]) return p(y[s - f], u + e - n, t, r);
        }

        for (u = f - a; u <= f + a; u += 2) {
          for (s = u + h - f, u === f - a || u !== f + a && y[s + 1] <= y[s - 1] ? y[s] = y[s + 1] - 1 : y[s] = y[s - 1], l = (c = y[s] - 1) - e + n - u; e <= c && n <= l && m[c] === g[l];) {
            y[s] = c--, l--;
          }

          if (f % 2 == 0 && -a <= u && u <= a && y[s] <= v[s + f]) return p(y[s], u + e - n, t, r);
        }
      }
    },
        t = [];

    return c(0, m.length, 0, g.length, t), t;
  },
      dg = function dg(e) {
    return y(X(P(e.childNodes), im), function (e) {
      return 0 < e.length;
    });
  },
      hg = function hg(e, t) {
    var n = X(P(t.childNodes), im);
    return function (e, t) {
      var n = 0;
      z(e, function (e) {
        e[0] === sg ? n++ : e[0] === lg ? (am(t, e[1], n), n++) : e[0] === cg && function (e, t) {
          if (e.hasChildNodes() && t < e.childNodes.length) {
            var n = e.childNodes[t];
            n.parentNode.removeChild(n);
          }
        }(t, n);
      });
    }(fg(n, e), t), t;
  },
      mg = Je(k.none()),
      gg = function gg(n) {
    var e, t, r;
    return e = dg(n.getBody()), function (e) {
      return -1 !== e.indexOf("</iframe>");
    }(t = (r = v(e, function (e) {
      var t = af.trimInternal(n.serializer, e);
      return 0 < t.length ? [t] : [];
    })).join("")) ? um(r) : sm(t);
  },
      pg = function pg(e, t, n) {
    "fragmented" === t.type ? hg(t.fragments, e.getBody()) : e.setContent(t.content, {
      format: "raw"
    }), e.selection.moveToBookmark(n ? t.beforeBookmark : t.bookmark);
  },
      vg = function vg(e, t) {
    return !(!e || !t) && (!!function (e, t) {
      return cm(e) === cm(t);
    }(e, t) || function (e, t) {
      return lm(e) === lm(t);
    }(e, t));
  },
      yg = function yg(e) {
    var t = ma(e, "br"),
        n = y(function (e) {
      for (var t = [], n = e.dom(); n;) {
        t.push(yt.fromDom(n)), n = n.lastChild;
      }

      return t;
    }(e).slice(-1), _n);
    t.length === n.length && z(n, _i);
  },
      bg = function bg(e) {
    Ei(e), Di(e, yt.fromHtml('<br data-mce-bogus="1">'));
  },
      Cg = function Cg(n) {
    Be(n).each(function (t) {
      ke(t).each(function (e) {
        Vn(n) && _n(t) && Vn(e) && _i(t);
      });
    });
  },
      wg = jc.isEq,
      xg = function xg(e, t, n, r, o) {
    var i,
        a,
        u,
        s,
        c = e.formatter.get(n),
        l = e.dom;
    if (c && t) for (a = 0; a < c.length; a++) {
      if (i = c[a], vm(e.dom, t, i) && ym(l, t, i, "attributes", o, r) && ym(l, t, i, "styles", o, r)) {
        if (s = i.classes) for (u = 0; u < s.length; u++) {
          if (!e.dom.hasClass(t, s[u])) return;
        }
        return i;
      }
    }
  },
      zg = {
    matchNode: xg,
    matchName: vm,
    match: function match(e, t, n, r) {
      var o;
      return r ? pm(e, r, t, n) : (r = e.selection.getNode(), !!pm(e, r, t, n) || !((o = e.selection.getStart()) === r || !pm(e, o, t, n)));
    },
    matchAll: function matchAll(r, o, i) {
      var e,
          a = [],
          u = {};
      return e = r.selection.getStart(), r.dom.getParent(e, function (e) {
        var t, n;

        for (t = 0; t < o.length; t++) {
          n = o[t], !u[n] && xg(r, e, n, i) && (u[n] = !0, a.push(n));
        }
      }, r.dom.getRoot()), a;
    },
    canApply: function canApply(e, t) {
      var n,
          r,
          o,
          i,
          a,
          u = e.formatter.get(t),
          s = e.dom;
      if (u) for (n = e.selection.getStart(), r = jc.getParents(s, n), i = u.length - 1; 0 <= i; i--) {
        if (!(a = u[i].selector) || u[i].defaultBlock) return !0;

        for (o = r.length - 1; 0 <= o; o--) {
          if (s.is(r[o], a)) return !0;
        }
      }
      return !1;
    },
    matchesUnInheritedFormatSelector: gm
  },
      Eg = Ge.hasAttribute("data-mce-bookmark"),
      Ng = Ge.hasAttribute("data-mce-bogus"),
      Sg = Ge.hasAttributeValue("data-mce-bogus", "all"),
      kg = function kg(e) {
    return function (e) {
      var t,
          n = 0;
      if (Em(e, e)) return !1;
      if (!(t = e.firstChild)) return !0;
      var r = new yi(t, e);

      do {
        if (Sg(t)) t = r.next(!0);else if (Ng(t)) t = r.next();else if (Ge.isBr(t)) n++, t = r.next();else {
          if (Em(e, t)) return !1;
          t = r.next();
        }
      } while (t);

      return n <= 1;
    }(e.dom());
  },
      Tg = function Tg(t, n, e, r) {
    void 0 === r && (r = !0);
    var o = Mm(n, t.getBody(), e.dom()),
        i = ya(e, d(Dm, t), function (t) {
      return function (e) {
        return e.dom() === t;
      };
    }(t.getBody())),
        a = Bm(e, o, function (e, t) {
      return kt(e.schema.getTextInlineElements(), ie(t));
    }(t, e));
    t.dom.isEmpty(t.getBody()) ? (t.setContent(""), t.selection.setCursorLocation()) : i.bind(_m).fold(function () {
      r && Rm(t, n, a);
    }, function (e) {
      r && Rm(t, n, k.some(e));
    });
  },
      Ag = cu,
      Mg = "_mce_caret",
      Rg = {},
      Dg = kn.filter,
      _g = kn.each;

  Wm = function Wm(e) {
    var t,
        n,
        r = e.selection.getRng();
    t = Ge.matchNodeNames(["pre"]), r.collapsed || (n = e.selection.getSelectedBlocks(), _g(Dg(Dg(n, t), function (e) {
      return t(e.previousSibling) && -1 !== kn.indexOf(n, e.previousSibling);
    }), function (e) {
      !function (e, t) {
        vi(t).remove(), vi(e).append("<br><br>").append(t.childNodes);
      }(e.previousSibling, e);
    }));
  }, Rg[$m = "pre"] || (Rg[$m] = []), Rg[$m].push(Wm);

  function Bg(o) {
    this.compare = function (e, t) {
      if (e.nodeName !== t.nodeName) return !1;

      function n(n) {
        var r = {};
        return Gg(o.getAttribs(n), function (e) {
          var t = e.nodeName.toLowerCase();
          0 !== t.indexOf("_") && "style" !== t && 0 !== t.indexOf("data-") && (r[t] = o.getAttrib(n, t));
        }), r;
      }

      function r(e, t) {
        var n, r;

        for (r in e) {
          if (e.hasOwnProperty(r)) {
            if (void 0 === (n = t[r])) return !1;
            if (e[r] !== n) return !1;
            delete t[r];
          }
        }

        for (r in t) {
          if (t.hasOwnProperty(r)) return !1;
        }

        return !0;
      }

      return !!r(n(e), n(t)) && !!r(o.parseStyle(o.getAttrib(e, "style")), o.parseStyle(o.getAttrib(t, "style"))) && !Fc(e) && !Fc(t);
    };
  }

  function Og(e, t, n) {
    return e.isChildOf(t, n) && t !== n && !e.isBlock(n);
  }

  function Hg(e, t, n) {
    var r, o, i;
    return r = t[n ? "startContainer" : "endContainer"], o = t[n ? "startOffset" : "endOffset"], Ge.isElement(r) && (i = r.childNodes.length - 1, !n && o && o--, r = r.childNodes[i < o ? i : o]), Ge.isText(r) && n && o >= r.nodeValue.length && (r = new yi(r, e.getBody()).next() || r), Ge.isText(r) && !n && 0 === o && (r = new yi(r, e.getBody()).prev() || r), r;
  }

  function Pg(e, t, n, r) {
    var o = e.create(n, r);
    return t.parentNode.insertBefore(o, t), o.appendChild(t), o;
  }

  function Lg(e, t, n, r, o) {
    var i = yt.fromDom(t),
        a = yt.fromDom(e.create(r, o)),
        u = n ? Me(i) : Ae(i);
    return zi(a, u), n ? (Ci(i, a), xi(a, i)) : (wi(i, a), Di(a, i)), a.dom();
  }

  function Vg(e, t, n, r) {
    return !(t = jc.getNonWhiteSpaceSibling(t, n, r)) || "BR" === t.nodeName || e.isBlock(t);
  }

  function Ig(e, r, o, i, a) {
    var t,
        n,
        u,
        s = e.dom;
    if (!function (e, t, n) {
      return !!Zg(t, n.inline) || !!Zg(t, n.block) || (n.selector ? Ge.isElement(t) && e.is(t, n.selector) : void 0);
    }(s, i, r) && !function (e, t) {
      return t.links && "A" === e.tagName;
    }(i, r)) return !1;
    if ("all" !== r.remove) for (Qg(r.styles, function (e, t) {
      e = jc.normalizeStyleValue(s, jc.replaceVars(e, o), t), "number" == typeof t && (t = e, a = 0), !r.remove_similar && a && !Zg(jc.getStyle(s, a, t), e) || s.setStyle(i, t, ""), u = 1;
    }), u && "" === s.getAttrib(i, "style") && (i.removeAttribute("style"), i.removeAttribute("data-mce-style")), Qg(r.attributes, function (e, t) {
      var n;

      if (e = jc.replaceVars(e, o), "number" == typeof t && (t = e, a = 0), r.remove_similar || !a || Zg(s.getAttrib(a, t), e)) {
        if ("class" === t && (e = s.getAttrib(i, t)) && (n = "", Qg(e.split(/\s+/), function (e) {
          /mce\-\w+/.test(e) && (n += (n ? " " : "") + e);
        }), n)) return void s.setAttrib(i, t, n);
        "class" === t && i.removeAttribute("className"), Jg.test(t) && i.removeAttribute("data-mce-" + t), i.removeAttribute(t);
      }
    }), Qg(r.classes, function (e) {
      e = jc.replaceVars(e, o), a && !s.hasClass(a, e) || s.removeClass(i, e);
    }), n = s.getAttribs(i), t = 0; t < n.length; t++) {
      var c = n[t].nodeName;
      if (0 !== c.indexOf("_") && 0 !== c.indexOf("data-")) return !1;
    }
    return "none" !== r.remove ? (function (t, e, n) {
      var r,
          o = e.parentNode,
          i = t.dom,
          a = mf(t);
      n.block && (a ? o === i.getRoot() && (n.list_block && Zg(e, n.list_block) || Qg(Mn.grep(e.childNodes), function (e) {
        jc.isValid(t, a, e.nodeName.toLowerCase()) ? r ? r.appendChild(e) : (r = Pg(i, e, a), i.setAttribs(r, t.settings.forced_root_block_attrs)) : r = 0;
      })) : i.isBlock(e) && !i.isBlock(o) && (Vg(i, e, !1) || Vg(i, e.firstChild, !0, 1) || e.insertBefore(i.create("br"), e.firstChild), Vg(i, e, !0) || Vg(i, e.lastChild, !1, 1) || e.appendChild(i.create("br")))), n.selector && n.inline && !Zg(n.inline, e) || i.remove(e, 1);
    }(e, i, r), !0) : void 0;
  }

  function Fg(e) {
    return e && 1 === e.nodeType && !Fc(e) && !rs(e) && !Ge.isBogus(e);
  }

  function Ug(e, t) {
    var n;

    for (n = e; n; n = n[t]) {
      if (3 === n.nodeType && 0 !== n.nodeValue.length) return e;
      if (1 === n.nodeType && !Fc(n)) return n;
    }

    return e;
  }

  function jg(e, t, n) {
    var r,
        o,
        i = new Bg(e);

    if (t && n && (t = Ug(t, "previousSibling"), n = Ug(n, "nextSibling"), i.compare(t, n))) {
      for (r = t.nextSibling; r && r !== n;) {
        r = (o = r).nextSibling, t.appendChild(o);
      }

      return e.remove(n), Mn.each(Mn.grep(n.childNodes), function (e) {
        t.appendChild(e);
      }), t;
    }

    return n;
  }

  function qg(n, e) {
    return d(function (e, t) {
      return !(!t || !jc.getStyle(n, t, e));
    }, e);
  }

  function $g(r, e, t) {
    return d(function (e, t, n) {
      r.setStyle(n, e, t), "" === n.getAttribute("style") && n.removeAttribute("style"), op(r, n);
    }, e, t);
  }

  function Wg(e, t) {
    var n;
    1 === t.nodeType && t.parentNode && 1 === t.parentNode.nodeType && (n = jc.getTextDecoration(e, t.parentNode), e.getStyle(t, "color") && n ? e.setStyle(t, "text-decoration", n) : e.getStyle(t, "text-decoration") === n && e.setStyle(t, "text-decoration", null));
  }

  function Kg(t) {
    var n = Ds.fromRangeStart(t),
        r = Ds.fromRangeEnd(t),
        o = t.commonAncestorContainer;
    return Pc.fromPosition(!1, o, r).map(function (e) {
      return !Cs(n, r, o) && Cs(n, e, o) ? function (e, t, n, r) {
        var o = j.document.createRange();
        return o.setStart(e, t), o.setEnd(n, r), o;
      }(n.container(), n.offset(), e.container(), e.offset()) : t;
    }).getOr(t);
  }

  function Xg(e, t, n, r, o) {
    return null === t.get() && function (t, n) {
      var r = Je({});
      t.set({}), n.on("NodeChange", function (e) {
        gp(n, e.element, r, t.get());
      });
    }(t, e), function (e, t, n, r) {
      var o = e.get();
      z(t.split(","), function (e) {
        o[e] || (o[e] = {
          similar: r,
          callbacks: []
        }), o[e].callbacks.push(n);
      }), e.set(o);
    }(t, n, r, o), {
      unbind: function unbind() {
        return function (e, t, n) {
          var r = e.get();
          z(t.split(","), function (e) {
            r[e].callbacks = y(r[e].callbacks, function (e) {
              return e !== n;
            }), 0 === r[e].callbacks.length && delete r[e];
          }), e.set(r);
        }(t, n, r);
      }
    };
  }

  var Yg = function Yg(e, t) {
    _g(Rg[e], function (e) {
      e(t);
    });
  },
      Gg = Mn.each,
      Jg = /^(src|href|style)$/,
      Qg = Mn.each,
      Zg = jc.isEq,
      ep = Ig,
      tp = function tp(a, n, u, e, r) {
    function i(e) {
      var t = function (n, e, r, o, i) {
        var a;
        return Qg(jc.getParents(n.dom, e.parentNode).reverse(), function (e) {
          var t;
          a || "_start" === e.id || "_end" === e.id || (t = zg.matchNode(n, e, r, o, i)) && !1 !== t.split && (a = e);
        }), a;
      }(a, e, n, u, r);

      return function (e, t, n, r, o, i, a, u) {
        var s,
            c,
            l,
            f,
            d,
            h,
            m = e.dom;

        if (n) {
          for (h = n.parentNode, s = r.parentNode; s && s !== h; s = s.parentNode) {
            for (c = m.clone(s, !1), d = 0; d < t.length; d++) {
              if (Ig(e, t[d], u, c, c)) {
                c = 0;
                break;
              }
            }

            c && (l && c.appendChild(l), f = f || c, l = c);
          }

          !i || a.mixed && m.isBlock(n) || (r = m.split(n, r)), l && (o.parentNode.insertBefore(l, o), f.appendChild(o));
        }

        return r;
      }(a, l, t, e, e, !0, f, u);
    }

    function s(e) {
      var t = h.get(e ? "_start" : "_end"),
          n = t[e ? "firstChild" : "lastChild"];
      return function (e) {
        return Fc(e) && Ge.isElement(e) && ("_start" === e.id || "_end" === e.id);
      }(n) && (n = n[e ? "firstChild" : "lastChild"]), Ge.isText(n) && 0 === n.data.length && (n = e ? t.previousSibling || t.nextSibling : t.nextSibling || t.previousSibling), h.remove(t, !0), n;
    }

    function t(e) {
      var t,
          n,
          r = e.commonAncestorContainer;

      if (e = Xc(a, e, l, !0), f.split) {
        if (e = Cm(e), (t = Hg(a, e, !0)) !== (n = Hg(a, e))) {
          if (/^(TR|TH|TD)$/.test(t.nodeName) && t.firstChild && (t = "TR" === t.nodeName ? t.firstChild.firstChild || t : t.firstChild || t), r && /^T(HEAD|BODY|FOOT|R)$/.test(r.nodeName) && function (e) {
            return /^(TH|TD)$/.test(e.nodeName);
          }(n) && n.firstChild && (n = n.firstChild || n), Og(h, t, n)) {
            var o = k.from(t.firstChild).getOr(t);
            return i(Lg(h, o, !0, "span", {
              id: "_start",
              "data-mce-type": "bookmark"
            })), void s(!0);
          }

          if (Og(h, n, t)) {
            o = k.from(n.lastChild).getOr(n);
            return i(Lg(h, o, !1, "span", {
              id: "_end",
              "data-mce-type": "bookmark"
            })), void s(!1);
          }

          t = Pg(h, t, "span", {
            id: "_start",
            "data-mce-type": "bookmark"
          }), n = Pg(h, n, "span", {
            id: "_end",
            "data-mce-type": "bookmark"
          }), i(t), i(n), t = s(!0), n = s();
        } else t = n = i(t);

        e.startContainer = t.parentNode ? t.parentNode : t, e.startOffset = h.nodeIndex(t), e.endContainer = n.parentNode ? n.parentNode : n, e.endOffset = h.nodeIndex(n) + 1;
      }

      Gc(h, e, function (e) {
        Qg(e, function (e) {
          g(e), Ge.isElement(e) && "underline" === a.dom.getStyle(e, "text-decoration") && e.parentNode && "underline" === jc.getTextDecoration(h, e.parentNode) && Ig(a, {
            deep: !1,
            exact: !0,
            inline: "span",
            styles: {
              textDecoration: "underline"
            }
          }, null, e);
        });
      });
    }

    var o,
        c,
        l = a.formatter.get(n),
        f = l[0],
        d = !0,
        h = a.dom,
        m = a.selection,
        g = function g(e) {
      var t, n, r, o, i;
      if (Ge.isElement(e) && h.getContentEditable(e) && (o = d, d = "true" === h.getContentEditable(e), i = !0), t = Mn.grep(e.childNodes), d && !i) for (n = 0, r = l.length; n < r && !Ig(a, l[n], u, e, e); n++) {
        ;
      }

      if (f.deep && t.length) {
        for (n = 0, r = t.length; n < r; n++) {
          g(t[n]);
        }

        i && (d = o);
      }
    };

    if (e) e.nodeType ? ((c = h.createRng()).setStartBefore(e), c.setEndAfter(e), t(c)) : t(e);else if ("false" !== h.getContentEditable(m.getNode())) m.isCollapsed() && f.inline && !h.select("td[data-mce-selected],th[data-mce-selected]").length ? function (e, t, n, r) {
      var o,
          i,
          a,
          u,
          s,
          c,
          l,
          f = e.dom,
          d = e.selection,
          h = [],
          m = d.getRng();

      for (o = m.startContainer, i = m.startOffset, 3 === (s = o).nodeType && (i !== o.nodeValue.length && (u = !0), s = s.parentNode); s;) {
        if (zg.matchNode(e, s, t, n, r)) {
          c = s;
          break;
        }

        s.nextSibling && (u = !0), h.push(s), s = s.parentNode;
      }

      if (c) if (u) {
        a = d.getBookmark(), m.collapse(!0);
        var g = Xc(e, m, e.formatter.get(t), !0);
        g = Cm(g), e.formatter.remove(t, n, g), d.moveToBookmark(a);
      } else {
        l = os(e.getBody(), c);
        var p = Pm(!1).dom(),
            v = Um(h, p);
        Im(e, p, l || c), Lm(e, l, !1), d.setCursorLocation(v, 1), f.isEmpty(c) && f.remove(c);
      }
    }(a, n, u, r) : (o = Vs.getPersistentBookmark(a.selection, !0), t(m.getRng()), m.moveToBookmark(o), f.inline && zg.match(a, n, u, m.getStart()) && jc.moveStart(h, m, m.getRng()), a.nodeChanged());else {
      e = m.getNode();

      for (var p = 0, v = l.length; p < v && (!l[p].ceFalseOverride || !Ig(a, l[p], u, e, e)); p++) {
        ;
      }
    }
  },
      np = Mn.each,
      rp = function rp(e, t, n) {
    np(e.childNodes, function (e) {
      Fg(e) && (t(e) && n(e), e.hasChildNodes() && rp(e, t, n));
    });
  },
      op = function op(e, t) {
    "SPAN" === t.nodeName && 0 === e.getAttribs(t).length && e.remove(t, !0);
  },
      ip = function ip(n, e, r, o) {
    np(e, function (t) {
      np(n.dom.select(t.inline, o), function (e) {
        Fg(e) && ep(n, t, r, e, t.exact ? e : null);
      }), function (r, e, t) {
        if (e.clear_child_styles) {
          var n = e.links ? "*:not(a)" : "*";
          np(r.select(n, t), function (n) {
            Fg(n) && np(e.styles, function (e, t) {
              r.setStyle(n, t, "");
            });
          });
        }
      }(n.dom, t, o);
    });
  },
      ap = function ap(e, t, n, r) {
    (t.styles.color || t.styles.textDecoration) && (Mn.walk(r, d(Wg, e), "childNodes"), Wg(e, r));
  },
      up = function up(e, t, n, r) {
    t.styles && t.styles.backgroundColor && rp(r, qg(e, "fontSize"), $g(e, "backgroundColor", jc.replaceVars(t.styles.backgroundColor, n)));
  },
      sp = function sp(e, t, n, r) {
    "sub" !== t.inline && "sup" !== t.inline || (rp(r, qg(e, "fontSize"), $g(e, "fontSize", "")), e.remove(e.select("sup" === t.inline ? "sub" : "sup", r), !0));
  },
      cp = function cp(e, t, n, r) {
    r && !1 !== t.merge_siblings && (r = jg(e, jc.getNonWhiteSpaceSibling(r), r), r = jg(e, r, jc.getNonWhiteSpaceSibling(r, !0)));
  },
      lp = function lp(t, n, r, o, i) {
    zg.matchNode(t, i.parentNode, r, o) && ep(t, n, o, i) || n.merge_with_parents && t.dom.getParent(i.parentNode, function (e) {
      if (zg.matchNode(t, e, r, o)) return ep(t, n, o, i), !0;
    });
  },
      fp = function fp(e) {
    return e.collapsed ? e : Kg(e);
  },
      dp = Mn.each,
      hp = function hp(m, g, p, r) {
    function v(n, e) {
      if (e = e || C, n) {
        if (e.onformat && e.onformat(n, e, p, r), dp(e.styles, function (e, t) {
          i.setStyle(n, t, jc.replaceVars(e, p));
        }), e.styles) {
          var t = i.getAttrib(n, "style");
          t && n.setAttribute("data-mce-style", t);
        }

        dp(e.attributes, function (e, t) {
          i.setAttrib(n, t, jc.replaceVars(e, p));
        }), dp(e.classes, function (e) {
          e = jc.replaceVars(e, p), i.hasClass(n, e) || i.addClass(n, e);
        });
      }
    }

    function y(e, t) {
      var n = !1;
      return !!C.selector && (dp(e, function (e) {
        if (!("collapsed" in e && e.collapsed !== o)) return i.is(t, e.selector) && !rs(t) ? (v(t, e), !(n = !0)) : void 0;
      }), n);
    }

    function e(s, e, t, c) {
      var l,
          f,
          d = [],
          h = !0;
      l = C.inline || C.block, f = s.create(l), v(f), Gc(s, e, function (e) {
        var a,
            u = function u(e) {
          var t, n, r, o;
          if (o = h, t = e.nodeName.toLowerCase(), n = e.parentNode.nodeName.toLowerCase(), 1 === e.nodeType && s.getContentEditable(e) && (o = h, h = "true" === s.getContentEditable(e), r = !0), jc.isEq(t, "br")) return a = 0, void (C.block && s.remove(e));
          if (C.wrapper && zg.matchNode(m, e, g, p)) a = 0;else {
            if (h && !r && C.block && !C.wrapper && jc.isTextBlock(m, t) && jc.isValid(m, n, l)) return e = s.rename(e, l), v(e), d.push(e), void (a = 0);

            if (C.selector) {
              var i = y(b, e);
              if (!C.inline || i) return void (a = 0);
            }

            !h || r || !jc.isValid(m, l, t) || !jc.isValid(m, n, l) || !c && 3 === e.nodeType && 1 === e.nodeValue.length && 65279 === e.nodeValue.charCodeAt(0) || rs(e) || C.inline && s.isBlock(e) ? (a = 0, dp(Mn.grep(e.childNodes), u), r && (h = o), a = 0) : (a || (a = s.clone(f, !1), e.parentNode.insertBefore(a, e), d.push(a)), a.appendChild(e));
          }
        };

        dp(e, u);
      }), !0 === C.links && dp(d, function (e) {
        var t = function t(e) {
          "A" === e.nodeName && v(e, C), dp(Mn.grep(e.childNodes), t);
        };

        t(e);
      }), dp(d, function (e) {
        function t(e) {
          var t = !1;
          return dp(e.childNodes, function (e) {
            if (function (e) {
              return e && 1 === e.nodeType && !Fc(e) && !rs(e) && !Ge.isBogus(e);
            }(e)) return t = e, !1;
          }), t;
        }

        var n, r, o, i, a;
        (r = 0, dp(e.childNodes, function (e) {
          jc.isWhiteSpaceNode(e) || Fc(e) || r++;
        }), n = r, !(1 < d.length) && s.isBlock(e) || 0 !== n) ? (C.inline || C.wrapper) && (C.exact || 1 !== n || ((i = t(o = e)) && !Fc(i) && zg.matchName(s, i, C) && (a = s.clone(i, !1), v(a), s.replace(a, o, !0), s.remove(i, 1)), e = a || o), ip(m, b, p, e), lp(m, C, g, p, e), up(s, C, p, e), sp(s, C, p, e), cp(s, C, p, e)) : s.remove(e, 1);
      });
    }

    var t,
        n,
        b = m.formatter.get(g),
        C = b[0],
        o = !r && m.selection.isCollapsed(),
        i = m.dom,
        a = m.selection;

    if ("false" !== i.getContentEditable(a.getNode())) {
      if (C) {
        if (r) r.nodeType ? y(b, r) || ((n = i.createRng()).setStartBefore(r), n.setEndAfter(r), e(i, Xc(m, n, b), 0, !0)) : e(i, r, 0, !0);else if (o && C.inline && !i.select("td[data-mce-selected],th[data-mce-selected]").length) !function (e, t, n) {
          var r,
              o,
              i,
              a,
              u,
              s,
              c = e.selection;
          a = (r = c.getRng()).startOffset, s = r.startContainer.nodeValue, (o = os(e.getBody(), c.getStart())) && (i = Hm(o));
          var l = /[^\s\u00a0\u00ad\u200b\ufeff]/;
          s && 0 < a && a < s.length && l.test(s.charAt(a)) && l.test(s.charAt(a - 1)) ? (u = c.getBookmark(), r.collapse(!0), r = Xc(e, r, e.formatter.get(t)), r = Cm(r), e.formatter.apply(t, n, r), c.moveToBookmark(u)) : (o && i.nodeValue === Ag || (i = (o = function (e, t) {
            return e.importNode(t, !0);
          }(e.getDoc(), Pm(!0).dom())).firstChild, r.insertNode(o), a = 1), e.formatter.apply(t, n, o), c.setCursorLocation(i, a));
        }(m, g, p);else {
          var u = m.selection.getNode();
          m.settings.forced_root_block || !b[0].defaultBlock || i.getParent(u, i.isBlock) || hp(m, b[0].defaultBlock), m.selection.setRng(fp(m.selection.getRng())), t = Vs.getPersistentBookmark(m.selection, !0), e(i, Xc(m, a.getRng(), b)), C.styles && ap(i, C, p, u), a.moveToBookmark(t), jc.moveStart(i, a, a.getRng()), m.nodeChanged();
        }
        Yg(g, m);
      }
    } else {
      r = a.getNode();

      for (var s = 0, c = b.length; s < c; s++) {
        if (b[s].ceFalseOverride && i.is(r, b[s].selector)) return void v(r, b[s]);
      }
    }
  },
      mp = {
    applyFormat: hp
  },
      gp = function gp(r, e, t, n) {
    var o = Et(t.get()),
        i = {},
        a = {},
        u = y(jc.getParents(r.dom, e), function (e) {
      return 1 === e.nodeType && !e.getAttribute("data-mce-bogus");
    });
    ue(n, function (e, n) {
      Mn.each(u, function (t) {
        return r.formatter.matchNode(t, n, {}, e.similar) ? (-1 === o.indexOf(n) && (z(e.callbacks, function (e) {
          e(!0, {
            node: t,
            format: n,
            parents: u
          });
        }), i[n] = e.callbacks), a[n] = e.callbacks, !1) : !zg.matchesUnInheritedFormatSelector(r, t, n) && void 0;
      });
    });
    var s = pp(t.get(), a, e, u);
    t.set(_G(_G({}, i), s));
  },
      pp = function pp(e, n, r, o) {
    return ce(e, function (e, t) {
      return !!kt(n, t) || (z(e, function (e) {
        e(!1, {
          node: r,
          format: t,
          parents: o
        });
      }), !1);
    }).t;
  },
      vp = function vp(r) {
    var t = {
      valigntop: [{
        selector: "td,th",
        styles: {
          verticalAlign: "top"
        }
      }],
      valignmiddle: [{
        selector: "td,th",
        styles: {
          verticalAlign: "middle"
        }
      }],
      valignbottom: [{
        selector: "td,th",
        styles: {
          verticalAlign: "bottom"
        }
      }],
      alignleft: [{
        selector: "figure.image",
        collapsed: !1,
        classes: "align-left",
        ceFalseOverride: !0,
        preview: "font-family font-size"
      }, {
        selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
        styles: {
          textAlign: "left"
        },
        inherit: !1,
        preview: !1,
        defaultBlock: "div"
      }, {
        selector: "img,table",
        collapsed: !1,
        styles: {
          "float": "left"
        },
        preview: "font-family font-size"
      }],
      aligncenter: [{
        selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
        styles: {
          textAlign: "center"
        },
        inherit: !1,
        preview: "font-family font-size",
        defaultBlock: "div"
      }, {
        selector: "figure.image",
        collapsed: !1,
        classes: "align-center",
        ceFalseOverride: !0,
        preview: "font-family font-size"
      }, {
        selector: "img",
        collapsed: !1,
        styles: {
          display: "block",
          marginLeft: "auto",
          marginRight: "auto"
        },
        preview: !1
      }, {
        selector: "table",
        collapsed: !1,
        styles: {
          marginLeft: "auto",
          marginRight: "auto"
        },
        preview: "font-family font-size"
      }],
      alignright: [{
        selector: "figure.image",
        collapsed: !1,
        classes: "align-right",
        ceFalseOverride: !0,
        preview: "font-family font-size"
      }, {
        selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
        styles: {
          textAlign: "right"
        },
        inherit: !1,
        preview: "font-family font-size",
        defaultBlock: "div"
      }, {
        selector: "img,table",
        collapsed: !1,
        styles: {
          "float": "right"
        },
        preview: "font-family font-size"
      }],
      alignjustify: [{
        selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
        styles: {
          textAlign: "justify"
        },
        inherit: !1,
        defaultBlock: "div",
        preview: "font-family font-size"
      }],
      bold: [{
        inline: "strong",
        remove: "all"
      }, {
        inline: "span",
        styles: {
          fontWeight: "bold"
        }
      }, {
        inline: "b",
        remove: "all"
      }],
      italic: [{
        inline: "em",
        remove: "all"
      }, {
        inline: "span",
        styles: {
          fontStyle: "italic"
        }
      }, {
        inline: "i",
        remove: "all"
      }],
      underline: [{
        inline: "span",
        styles: {
          textDecoration: "underline"
        },
        exact: !0
      }, {
        inline: "u",
        remove: "all"
      }],
      strikethrough: [{
        inline: "span",
        styles: {
          textDecoration: "line-through"
        },
        exact: !0
      }, {
        inline: "strike",
        remove: "all"
      }],
      forecolor: {
        inline: "span",
        styles: {
          color: "%value"
        },
        links: !0,
        remove_similar: !0,
        clear_child_styles: !0
      },
      hilitecolor: {
        inline: "span",
        styles: {
          backgroundColor: "%value"
        },
        links: !0,
        remove_similar: !0,
        clear_child_styles: !0
      },
      fontname: {
        inline: "span",
        toggle: !1,
        styles: {
          fontFamily: "%value"
        },
        clear_child_styles: !0
      },
      fontsize: {
        inline: "span",
        toggle: !1,
        styles: {
          fontSize: "%value"
        },
        clear_child_styles: !0
      },
      fontsize_class: {
        inline: "span",
        attributes: {
          "class": "%value"
        }
      },
      blockquote: {
        block: "blockquote",
        wrapper: !0,
        remove: "all"
      },
      subscript: {
        inline: "sub"
      },
      superscript: {
        inline: "sup"
      },
      code: {
        inline: "code"
      },
      link: {
        inline: "a",
        selector: "a",
        remove: "all",
        split: !0,
        deep: !0,
        onmatch: function onmatch() {
          return !0;
        },
        onformat: function onformat(n, e, t) {
          Mn.each(t, function (e, t) {
            r.setAttrib(n, t, e);
          });
        }
      },
      removeformat: [{
        selector: "b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",
        remove: "all",
        split: !0,
        expand: !1,
        block_expand: !0,
        deep: !0
      }, {
        selector: "span",
        attributes: ["style", "class"],
        remove: "empty",
        split: !0,
        expand: !1,
        deep: !0
      }, {
        selector: "*",
        attributes: ["style", "class"],
        split: !1,
        expand: !1,
        deep: !0
      }]
    };
    return Mn.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/), function (e) {
      t[e] = {
        block: e,
        remove: "all"
      };
    }), t;
  };

  function yp(e, t) {
    function s(e) {
      var t;
      return r = "string" == typeof e ? {
        name: e,
        classes: [],
        attrs: {}
      } : e, function (e, t) {
        t.classes.length && Rp.addClass(e, t.classes.join(" ")), Rp.setAttribs(e, t.attrs);
      }(t = Rp.create(r.name), r), t;
    }

    var n,
        r,
        o,
        c = t && t.schema || pr({}),
        l = function l(n, e, t) {
      var r,
          o,
          i,
          a = 0 < e.length && e[0],
          u = a && a.name;
      if (i = function (e, t) {
        var n = "string" != typeof e ? e.nodeName.toLowerCase() : e,
            r = c.getElementRule(n),
            o = r && r.parentsRequired;
        return !(!o || !o.length) && (t && -1 !== Mn.inArray(o, t) ? t : o[0]);
      }(n, u)) u === i ? (o = e[0], e = e.slice(1)) : o = i;else if (a) o = e[0], e = e.slice(1);else if (!t) return n;
      return o && (r = s(o)).appendChild(n), t && (r || (r = Rp.create("div")).appendChild(n), Mn.each(t, function (e) {
        var t = s(e);
        r.insertBefore(t, n);
      })), l(r, e, o && o.siblings);
    };

    return e && e.length ? (r = e[0], n = s(r), (o = Rp.create("div")).appendChild(l(n, e.slice(1), r.siblings)), o) : "";
  }

  function bp(e) {
    var t,
        a = {
      classes: [],
      attrs: {}
    };
    return "*" !== (e = a.selector = Mn.trim(e)) && (t = e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g, function (e, t, n, r, o) {
      switch (t) {
        case "#":
          a.attrs.id = n;
          break;

        case ".":
          a.classes.push(n);
          break;

        case ":":
          -1 !== Mn.inArray("checked disabled enabled read-only required".split(" "), n) && (a.attrs[n] = n);
      }

      if ("[" === r) {
        var i = o.match(/([\w\-]+)(?:\=\"([^\"]+))?/);
        i && (a.attrs[i[1]] = i[2]);
      }

      return "";
    })), a.name = t || "div", a;
  }

  function Cp(e) {
    var t = function o(e) {
      var n = {},
          r = function r(e, t) {
        e && ("string" != typeof e ? Mn.each(e, function (e, t) {
          r(t, e);
        }) : (A(t) || (t = [t]), Mn.each(t, function (e) {
          "undefined" == typeof e.deep && (e.deep = !e.selector), "undefined" == typeof e.split && (e.split = !e.selector || e.inline), "undefined" == typeof e.remove && e.selector && !e.inline && (e.remove = "none"), e.selector && e.inline && (e.mixed = !0, e.block_expand = !0), "string" == typeof e.classes && (e.classes = e.classes.split(/\s+/));
        }), n[e] = t));
      };

      return r(vp(e.dom)), r(e.settings.formats), {
        get: function get(e) {
          return e ? n[e] : n;
        },
        has: function has(e) {
          return kt(n, e);
        },
        register: r,
        unregister: function unregister(e) {
          return e && n[e] && delete n[e], n;
        }
      };
    }(e),
        n = Je(null);

    return Op(e), jm(e), {
      get: t.get,
      has: t.has,
      register: t.register,
      unregister: t.unregister,
      apply: d(mp.applyFormat, e),
      remove: d(tp, e),
      toggle: d(Bp, e, t),
      match: d(zg.match, e),
      matchAll: d(zg.matchAll, e),
      matchNode: d(zg.matchNode, e),
      canApply: d(zg.canApply, e),
      formatChanged: d(Xg, e, n),
      getCssText: d(_p, e)
    };
  }

  function wp(e, i, a) {
    e.addNodeFilter("font", function (e) {
      z(e, function (e) {
        var t = i.parse(e.attr("style")),
            n = e.attr("color"),
            r = e.attr("face"),
            o = e.attr("size");
        n && (t.color = n), r && (t["font-family"] = r), o && (t["font-size"] = a[parseInt(e.attr("size"), 10) - 1]), e.name = "span", e.attr("style", i.serialize(t)), function (t, e) {
          z(e, function (e) {
            t.attr(e, null);
          });
        }(e, ["color", "face", "size"]);
      });
    });
  }

  function xp(e, t) {
    var n = xr();
    t.convert_fonts_to_spans && wp(e, n, Mn.explode(t.font_size_legacy_values)), function (e, n) {
      e.addNodeFilter("strike", function (e) {
        z(e, function (e) {
          var t = n.parse(e.attr("style"));
          t["text-decoration"] = "line-through", e.name = "span", e.attr("style", n.serialize(t));
        });
      });
    }(e, n);
  }

  function zp(e, t, n, r) {
    (e.padd_empty_with_br || t.insert) && n[r.name] ? r.empty().append(new ul("br", 1)).shortEnded = !0 : r.empty().append(new ul("#text", 3)).value = "\xa0";
  }

  function Ep(t, e, n, r) {
    return r.isEmpty(e, n, function (e) {
      return function (e, t) {
        var n = e.getElementRule(t.name);
        return n && n.paddEmpty;
      }(t, e);
    });
  }

  function Np(T, A) {
    void 0 === A && (A = pr());
    var M = {},
        R = [],
        D = {},
        _ = {};
    (T = T || {}).validate = !("validate" in T) || T.validate, T.root_name = T.root_name || "body";

    var B = function B(e) {
      var t, n, r;
      (n = e.name) in M && ((r = D[n]) ? r.push(e) : D[n] = [e]), t = R.length;

      for (; t--;) {
        (n = R[t].name) in e.attributes.map && ((r = _[n]) ? r.push(e) : _[n] = [e]);
      }

      return e;
    },
        e = {
      schema: A,
      addAttributeFilter: function addAttributeFilter(e, n) {
        Up(jp(e), function (e) {
          var t;

          for (t = 0; t < R.length; t++) {
            if (R[t].name === e) return void R[t].callbacks.push(n);
          }

          R.push({
            name: e,
            callbacks: [n]
          });
        });
      },
      getAttributeFilters: function getAttributeFilters() {
        return [].concat(R);
      },
      addNodeFilter: function addNodeFilter(e, n) {
        Up(jp(e), function (e) {
          var t = M[e];
          t || (M[e] = t = []), t.push(n);
        });
      },
      getNodeFilters: function getNodeFilters() {
        var e = [];

        for (var t in M) {
          M.hasOwnProperty(t) && e.push({
            name: t,
            callbacks: M[t]
          });
        }

        return e;
      },
      filterNode: B,
      parse: function parse(e, a) {
        var t,
            n,
            r,
            o,
            i,
            u,
            s,
            c,
            l,
            f,
            d,
            h = [];
        a = a || {}, D = {}, _ = {}, l = qp(Fp("script,style,head,html,body,title,meta,param"), A.getBlockElements());
        var m,
            g = A.getNonEmptyElements(),
            p = A.children,
            v = T.validate,
            y = "forced_root_block" in a ? a.forced_root_block : T.forced_root_block,
            b = !1 === (m = y) ? "" : !0 === m ? "p" : m,
            C = A.getWhiteSpaceElements(),
            w = /^[ \t\r\n]+/,
            x = /[ \t\r\n]+$/,
            z = /[ \t\r\n]+/g,
            E = /^[ \t\r\n]+$/;
        f = C.hasOwnProperty(a.context) || C.hasOwnProperty(T.root_name);

        function N(e) {
          var t,
              n,
              r,
              o,
              i = A.getBlockElements();

          for (t = e.prev; t && 3 === t.type;) {
            if (0 < (r = t.value.replace(x, "")).length) return void (t.value = r);

            if (n = t.next) {
              if (3 === n.type && n.value.length) {
                t = t.prev;
                continue;
              }

              if (!i[n.name] && "script" !== n.name && "style" !== n.name) {
                t = t.prev;
                continue;
              }
            }

            o = t.prev, t.remove(), t = o;
          }
        }

        var S = function S(e, t) {
          var n,
              r = new ul(e, t);
          return e in M && ((n = D[e]) ? n.push(r) : D[e] = [r]), r;
        };

        t = of({
          validate: v,
          allow_script_urls: T.allow_script_urls,
          allow_conditional_comments: T.allow_conditional_comments,
          self_closing_elements: function (e) {
            var t,
                n = {};

            for (t in e) {
              "li" !== t && "p" !== t && (n[t] = e[t]);
            }

            return n;
          }(A.getSelfClosingElements()),
          cdata: function cdata(e) {
            d.append(S("#cdata", 4)).value = e;
          },
          text: function text(e, t) {
            var n;
            f || (e = e.replace(z, " "), function (e, t) {
              return e && (t[e.name] || "br" === e.name);
            }(d.lastChild, l) && (e = e.replace(w, ""))), 0 !== e.length && ((n = S("#text", 3)).raw = !!t, d.append(n).value = e);
          },
          comment: function comment(e) {
            d.append(S("#comment", 8)).value = e;
          },
          pi: function pi(e, t) {
            d.append(S(e, 7)).value = t, N(d);
          },
          doctype: function doctype(e) {
            d.append(S("#doctype", 10)).value = e, N(d);
          },
          start: function start(e, t, n) {
            var r, o, i, a, u;

            if (i = v ? A.getElementRule(e) : {}) {
              for ((r = S(i.outputName || e, 1)).attributes = t, r.shortEnded = n, d.append(r), (u = p[d.name]) && p[r.name] && !u[r.name] && h.push(r), o = R.length; o--;) {
                (a = R[o].name) in t.map && ((s = _[a]) ? s.push(r) : _[a] = [r]);
              }

              l[e] && N(r), n || (d = r), !f && C[e] && (f = !0);
            }
          },
          end: function end(e) {
            var t, n, r, o, i;

            if (n = v ? A.getElementRule(e) : {}) {
              if (l[e] && !f) {
                if ((t = d.firstChild) && 3 === t.type) if (0 < (r = t.value.replace(w, "")).length) t.value = r, t = t.next;else for (o = t.next, t.remove(), t = o; t && 3 === t.type;) {
                  r = t.value, o = t.next, 0 !== r.length && !E.test(r) || (t.remove(), t = o), t = o;
                }
                if ((t = d.lastChild) && 3 === t.type) if (0 < (r = t.value.replace(x, "")).length) t.value = r, t = t.prev;else for (o = t.prev, t.remove(), t = o; t && 3 === t.type;) {
                  r = t.value, o = t.prev, 0 !== r.length && !E.test(r) || (t.remove(), t = o), t = o;
                }
              }

              if (f && C[e] && (f = !1), n.removeEmpty && Ep(A, g, C, d) && !d.attr("name") && !d.attr("id")) return i = d.parent, l[d.name] ? d.empty().remove() : d.unwrap(), void (d = i);
              n.paddEmpty && (function (e) {
                return Ip(e, "#text") && "\xa0" === e.firstChild.value;
              }(d) || Ep(A, g, C, d)) && zp(T, a, l, d), d = d.parent;
            }
          }
        }, A);
        var k = d = new ul(a.context || T.root_name, 11);

        if (t.parse(e), v && h.length && (a.context ? a.invalid = !0 : function (e) {
          var t, n, r, o, i, a, u, s, c, l, f, d, h, m, g, p;

          for (d = Fp("tr,td,th,tbody,thead,tfoot,table"), l = A.getNonEmptyElements(), f = A.getWhiteSpaceElements(), h = A.getTextBlockElements(), m = A.getSpecialElements(), t = 0; t < e.length; t++) {
            if ((n = e[t]).parent && !n.fixed) if (h[n.name] && "li" === n.parent.name) {
              for (g = n.next; g && h[g.name];) {
                g.name = "li", g.fixed = !0, n.parent.insert(g, n.parent), g = g.next;
              }

              n.unwrap(n);
            } else {
              for (o = [n], r = n.parent; r && !A.isValidChild(r.name, n.name) && !d[r.name]; r = r.parent) {
                o.push(r);
              }

              if (r && 1 < o.length) {
                for (o.reverse(), i = a = B(o[0].clone()), c = 0; c < o.length - 1; c++) {
                  for (A.isValidChild(a.name, o[c].name) ? (u = B(o[c].clone()), a.append(u)) : u = a, s = o[c].firstChild; s && s !== o[c + 1];) {
                    p = s.next, u.append(s), s = p;
                  }

                  a = u;
                }

                Ep(A, l, f, i) ? r.insert(n, o[0], !0) : (r.insert(i, o[0], !0), r.insert(n, i)), r = o[0], (Ep(A, l, f, r) || Ip(r, "br")) && r.empty().remove();
              } else if (n.parent) {
                if ("li" === n.name) {
                  if ((g = n.prev) && ("ul" === g.name || "ul" === g.name)) {
                    g.append(n);
                    continue;
                  }

                  if ((g = n.next) && ("ul" === g.name || "ul" === g.name)) {
                    g.insert(n, g.firstChild, !0);
                    continue;
                  }

                  n.wrap(B(new ul("ul", 1)));
                  continue;
                }

                A.isValidChild(n.parent.name, "div") && A.isValidChild("div", n.name) ? n.wrap(B(new ul("div", 1))) : m[n.name] ? n.empty().remove() : n.unwrap();
              }
            }
          }
        }(h)), b && ("body" === k.name || a.isRootContent) && function () {
          function e(e) {
            e && ((r = e.firstChild) && 3 === r.type && (r.value = r.value.replace(w, "")), (r = e.lastChild) && 3 === r.type && (r.value = r.value.replace(x, "")));
          }

          var t,
              n,
              r = k.firstChild;

          if (A.isValidChild(k.name, b.toLowerCase())) {
            for (; r;) {
              t = r.next, 3 === r.type || 1 === r.type && "p" !== r.name && !l[r.name] && !r.attr("data-mce-type") ? (n || ((n = S(b, 1)).attr(T.forced_root_block_attrs), k.insert(n, r)), n.append(r)) : (e(n), n = null), r = t;
            }

            e(n);
          }
        }(), !a.invalid) {
          for (c in D) {
            if (D.hasOwnProperty(c)) {
              for (s = M[c], i = (n = D[c]).length; i--;) {
                n[i].parent || n.splice(i, 1);
              }

              for (r = 0, o = s.length; r < o; r++) {
                s[r](n, c, a);
              }
            }
          }

          for (r = 0, o = R.length; r < o; r++) {
            if ((s = R[r]).name in _) {
              for (i = (n = _[s.name]).length; i--;) {
                n[i].parent || n.splice(i, 1);
              }

              for (i = 0, u = s.callbacks.length; i < u; i++) {
                s.callbacks[i](n, s.name, a);
              }
            }
          }
        }

        return k;
      }
    };

    return function (e, g) {
      var p = e.schema;
      g.remove_trailing_brs && e.addNodeFilter("br", function (e, t, n) {
        var r,
            o,
            i,
            a,
            u,
            s,
            c,
            l,
            f = e.length,
            d = Mn.extend({}, p.getBlockElements()),
            h = p.getNonEmptyElements(),
            m = p.getNonEmptyElements();

        for (d.body = 1, r = 0; r < f; r++) {
          if (i = (o = e[r]).parent, d[o.parent.name] && o === i.lastChild) {
            for (u = o.prev; u;) {
              if ("span" !== (s = u.name) || "bookmark" !== u.attr("data-mce-type")) {
                if ("br" !== s) break;

                if ("br" === s) {
                  o = null;
                  break;
                }
              }

              u = u.prev;
            }

            o && (o.remove(), Ep(p, h, m, i) && (c = p.getElementRule(i.name)) && (c.removeEmpty ? i.remove() : c.paddEmpty && zp(g, n, d, i)));
          } else {
            for (a = o; i && i.firstChild === a && i.lastChild === a && !d[(a = i).name];) {
              i = i.parent;
            }

            a === i && !0 !== g.padd_empty_with_br && ((l = new ul("#text", 3)).value = "\xa0", o.replace(l));
          }
        }
      }), e.addAttributeFilter("href", function (e) {
        var t,
            n,
            r,
            o = e.length;
        if (!g.allow_unsafe_link_target) for (; o--;) {
          "a" === (t = e[o]).name && "_blank" === t.attr("target") && t.attr("rel", (n = t.attr("rel"), void 0, r = n ? Mn.trim(n) : "", /\b(noopener)\b/g.test(r) ? r : r.split(" ").filter(function (e) {
            return 0 < e.length;
          }).concat(["noopener"]).sort().join(" ")));
        }
      }), g.allow_html_in_named_anchor || e.addAttributeFilter("id,name", function (e) {
        for (var t, n, r, o, i = e.length; i--;) {
          if ("a" === (o = e[i]).name && o.firstChild && !o.attr("href")) for (r = o.parent, t = o.lastChild; n = t.prev, r.insert(t, o), t = n;) {
            ;
          }
        }
      }), g.fix_list_elements && e.addNodeFilter("ul,ol", function (e) {
        for (var t, n, r = e.length; r--;) {
          if ("ul" === (n = (t = e[r]).parent).name || "ol" === n.name) if (t.prev && "li" === t.prev.name) t.prev.append(t);else {
            var o = new ul("li", 1);
            o.attr("style", "list-style-type: none"), t.wrap(o);
          }
        }
      }), g.validate && p.getValidClasses() && e.addAttributeFilter("class", function (e) {
        for (var t, n, r, o, i, a, u, s = e.length, c = p.getValidClasses(); s--;) {
          for (n = (t = e[s]).attr("class").split(" "), i = "", r = 0; r < n.length; r++) {
            o = n[r], u = !1, (a = c["*"]) && a[o] && (u = !0), a = c[t.name], !u && a && a[o] && (u = !0), u && (i && (i += " "), i += o);
          }

          i.length || (i = null), t.attr("class", i);
        }
      });
    }(e, T), Vp(e, T), e;
  }

  function Sp(e, t, n) {
    -1 === Mn.inArray(t, n) && (e.addAttributeFilter(n, function (e, t) {
      for (var n = e.length; n--;) {
        e[n].attr(t, null);
      }
    }), t.push(n));
  }

  function kp(e, t, n, r, o) {
    return function (e, t, n) {
      return t.no_events || !e ? n : ld(e, bd(t, {
        content: n
      })).content;
    }(e, o, function (e, t, n) {
      return pl(e, t).serialize(n);
    }(t, n, r));
  }

  function Tp(a, u) {
    var s,
        c,
        l,
        e = ["data-mce-selected"];
    return s = u && u.dom ? u.dom : Xi.DOM, c = u && u.schema ? u.schema : pr(a), a.entity_encoding = a.entity_encoding || "named", a.remove_trailing_brs = !("remove_trailing_brs" in a) || a.remove_trailing_brs, l = Np(a, c), Hp(l, a, s), {
      schema: c,
      addNodeFilter: l.addNodeFilter,
      addAttributeFilter: l.addAttributeFilter,
      serialize: function serialize(e, t) {
        var n = bd({
          format: "html"
        }, t || {}),
            r = Lp(u, e, n),
            o = function (e, t, n) {
          var r = lu(n.getInner ? t.innerHTML : e.getOuterHTML(t));
          return n.selection || Wn(yt.fromDom(t)) ? r : Mn.trim(r);
        }(s, r, n),
            i = function (e, t, n) {
          var r = n.selection ? bd({
            forced_root_block: !1
          }, n) : n,
              o = e.parse(t, r);
          return Pp(o), o;
        }(l, o, n);

        return "tree" === n.format ? i : kp(u, a, c, i, n);
      },
      addRules: function addRules(e) {
        c.addValidElements(e);
      },
      setRules: function setRules(e) {
        c.setValidElements(e);
      },
      addTempAttr: d(Sp, l, e),
      getTempAttrs: function getTempAttrs() {
        return e;
      }
    };
  }

  function Ap(e, t) {
    var n = Tp(e, t);
    return {
      schema: n.schema,
      addNodeFilter: n.addNodeFilter,
      addAttributeFilter: n.addAttributeFilter,
      serialize: n.serialize,
      addRules: n.addRules,
      setRules: n.setRules,
      addTempAttr: n.addTempAttr,
      getTempAttrs: n.getTempAttrs
    };
  }

  var Mp = Mn.each,
      Rp = Xi.DOM,
      Dp = function Dp(e) {
    return e && "string" == typeof e ? (e = (e = e.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g, "$1"), Mn.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/), function (e) {
      var t = Mn.map(e.split(/(?:~\+|~|\+)/), bp),
          n = t.pop();
      return t.length && (n.siblings = t), n;
    }).reverse()) : [];
  },
      _p = function _p(n, e) {
    var t,
        r,
        o,
        i,
        a,
        u,
        s = "";
    if (!1 === (u = n.settings.preview_styles)) return "";
    "string" != typeof u && (u = "font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");

    function c(e) {
      return e.replace(/%(\w+)/g, "");
    }

    if ("string" == typeof e) {
      if (!(e = n.formatter.get(e))) return;
      e = e[0];
    }

    return "preview" in e && !1 === (u = e.preview) ? "" : (t = e.block || e.inline || "span", r = (i = Dp(e.selector)).length ? (i[0].name || (i[0].name = t), t = e.selector, yp(i, n)) : yp([t], n), o = Rp.select(t, r)[0] || r.firstChild, Mp(e.styles, function (e, t) {
      (e = c(e)) && Rp.setStyle(o, t, e);
    }), Mp(e.attributes, function (e, t) {
      (e = c(e)) && Rp.setAttrib(o, t, e);
    }), Mp(e.classes, function (e) {
      e = c(e), Rp.hasClass(o, e) || Rp.addClass(o, e);
    }), n.fire("PreviewFormats"), Rp.setStyles(r, {
      position: "absolute",
      left: -65535
    }), n.getBody().appendChild(r), a = Rp.getStyle(n.getBody(), "fontSize", !0), a = /px$/.test(a) ? parseInt(a, 10) : 0, Mp(u.split(" "), function (e) {
      var t = Rp.getStyle(o, e, !0);

      if (!("background-color" === e && /transparent|rgba\s*\([^)]+,\s*0\)/.test(t) && (t = Rp.getStyle(n.getBody(), e, !0), "#ffffff" === Rp.toHex(t).toLowerCase()) || "color" === e && "#000000" === Rp.toHex(t).toLowerCase())) {
        if ("font-size" === e && /em|%$/.test(t)) {
          if (0 === a) return;
          t = parseFloat(t) / (/%$/.test(t) ? 100 : 1) * a + "px";
        }

        "border" === e && t && (s += "padding:0 2px;"), s += e + ":" + t + ";";
      }
    }), n.fire("AfterPreviewFormats"), Rp.remove(r), s);
  },
      Bp = function Bp(e, t, n, r, o) {
    var i = t.get(n);
    !zg.match(e, n, r, o) || "toggle" in i[0] && !i[0].toggle ? mp.applyFormat(e, n, r, o) : tp(e, n, r, o);
  },
      Op = function Op(e) {
    e.addShortcut("meta+b", "", "Bold"), e.addShortcut("meta+i", "", "Italic"), e.addShortcut("meta+u", "", "Underline");

    for (var t = 1; t <= 6; t++) {
      e.addShortcut("access+" + t, "", ["FormatBlock", !1, "h" + t]);
    }

    e.addShortcut("access+7", "", ["FormatBlock", !1, "p"]), e.addShortcut("access+8", "", ["FormatBlock", !1, "div"]), e.addShortcut("access+9", "", ["FormatBlock", !1, "address"]);
  },
      Hp = function Hp(t, s, c) {
    t.addAttributeFilter("data-mce-tabindex", function (e, t) {
      for (var n, r = e.length; r--;) {
        (n = e[r]).attr("tabindex", n.attr("data-mce-tabindex")), n.attr(t, null);
      }
    }), t.addAttributeFilter("src,href,style", function (e, t) {
      for (var n, r, o = e.length, i = "data-mce-" + t, a = s.url_converter, u = s.url_converter_scope; o--;) {
        (r = (n = e[o]).attr(i)) !== undefined ? (n.attr(t, 0 < r.length ? r : null), n.attr(i, null)) : (r = n.attr(t), "style" === t ? r = c.serializeStyle(c.parseStyle(r), n.name) : a && (r = a.call(u, r, t, n.name)), n.attr(t, 0 < r.length ? r : null));
      }
    }), t.addAttributeFilter("class", function (e) {
      for (var t, n, r = e.length; r--;) {
        (n = (t = e[r]).attr("class")) && (n = t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g, ""), t.attr("class", 0 < n.length ? n : null));
      }
    }), t.addAttributeFilter("data-mce-type", function (e, t, n) {
      for (var r, o = e.length; o--;) {
        if ("bookmark" === (r = e[o]).attr("data-mce-type") && !n.cleanup) k.from(r.firstChild).exists(function (e) {
          return !su(e.value);
        }) ? r.unwrap() : r.remove();
      }
    }), t.addNodeFilter("noscript", function (e) {
      for (var t, n = e.length; n--;) {
        (t = e[n].firstChild) && (t.value = ir.decode(t.value));
      }
    }), t.addNodeFilter("script,style", function (e, t) {
      for (var n, r, o, i = e.length, a = function a(e) {
        return e.replace(/(<!--\[CDATA\[|\]\]-->)/g, "\n").replace(/^[\r\n]*|[\r\n]*$/g, "").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi, "").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g, "");
      }; i--;) {
        r = (n = e[i]).firstChild ? n.firstChild.value : "", "script" === t ? ((o = n.attr("type")) && n.attr("type", "mce-no/type" === o ? null : o.replace(/^mce\-/, "")), "xhtml" === s.element_format && 0 < r.length && (n.firstChild.value = "// <![CDATA[\n" + a(r) + "\n// ]]>")) : "xhtml" === s.element_format && 0 < r.length && (n.firstChild.value = "\x3c!--\n" + a(r) + "\n--\x3e");
      }
    }), t.addNodeFilter("#comment", function (e) {
      for (var t, n = e.length; n--;) {
        0 === (t = e[n]).value.indexOf("[CDATA[") ? (t.name = "#cdata", t.type = 4, t.value = t.value.replace(/^\[CDATA\[|\]\]$/g, "")) : 0 === t.value.indexOf("mce:protected ") && (t.name = "#text", t.type = 3, t.raw = !0, t.value = unescape(t.value).substr(14));
      }
    }), t.addNodeFilter("xml:namespace,input", function (e, t) {
      for (var n, r = e.length; r--;) {
        7 === (n = e[r]).type ? n.remove() : 1 === n.type && ("input" !== t || n.attr("type") || n.attr("type", "text"));
      }
    }), t.addAttributeFilter("data-mce-type", function (e) {
      z(e, function (e) {
        "format-caret" === e.attr("data-mce-type") && (e.isEmpty(t.schema.getNonEmptyElements()) ? e.remove() : e.unwrap());
      });
    }), t.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize", function (e, t) {
      for (var n = e.length; n--;) {
        e[n].attr(t, null);
      }
    });
  },
      Pp = function Pp(e) {
    function t(e) {
      return e && "br" === e.name;
    }

    var n, r;
    t(n = e.lastChild) && t(r = n.prev) && (n.remove(), r.remove());
  },
      Lp = function Lp(e, t, n) {
    return function (e, t) {
      return e && e.hasEventListeners("PreProcess") && !t.no_events;
    }(e, n) ? function (e, t, n) {
      var r,
          o,
          i,
          a = e.dom;
      return t = t.cloneNode(!0), (r = j.document.implementation).createHTMLDocument && (o = r.createHTMLDocument(""), Mn.each("BODY" === t.nodeName ? t.childNodes : [t], function (e) {
        o.body.appendChild(o.importNode(e, !0));
      }), t = "BODY" !== t.nodeName ? o.body.firstChild : o.body, i = a.doc, a.doc = o), cd(e, bd(n, {
        node: t
      })), i && (a.doc = i), t;
    }(e, t, n) : t;
  },
      Vp = function Vp(e, t) {
    t.inline_styles && xp(e, t);
  },
      Ip = function Ip(e, t) {
    return e && e.firstChild && e.firstChild === e.lastChild && e.firstChild.name === t;
  },
      Fp = Mn.makeMap,
      Up = Mn.each,
      jp = Mn.explode,
      qp = Mn.extend;

  function $p(e) {
    return {
      getBookmark: d(Vc, e),
      moveToBookmark: d(Ic, e)
    };
  }

  ($p = $p || {}).isBookmarkNode = Fc;

  function Wp(r, a) {
    var u,
        s,
        c,
        l,
        f,
        d,
        h,
        m,
        g,
        p,
        v,
        y,
        i,
        b,
        C,
        w,
        x,
        z = a.dom,
        E = Mn.each,
        N = a.getDoc(),
        S = j.document,
        k = Math.abs,
        T = Math.round,
        A = a.getBody();

    function M(e) {
      return e && ("IMG" === e.nodeName || a.dom.is(e, "figure.image"));
    }

    function e(e) {
      var t = e.target;
      !function (e, t) {
        if ("longpress" !== e.type && 0 !== e.type.indexOf("touch")) return M(e.target) && !Jm(e.clientX, e.clientY, t);
        var n = e.touches[0];
        return M(e.target) && !Jm(n.clientX, n.clientY, t);
      }(e, a.selection.getRng()) || e.isDefaultPrevented() || a.selection.select(t);
    }

    function R(e) {
      return a.dom.is(e, "figure.image") ? e.querySelector("img") : e;
    }

    function D(e) {
      var t = a.settings.object_resizing;
      return !1 !== t && !Nn.iOS && ("string" != typeof t && (t = "table,img,figure.image,div"), "false" !== e.getAttribute("data-mce-resize") && e !== a.getBody() && we(yt.fromDom(e), t));
    }

    function _(e) {
      var t, n, r, o;
      t = e.screenX - d, n = e.screenY - h, b = t * f[2] + p, C = n * f[3] + v, b = b < 5 ? 5 : b, C = C < 5 ? 5 : C, (M(u) && !1 !== a.settings.resize_img_proportional ? !Ah.modifierPressed(e) : Ah.modifierPressed(e) || M(u) && f[2] * f[3] != 0) && (k(t) > k(n) ? (C = T(b * y), b = T(C / y)) : (b = T(C / y), C = T(b * y))), z.setStyles(R(s), {
        width: b,
        height: C
      }), r = 0 < (r = f.startPos.x + t) ? r : 0, o = 0 < (o = f.startPos.y + n) ? o : 0, z.setStyles(c, {
        left: r,
        top: o,
        display: "block"
      }), c.innerHTML = b + " &times; " + C, f[2] < 0 && s.clientWidth <= b && z.setStyle(s, "left", m + (p - b)), f[3] < 0 && s.clientHeight <= C && z.setStyle(s, "top", g + (v - C)), (t = A.scrollWidth - w) + (n = A.scrollHeight - x) !== 0 && z.setStyles(c, {
        left: r - t,
        top: o - n
      }), i || (md(a, u, p, v), i = !0);
    }

    function n(e) {
      function t(e, t) {
        if (e) do {
          if (e === t) return !0;
        } while (e = e.parentNode);
      }

      var n;
      i || a.removed || (E(z.select("img[data-mce-selected],hr[data-mce-selected]"), function (e) {
        e.removeAttribute("data-mce-selected");
      }), n = "mousedown" === e.type ? e.target : r.getNode(), t(n = z.$(n).closest("table,img,figure.image,hr")[0], A) && (L(), t(r.getStart(!0), n) && t(r.getEnd(!0), n)) ? O(n) : H());
    }

    function o(e) {
      return Xp(function (e, t) {
        for (; t && t !== e;) {
          if (Yp(t) || Xp(t)) return t;
          t = t.parentNode;
        }

        return null;
      }(a.getBody(), e));
    }

    l = {
      nw: [0, 0, -1, -1],
      ne: [1, 0, 1, -1],
      se: [1, 1, 1, 1],
      sw: [0, 1, -1, 1]
    };

    var B = function B() {
      i = !1;

      function e(e, t) {
        t && (u.style[e] || !a.schema.isValid(u.nodeName.toLowerCase(), e) ? z.setStyle(R(u), e, t) : z.setAttrib(R(u), e, t));
      }

      e("width", b), e("height", C), z.unbind(N, "mousemove", _), z.unbind(N, "mouseup", B), S !== N && (z.unbind(S, "mousemove", _), z.unbind(S, "mouseup", B)), z.remove(s), z.remove(c), O(u), gd(a, u, b, C), z.setAttrib(u, "style", z.getAttrib(u, "style")), a.nodeChanged();
    },
        O = function O(e) {
      var t, r, o, n, i;
      H(), P(), t = z.getPos(e, A), m = t.x, g = t.y, i = e.getBoundingClientRect(), r = i.width || i.right - i.left, o = i.height || i.bottom - i.top, u !== e && (u = e, b = C = 0), n = a.fire("ObjectSelected", {
        target: e
      }), D(e) && !n.isDefaultPrevented() ? E(l, function (t, e) {
        var n;
        (n = z.get("mceResizeHandle" + e)) && z.remove(n), n = z.add(A, "div", {
          id: "mceResizeHandle" + e,
          "data-mce-bogus": "all",
          "class": "mce-resizehandle",
          unselectable: !0,
          style: "cursor:" + e + "-resize; margin:0; padding:0"
        }), 11 === Nn.ie && (n.contentEditable = !1), z.bind(n, "mousedown", function (e) {
          e.stopImmediatePropagation(), e.preventDefault(), function (e) {
            d = e.screenX, h = e.screenY, p = R(u).clientWidth, v = R(u).clientHeight, y = v / p, (f = t).startPos = {
              x: r * t[0] + m,
              y: o * t[1] + g
            }, w = A.scrollWidth, x = A.scrollHeight, s = u.cloneNode(!0), z.addClass(s, "mce-clonedresizable"), z.setAttrib(s, "data-mce-bogus", "all"), s.contentEditable = !1, s.unSelectabe = !0, z.setStyles(s, {
              left: m,
              top: g,
              margin: 0
            }), s.removeAttribute("data-mce-selected"), A.appendChild(s), z.bind(N, "mousemove", _), z.bind(N, "mouseup", B), S !== N && (z.bind(S, "mousemove", _), z.bind(S, "mouseup", B)), c = z.add(A, "div", {
              "class": "mce-resize-helper",
              "data-mce-bogus": "all"
            }, p + " &times; " + v);
          }(e);
        }), t.elm = n, z.setStyles(n, {
          left: r * t[0] + m - n.offsetWidth / 2,
          top: o * t[1] + g - n.offsetHeight / 2
        });
      }) : H(), u.setAttribute("data-mce-selected", "1");
    },
        H = function H() {
      var e, t;

      for (e in P(), u && u.removeAttribute("data-mce-selected"), l) {
        (t = z.get("mceResizeHandle" + e)) && (z.unbind(t), z.remove(t));
      }
    },
        P = function P() {
      for (var e in l) {
        var t = l[e];
        t.elm && (z.unbind(t.elm), delete t.elm);
      }
    },
        L = function L() {
      try {
        a.getDoc().execCommand("enableObjectResizing", !1, !1);
      } catch (e) {}
    };

    return a.on("init", function () {
      L(), (Nn.browser.isIE() || Nn.browser.isEdge()) && (a.on("mousedown click", function (e) {
        var t = e.target,
            n = t.nodeName;
        i || !/^(TABLE|IMG|HR)$/.test(n) || o(t) || (2 !== e.button && a.selection.select(t, "TABLE" === n), "mousedown" === e.type && a.nodeChanged());
      }), a.dom.bind(A, "mscontrolselect", function (e) {
        function t(e) {
          pn.setEditorTimeout(a, function () {
            a.selection.select(e);
          });
        }

        if (o(e.target)) return e.preventDefault(), void t(e.target);
        /^(TABLE|IMG|HR)$/.test(e.target.nodeName) && (e.preventDefault(), "IMG" === e.target.tagName && t(e.target));
      }));
      var t = pn.throttle(function (e) {
        a.composing || n(e);
      });
      a.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged", t), a.on("keyup compositionend", function (e) {
        u && "TABLE" === u.nodeName && t(e);
      }), a.on("hide blur", H), a.on("contextmenu longpress", e, !0);
    }), a.on("remove", P), {
      isResizable: D,
      showResizeRect: O,
      hideResizeRect: H,
      updateResizeRect: n,
      destroy: function destroy() {
        u = s = null;
      }
    };
  }

  var Kp = $p,
      Xp = Ge.isContentEditableFalse,
      Yp = Ge.isContentEditableTrue;

  function Gp(e) {
    var t = yt.fromDom(j.document),
        n = ki(t),
        r = function (e, t) {
      var n = t.owner(e);
      return Vv(t, n);
    }(e, Iv),
        o = Hi(e),
        i = m(r, function (e, t) {
      var n = Hi(t);
      return {
        left: e.left + n.left(),
        top: e.top + n.top()
      };
    }, {
      left: 0,
      top: 0
    });

    return Oi(i.left + o.left() + n.left(), i.top + o.top() + n.top());
  }

  function Jp(e) {
    return "textarea" === ie(e);
  }

  function Qp(e, t) {
    var n = function (e) {
      var t = e.dom().ownerDocument,
          n = t.body,
          r = t.defaultView,
          o = t.documentElement;
      if (n === e.dom()) return Oi(n.offsetLeft, n.offsetTop);
      var i = Si(r.pageYOffset, o.scrollTop),
          a = Si(r.pageXOffset, o.scrollLeft),
          u = Si(o.clientTop, n.clientTop),
          s = Si(o.clientLeft, n.clientLeft);
      return Hi(e).translate(a - s, i - u);
    }(e),
        r = function (e) {
      return Lv.get(e);
    }(e);

    return {
      element: e,
      bottom: n.top() + r,
      pos: n,
      cleanup: t
    };
  }

  function Zp(e, t) {
    var n = function (e, t) {
      var n = Re(e);
      if (0 === n.length || Jp(e)) return {
        element: e,
        offset: t
      };
      if (t < n.length && !Jp(n[t])) return {
        element: n[t],
        offset: 0
      };
      var r = n[n.length - 1];
      return Jp(r) ? {
        element: e,
        offset: t
      } : "img" === ie(r) ? {
        element: r,
        offset: 1
      } : zt(r) ? {
        element: r,
        offset: Jc(r).length
      } : {
        element: r,
        offset: Re(r).length
      };
    }(e, t),
        r = yt.fromHtml('<span data-mce-bogus="all">' + cu + "</span>");

    return Ci(n.element, r), Qp(r, function () {
      return _i(r);
    });
  }

  function ev(e) {
    return Qp(yt.fromDom(e), i);
  }

  function tv(n, r, o, i) {
    Uv(n, function (e, t) {
      return Fv(n, r, o, i);
    }, o);
  }

  function nv(e, t, n, r) {
    var o = yt.fromDom(e.getDoc());
    n(o, ki(o).top(), t, r);
  }

  function rv(e, t, n, r) {
    var o = e.pos;
    if (n) Ti(o.left(), o.top(), r);else {
      var i = o.top() - t + (e.bottom - o.top());
      Ti(o.left(), i, r);
    }
  }

  function ov(e, t, n, r, o) {
    r.pos.top() < t ? rv(r, n, !1 !== o, e) : r.bottom > n + t && rv(r, n, !0 === o, e);
  }

  function iv(e, t, n, r) {
    var o = e.dom().defaultView.innerHeight;
    ov(e, t, o, n, r);
  }

  function av(e, t, n, r, o) {
    var i = t.dom().defaultView.innerHeight;
    ov(t, n, i, r, o);
    var a = Gp(r.element),
        u = Li(j.window);
    a.top() < u.y() ? Ai(r.element, !1 !== o) : a.top() > u.bottom() && Ai(r.element, !0 === o);
  }

  function uv(e, t, n) {
    return tv(e, d(iv), t, n);
  }

  function sv(e, t, n) {
    return nv(e, ev(t), d(iv), n);
  }

  function cv(e, t, n) {
    return tv(e, d(av, e), t, n);
  }

  function lv(e, t, n) {
    return nv(e, ev(t), d(av, e), n);
  }

  function fv(e) {
    return Ge.isContentEditableTrue(e) || Ge.isContentEditableFalse(e);
  }

  function dv(e, t) {
    var n = (t || j.document).createDocumentFragment();
    return z(e, function (e) {
      n.appendChild(e.dom());
    }), yt.fromDom(n);
  }

  function hv(e, t) {
    var n = parseInt(ge(e, t), 10);
    return isNaN(n) ? 1 : n;
  }

  function mv(e) {
    return b(e, function (e, t) {
      return t.cells().length > e ? t.cells().length : e;
    }, 0);
  }

  function gv(e, t) {
    for (var n = e.rows(), r = 0; r < n.length; r++) {
      for (var o = n[r].cells(), i = 0; i < o.length; i++) {
        if (ze(o[i], t)) return k.some(Yv(i, r));
      }
    }

    return k.none();
  }

  function pv(e, t, n, r, o) {
    for (var i = [], a = e.rows(), u = n; u <= o; u++) {
      var s = a[u].cells(),
          c = t < r ? s.slice(t, r + 1) : s.slice(r, t + 1);
      i.push(Xv(a[u].element(), c));
    }

    return i;
  }

  function vv(e) {
    var t = [];
    if (e) for (var n = 0; n < e.rangeCount; n++) {
      t.push(e.getRangeAt(n));
    }
    return t;
  }

  function yv(e) {
    return y(ey(e), $n);
  }

  function bv(e) {
    return ma(e, "td[data-mce-selected],th[data-mce-selected]");
  }

  function Cv(e, t) {
    var n = bv(t),
        r = yv(e);
    return 0 < n.length ? n : r;
  }

  function wv(t, n) {
    return g(t, function (e) {
      return "li" === ie(e) && uh(e, n);
    }).fold($([]), function (e) {
      return function (e) {
        return g(e, function (e) {
          return "ul" === ie(e) || "ol" === ie(e);
        });
      }(t).map(function (e) {
        return [yt.fromTag("li"), yt.fromTag(ie(e))];
      }).getOr([]);
    });
  }

  function xv(e, t) {
    var n = yt.fromDom(t.commonAncestorContainer),
        r = fh(n, e),
        o = y(r, function (e) {
      return Dn(e) || Ln(e);
    }),
        i = wv(r, t),
        a = o.concat(i.length ? i : function (t) {
      return Un(t) ? Se(t).filter(Fn).fold($([]), function (e) {
        return [t, e];
      }) : Fn(t) ? [t] : [];
    }(n));
    return X(a, ka);
  }

  function zv() {
    return dv([]);
  }

  function Ev(e, t) {
    return function (e, t) {
      var n = b(t, function (e, t) {
        return Di(t, e), t;
      }, e);
      return 0 < t.length ? dv([n]) : n;
    }(yt.fromDom(t.cloneContents()), xv(e, t));
  }

  function Nv(e, o) {
    return function (e, t) {
      return Ca(t, "table", d(ze, e));
    }(e, o[0]).bind(function (e) {
      var t = o[0],
          n = o[o.length - 1],
          r = Gv(e);
      return Qv(r, t, n).map(function (e) {
        return dv([Jv(e)]);
      });
    }).getOrThunk(zv);
  }

  function Sv(e, t, n) {
    return null !== function (e, t, n) {
      for (; e && e !== t;) {
        if (n(e)) return e;
        e = e.parentNode;
      }

      return null;
    }(e, t, n);
  }

  function kv(e, t, n) {
    return Sv(e, t, function (e) {
      return e.nodeName === n;
    });
  }

  function Tv(e) {
    return e && "TABLE" === e.nodeName;
  }

  function Av(e, t, n) {
    for (var r = new yi(t, e.getParent(t.parentNode, e.isBlock) || e.getRoot()); t = r[n ? "prev" : "next"]();) {
      if (Ge.isBr(t)) return !0;
    }
  }

  function Mv(e, t, n, r, o) {
    var i,
        a,
        u = e.getRoot(),
        s = e.schema.getNonEmptyElements(),
        c = e.getParent(o.parentNode, e.isBlock) || u;
    if (r && Ge.isBr(o) && t && e.isEmpty(c)) return k.some(Uu(o.parentNode, e.nodeIndex(o)));

    for (var l, f, d = new yi(o, c); a = d[r ? "prev" : "next"]();) {
      if ("false" === e.getContentEditableParent(a) || (f = u, Da(l = a) && !1 === Sv(l, f, rs))) return k.none();
      if (Ge.isText(a) && 0 < a.nodeValue.length) return !1 === kv(a, u, "A") ? k.some(Uu(a, r ? a.nodeValue.length : 0)) : k.none();
      if (e.isBlock(a) || s[a.nodeName.toLowerCase()]) return k.none();
      i = a;
    }

    return n && i ? k.some(Uu(i, 0)) : k.none();
  }

  function Rv(e, t, n, r) {
    var o,
        i,
        a,
        u,
        s,
        c,
        l,
        f = e.getRoot(),
        d = !1;
    if (o = r[(n ? "start" : "end") + "Container"], i = r[(n ? "start" : "end") + "Offset"], c = Ge.isElement(o) && i === o.childNodes.length, u = e.schema.getNonEmptyElements(), s = n, Da(o)) return k.none();

    if (Ge.isElement(o) && i > o.childNodes.length - 1 && (s = !1), Ge.isDocument(o) && (o = f, i = 0), o === f) {
      if (s && (a = o.childNodes[0 < i ? i - 1 : 0])) {
        if (Da(a)) return k.none();
        if (u[a.nodeName] || Tv(a)) return k.none();
      }

      if (o.hasChildNodes()) {
        if (i = Math.min(!s && 0 < i ? i - 1 : i, o.childNodes.length - 1), o = o.childNodes[i], i = Ge.isText(o) && c ? o.data.length : 0, !t && o === f.lastChild && Tv(o)) return k.none();
        if (function (e, t) {
          for (; t && t !== e;) {
            if (Ge.isContentEditableFalse(t)) return !0;
            t = t.parentNode;
          }

          return !1;
        }(f, o) || Da(o)) return k.none();

        if (o.hasChildNodes() && !1 === Tv(o)) {
          var h = new yi(a = o, f);

          do {
            if (Ge.isContentEditableFalse(a) || Da(a)) {
              d = !1;
              break;
            }

            if (Ge.isText(a) && 0 < a.nodeValue.length) {
              i = s ? 0 : a.nodeValue.length, o = a, d = !0;
              break;
            }

            if (u[a.nodeName.toLowerCase()] && (!(l = a) || !/^(TD|TH|CAPTION)$/.test(l.nodeName))) {
              i = e.nodeIndex(a), o = a.parentNode, s || i++, d = !0;
              break;
            }
          } while (a = s ? h.next() : h.prev());
        }
      }
    }

    return t && (Ge.isText(o) && 0 === i && Mv(e, c, t, !0, o).each(function (e) {
      o = e.container(), i = e.offset(), d = !0;
    }), Ge.isElement(o) && (!(a = (a = o.childNodes[i]) || o.childNodes[i - 1]) || !Ge.isBr(a) || function (e, t) {
      return e.previousSibling && e.previousSibling.nodeName === t;
    }(a, "A") || Av(e, a, !1) || Av(e, a, !0) || Mv(e, c, t, !0, a).each(function (e) {
      o = e.container(), i = e.offset(), d = !0;
    }))), s && !t && Ge.isText(o) && i === o.nodeValue.length && Mv(e, c, t, !1, o).each(function (e) {
      o = e.container(), i = e.offset(), d = !0;
    }), d ? k.some(Uu(o, i)) : k.none();
  }

  function Dv(e) {
    return 0 === e.dom().length ? (_i(e), k.none()) : k.some(e);
  }

  function _v(e, t, n, r, o) {
    var i = n ? t.startContainer : t.endContainer,
        a = n ? t.startOffset : t.endOffset;
    return k.from(i).map(yt.fromDom).map(function (e) {
      return r && t.collapsed ? e : De(e, o(e, a)).getOr(e);
    }).bind(function (e) {
      return xt(e) ? k.some(e) : Se(e);
    }).map(function (e) {
      return e.dom();
    }).getOr(e);
  }

  function Bv(e, t, n) {
    return _v(e, t, !0, n, function (e, t) {
      return Math.min(function (e) {
        return e.dom().childNodes.length;
      }(e), t);
    });
  }

  function Ov(e, t, n) {
    return _v(e, t, !1, n, function (e, t) {
      return 0 < t ? t - 1 : t;
    });
  }

  function Hv(e, t) {
    for (var n = e; e && Ge.isText(e) && 0 === e.length;) {
      e = t ? e.nextSibling : e.previousSibling;
    }

    return e || n;
  }

  function Pv(e, t, n) {
    if (e && e.hasOwnProperty(t)) {
      var r = y(e[t], function (e) {
        return e !== n;
      });
      0 === r.length ? delete e[t] : e[t] = r;
    }
  }

  var Lv = function CN(r, o) {
    function e(e) {
      var t = o(e);

      if (t <= 0 || null === t) {
        var n = ve(e, r);
        return parseFloat(n) || 0;
      }

      return t;
    }

    function i(o, e) {
      return b(e, function (e, t) {
        var n = ve(o, t),
            r = n === undefined ? 0 : parseInt(n, 10);
        return isNaN(r) ? e : e + r;
      }, 0);
    }

    return {
      set: function set(e, t) {
        if (!_(t) && !t.match(/^[0-9]+$/)) throw new Error(r + ".set accepts only positive integer values. Value was " + t);
        var n = e.dom();
        fe(n) && (n.style[r] = t + "px");
      },
      get: e,
      getOuter: e,
      aggregate: i,
      max: function max(e, t, n) {
        var r = i(e, n);
        return r < t ? t - r : 0;
      }
    };
  }("height", function (e) {
    var t = e.dom();
    return de(e) ? t.getBoundingClientRect().height : t.offsetHeight;
  }),
      Vv = function Vv(r, e) {
    return r.view(e).fold($([]), function (e) {
      var t = r.owner(e),
          n = Vv(r, t);
      return [e].concat(n);
    });
  },
      Iv =
  /* */
  Object.freeze({
    view: function view(e) {
      return (e.dom() === j.document ? k.none() : k.from(e.dom().defaultView.frameElement)).map(yt.fromDom);
    },
    owner: function owner(e) {
      return Ee(e);
    }
  }),
      Fv = function Fv(e, t, n, r) {
    var o = yt.fromDom(e.getBody()),
        i = yt.fromDom(e.getDoc());
    !function (e) {
      e.dom().offsetWidth;
    }(o);
    var a = ki(i).top(),
        u = Zp(yt.fromDom(n.startContainer), n.startOffset);
    t(i, a, u, r), u.cleanup();
  },
      Uv = function Uv(e, t, n) {
    var r = n.startContainer,
        o = n.startOffset,
        i = n.endContainer,
        a = n.endOffset;
    t(yt.fromDom(r), yt.fromDom(i));
    var u = e.dom.createRng();
    u.setStart(r, o), u.setEnd(i, a), e.selection.setRng(n);
  },
      jv = function jv(e, t, n) {
    !function (e, t, n) {
      return e.fire("ScrollIntoView", {
        elm: t,
        alignToTop: n
      }).isDefaultPrevented();
    }(e, t, n) && (e.inline ? sv : lv)(e, t, n);
  },
      qv = function qv(e, t, n) {
    (e.inline ? uv : cv)(e, t, n);
  },
      $v = function $v(e, t, n) {
    var r,
        o,
        i = n;
    if (i.caretPositionFromPoint) (o = i.caretPositionFromPoint(e, t)) && ((r = n.createRange()).setStart(o.offsetNode, o.offset), r.collapse(!0));else if (n.caretRangeFromPoint) r = n.caretRangeFromPoint(e, t);else if (i.body.createTextRange) {
      r = i.body.createTextRange();

      try {
        r.moveToPoint(e, t), r.collapse(!0);
      } catch (a) {
        r = function (e, n, t) {
          var r, o, i;

          if (r = t.elementFromPoint(e, n), o = t.body.createTextRange(), r && "HTML" !== r.tagName || (r = t.body), o.moveToElementText(r), 0 < (i = (i = Mn.toArray(o.getClientRects())).sort(function (e, t) {
            return (e = Math.abs(Math.max(e.top - n, e.bottom - n))) - (t = Math.abs(Math.max(t.top - n, t.bottom - n)));
          })).length) {
            n = (i[0].bottom + i[0].top) / 2;

            try {
              return o.moveToPoint(e, n), o.collapse(!0), o;
            } catch (a) {}
          }

          return null;
        }(e, t, n);
      }

      return function (e, t) {
        var n = e && e.parentElement ? e.parentElement() : null;
        return Ge.isContentEditableFalse(function (e, t, n) {
          for (; e && e !== t;) {
            if (n(e)) return e;
            e = e.parentNode;
          }

          return null;
        }(n, t, fv)) ? null : e;
      }(r, n.body);
    }
    return r;
  },
      Wv = function Wv(n, e) {
    return X(e, function (e) {
      var t = n.fire("GetSelectionRange", {
        range: e
      });
      return t.range !== e ? t.range : e;
    });
  },
      Kv = be("element", "width", "rows"),
      Xv = be("element", "cells"),
      Yv = be("x", "y"),
      Gv = function Gv(e) {
    var o = Kv(ka(e), 0, []);
    return z(ma(e, "tr"), function (n, r) {
      z(ma(n, "td,th"), function (e, t) {
        !function (e, t, n, r, o) {
          for (var i = hv(o, "rowspan"), a = hv(o, "colspan"), u = e.rows(), s = n; s < n + i; s++) {
            u[s] || (u[s] = Xv(Ta(r), []));

            for (var c = t; c < t + a; c++) {
              u[s].cells()[c] = s === n && c === t ? o : ka(o);
            }
          }
        }(o, function (e, t, n) {
          for (; r = t, o = n, i = void 0, ((i = e.rows())[o] ? i[o].cells() : [])[r];) {
            t++;
          }

          var r, o, i;
          return t;
        }(o, t, r), r, n, e);
      });
    }), Kv(o.element(), mv(o.rows()), o.rows());
  },
      Jv = function Jv(e) {
    return function (e, t) {
      var n = ka(e.element()),
          r = yt.fromTag("tbody");
      return zi(r, t), Di(n, r), n;
    }(e, function (e) {
      return X(e.rows(), function (e) {
        var t = X(e.cells(), function (e) {
          var t = Ta(e);
          return pe(t, "colspan"), pe(t, "rowspan"), t;
        }),
            n = ka(e.element());
        return zi(n, t), n;
      });
    }(e));
  },
      Qv = function Qv(n, e, r) {
    return gv(n, e).bind(function (t) {
      return gv(n, r).map(function (e) {
        return function (e, t, n) {
          var r = t.x(),
              o = t.y(),
              i = n.x(),
              a = n.y(),
              u = o < a ? pv(e, r, o, i, a) : pv(e, r, a, i, o);
          return Kv(e.element(), mv(u), u);
        }(n, t, e);
      });
    });
  },
      Zv = vv,
      ey = function ey(e) {
    return v(e, function (e) {
      var t = Wa(e);
      return t ? [yt.fromDom(t)] : [];
    });
  },
      ty = function ty(e) {
    return 1 < vv(e).length;
  },
      ny = Cv,
      ry = function ry(e) {
    return Cv(Zv(e.selection.getSel()), yt.fromDom(e.getBody()));
  },
      oy = function oy(e, t) {
    var n = ny(t, e);
    return 0 < n.length ? Nv(e, n) : function (e, t) {
      return 0 < t.length && t[0].collapsed ? zv() : Ev(e, t[0]);
    }(e, t);
  },
      iy = function iy(e, t) {
    if (void 0 === t && (t = {}), t.get = !0, t.format = t.format || "html", t.selection = !0, (t = e.fire("BeforeGetContent", t)).isDefaultPrevented()) return e.fire("GetContent", t), t.content;
    if ("text" === t.format) return function (r) {
      return k.from(r.selection.getRng()).map(function (e) {
        var t = r.dom.add(r.getBody(), "div", {
          "data-mce-bogus": "all",
          style: "overflow: hidden; opacity: 0;"
        }, e.cloneContents()),
            n = lu(t.innerText);
        return r.dom.remove(t), n;
      }).getOr("");
    }(e);
    t.getInner = !0;

    var n = function (e, t) {
      var n,
          r = e.selection.getRng(),
          o = e.dom.create("body"),
          i = e.selection.getSel(),
          a = Wv(e, Zv(i));
      return (n = t.contextual ? oy(yt.fromDom(e.getBody()), a).dom() : r.cloneContents()) && o.appendChild(n), e.selection.serializer.serialize(o, t);
    }(e, t);

    return "tree" === t.format ? n : (t.content = e.selection.isCollapsed() ? "" : n, e.fire("GetContent", t), t.content);
  },
      ay = function ay(e, t) {
    var n = t.collapsed,
        r = t.cloneRange(),
        o = Uu.fromRangeStart(t);
    return Rv(e, n, !0, r).each(function (e) {
      n && Uu.isAbove(o, e) || r.setStart(e.container(), e.offset());
    }), n || Rv(e, n, !1, r).each(function (e) {
      r.setEnd(e.container(), e.offset());
    }), n && r.collapse(!0), hh(t, r) ? k.none() : k.some(r);
  },
      uy = function uy(e, t, n) {
    if ((n = function (e, t) {
      return (e = e || {
        format: "html"
      }).set = !0, e.selection = !0, e.content = t, e;
    }(n, t)).no_events || !(n = e.fire("BeforeSetContent", n)).isDefaultPrevented()) {
      var r = e.selection.getRng();
      !function (r, e) {
        var t = k.from(e.firstChild).map(yt.fromDom),
            n = k.from(e.lastChild).map(yt.fromDom);
        r.deleteContents(), r.insertNode(e);
        var o = t.bind(ke).filter(zt).bind(Dv),
            i = n.bind(Te).filter(zt).bind(Dv);
        Ya(o, t.filter(zt), function (e, t) {
          !function (e, t) {
            e.insertData(0, t);
          }(t.dom(), e.dom().data), _i(e);
        }), Ya(i, n.filter(zt), function (e, t) {
          var n = t.dom().length;
          t.dom().appendData(e.dom().data), r.setEnd(t.dom(), n), _i(e);
        }), r.collapse(!1);
      }(r, r.createContextualFragment(n.content)), e.selection.setRng(r), qv(e, r), n.no_events || e.fire("SetContent", n);
    } else e.fire("SetContent", n);
  };

  function sy(e) {
    return !!e.select;
  }

  function cy(e) {
    return !(!e || !e.ownerDocument) && Bt(yt.fromDom(e.ownerDocument), yt.fromDom(e));
  }

  function ly(u, s, e, c) {
    function t(e, t) {
      return uy(c, e, t);
    }

    function r() {
      var e,
          t,
          n = d();
      return !(n && n.anchorNode && n.focusNode) || ((e = u.createRng()).setStart(n.anchorNode, n.anchorOffset), e.collapse(!0), (t = u.createRng()).setStart(n.focusNode, n.focusOffset), t.collapse(!0), e.compareBoundaryPoints(e.START_TO_START, t) <= 0);
    }

    var n,
        o,
        l,
        f,
        i = function p(i, n) {
      var a, u;
      return {
        selectorChangedWithUnbind: function selectorChangedWithUnbind(e, t) {
          return a || (a = {}, u = {}, n.on("NodeChange", function (e) {
            var n = e.element,
                r = i.getParents(n, null, i.getRoot()),
                o = {};
            Mn.each(a, function (e, n) {
              Mn.each(r, function (t) {
                if (i.is(t, n)) return u[n] || (Mn.each(e, function (e) {
                  e(!0, {
                    node: t,
                    selector: n,
                    parents: r
                  });
                }), u[n] = e), o[n] = e, !1;
              });
            }), Mn.each(u, function (e, t) {
              o[t] || (delete u[t], Mn.each(e, function (e) {
                e(!1, {
                  node: n,
                  selector: t,
                  parents: r
                });
              }));
            });
          })), a[e] || (a[e] = []), a[e].push(t), {
            unbind: function unbind() {
              Pv(a, e, t), Pv(u, e, t);
            }
          };
        }
      };
    }(u, c).selectorChangedWithUnbind,
        a = function a(e) {
      var t = h();
      t.collapse(!!e), m(t);
    },
        d = function d() {
      return s.getSelection ? s.getSelection() : s.document.selection;
    },
        h = function h() {
      function e(e, t, n) {
        try {
          return t.compareBoundaryPoints(e, n);
        } catch (r) {
          return -1;
        }
      }

      var t, n, r, o;
      if (!s) return null;
      if (null == (o = s.document)) return null;

      if (c.bookmark !== undefined && !1 === ud(c)) {
        var i = Qf(c);
        if (i.isSome()) return i.map(function (e) {
          return Wv(c, [e])[0];
        }).getOr(o.createRange());
      }

      try {
        (t = d()) && !Ge.isRestrictedNode(t.anchorNode) && (n = 0 < t.rangeCount ? t.getRangeAt(0) : t.createRange ? t.createRange() : o.createRange());
      } catch (a) {}

      return (n = (n = Wv(c, [n])[0]) || (o.createRange ? o.createRange() : o.body.createTextRange())).setStart && 9 === n.startContainer.nodeType && n.collapsed && (r = u.getRoot(), n.setStart(r, 0), n.setEnd(r, 0)), l && f && (0 === e(n.START_TO_START, n, l) && 0 === e(n.END_TO_END, n, l) ? n = f : f = l = null), n;
    },
        m = function m(e, t) {
      var n, r;

      if (function (e) {
        return !!e && (!!sy(e) || cy(e.startContainer) && cy(e.endContainer));
      }(e)) {
        var o = sy(e) ? e : null;

        if (o) {
          f = null;

          try {
            o.select();
          } catch (i) {}
        } else {
          if (n = d(), e = c.fire("SetSelectionRange", {
            range: e,
            forward: t
          }).range, n) {
            f = e;

            try {
              n.removeAllRanges(), n.addRange(e);
            } catch (i) {}

            !1 === t && n.extend && (n.collapse(e.endContainer, e.endOffset), n.extend(e.startContainer, e.startOffset)), l = 0 < n.rangeCount ? n.getRangeAt(0) : null;
          }

          e.collapsed || e.startContainer !== e.endContainer || !n.setBaseAndExtent || Nn.ie || e.endOffset - e.startOffset < 2 && e.startContainer.hasChildNodes() && (r = e.startContainer.childNodes[e.startOffset]) && "IMG" === r.tagName && (n.setBaseAndExtent(e.startContainer, e.startOffset, e.endContainer, e.endOffset), n.anchorNode === e.startContainer && n.focusNode === e.endContainer || n.setBaseAndExtent(r, 0, r, 1)), c.fire("AfterSetSelectionRange", {
            range: e,
            forward: t
          });
        }
      }
    },
        g = {
      bookmarkManager: null,
      controlSelection: null,
      dom: u,
      win: s,
      serializer: e,
      editor: c,
      collapse: a,
      setCursorLocation: function setCursorLocation(e, t) {
        var n = u.createRng();
        e ? (n.setStart(e, t), n.setEnd(e, t), m(n), a(!1)) : (sh(u, n, c.getBody(), !0), m(n));
      },
      getContent: function getContent(e) {
        return iy(c, e);
      },
      setContent: t,
      getBookmark: function getBookmark(e, t) {
        return n.getBookmark(e, t);
      },
      moveToBookmark: function moveToBookmark(e) {
        return n.moveToBookmark(e);
      },
      select: function select(e, t) {
        return function (r, e, o) {
          return k.from(e).map(function (e) {
            var t = r.nodeIndex(e),
                n = r.createRng();
            return n.setStart(e.parentNode, t), n.setEnd(e.parentNode, t + 1), o && (sh(r, n, e, !0), sh(r, n, e, !1)), n;
          });
        }(u, e, t).each(m), e;
      },
      isCollapsed: function isCollapsed() {
        var e = h(),
            t = d();
        return !(!e || e.item) && (e.compareEndPoints ? 0 === e.compareEndPoints("StartToEnd", e) : !t || e.collapsed);
      },
      isForward: r,
      setNode: function setNode(e) {
        return t(u.getOuterHTML(e)), e;
      },
      getNode: function getNode() {
        return function (e, t) {
          var n, r, o, i, a;
          return t ? (r = t.startContainer, o = t.endContainer, i = t.startOffset, a = t.endOffset, n = t.commonAncestorContainer, !t.collapsed && (r === o && a - i < 2 && r.hasChildNodes() && (n = r.childNodes[i]), 3 === r.nodeType && 3 === o.nodeType && (r = r.length === i ? Hv(r.nextSibling, !0) : r.parentNode, o = 0 === a ? Hv(o.previousSibling, !1) : o.parentNode, r && r === o)) ? r : n && 3 === n.nodeType ? n.parentNode : n) : e;
        }(c.getBody(), h());
      },
      getSel: d,
      setRng: m,
      getRng: h,
      getStart: function getStart(e) {
        return Bv(c.getBody(), h(), e);
      },
      getEnd: function getEnd(e) {
        return Ov(c.getBody(), h(), e);
      },
      getSelectedBlocks: function getSelectedBlocks(e, t) {
        return function (e, t, n, r) {
          var o,
              i,
              a = [];
          if (i = e.getRoot(), n = e.getParent(n || Bv(i, t, t.collapsed), e.isBlock), r = e.getParent(r || Ov(i, t, t.collapsed), e.isBlock), n && n !== i && a.push(n), n && r && n !== r) for (var u = new yi(o = n, i); (o = u.next()) && o !== r;) {
            e.isBlock(o) && a.push(o);
          }
          return r && n !== r && r !== i && a.push(r), a;
        }(u, h(), e, t);
      },
      normalize: function normalize() {
        var e = h(),
            t = d();
        if (ty(t) || !ch(c)) return e;
        var n = ay(u, e);
        return n.each(function (e) {
          m(e, r());
        }), n.getOr(e);
      },
      selectorChanged: function selectorChanged(e, t) {
        return i(e, t), g;
      },
      selectorChangedWithUnbind: i,
      getScrollContainer: function getScrollContainer() {
        for (var e, t = u.getRoot(); t && "BODY" !== t.nodeName;) {
          if (t.scrollHeight > t.clientHeight) {
            e = t;
            break;
          }

          t = t.parentNode;
        }

        return e;
      },
      scrollIntoView: function scrollIntoView(e, t) {
        return jv(c, e, t);
      },
      placeCaretAt: function placeCaretAt(e, t) {
        return m($v(e, t, c.getDoc()));
      },
      getBoundingClientRect: function getBoundingClientRect() {
        var e = h();
        return e.collapsed ? Ds.fromRangeStart(e).getClientRects()[0] : e.getBoundingClientRect();
      },
      destroy: function destroy() {
        s = l = f = null, o.destroy();
      }
    };

    return n = Kp(g), o = Wp(g, c), g.bookmarkManager = n, g.controlSelection = o, g;
  }

  function fy(e) {
    return Uy(e) && e.data[0] === cu;
  }

  function dy(e) {
    return Uy(e) && e.data[e.data.length - 1] === cu;
  }

  function hy(e) {
    return e.ownerDocument.createTextNode(cu);
  }

  function my(e, t) {
    return e ? function (e) {
      if (Uy(e.previousSibling)) return dy(e.previousSibling) || e.previousSibling.appendData(cu), e.previousSibling;
      if (Uy(e)) return fy(e) || e.insertData(0, cu), e;
      var t = hy(e);
      return e.parentNode.insertBefore(t, e), t;
    }(t) : function (e) {
      if (Uy(e.nextSibling)) return fy(e.nextSibling) || e.nextSibling.insertData(0, cu), e.nextSibling;
      if (Uy(e)) return dy(e) || e.appendData(cu), e;
      var t = hy(e);
      return e.nextSibling ? e.parentNode.insertBefore(t, e.nextSibling) : e.parentNode.appendChild(t), t;
    }(t);
  }

  function gy(e, t) {
    return Ge.isText(e.container()) ? my(t, e.container()) : my(t, e.getNode());
  }

  function py(e, t) {
    var n = t.get();
    return n && e.container() === n && Ra(n);
  }

  function vy(e, t) {
    if (!t) return t;
    var n = t.container(),
        r = t.offset();
    return e ? Ra(n) ? Ge.isText(n.nextSibling) ? Ds(n.nextSibling, 0) : Ds.after(n) : Ba(t) ? Ds(n, r + 1) : t : Ra(n) ? Ge.isText(n.previousSibling) ? Ds(n.previousSibling, n.previousSibling.data.length) : Ds.before(n) : Oa(t) ? Ds(n, r - 1) : t;
  }

  function yy(e, t) {
    var n = bs(t, e);
    return n || e;
  }

  function by(e, t, n) {
    var r = Ky.normalizeForwards(n),
        o = yy(t, r.container());
    return Ky.findRootInline(e, o, r).fold(function () {
      return Pc.nextPosition(o, r).bind(d(Ky.findRootInline, e, o)).map(function (e) {
        return Yy.before(e);
      });
    }, k.none);
  }

  function Cy(e, t) {
    return null === os(e, t);
  }

  function wy(e, t, n) {
    return Ky.findRootInline(e, t, n).filter(d(Cy, t));
  }

  function xy(e, t, n) {
    var r = Ky.normalizeBackwards(n);
    return wy(e, t, r).bind(function (e) {
      return Pc.prevPosition(e, r).isNone() ? k.some(Yy.start(e)) : k.none();
    });
  }

  function zy(e, t, n) {
    var r = Ky.normalizeForwards(n);
    return wy(e, t, r).bind(function (e) {
      return Pc.nextPosition(e, r).isNone() ? k.some(Yy.end(e)) : k.none();
    });
  }

  function Ey(e, t, n) {
    var r = Ky.normalizeBackwards(n),
        o = yy(t, r.container());
    return Ky.findRootInline(e, o, r).fold(function () {
      return Pc.prevPosition(o, r).bind(d(Ky.findRootInline, e, o)).map(function (e) {
        return Yy.after(e);
      });
    }, k.none);
  }

  function Ny(e) {
    return !1 === Ky.isRtl(Gy(e));
  }

  function Sy(e, t, n) {
    return Xy([by, xy, zy, Ey], [e, t, n]).filter(Ny);
  }

  function ky(e) {
    return e.fold($("before"), $("start"), $("end"), $("after"));
  }

  function Ty(e) {
    return e.fold(Yy.before, Yy.before, Yy.after, Yy.after);
  }

  function Ay(n, e, r, t, o, i) {
    return Ya(Ky.findRootInline(e, r, t), Ky.findRootInline(e, r, o), function (e, t) {
      return e !== t && Ky.hasSameParentBlock(r, e, t) ? Yy.after(n ? e : t) : i;
    }).getOr(i);
  }

  function My(e, t) {
    return e.fold($(!0), function (e) {
      return !function (e, t) {
        return ky(e) === ky(t) && Gy(e) === Gy(t);
      }(e, t);
    });
  }

  function Ry(e, t) {
    return e ? t.fold(q(k.some, Yy.start), k.none, q(k.some, Yy.after), k.none) : t.fold(k.none, q(k.some, Yy.before), k.none, q(k.some, Yy.end));
  }

  function Dy(e, t, n, r) {
    var o = Ky.normalizePosition(e, r),
        i = Sy(t, n, o);
    return Sy(t, n, o).bind(d(Ry, e)).orThunk(function () {
      return function (t, n, r, o, e) {
        var i = Ky.normalizePosition(t, e);
        return Pc.fromPosition(t, r, i).map(d(Ky.normalizePosition, t)).fold(function () {
          return o.map(Ty);
        }, function (e) {
          return Sy(n, r, e).map(d(Ay, t, n, r, i, e)).filter(d(My, o));
        }).filter(Ny);
      }(e, t, n, i, r);
    });
  }

  function _y(e) {
    return D(e.selection.getSel().modify);
  }

  function By(e, t, n) {
    var r = e ? 1 : -1;
    return t.setRng(Ds(n.container(), n.offset() + r).toRange()), t.getSel().modify("move", e ? "forward" : "backward", "word"), !0;
  }

  function Oy(e, t) {
    var n = e.dom.createRng();
    n.setStart(t.container(), t.offset()), n.setEnd(t.container(), t.offset()), e.selection.setRng(n);
  }

  function Hy(e) {
    return !1 !== e.settings.inline_boundaries;
  }

  function Py(e, t) {
    e ? t.setAttribute("data-mce-selected", "inline-boundary") : t.removeAttribute("data-mce-selected");
  }

  function Ly(t, e, n) {
    return $y(e, n).map(function (e) {
      return Oy(t, e), n;
    });
  }

  function Vy(e, t, n) {
    return function () {
      return !!Hy(t) && tb(e, t);
    };
  }

  var Iy,
      Fy,
      Uy = Ge.isText,
      jy = d(my, !0),
      qy = d(my, !1),
      $y = function $y(n, e) {
    return e.fold(function (e) {
      qs.remove(n.get());
      var t = jy(e);
      return n.set(t), k.some(Ds(t, t.length - 1));
    }, function (e) {
      return Pc.firstPositionIn(e).map(function (e) {
        if (py(e, n)) return Ds(n.get(), 1);
        qs.remove(n.get());
        var t = gy(e, !0);
        return n.set(t), Ds(t, 1);
      });
    }, function (e) {
      return Pc.lastPositionIn(e).map(function (e) {
        if (py(e, n)) return Ds(n.get(), n.get().length - 1);
        qs.remove(n.get());
        var t = gy(e, !1);
        return n.set(t), Ds(t, t.length - 1);
      });
    }, function (e) {
      qs.remove(n.get());
      var t = qy(e);
      return n.set(t), k.some(Ds(t, 1));
    });
  },
      Wy = /[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,
      Ky = {
    isInlineTarget: function isInlineTarget(e, t) {
      return we(yt.fromDom(t), If(e));
    },
    findRootInline: function findRootInline(e, t, n) {
      var r = function (e, t, n) {
        return y(Xi.DOM.getParents(n.container(), "*", t), e);
      }(e, t, n);

      return k.from(r[r.length - 1]);
    },
    isRtl: function isRtl(e) {
      return "rtl" === Xi.DOM.getStyle(e, "direction", !0) || function (e) {
        return Wy.test(e);
      }(e.textContent);
    },
    isAtZwsp: function isAtZwsp(e) {
      return Ba(e) || Oa(e);
    },
    normalizePosition: vy,
    normalizeForwards: d(vy, !0),
    normalizeBackwards: d(vy, !1),
    hasSameParentBlock: function hasSameParentBlock(e, t, n) {
      var r = bs(t, e),
          o = bs(n, e);
      return r && r === o;
    }
  },
      Xy = function Xy(e, t) {
    for (var n = 0; n < e.length; n++) {
      var r = e[n].apply(null, t);
      if (r.isSome()) return r;
    }

    return k.none();
  },
      Yy = jf([{
    before: ["element"]
  }, {
    start: ["element"]
  }, {
    end: ["element"]
  }, {
    after: ["element"]
  }]),
      Gy = function Gy(e) {
    return e.fold(W, W, W, W);
  },
      Jy = Sy,
      Qy = Dy,
      Zy = (d(Dy, !1), d(Dy, !0), Ty),
      eb = function eb(e) {
    return e.fold(Yy.start, Yy.start, Yy.end, Yy.end);
  },
      tb = function tb(e, t) {
    var n = t.selection.getRng(),
        r = e ? Ds.fromRangeEnd(n) : Ds.fromRangeStart(n);
    return !!_y(t) && (e && Ba(r) ? By(!0, t.selection, r) : !(e || !Oa(r)) && By(!1, t.selection, r));
  },
      nb = {
    move: function move(e, t, n) {
      return function () {
        return !!Hy(e) && function (t, n, e) {
          var r = t.getBody(),
              o = Ds.fromRangeStart(t.selection.getRng()),
              i = d(Ky.isInlineTarget, t);
          return Qy(e, i, r, o).bind(function (e) {
            return Ly(t, n, e);
          });
        }(e, t, n).isSome();
      };
    },
    moveNextWord: d(Vy, !0),
    movePrevWord: d(Vy, !1),
    setupSelectedState: function setupSelectedState(t) {
      var n = Je(null),
          r = d(Ky.isInlineTarget, t);
      return t.on("NodeChange", function (e) {
        Hy(t) && (function (e, t, n) {
          var r = y(t.select('*[data-mce-selected="inline-boundary"]'), e),
              o = y(n, e);
          z(x(r, o), d(Py, !1)), z(x(o, r), d(Py, !0));
        }(r, t.dom, e.parents), function (e, t) {
          if (e.selection.isCollapsed() && !0 !== e.composing && t.get()) {
            var n = Ds.fromRangeStart(e.selection.getRng());
            Ds.isTextPosition(n) && !1 === Ky.isAtZwsp(n) && (Oy(e, qs.removeAndReposition(t.get(), n)), t.set(null));
          }
        }(t, n), function (n, r, o, e) {
          if (r.selection.isCollapsed()) {
            var t = y(e, n);
            z(t, function (e) {
              var t = Ds.fromRangeStart(r.selection.getRng());
              Jy(n, r.getBody(), t).bind(function (e) {
                return Ly(r, o, e);
              });
            });
          }
        }(r, t, n, e.parents));
      }), n;
    },
    setCaretPosition: Oy
  };

  (Fy = Iy = Iy || {})[Fy.Br = 0] = "Br", Fy[Fy.Block = 1] = "Block", Fy[Fy.Wrap = 2] = "Wrap", Fy[Fy.Eol = 3] = "Eol";

  function rb(e, t) {
    return e === Ms.Backwards ? t.reverse() : t;
  }

  function ob(e, t, n, r) {
    for (var o, i, a, u, s, c, l = rc(n), f = r, d = []; f && (s = l, c = f, o = t === Ms.Forwards ? s.next(c) : s.prev(c));) {
      if (Ge.isBr(o.getNode(!1))) return t === Ms.Forwards ? {
        positions: rb(t, d).concat([o]),
        breakType: Iy.Br,
        breakAt: k.some(o)
      } : {
        positions: rb(t, d),
        breakType: Iy.Br,
        breakAt: k.some(o)
      };

      if (o.isVisible()) {
        if (e(f, o)) {
          var h = (i = t, a = f, u = o, Ge.isBr(u.getNode(i === Ms.Forwards)) ? Iy.Br : !1 === Cs(a, u) ? Iy.Block : Iy.Wrap);
          return {
            positions: rb(t, d),
            breakType: h,
            breakAt: k.some(o)
          };
        }

        d.push(o), f = o;
      } else f = o;
    }

    return {
      positions: rb(t, d),
      breakType: Iy.Eol,
      breakAt: k.none()
    };
  }

  function ib(n, r, o, e) {
    return r(o, e).breakAt.map(function (e) {
      var t = r(o, e).positions;
      return n === Ms.Backwards ? t.concat(e) : [e].concat(t);
    }).getOr([]);
  }

  function ab(e, i) {
    return b(e, function (e, o) {
      return e.fold(function () {
        return k.some(o);
      }, function (r) {
        return Ya(E(r.getClientRects()), E(o.getClientRects()), function (e, t) {
          var n = Math.abs(i - e.left);
          return Math.abs(i - t.left) <= n ? o : r;
        }).or(e);
      });
    }, k.none());
  }

  function ub(t, e) {
    return E(e.getClientRects()).bind(function (e) {
      return ab(t, e.left);
    });
  }

  function sb(e, t, n, r) {
    var o = e === Ms.Forwards,
        i = o ? Ph : Lh;

    if (!r.collapsed) {
      var a = bx(r);
      if (yx(a)) return Zh(e, t, a, e === Ms.Backwards, !0);
    }

    var u = function (e) {
      return Ma(e.startContainer);
    }(r),
        s = Ss(e, t.getBody(), r);

    if (i(s)) return em(t, s.getNode(!o));
    var c = Ky.normalizePosition(o, n(s));
    if (!c) return u ? r : null;
    if (i(c)) return Zh(e, t, c.getNode(!o), o, !0);
    var l = n(c);
    return l && i(l) && As(c, l) ? Zh(e, t, l.getNode(!o), o, !0) : u ? nm(t, c.toRange(), !0) : null;
  }

  function cb(e, t, n, r) {
    var o, i, a, u, s, c, l, f, d;
    if (d = bx(r), o = Ss(e, t.getBody(), r), i = n(t.getBody(), Ih(1), o), a = y(i, Fh(1)), s = kn.last(o.getClientRects()), (Ph(o) || Oh(o)) && (d = o.getNode()), (Lh(o) || Hh(o)) && (d = o.getNode(!0)), !s) return null;
    if (c = s.left, (u = $h(a, c)) && yx(u.node)) return l = Math.abs(c - u.left), f = Math.abs(c - u.right), Zh(e, t, u.node, l < f, !0);

    if (d) {
      var h = function (e, t, n, r) {
        function o(e) {
          return kn.last(e.getClientRects());
        }

        var i,
            a,
            u,
            s,
            c,
            l,
            f = rc(t),
            d = [],
            h = 0;
        l = o(s = 1 === e ? (i = f.next, a = qa, u = ja, Ds.after(r)) : (i = f.prev, a = ja, u = qa, Ds.before(r)));

        do {
          if (s.isVisible() && !u(c = o(s), l)) {
            if (0 < d.length && a(c, kn.last(d)) && h++, (c = Ia(c)).position = s, c.line = h, n(c)) return d;
            d.push(c);
          }
        } while (s = i(s));

        return d;
      }(e, t.getBody(), Ih(1), d);

      if (u = $h(y(h, Fh(1)), c)) return nm(t, u.position.toRange(), !0);
      if (u = kn.last(y(h, Fh(0)))) return nm(t, u.position.toRange(), !0);
    }
  }

  function lb(e, t, n) {
    var r,
        o,
        i = rc(e.getBody()),
        a = d(Ts, i.next),
        u = d(Ts, i.prev);

    if (n.collapsed && e.settings.forced_root_block) {
      if (!(r = e.dom.getParent(n.startContainer, "PRE"))) return;
      (1 === t ? a(Ds.fromRangeStart(n)) : u(Ds.fromRangeStart(n))) || (o = function (e) {
        var t = e.dom.create(mf(e));
        return (!Nn.ie || 11 <= Nn.ie) && (t.innerHTML = '<br data-mce-bogus="1">'), t;
      }(e), 1 === t ? e.$(r).after(o) : e.$(r).before(o), e.selection.select(o, !0), e.selection.collapse());
    }
  }

  function fb(t, n) {
    return function () {
      var e = function (e, t) {
        var n,
            r = rc(e.getBody()),
            o = d(Ts, r.next),
            i = d(Ts, r.prev),
            a = t ? Ms.Forwards : Ms.Backwards,
            u = t ? o : i,
            s = e.selection.getRng();
        return (n = sb(a, e, u, s)) ? n : (n = lb(e, a, s)) || null;
      }(t, n);

      return !!e && (t.selection.setRng(e), !0);
    };
  }

  function db(t, n) {
    return function () {
      var e = function (e, t) {
        var n,
            r = t ? 1 : -1,
            o = t ? Xm : Km,
            i = e.selection.getRng();
        return (n = cb(r, e, o, i)) ? n : (n = lb(e, r, i)) || null;
      }(t, n);

      return !!e && (t.selection.setRng(e), !0);
    };
  }

  function hb(n, r) {
    return function () {
      var e = r ? Ds.fromRangeEnd(n.selection.getRng()) : Ds.fromRangeStart(n.selection.getRng()),
          t = r ? gx(n.getBody(), e) : mx(n.getBody(), e);
      return (r ? N(t.positions) : E(t.positions)).filter(function (t) {
        return function (e) {
          return t ? Lh(e) : Ph(e);
        };
      }(r)).fold($(!1), function (e) {
        return n.selection.setRng(e.toRange()), !0;
      });
    };
  }

  function mb(e, t, n, r, o) {
    var i = ma(yt.fromDom(n), "td,th,caption").map(function (e) {
      return e.dom();
    });
    return function (e, o, i) {
      return b(e, function (e, r) {
        return e.fold(function () {
          return k.some(r);
        }, function (e) {
          var t = Math.sqrt(Math.abs(e.x - o) + Math.abs(e.y - i)),
              n = Math.sqrt(Math.abs(r.x - o) + Math.abs(r.y - i));
          return k.some(n < t ? r : e);
        });
      }, k.none());
    }(y(function (n, e) {
      return v(e, function (e) {
        var t = function (e, t) {
          return {
            left: e.left - t,
            top: e.top - t,
            right: e.right + 2 * t,
            bottom: e.bottom + 2 * t,
            width: e.width + t,
            height: e.height + t
          };
        }(Ia(e.getBoundingClientRect()), -1);

        return [{
          x: t.left,
          y: n(t),
          cell: e
        }, {
          x: t.right,
          y: n(t),
          cell: e
        }];
      });
    }(e, i), function (e) {
      return t(e, o);
    }), r, o).map(function (e) {
      return e.cell;
    });
  }

  function gb(t, n) {
    return E(n.getClientRects()).bind(function (e) {
      return Cx(t, e.left, e.top);
    }).bind(function (e) {
      return ub(function (t) {
        return Pc.lastPositionIn(t).map(function (e) {
          return mx(t, e).positions.concat(e);
        }).getOr([]);
      }(e), n);
    });
  }

  function pb(t, n) {
    return N(n.getClientRects()).bind(function (e) {
      return wx(t, e.left, e.top);
    }).bind(function (e) {
      return ub(function (t) {
        return Pc.firstPositionIn(t).map(function (e) {
          return [e].concat(gx(t, e).positions);
        }).getOr([]);
      }(e), n);
    });
  }

  function vb(e, t) {
    e.selection.setRng(t), qv(e, t);
  }

  function yb(e, t, n) {
    var r = e(t, n);
    return function (e) {
      return e.breakType === Iy.Wrap && 0 === e.positions.length;
    }(r) || !Ge.isBr(n.getNode()) && function (e) {
      return e.breakType === Iy.Br && 1 === e.positions.length;
    }(r) ? !function (t, n, e) {
      return e.breakAt.map(function (e) {
        return t(n, e).breakAt.isSome();
      }).getOr(!1);
    }(e, t, r) : r.breakAt.isNone();
  }

  function bb(e, t, n, r) {
    var o = e.selection.getRng(),
        i = t ? 1 : -1;

    if (hs() && function (e, t, n) {
      var r = Ds.fromRangeStart(t);
      return Pc.positionIn(!e, n).map(function (e) {
        return e.isEqual(r);
      }).getOr(!1);
    }(t, o, n)) {
      var a = Zh(i, e, n, !t, !0);
      return vb(e, a), !0;
    }

    return !1;
  }

  function Cb(e, t) {
    var n = t.getNode(e);
    return Ge.isElement(n) && "TABLE" === n.nodeName ? k.some(n) : k.none();
  }

  function wb(n, r, o) {
    var e = Cb(!!r, o),
        i = !1 === r;
    e.fold(function () {
      return vb(n, o.toRange());
    }, function (t) {
      return Pc.positionIn(i, n.getBody()).filter(function (e) {
        return e.isEqual(o);
      }).fold(function () {
        return vb(n, o.toRange());
      }, function (e) {
        return function (n, r, o, e) {
          var i = mf(r);
          i ? r.undoManager.transact(function () {
            var e = yt.fromTag(i);
            me(e, gf(r)), Di(e, yt.fromTag("br")), n ? wi(yt.fromDom(o), e) : Ci(yt.fromDom(o), e);
            var t = r.dom.createRng();
            t.setStart(e.dom(), 0), t.setEnd(e.dom(), 0), vb(r, t);
          }) : vb(r, e.toRange());
        }(r, n, t, o);
      });
    });
  }

  function xb(e, t, n, r) {
    var o = e.selection.getRng(),
        i = Ds.fromRangeStart(o),
        a = e.getBody();

    if (!t && xx(r, i)) {
      var u = function (t, n, e) {
        return gb(n, e).orThunk(function () {
          return E(e.getClientRects()).bind(function (e) {
            return ab(px(t, Ds.before(n)), e.left);
          });
        }).getOr(Ds.before(n));
      }(a, n, i);

      return wb(e, t, u), !0;
    }

    if (t && zx(r, i)) {
      u = function (t, n, e) {
        return pb(n, e).orThunk(function () {
          return E(e.getClientRects()).bind(function (e) {
            return ab(vx(t, Ds.after(n)), e.left);
          });
        }).getOr(Ds.after(n));
      }(a, n, i);

      return wb(e, t, u), !0;
    }

    return !1;
  }

  function zb(t, n) {
    return function () {
      return k.from(t.dom.getParent(t.selection.getNode(), "td,th")).bind(function (e) {
        return k.from(t.dom.getParent(e, "table")).map(function (e) {
          return bb(t, n, e);
        });
      }).getOr(!1);
    };
  }

  function Eb(n, r) {
    return function () {
      return k.from(n.dom.getParent(n.selection.getNode(), "td,th")).bind(function (t) {
        return k.from(n.dom.getParent(t, "table")).map(function (e) {
          return xb(n, r, e, t);
        });
      }).getOr(!1);
    };
  }

  function Nb(e) {
    return h(["figcaption"], ie(e));
  }

  function Sb(e) {
    var t = j.document.createRange();
    return t.setStartBefore(e.dom()), t.setEndBefore(e.dom()), t;
  }

  function kb(e, t, n) {
    n ? Di(e, t) : xi(e, t);
  }

  function Tb(e, t, n, r) {
    return "" === t ? function (e, t) {
      var n = yt.fromTag("br");
      return kb(e, n, t), Sb(n);
    }(e, r) : function (e, t, n, r) {
      var o = yt.fromTag(n),
          i = yt.fromTag("br");
      return me(o, r), Di(o, i), kb(e, o, t), Sb(i);
    }(e, r, t, n);
  }

  function Ab(e, t, n) {
    return t ? function (e, t) {
      return gx(e, t).breakAt.isNone();
    }(e.dom(), n) : function (e, t) {
      return mx(e, t).breakAt.isNone();
    }(e.dom(), n);
  }

  function Mb(t, n) {
    var r = yt.fromDom(t.getBody()),
        o = Ds.fromRangeStart(t.selection.getRng()),
        i = mf(t),
        a = gf(t);
    return function (e, t) {
      var n = d(ze, t);
      return ba(yt.fromDom(e.container()), Vn, n).filter(Nb);
    }(o, r).exists(function () {
      if (Ab(r, n, o)) {
        var e = Tb(r, i, a, n);
        return t.selection.setRng(e), !0;
      }

      return !1;
    });
  }

  function Rb(e, t) {
    return function () {
      return !!e.selection.isCollapsed() && Mb(e, t);
    };
  }

  function Db(e, t) {
    return v(function (e) {
      return X(e, function (e) {
        return bd({
          shiftKey: !1,
          altKey: !1,
          ctrlKey: !1,
          metaKey: !1,
          keyCode: 0,
          action: i
        }, e);
      });
    }(e), function (e) {
      return function (e, t) {
        return t.keyCode === e.keyCode && t.shiftKey === e.shiftKey && t.altKey === e.altKey && t.ctrlKey === e.ctrlKey && t.metaKey === e.metaKey;
      }(e, t) ? [e] : [];
    });
  }

  function _b(e, t) {
    return {
      from: $(e),
      to: $(t)
    };
  }

  function Bb(e, t) {
    var n = yt.fromDom(e),
        r = yt.fromDom(t.container());
    return kx(n, r).map(function (e) {
      return function (e, t) {
        return {
          block: $(e),
          position: $(t)
        };
      }(e, t);
    });
  }

  function Ob(t, n, e) {
    var r = Bb(t, Ds.fromRangeStart(e)),
        o = r.bind(function (e) {
      return Pc.fromPosition(n, t, e.position()).bind(function (e) {
        return Bb(t, e).map(function (e) {
          return function (t, n, r) {
            return Ge.isBr(r.position().getNode()) && !1 === kg(r.block()) ? Pc.positionIn(!1, r.block().dom()).bind(function (e) {
              return e.isEqual(r.position()) ? Pc.fromPosition(n, t, e).bind(function (e) {
                return Bb(t, e);
              }) : k.some(r);
            }).getOr(r) : r;
          }(t, n, e);
        });
      });
    });
    return Ya(r, o, _b).filter(function (e) {
      return function (e) {
        return !1 === ze(e.from().block(), e.to().block());
      }(e) && function (e) {
        return Se(e.from().block()).bind(function (t) {
          return Se(e.to().block()).filter(function (e) {
            return ze(t, e);
          });
        }).isSome();
      }(e) && function (e) {
        return !1 === Ge.isContentEditableFalse(e.from().block().dom()) && !1 === Ge.isContentEditableFalse(e.to().block().dom());
      }(e);
    });
  }

  function Hb(e) {
    var t = function (e) {
      var t = Re(e);
      return p(t, Vn).fold(function () {
        return t;
      }, function (e) {
        return t.slice(0, e);
      });
    }(e);

    return z(t, _i), t;
  }

  function Pb(e, t) {
    var n = fh(t, e);
    return g(n.reverse(), kg).each(_i);
  }

  function Lb(e, t, n, r) {
    if (kg(n)) return bg(n), Pc.firstPositionIn(n.dom());
    (function (e) {
      return 0 === y(Ae(e), function (e) {
        return !kg(e);
      }).length;
    })(r) && kg(t) && Ci(r, yt.fromTag("br"));
    var o = Pc.prevPosition(n.dom(), Ds.before(r.dom()));
    return z(Hb(t), function (e) {
      Ci(r, e);
    }), Pb(e, t), o;
  }

  function Vb(e, t, n) {
    if (kg(n)) return _i(n), kg(t) && bg(t), Pc.firstPositionIn(t.dom());
    var r = Pc.lastPositionIn(n.dom());
    return z(Hb(t), function (e) {
      Di(n, e);
    }), Pb(e, t), r;
  }

  function Ib(e, t) {
    return Bt(t, e) ? function (e, t) {
      var n = fh(t, e);
      return k.from(n[n.length - 1]);
    }(t, e) : k.none();
  }

  function Fb(e, t) {
    Pc.positionIn(e, t.dom()).map(function (e) {
      return e.getNode();
    }).map(yt.fromDom).filter(_n).each(_i);
  }

  function Ub(e, t, n) {
    return Fb(!0, t), Fb(!1, n), Ib(t, n).fold(d(Vb, e, t, n), d(Lb, e, t, n));
  }

  function jb(e, t) {
    var n = yt.fromDom(t),
        r = d(ze, e);
    return ya(n, $n, r).isSome();
  }

  function qb(e, t) {
    var n = Pc.prevPosition(e.dom(), Ds.fromRangeStart(t)).isNone(),
        r = Pc.nextPosition(e.dom(), Ds.fromRangeEnd(t)).isNone();
    return !function (e, t) {
      return jb(e, t.startContainer) || jb(e, t.endContainer);
    }(e, t) && n && r;
  }

  function $b(e) {
    var t = yt.fromDom(e.getBody()),
        n = e.selection.getRng();
    return qb(t, n) ? function (e) {
      return e.setContent(""), e.selection.setCursorLocation(), !0;
    }(e) : function (n, r) {
      var o = r.getRng();
      return Ya(kx(n, yt.fromDom(o.startContainer)), kx(n, yt.fromDom(o.endContainer)), function (e, t) {
        return !1 === ze(e, t) && (o.deleteContents(), Rx(n, !0, e, t).each(function (e) {
          r.setRng(e.toRange());
        }), !0);
      }).getOr(!1);
    }(t, e.selection);
  }

  function Wb(e) {
    return ks(e).exists(_n);
  }

  function Kb(e, t, n) {
    var r = y(fh(yt.fromDom(n.container()), t), Vn),
        o = E(r).getOr(t);
    return Pc.fromPosition(e, o.dom(), n).filter(Wb);
  }

  function Xb(e, t) {
    return ks(t).exists(_n) || Kb(!0, e, t).isSome();
  }

  function Yb(e, t) {
    return function (e) {
      return k.from(e.getNode(!0)).map(yt.fromDom);
    }(t).exists(_n) || Kb(!1, e, t).isSome();
  }

  function Gb(e, t, n, r) {
    var o = r.getNode(!1 === t);
    return kx(yt.fromDom(e), yt.fromDom(n.getNode())).map(function (e) {
      return kg(e) ? Hx.remove(e.dom()) : Hx.moveToElement(o);
    }).orThunk(function () {
      return k.some(Hx.moveToElement(o));
    });
  }

  function Jb(t, n, r) {
    return Pc.fromPosition(n, t, r).bind(function (e) {
      return function (e) {
        return $n(yt.fromDom(e)) || Un(yt.fromDom(e));
      }(e.getNode()) ? k.none() : function (t, e, n, r) {
        function o(e) {
          return Dn(yt.fromDom(e)) && !Cs(n, r, t);
        }

        return Ns(!e, n).fold(function () {
          return Ns(e, r).fold($(!1), o);
        }, o);
      }(t, n, r, e) ? k.none() : n && Ge.isContentEditableFalse(e.getNode()) ? Gb(t, n, r, e) : !1 === n && Ge.isContentEditableFalse(e.getNode(!0)) ? Gb(t, n, r, e) : n && Lh(r) ? k.some(Hx.moveToPosition(e)) : !1 === n && Ph(r) ? k.some(Hx.moveToPosition(e)) : k.none();
    });
  }

  function Qb(t, e, n) {
    return function (e, t) {
      var n = t.getNode(!1 === e),
          r = e ? "after" : "before";
      return Ge.isElement(n) && n.getAttribute("data-mce-caret") === r;
    }(e, n) ? function (e, t) {
      return e && Ge.isContentEditableFalse(t.nextSibling) ? k.some(Hx.moveToElement(t.nextSibling)) : !1 === e && Ge.isContentEditableFalse(t.previousSibling) ? k.some(Hx.moveToElement(t.previousSibling)) : k.none();
    }(e, n.getNode(!1 === e)).fold(function () {
      return Jb(t, e, n);
    }, k.some) : Jb(t, e, n).bind(function (e) {
      return function (t, n, e) {
        return e.fold(function (e) {
          return k.some(Hx.remove(e));
        }, function (e) {
          return k.some(Hx.moveToElement(e));
        }, function (e) {
          return Cs(n, e, t) ? k.none() : k.some(Hx.moveToPosition(e));
        });
      }(t, n, e);
    });
  }

  function Zb(e, t) {
    return k.from(Px(e.getBody(), t));
  }

  function eC(t, n) {
    var e = t.selection.getNode();
    return Zb(t, e).filter(Ge.isContentEditableFalse).fold(function () {
      return function (e, t, n) {
        var r = Es(t ? 1 : -1, e, n),
            o = Ds.fromRangeStart(r),
            i = yt.fromDom(e);
        return !1 === t && Lh(o) ? k.some(Hx.remove(o.getNode(!0))) : t && Ph(o) ? k.some(Hx.remove(o.getNode())) : !1 === t && Ph(o) && Yb(i, o) ? Bx(i, o).map(function (e) {
          return Hx.remove(e.getNode());
        }) : t && Lh(o) && Xb(i, o) ? Ox(i, o).map(function (e) {
          return Hx.remove(e.getNode());
        }) : Qb(e, t, o);
      }(t.getBody(), n, t.selection.getRng()).map(function (e) {
        return e.fold(function (t, n) {
          return function (e) {
            return t._selectionOverrides.hideFakeCaret(), Tg(t, n, yt.fromDom(e)), !0;
          };
        }(t, n), function (n, r) {
          return function (e) {
            var t = r ? Ds.before(e) : Ds.after(e);
            return n.selection.setRng(t.toRange()), !0;
          };
        }(t, n), function (t) {
          return function (e) {
            return t.selection.setRng(e.toRange()), !0;
          };
        }(t));
      }).getOr(!1);
    }, function () {
      return !0;
    });
  }

  function tC(e, t) {
    var n = e.selection.getNode();
    return !!Ge.isContentEditableFalse(n) && Zb(e, n.parentNode).filter(Ge.isContentEditableFalse).fold(function () {
      return function (e) {
        z(ma(e, ".mce-offscreen-selection"), _i);
      }(yt.fromDom(e.getBody())), Tg(e, t, yt.fromDom(e.selection.getNode())), Tx(e), !0;
    }, function () {
      return !0;
    });
  }

  function nC(e, t, n, r, o, i) {
    var a = Zh(r, e, i.getNode(!o), o, !0);

    if (t.collapsed) {
      var u = t.cloneRange();
      o ? u.setEnd(a.startContainer, a.startOffset) : u.setStart(a.endContainer, a.endOffset), u.deleteContents();
    } else t.deleteContents();

    return e.selection.setRng(a), function (e, t) {
      Ge.isText(t) && 0 === t.data.length && e.remove(t);
    }(e.dom, n), !0;
  }

  function rC(t, n) {
    return function (e) {
      return $y(n, e).map(function (e) {
        return nb.setCaretPosition(t, e), !0;
      }).getOr(!1);
    };
  }

  function oC(e, t, n, r) {
    var o = e.getBody(),
        i = d(Ky.isInlineTarget, e);
    e.undoManager.ignore(function () {
      e.selection.setRng(function (e, t) {
        var n = j.document.createRange();
        return n.setStart(e.container(), e.offset()), n.setEnd(t.container(), t.offset()), n;
      }(n, r)), e.execCommand("Delete"), Jy(i, o, Ds.fromRangeStart(e.selection.getRng())).map(eb).map(rC(e, t));
    }), e.nodeChanged();
  }

  function iC(n, r, o, i) {
    var a = function (e, t) {
      var n = bs(t, e);
      return n || e;
    }(n.getBody(), i.container()),
        u = d(Ky.isInlineTarget, n),
        s = Jy(u, a, i);

    return s.bind(function (e) {
      return o ? e.fold($(k.some(eb(e))), k.none, $(k.some(Zy(e))), k.none) : e.fold(k.none, $(k.some(Zy(e))), k.none, $(k.some(eb(e))));
    }).map(rC(n, r)).getOrThunk(function () {
      var t = Pc.navigate(o, a, i),
          e = t.bind(function (e) {
        return Jy(u, a, e);
      });
      return s.isSome() && e.isSome() ? Ky.findRootInline(u, a, i).map(function (e) {
        return !!function (o) {
          return Ya(Pc.firstPositionIn(o), Pc.lastPositionIn(o), function (e, t) {
            var n = Ky.normalizePosition(!0, e),
                r = Ky.normalizePosition(!1, t);
            return Pc.nextPosition(o, n).map(function (e) {
              return e.isEqual(r);
            }).getOr(!0);
          }).getOr(!0);
        }(e) && (Tg(n, o, yt.fromDom(e)), !0);
      }).getOr(!1) : e.bind(function (e) {
        return t.map(function (e) {
          return o ? oC(n, r, i, e) : oC(n, r, e, i), !0;
        });
      }).getOr(!1);
    });
  }

  function aC(e) {
    return 1 === Re(e).length;
  }

  function uC(e, t, n, r) {
    var o = d(qm, t),
        i = X(y(r, o), function (e) {
      return e.dom();
    });
    if (0 === i.length) Tg(t, e, n);else {
      var a = function (e, t) {
        var n = Pm(!1),
            r = Um(t, n.dom());
        return Ci(yt.fromDom(e), n), _i(yt.fromDom(e)), Ds(r, 0);
      }(n.dom(), i);

      t.selection.setRng(a.toRange());
    }
  }

  function sC(n, r) {
    var e = yt.fromDom(n.getBody()),
        t = yt.fromDom(n.selection.getStart()),
        o = y(function (e, t) {
      var n = fh(t, e);
      return p(n, Vn).fold($(n), function (e) {
        return n.slice(0, e);
      });
    }(e, t), aC);
    return N(o).map(function (e) {
      var t = Ds.fromRangeStart(n.selection.getRng());
      return !(!Ax(r, t, e.dom()) || function (e) {
        return rs(e.dom()) && Om(e.dom());
      }(e)) && (uC(r, n, e, o), !0);
    }).getOr(!1);
  }

  function cC(e, t) {
    return {
      start: $(e),
      end: $(t)
    };
  }

  function lC(e, t) {
    return xa(yt.fromDom(e), "td,th", t);
  }

  function fC(e, t) {
    return Ca(e, "table", t);
  }

  function dC(e) {
    return !1 === ze(e.start(), e.end());
  }

  function hC(e, n) {
    return fC(e.start(), n).bind(function (t) {
      return fC(e.end(), n).bind(function (e) {
        return function (e, t) {
          return e ? k.some(t) : k.none();
        }(ze(t, e), t);
      });
    });
  }

  function mC(e) {
    return ma(e, "td,th");
  }

  function gC(n, e) {
    var t = lC(e.startContainer, n),
        r = lC(e.endContainer, n);
    return e.collapsed ? k.none() : Ya(t, r, cC).fold(function () {
      return t.fold(function () {
        return r.bind(function (t) {
          return fC(t, n).bind(function (e) {
            return E(mC(e)).map(function (e) {
              return cC(e, t);
            });
          });
        });
      }, function (t) {
        return fC(t, n).bind(function (e) {
          return N(mC(e)).map(function (e) {
            return cC(t, e);
          });
        });
      });
    }, function (e) {
      return qx(n, e) ? k.none() : function (t, e) {
        return fC(t.start(), e).bind(function (e) {
          return N(mC(e)).map(function (e) {
            return cC(t.start(), e);
          });
        });
      }(e, n);
    });
  }

  function pC(t, e) {
    return hC(t, e).map(function (e) {
      return function (e, t, n) {
        return {
          rng: $(e),
          table: $(t),
          cells: $(n)
        };
      }(t, e, mC(e));
    });
  }

  function vC(e, t) {
    var n = function (t) {
      return function (e) {
        return ze(t, e);
      };
    }(e);

    return function (e, t) {
      var n = lC(e.startContainer, t),
          r = lC(e.endContainer, t);
      return Ya(n, r, cC).filter(dC).filter(function (e) {
        return qx(t, e);
      }).orThunk(function () {
        return gC(t, e);
      });
    }(t, n).bind(function (e) {
      return pC(e, n);
    });
  }

  function yC(e, t) {
    return p(e, function (e) {
      return ze(e, t);
    });
  }

  function bC(n) {
    return function (n) {
      return Ya(yC(n.cells(), n.rng().start()), yC(n.cells(), n.rng().end()), function (e, t) {
        return n.cells().slice(e, t + 1);
      });
    }(n).map(function (e) {
      var t = n.cells();
      return e.length === t.length ? jx.removeTable(n.table()) : jx.emptyCells(e);
    });
  }

  function CC(e, t) {
    return z(t, bg), e.selection.setCursorLocation(t[0].dom(), 0), !0;
  }

  function wC(e, t) {
    return Tg(e, !1, t), !0;
  }

  function xC(t, e, n) {
    return function (e, t) {
      return vC(e, t).bind(bC);
    }(e, n).map(function (e) {
      return e.fold(d(wC, t), d(CC, t));
    });
  }

  function zC(t, e, n, r) {
    return $x(e, r).fold(function () {
      return xC(t, e, n);
    }, function (e) {
      return function (e, t) {
        return Wx(e, t);
      }(t, e);
    }).getOr(!1);
  }

  function EC(e, t) {
    return g(fh(t, e), $n);
  }

  function NC(t, n, r, o, i) {
    return Pc.navigate(r, t.getBody(), i).bind(function (e) {
      return function (e, n, r, o) {
        return Pc.firstPositionIn(e.dom()).bind(function (t) {
          return Pc.lastPositionIn(e.dom()).map(function (e) {
            return n ? r.isEqual(t) && o.isEqual(e) : r.isEqual(e) && o.isEqual(t);
          });
        }).getOr(!0);
      }(o, r, i, e) ? function (e, t) {
        return Wx(e, t);
      }(t, o) : function (e, t, n) {
        return $x(e, yt.fromDom(n.getNode())).map(function (e) {
          return !1 === ze(e, t);
        });
      }(n, o, e);
    }).or(k.some(!0));
  }

  function SC(t, n, r, e) {
    var o = Ds.fromRangeStart(t.selection.getRng());
    return EC(r, e).bind(function (e) {
      return kg(e) ? Wx(t, e) : function (e, t, n, r, o) {
        return Pc.navigate(n, e.getBody(), o).bind(function (e) {
          return EC(t, yt.fromDom(e.getNode())).map(function (e) {
            return !1 === ze(e, r);
          });
        });
      }(t, r, n, e, o);
    }).getOr(!1);
  }

  function kC(e, t) {
    return e ? Oh(t) : Hh(t);
  }

  function TC(t, n, e) {
    var r = yt.fromDom(t.getBody());
    return $x(r, e).fold(function () {
      return SC(t, n, r, e) || function (e, t) {
        var n = Ds.fromRangeStart(e.selection.getRng());
        return kC(t, n) || Pc.fromPosition(t, e.getBody(), n).map(function (e) {
          return kC(t, e);
        }).getOr(!1);
      }(t, n);
    }, function (e) {
      return function (e, t, n, r) {
        var o = Ds.fromRangeStart(e.selection.getRng());
        return kg(r) ? Wx(e, r) : NC(e, n, t, r, o);
      }(t, n, r, e).getOr(!1);
    });
  }

  function AC(e) {
    var t = parseInt(e, 10);
    return isNaN(t) ? 0 : t;
  }

  function MC(e, t) {
    return (e || function (e) {
      return "table" === ie(e);
    }(t) ? "margin" : "padding") + ("rtl" === ve(t, "direction") ? "-right" : "-left");
  }

  function RC(e) {
    var t = Yx(e);
    return !0 !== e.readonly && (1 < t.length || function (r, e) {
      return w(e, function (e) {
        var t = MC(Hf(r), e),
            n = ye(e, t).map(AC).getOr(0);
        return "false" !== r.dom.getContentEditable(e.dom()) && 0 < n;
      });
    }(e, t));
  }

  function DC(e) {
    return Fn(e) || Un(e);
  }

  function _C(e, t) {
    var n = e.dom,
        r = e.selection,
        o = e.formatter,
        i = Pf(e),
        a = /[a-z%]+$/i.exec(i)[0],
        u = parseInt(i, 10),
        s = Hf(e),
        c = mf(e);
    e.queryCommandState("InsertUnorderedList") || e.queryCommandState("InsertOrderedList") || "" !== c || n.getParent(r.getNode(), n.isBlock) || o.apply("div"), z(Yx(e), function (e) {
      !function (e, t, n, r, o, i) {
        var a = MC(n, yt.fromDom(i));

        if ("outdent" === t) {
          var u = Math.max(0, AC(i.style[a]) - r);
          e.setStyle(i, a, u ? u + o : "");
        } else {
          u = AC(i.style[a]) + r + o;
          e.setStyle(i, a, u);
        }
      }(n, t, s, u, a, e.dom());
    });
  }

  function BC(e, t, n) {
    return Pc.navigateIgnore(e, t, n, wh);
  }

  function OC(e, t) {
    return g(fh(yt.fromDom(t.container()), e), Vn);
  }

  function HC(e, n, r) {
    return BC(e, n.dom(), r).forall(function (t) {
      return OC(n, r).fold(function () {
        return !1 === Cs(t, r, n.dom());
      }, function (e) {
        return !1 === Cs(t, r, n.dom()) && Bt(e, yt.fromDom(t.container()));
      });
    });
  }

  function PC(t, n, r) {
    return OC(n, r).fold(function () {
      return BC(t, n.dom(), r).forall(function (e) {
        return !1 === Cs(e, r, n.dom());
      });
    }, function (e) {
      return BC(t, e.dom(), r).isNone();
    });
  }

  function LC(e) {
    return k.from(e.dom.getParent(e.selection.getStart(!0), e.dom.isBlock));
  }

  function VC(e, t) {
    return e && e.parentNode && e.parentNode.nodeName === t;
  }

  function IC(e) {
    return e && /^(OL|UL|LI)$/.test(e.nodeName);
  }

  function FC(e) {
    var t = e.parentNode;
    return /^(LI|DT|DD)$/.test(t.nodeName) ? t : e;
  }

  function UC(e, t, n) {
    for (var r = e[n ? "firstChild" : "lastChild"]; r && !Ge.isElement(r);) {
      r = r[n ? "nextSibling" : "previousSibling"];
    }

    return r === t;
  }

  function jC(e) {
    e.innerHTML = '<br data-mce-bogus="1">';
  }

  function qC(e, t) {
    return e.nodeName === t || e.previousSibling && e.previousSibling.nodeName === t;
  }

  function $C(e, t) {
    return t && e.isBlock(t) && !/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName) && !/^(fixed|absolute)/i.test(t.style.position) && "true" !== e.getContentEditable(t);
  }

  function WC(e, t, n) {
    return !1 === Ge.isText(t) ? n : e ? 1 === n && t.data.charAt(n - 1) === cu ? 0 : n : n === t.data.length - 1 && t.data.charAt(n) === cu ? t.data.length : n;
  }

  function KC(e, t) {
    var n,
        r,
        o = e.getRoot();

    for (n = t; n !== o && "false" !== e.getContentEditable(n);) {
      "true" === e.getContentEditable(n) && (r = n), n = n.parentNode;
    }

    return n !== o ? r : o;
  }

  function XC(e, t) {
    var n = mf(e);
    n && n.toLowerCase() === t.tagName.toLowerCase() && e.dom.setAttribs(t, gf(e));
  }

  function YC(e, t, n) {
    var r = e.create("span", {}, "&nbsp;");
    n.parentNode.insertBefore(r, n), t.scrollIntoView(r), e.remove(r);
  }

  function GC(e, t, n, r) {
    var o = e.createRng();
    r ? (o.setStartBefore(n), o.setEndBefore(n)) : (o.setStartAfter(n), o.setEndAfter(n)), t.setRng(o);
  }

  function JC(e, t) {
    var n,
        r,
        o = e.selection,
        i = e.dom,
        a = o.getRng();
    ay(i, a).each(function (e) {
      a.setStart(e.startContainer, e.startOffset), a.setEnd(e.endContainer, e.endOffset);
    });
    var u = a.startOffset,
        s = a.startContainer;

    if (1 === s.nodeType && s.hasChildNodes()) {
      var c = u > s.childNodes.length - 1;
      s = s.childNodes[Math.min(u, s.childNodes.length - 1)] || s, u = c && 3 === s.nodeType ? s.nodeValue.length : 0;
    }

    var l = i.getParent(s, i.isBlock),
        f = l ? i.getParent(l.parentNode, i.isBlock) : null,
        d = f ? f.nodeName.toUpperCase() : "",
        h = !(!t || !t.ctrlKey);
    "LI" !== d || h || (l = f), s && 3 === s.nodeType && u >= s.nodeValue.length && !function (e, t, n) {
      for (var r, o = new yi(t, n), i = e.getNonEmptyElements(); r = o.next();) {
        if (i[r.nodeName.toLowerCase()] || 0 < r.length) return !0;
      }
    }(e.schema, s, l) && (n = i.create("br"), a.insertNode(n), a.setStartAfter(n), a.setEndAfter(n), r = !0), n = i.create("br"), Xu(i, a, n), YC(i, o, n), GC(i, o, n, r), e.undoManager.add();
  }

  function QC(e, t) {
    var n = yt.fromTag("br");
    Ci(yt.fromDom(t), n), e.undoManager.add();
  }

  function ZC(e, t) {
    cz(e.getBody(), t) || wi(yt.fromDom(t), yt.fromTag("br"));
    var n = yt.fromTag("br");
    wi(yt.fromDom(t), n), YC(e.dom, e.selection, n.dom()), GC(e.dom, e.selection, n.dom(), !1), e.undoManager.add();
  }

  function ew(e) {
    return e && "A" === e.nodeName && "href" in e;
  }

  function tw(e) {
    return e.fold($(!1), ew, ew, $(!1));
  }

  function nw(e, t) {
    t.fold(i, d(QC, e), d(ZC, e), i);
  }

  function rw(e, t) {
    return oz(e).filter(function (e) {
      return 0 < t.length && we(yt.fromDom(e), t);
    }).isSome();
  }

  function ow(e, t) {
    return dz(e);
  }

  function iw(n) {
    return function (e, t) {
      return "" === mf(e) === n;
    };
  }

  function aw(n) {
    return function (e, t) {
      return az(e) === n;
    };
  }

  function uw(n, r) {
    return function (e, t) {
      return iz(e) === n.toUpperCase() === r;
    };
  }

  function sw(e) {
    return uw("pre", e);
  }

  function cw(n) {
    return function (e, t) {
      return hf(e) === n;
    };
  }

  function lw(e, t) {
    return fz(e);
  }

  function fw(e, t) {
    return t;
  }

  function dw(e) {
    var t = mf(e),
        n = rz(e.dom, e.selection.getStart());
    return n && e.schema.isValidChild(n.nodeName, t || "P");
  }

  function hw(e, t) {
    return function (n, r) {
      return b(e, function (e, t) {
        return e && t(n, r);
      }, !0) ? k.some(t) : k.none();
    };
  }

  function mw(n, r) {
    var e = r.container(),
        t = r.offset();
    return Ge.isText(e) ? (e.insertData(t, n), k.some(Uu(e, t + n.length))) : ks(r).map(function (e) {
      var t = yt.fromText(n);
      return r.isAtEnd() ? wi(e, t) : Ci(e, t), Uu(t.dom(), n.length);
    });
  }

  function gw(e) {
    return Uu.isTextPosition(e) && !e.isAtStart() && !e.isAtEnd();
  }

  function pw(e, t) {
    var n = y(fh(yt.fromDom(t.container()), e), Vn);
    return E(n).getOr(e);
  }

  function vw(e, t) {
    return gw(t) ? Dh(t) : Dh(t) || Pc.prevPosition(pw(e, t).dom(), t).exists(Dh);
  }

  function yw(e, t) {
    return gw(t) ? Rh(t) : Rh(t) || Pc.nextPosition(pw(e, t).dom(), t).exists(Rh);
  }

  function bw(e) {
    return ks(e).bind(function (e) {
      return ba(e, xt);
    }).exists(function (e) {
      return function (e) {
        return h(["pre", "pre-wrap"], e);
      }(ve(e, "white-space"));
    });
  }

  function Cw(e, t) {
    return function (e, t) {
      return Pc.prevPosition(e.dom(), t).isNone();
    }(e, t) || function (e, t) {
      return Pc.nextPosition(e.dom(), t).isNone();
    }(e, t) || Gx(e, t) || Jx(e, t) || Yb(e, t) || Xb(e, t);
  }

  function ww(e, t) {
    var n = function (e) {
      var t = e.container(),
          n = e.offset();
      return Ge.isText(t) && n < t.data.length ? Uu(t, n + 1) : e;
    }(t);

    return !bw(n) && (Jx(e, n) || Zx(e, n) || Xb(e, n) || yw(e, n));
  }

  function xw(e, t) {
    return function (e, t) {
      return !bw(t) && (Gx(e, t) || Qx(e, t) || Yb(e, t) || vw(e, t));
    }(e, t) || ww(e, t);
  }

  function zw(e, t) {
    return Mh(e.charAt(t));
  }

  function Ew(e) {
    var t = e.container();
    return Ge.isText(t) && Z(t.data, "\xa0");
  }

  function Nw(e) {
    var t = e.data,
        n = function (e) {
      var n = e.split("");
      return X(n, function (e, t) {
        return Mh(e) && 0 < t && t < n.length - 1 && bh(n[t - 1]) && bh(n[t + 1]) ? " " : e;
      }).join("");
    }(t);

    return n !== t && (e.data = n, !0);
  }

  function Sw(n, e) {
    return k.some(e).filter(Ew).bind(function (e) {
      var t = e.container();
      return function (e, t) {
        var n = t.data,
            r = Uu(t, 0);
        return !(!zw(n, 0) || xw(e, r)) && (t.data = " " + n.slice(1), !0);
      }(n, t) || Nw(t) || function (e, t) {
        var n = t.data,
            r = Uu(t, n.length - 1);
        return !(!zw(n, n.length - 1) || xw(e, r)) && (t.data = n.slice(0, -1) + " ", !0);
      }(n, t) ? k.some(e) : k.none();
    });
  }

  function kw(t) {
    var e = yt.fromDom(t.getBody());
    t.selection.isCollapsed() && Sw(e, Uu.fromRangeStart(t.selection.getRng())).each(function (e) {
      t.selection.setRng(e.toRange());
    });
  }

  function Tw(t, n) {
    return function (e) {
      return function (e, t) {
        return !bw(t) && (Cw(e, t) || vw(e, t) || yw(e, t));
      }(t, e) ? vz(n) : yz(n);
    };
  }

  function Aw(e) {
    var t = Ds.fromRangeStart(e.selection.getRng()),
        n = yt.fromDom(e.getBody());

    if (e.selection.isCollapsed()) {
      var r = d(Ky.isInlineTarget, e),
          o = Ds.fromRangeStart(e.selection.getRng());
      return Jy(r, e.getBody(), o).bind(function (t) {
        return function (e) {
          return e.fold(function (e) {
            return Pc.prevPosition(t.dom(), Ds.before(e));
          }, function (e) {
            return Pc.firstPositionIn(e);
          }, function (e) {
            return Pc.lastPositionIn(e);
          }, function (e) {
            return Pc.nextPosition(t.dom(), Ds.after(e));
          });
        };
      }(n)).bind(Tw(n, t)).exists(function (t) {
        return function (e) {
          return t.selection.setRng(e.toRange()), t.nodeChanged(), !0;
        };
      }(e));
    }

    return !1;
  }

  function Mw(e, t) {
    t.hasAttribute("data-mce-caret") && (Pa(t), function (e) {
      e.selection.setRng(e.selection.getRng());
    }(e), e.selection.scrollIntoView(t));
  }

  function Rw(e, t) {
    var n = function (e) {
      return wa(yt.fromDom(e.getBody()), "*[data-mce-caret]").fold($(null), function (e) {
        return e.dom();
      });
    }(e);

    if (n) return "compositionstart" === t.type ? (t.preventDefault(), t.stopPropagation(), void Mw(e, n)) : void (_a(n) && (Mw(e, n), e.undoManager.add()));
  }

  function Dw(t) {
    !function (e) {
      var t = aa(function () {
        e.composing || kw(e);
      }, 0);
      wz.isIE() && (e.on("keypress", function (e) {
        t.throttle();
      }), e.on("remove", function (e) {
        t.cancel();
      }));
    }(t), t.on("input", function (e) {
      !1 === e.isComposing && kw(t);
    });
  }

  function _w(a) {
    function e(e, t) {
      try {
        a.getDoc().execCommand(e, !1, t);
      } catch (n) {}
    }

    function u(e) {
      return e.isDefaultPrevented();
    }

    function t() {
      a.shortcuts.add("meta+a", null, "SelectAll");
    }

    function n() {
      a.on("keydown", function (e) {
        if (!u(e) && e.keyCode === i && l.isCollapsed() && 0 === l.getRng().startOffset) {
          var t = l.getNode().previousSibling;
          if (t && t.nodeName && "table" === t.nodeName.toLowerCase()) return e.preventDefault(), !1;
        }
      });
    }

    function r() {
      a.inline || (a.contentStyles.push("body {min-height: 150px}"), a.on("click", function (e) {
        var t;

        if ("HTML" === e.target.nodeName) {
          if (11 < Nn.ie) return void a.getBody().focus();
          t = a.selection.getRng(), a.getBody().focus(), a.selection.setRng(t), a.selection.normalize(), a.nodeChanged();
        }
      }));
    }

    var o = Mn.each,
        i = Ah.BACKSPACE,
        s = Ah.DELETE,
        c = a.dom,
        l = a.selection,
        f = a.settings,
        d = a.parser,
        h = Nn.gecko,
        m = Nn.ie,
        g = Nn.webkit,
        p = "data:text/mce-internal,",
        v = m ? "Text" : "URL";

    function y(e) {
      var t = c.create("body"),
          n = e.cloneContents();
      return t.appendChild(n), l.serializer.serialize(t, {
        format: "html"
      });
    }

    function b() {
      var e = c.getAttribs(l.getStart().cloneNode(!1));
      return function () {
        var t = l.getStart();
        t !== a.getBody() && (c.setAttrib(t, "style", null), o(e, function (e) {
          t.setAttributeNode(e.cloneNode(!0));
        }));
      };
    }

    function C() {
      return !l.isCollapsed() && c.getParent(l.getStart(), c.isBlock) !== c.getParent(l.getEnd(), c.isBlock);
    }

    return a.on("keydown", function (e) {
      var t, n, r, o, i;

      if (!u(e) && e.keyCode === Ah.BACKSPACE && (n = (t = l.getRng()).startContainer, r = t.startOffset, o = c.getRoot(), i = n, t.collapsed && 0 === r)) {
        for (; i && i.parentNode && i.parentNode.firstChild === i && i.parentNode !== o;) {
          i = i.parentNode;
        }

        "BLOCKQUOTE" === i.tagName && (a.formatter.toggle("blockquote", null, i), (t = c.createRng()).setStart(n, 0), t.setEnd(n, 0), l.setRng(t));
      }
    }), a.on("keydown", function (e) {
      var t,
          n,
          r = e.keyCode;

      if (!u(e) && (r === s || r === i)) {
        if (t = a.selection.isCollapsed(), n = a.getBody(), t && !c.isEmpty(n)) return;
        if (!t && !function (e) {
          var t = y(e),
              n = c.createRng();
          return n.selectNode(a.getBody()), t === y(n);
        }(a.selection.getRng())) return;
        e.preventDefault(), a.setContent(""), n.firstChild && c.isBlock(n.firstChild) ? a.selection.setCursorLocation(n.firstChild, 0) : a.selection.setCursorLocation(n, 0), a.nodeChanged();
      }
    }), Nn.windowsPhone || a.on("keyup focusin mouseup", function (e) {
      Ah.modifierPressed(e) || l.normalize();
    }, !0), g && (a.inline || c.bind(a.getDoc(), "mousedown mouseup", function (e) {
      var t;
      if (e.target === a.getDoc().documentElement) if (t = l.getRng(), a.getBody().focus(), "mousedown" === e.type) {
        if (Da(t.startContainer)) return;
        l.placeCaretAt(e.clientX, e.clientY);
      } else l.setRng(t);
    }), a.on("click", function (e) {
      var t = e.target;
      /^(IMG|HR)$/.test(t.nodeName) && "false" !== c.getContentEditableParent(t) && (e.preventDefault(), a.selection.select(t), a.nodeChanged()), "A" === t.nodeName && c.hasClass(t, "mce-item-anchor") && (e.preventDefault(), l.select(t));
    }), f.forced_root_block && a.on("init", function () {
      e("DefaultParagraphSeparator", mf(a));
    }), a.on("init", function () {
      a.dom.bind(a.getBody(), "submit", function (e) {
        e.preventDefault();
      });
    }), n(), d.addNodeFilter("br", function (e) {
      for (var t = e.length; t--;) {
        "Apple-interchange-newline" === e[t].attr("class") && e[t].remove();
      }
    }), Nn.iOS ? (a.inline || a.on("keydown", function () {
      j.document.activeElement === j.document.body && a.getWin().focus();
    }), r(), a.on("click", function (e) {
      var t = e.target;

      do {
        if ("A" === t.tagName) return void e.preventDefault();
      } while (t = t.parentNode);
    }), a.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")) : t()), 11 <= Nn.ie && (r(), n()), Nn.ie && (t(), e("AutoUrlDetect", !1), a.on("dragstart", function (e) {
      !function (e) {
        var t, n;
        e.dataTransfer && (a.selection.isCollapsed() && "IMG" === e.target.tagName && l.select(e.target), 0 < (t = a.selection.getContent()).length && (n = p + escape(a.id) + "," + escape(t), e.dataTransfer.setData(v, n)));
      }(e);
    }), a.on("drop", function (e) {
      if (!u(e)) {
        var t = function (e) {
          var t;
          return e.dataTransfer && (t = e.dataTransfer.getData(v)) && 0 <= t.indexOf(p) ? (t = t.substr(p.length).split(","), {
            id: unescape(t[0]),
            html: unescape(t[1])
          }) : null;
        }(e);

        if (t && t.id !== a.id) {
          e.preventDefault();
          var n = $v(e.x, e.y, a.getDoc());
          l.setRng(n), function (e, t) {
            a.queryCommandSupported("mceInsertClipboardContent") ? a.execCommand("mceInsertClipboardContent", !1, {
              content: e,
              internal: t
            }) : a.execCommand("mceInsertContent", !1, e);
          }(t.html, !0);
        }
      }
    })), h && (a.on("keydown", function (e) {
      if (!u(e) && e.keyCode === i) {
        if (!a.getBody().getElementsByTagName("hr").length) return;

        if (l.isCollapsed() && 0 === l.getRng().startOffset) {
          var t = l.getNode(),
              n = t.previousSibling;
          if ("HR" === t.nodeName) return c.remove(t), void e.preventDefault();
          n && n.nodeName && "hr" === n.nodeName.toLowerCase() && (c.remove(n), e.preventDefault());
        }
      }
    }), j.Range.prototype.getClientRects || a.on("mousedown", function (e) {
      if (!u(e) && "HTML" === e.target.nodeName) {
        var t = a.getBody();
        t.blur(), pn.setEditorTimeout(a, function () {
          t.focus();
        });
      }
    }), a.on("keypress", function (e) {
      var t;
      if (!u(e) && (8 === e.keyCode || 46 === e.keyCode) && C()) return t = b(), a.getDoc().execCommand("delete", !1, null), t(), e.preventDefault(), !1;
    }), c.bind(a.getDoc(), "cut", function (e) {
      var t;
      !u(e) && C() && (t = b(), pn.setEditorTimeout(a, function () {
        t();
      }));
    }), f.readonly || a.on("BeforeExecCommand mousedown", function () {
      e("StyleWithCSS", !1), e("enableInlineTableEditing", !1), f.object_resizing || e("enableObjectResizing", !1);
    }), a.on("SetContent ExecCommand", function (e) {
      "setcontent" !== e.type && "mceInsertLink" !== e.command || o(c.select("a"), function (e) {
        var t = e.parentNode,
            n = c.getRoot();

        if (t.lastChild === e) {
          for (; t && !c.isBlock(t);) {
            if (t.parentNode.lastChild !== t || t === n) return;
            t = t.parentNode;
          }

          c.add(t, "br", {
            "data-mce-bogus": 1
          });
        }
      });
    }), a.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"), Nn.mac && a.on("keydown", function (e) {
      !Ah.metaKeyPressed(e) || e.shiftKey || 37 !== e.keyCode && 39 !== e.keyCode || (e.preventDefault(), a.selection.getSel().modify("move", 37 === e.keyCode ? "backward" : "forward", "lineboundary"));
    }), n()), {
      refreshContentEditable: function refreshContentEditable() {},
      isHidden: function isHidden() {
        var e;
        return !(!h || a.removed) && (!(e = a.selection.getSel()) || !e.rangeCount || 0 === e.rangeCount);
      }
    };
  }

  function Bw(e) {
    return Ge.isElement(e) && In(yt.fromDom(e));
  }

  function Ow(t) {
    t.on("click", function (e) {
      3 <= e.detail && function (e) {
        var t = e.selection.getRng(),
            n = Uu.fromRangeStart(t),
            r = Uu.fromRangeEnd(t);

        if (Uu.isElementPosition(n)) {
          var o = n.container();
          Bw(o) && Pc.firstPositionIn(o).each(function (e) {
            return t.setStart(e.container(), e.offset());
          });
        }

        if (Uu.isElementPosition(r)) {
          o = n.container();
          Bw(o) && Pc.lastPositionIn(o).each(function (e) {
            return t.setEnd(e.container(), e.offset());
          });
        }

        e.selection.setRng(fp(t));
      }(t);
    });
  }

  function Hw(e) {
    !function (t) {
      t.on("click", function (e) {
        t.dom.getParent(e.target, "details") && e.preventDefault();
      });
    }(e), function (e) {
      e.parser.addNodeFilter("details", function (e) {
        z(e, function (e) {
          e.attr("data-mce-open", e.attr("open")), e.attr("open", "open");
        });
      }), e.serializer.addNodeFilter("details", function (e) {
        z(e, function (e) {
          var t = e.attr("data-mce-open");
          e.attr("open", K(t) ? t : null), e.attr("data-mce-open", null);
        });
      });
    }(e);
  }

  function Pw(e) {
    e.bindPendingEventDelegates(), e.initialized = !0, e.fire("init"), e.focus(!0), e.nodeChanged({
      initial: !0
    }), e.execCallback("init_instance_callback", e), function (t) {
      t.settings.auto_focus && pn.setEditorTimeout(t, function () {
        var e;
        (e = !0 === t.settings.auto_focus ? t : t.editorManager.get(t.settings.auto_focus)).destroyed || e.focus();
      }, 100);
    }(e);
  }

  function Lw(e, t) {
    var n = e.editorManager.translate("Rich Text Area. Press ALT-0 for help."),
        r = function (e, t, n, r) {
      var o = yt.fromTag("iframe");
      return me(o, r), me(o, {
        id: e + "_ifr",
        frameBorder: "0",
        allowTransparency: "true",
        title: t
      }), fa(o, "tox-edit-area__iframe"), o;
    }(e.id, n, t.height, uf(e)).dom();

    r.onload = function () {
      r.onload = null, e.fire("load");
    };

    var o = function (e, t) {
      if (j.document.domain !== j.window.location.hostname && Nn.browser.isIE()) {
        var n = eh("mce");

        e[n] = function () {
          Nz(e);
        };

        var r = 'javascript:(function(){document.open();document.domain="' + j.document.domain + '";var ed = window.parent.tinymce.get("' + e.id + '");document.write(ed.iframeHTML);document.close();ed.' + n + "(true);})()";
        return Sz.setAttrib(t, "src", r), !0;
      }

      return !1;
    }(e, r);

    return e.contentAreaContainer = t.iframeContainer, e.iframeElement = r, e.iframeHTML = function (e) {
      var t, n, r;
      return r = sf(e) + "<html><head>", cf(e) !== e.documentBaseUrl && (r += '<base href="' + e.documentBaseURI.getURI() + '" />'), r += '<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />', t = lf(e), n = ff(e), df(e) && (r += '<meta http-equiv="Content-Security-Policy" content="' + df(e) + '" />'), r += '</head><body id="' + t + '" class="mce-content-body ' + n + '" data-id="' + e.id + '"><br></body></html>';
    }(e), Sz.add(t.iframeContainer, r), o;
  }

  function Vw(e) {
    e.contentCSS = e.contentCSS.concat(function (t) {
      var e = Lf(t),
          n = t.editorManager.baseURL + "/skins/content",
          r = "content" + t.editorManager.suffix + ".css",
          o = !0 === t.inline;
      return X(e, function (e) {
        return function (e) {
          return /^[a-z0-9\-]+$/i.test(e);
        }(e) && !o ? n + "/" + e + "/" + r : t.documentBaseURI.toAbsolute(e);
      });
    }(e));
  }

  function Iw(e) {
    return e.replace(/^\-/, "");
  }

  function Fw(e) {
    return {
      editorContainer: e,
      iframeContainer: e
    };
  }

  function Uw(e) {
    var t = e.getElement();
    return e.inline ? Fw(null) : function (e) {
      var t = Tz.create("div");
      return Tz.insertAfter(t, e), Fw(t);
    }(t);
  }

  function jw(e) {
    return "-" === e.charAt(0);
  }

  function qw(t, e) {
    (function (e) {
      return k.from(zf(e)).filter(function (e) {
        return 0 < e.length;
      }).map(function (e) {
        return {
          url: e,
          name: k.none()
        };
      });
    })(e).orThunk(function () {
      return function (t) {
        return k.from(xf(t)).filter(function (e) {
          return 0 < e.length && !Ud.has(e);
        }).map(function (e) {
          return {
            url: t.editorManager.baseURL + "/icons/" + e + "/icons.js",
            name: k.some(e)
          };
        });
      }(e);
    }).each(function (e) {
      t.add(e.url, i, undefined, function () {
        Fd.iconsLoadError(e.url, e.name.getOrUndefined());
      });
    });
  }

  function $w(e, t) {
    var n = Qi.ScriptLoader;
    !function (e, t, n, r) {
      var o = t.settings,
          i = o.theme;

      if (K(i)) {
        if (!jw(i) && !qd.urls.hasOwnProperty(i)) {
          var a = o.theme_url;
          a ? qd.load(i, t.documentBaseURI.toAbsolute(a)) : qd.load(i, "themes/" + i + "/theme" + n + ".js");
        }

        e.loadQueue(function () {
          qd.waitFor(i, r);
        });
      } else r();
    }(n, e, t, function () {
      !function (e, t) {
        var n = Bf(t),
            r = Of(t);

        if (!1 === ra.hasCode(n) && "en" !== n) {
          var o = "" !== r ? r : t.editorManager.baseURL + "/langs/" + n + ".js";
          e.add(o, i, undefined, function () {
            Fd.languageLoadError(o, n);
          });
        }
      }(n, e), qw(n, e), function (n, r) {
        A(n.plugins) && (n.plugins = n.plugins.join(" ")), Mn.each(n.external_plugins, function (e, t) {
          jd.load(t, e, i, undefined, function () {
            Fd.pluginLoadError(t, e);
          }), n.plugins += " " + t;
        }), Mn.each(n.plugins.split(/[ ,]/), function (e) {
          if ((e = Mn.trim(e)) && !jd.urls[e]) if (jw(e)) {
            e = e.substr(1, e.length);
            var t = jd.dependencies(e);
            Mn.each(t, function (e) {
              var t = {
                prefix: "plugins/",
                resource: e,
                suffix: "/plugin" + r + ".js"
              };
              e = jd.createUrl(t, e), jd.load(e.resource, e, i, undefined, function () {
                Fd.pluginLoadError(e.prefix + e.resource + e.suffix, e.resource);
              });
            });
          } else {
            var n = {
              prefix: "plugins/",
              resource: e,
              suffix: "/plugin" + r + ".js"
            };
            jd.load(e, n, i, undefined, function () {
              Fd.pluginLoadError(n.prefix + n.resource + n.suffix, e);
            });
          }
        });
      }(e.settings, t), n.loadQueue(function () {
        e.removed || Mz(e);
      }, e, function () {
        e.removed || Mz(e);
      });
    });
  }

  function Ww(e, t, n) {
    ha(e, t) && !1 === n ? function (e, t) {
      sa(e) ? e.dom().classList.remove(t) : la(e, t);
      da(e);
    }(e, t) : n && fa(e, t);
  }

  function Kw(e, t, n) {
    try {
      e.getDoc().execCommand(t, !1, n);
    } catch (r) {}
  }

  function Xw(e, t) {
    e.dom().contentEditable = t ? "true" : "false";
  }

  function Yw(e, t) {
    var n = yt.fromDom(e.getBody());
    Ww(n, "mce-content-readonly", t), t ? (e.selection.controlSelection.hideResizeRect(), e._selectionOverrides.hideFakeCaret(), function (e) {
      k.from(e.selection.getNode()).each(function (e) {
        e.removeAttribute("data-mce-selected");
      });
    }(e), e.readonly = !0, Xw(n, !1), function (e) {
      z(ma(e, '*[contenteditable="true"]'), function (e) {
        Tt(e, _z, "true"), Xw(e, !1);
      });
    }(n)) : (e.readonly = !1, Xw(n, !0), function (e) {
      z(ma(e, "*[" + _z + '="true"]'), function (e) {
        pe(e, _z), Xw(e, !0);
      });
    }(n), Kw(e, "StyleWithCSS", !1), Kw(e, "enableInlineTableEditing", !1), Kw(e, "enableObjectResizing", !1), sd(e) && e.focus(), function (e) {
      e.selection.setRng(e.selection.getRng());
    }(e), e.nodeChanged());
  }

  function Gw(e) {
    return !0 === e.readonly;
  }

  function Jw(t) {
    t.parser.addAttributeFilter("contenteditable", function (e) {
      Gw(t) && z(e, function (e) {
        e.attr(_z, e.attr("contenteditable")), e.attr("contenteditable", "false");
      });
    }), t.serializer.addAttributeFilter(_z, function (e) {
      Gw(t) && z(e, function (e) {
        e.attr("contenteditable", e.attr(_z));
      });
    }), t.serializer.addTempAttr(_z);
  }

  function Qw(e, t, n, r) {
    var o = n[t.get()],
        i = n[r];

    try {
      i.activate();
    } catch (yN) {
      return void j.console.error("problem while activating editor mode " + r + ":", yN);
    }

    o.deactivate(), o.editorReadOnly !== i.editorReadOnly && Yw(e, i.editorReadOnly), t.set(r), hd(e, r);
  }

  function Zw(t) {
    var n = Je("design"),
        r = Je({
      design: {
        activate: i,
        deactivate: i,
        editorReadOnly: !1
      },
      readonly: {
        activate: i,
        deactivate: i,
        editorReadOnly: !0
      }
    });
    return function (e) {
      e.serializer ? Jw(e) : e.on("PreInit", function () {
        Jw(e);
      });
    }(t), function (t) {
      t.on("ShowCaret", function (e) {
        Gw(t) && e.preventDefault();
      }), t.on("ObjectSelected", function (e) {
        Gw(t) && e.preventDefault();
      });
    }(t), {
      isReadOnly: function isReadOnly() {
        return Gw(t);
      },
      set: function set(e) {
        return function (e, t, n, r) {
          if (r !== n.get()) {
            if (!kt(t, r)) throw new Error("Editor mode '" + r + "' is invalid");
            e.initialized ? Qw(e, n, t, r) : e.on("init", function () {
              return Qw(e, n, t, r);
            });
          }
        }(t, r.get(), n, e);
      },
      get: function get() {
        return n.get();
      },
      register: function register(e, t) {
        r.set(function (e, t, n) {
          var r;
          if (h(Bz, t)) throw new Error("Cannot override default mode " + t);
          return _G(_G({}, e), ((r = {})[t] = _G(_G({}, n), {
            deactivate: function deactivate() {
              try {
                n.deactivate();
              } catch (yN) {
                j.console.error("problem while deactivating editor mode " + t + ":", yN);
              }
            }
          }), r));
        }(r.get(), e, t));
      }
    };
  }

  function ex(e) {
    return Mn.grep(e.childNodes, function (e) {
      return "LI" === e.nodeName;
    });
  }

  function tx(e) {
    return e && e.firstChild && e.firstChild === e.lastChild && function (e) {
      return "\xa0" === e.data || Ge.isBr(e);
    }(e.firstChild);
  }

  function nx(e) {
    return 0 < e.length && function (e) {
      return !e.firstChild || tx(e);
    }(e[e.length - 1]) ? e.slice(0, -1) : e;
  }

  function rx(e, t) {
    var n = e.getParent(t, e.isBlock);
    return n && "LI" === n.nodeName ? n : null;
  }

  function ox(e, t) {
    var n = Ds.after(e),
        r = rc(t).prev(n);
    return r ? r.toRange() : null;
  }

  function ix(t, e, n) {
    var r = t.parentNode;
    return Mn.each(e, function (e) {
      r.insertBefore(e, t);
    }), function (e, t) {
      var n = Ds.before(e),
          r = rc(t).next(n);
      return r ? r.toRange() : null;
    }(t, n);
  }

  function ax(e, t) {
    var n = e.selection.getRng(),
        r = n.startContainer,
        o = n.startOffset;
    n.collapsed && function (e, t) {
      return Ge.isText(e) && "\xa0" === e.nodeValue[t - 1];
    }(r, o) && Ge.isText(r) && (r.insertData(o - 1, " "), r.deleteData(o, 1), n.setStart(r, o), n.setEnd(r, o), e.selection.setRng(n)), e.selection.setContent(t);
  }

  function ux(e, t, n) {
    var r,
        o,
        i,
        a,
        u,
        s,
        c,
        l,
        f,
        d,
        h,
        m = e.selection,
        g = e.dom;
    if (/^ | $/.test(t) && (t = function (e, t) {
      var n, r;
      n = e.startContainer, r = e.startOffset;

      function o(e) {
        return n[e] && 3 === n[e].nodeType;
      }

      return 3 === n.nodeType && (0 < r ? t = t.replace(/^&nbsp;/, " ") : o("previousSibling") || (t = t.replace(/^ /, "&nbsp;")), r < n.length ? t = t.replace(/&nbsp;(<br>|)$/, " ") : o("nextSibling") || (t = t.replace(/(&nbsp;| )(<br>|)$/, "&nbsp;"))), t;
    }(m.getRng(), t)), r = e.parser, h = n.merge, o = pl({
      validate: e.settings.validate
    }, e.schema), d = '<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>', s = {
      content: t,
      format: "html",
      selection: !0,
      paste: n.paste
    }, (s = e.fire("BeforeSetContent", s)).isDefaultPrevented()) e.fire("SetContent", {
      content: s.content,
      format: "html",
      selection: !0,
      paste: n.paste
    });else {
      -1 === (t = s.content).indexOf("{$caret}") && (t += "{$caret}"), t = t.replace(/\{\$caret\}/, d);
      var p = (l = m.getRng()).startContainer || (l.parentElement ? l.parentElement() : null),
          v = e.getBody();
      p === v && m.isCollapsed() && g.isBlock(v.firstChild) && function (e, t) {
        return t && !e.schema.getShortEndedElements()[t.nodeName];
      }(e, v.firstChild) && g.isEmpty(v.firstChild) && ((l = g.createRng()).setStart(v.firstChild, 0), l.setEnd(v.firstChild, 0), m.setRng(l)), m.isCollapsed() || (e.selection.setRng(fp(e.selection.getRng())), e.getDoc().execCommand("Delete", !1, null), t = function (e, t) {
        var n, r;
        return n = e.startContainer, r = e.startOffset, 3 === n.nodeType && e.collapsed && ("\xa0" === n.data[r] ? (n.deleteData(r, 1), /[\u00a0| ]$/.test(t) || (t += " ")) : "\xa0" === n.data[r - 1] && (n.deleteData(r - 1, 1), /[\u00a0| ]$/.test(t) || (t = " " + t))), t;
      }(e.selection.getRng(), t));
      var y = {
        context: (i = m.getNode()).nodeName.toLowerCase(),
        data: n.data,
        insert: !0
      };
      if (u = r.parse(t, y), !0 === n.paste && Oz(e.schema, u) && Pz(g, i)) return l = Hz(o, g, e.selection.getRng(), u), e.selection.setRng(l), void e.fire("SetContent", s);
      if (function (e) {
        for (var t = e; t = t.walk();) {
          1 === t.type && t.attr("data-mce-fragment", "1");
        }
      }(u), "mce_marker" === (f = u.lastChild).attr("id")) for (f = (c = f).prev; f; f = f.walk(!0)) {
        if (3 === f.type || !g.isBlock(f.name)) {
          e.schema.isValidChild(f.parent.name, "span") && f.parent.insert(c, f, "br" === f.name);
          break;
        }
      }

      if (e._selectionOverrides.showBlockCaretContainer(i), y.invalid) {
        for (ax(e, d), i = m.getNode(), a = e.getBody(), 9 === i.nodeType ? i = f = a : f = i; f !== a;) {
          f = (i = f).parentNode;
        }

        t = i === a ? a.innerHTML : g.getOuterHTML(i), t = o.serialize(r.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i, function () {
          return o.serialize(u);
        }))), i === a ? g.setHTML(a, t) : g.setOuterHTML(i, t);
      } else !function (e, t, n) {
        if ("all" === n.getAttribute("data-mce-bogus")) n.parentNode.insertBefore(e.dom.createFragment(t), n);else {
          var r = n.firstChild,
              o = n.lastChild;
          !r || r === o && "BR" === r.nodeName ? e.dom.setHTML(n, t) : ax(e, t);
        }
      }(e, t = o.serialize(u), i);

      !function (e, t) {
        var n = e.schema.getTextInlineElements(),
            r = e.dom;

        if (t) {
          var o = e.getBody(),
              i = new Bg(r);
          Mn.each(r.select("*[data-mce-fragment]"), function (e) {
            for (var t = e.parentNode; t && t !== o; t = t.parentNode) {
              n[e.nodeName.toLowerCase()] && i.compare(t, e) && r.remove(e, !0);
            }
          });
        }
      }(e, h), function (n, e) {
        var t,
            r,
            o,
            i,
            a,
            u = n.dom,
            s = n.selection;

        if (e) {
          if (n.selection.scrollIntoView(e), t = function (e) {
            for (var t = n.getBody(); e && e !== t; e = e.parentNode) {
              if ("false" === n.dom.getContentEditable(e)) return e;
            }

            return null;
          }(e)) return u.remove(e), s.select(t);
          var c = u.createRng();
          (i = e.previousSibling) && 3 === i.nodeType ? (c.setStart(i, i.nodeValue.length), Nn.ie || (a = e.nextSibling) && 3 === a.nodeType && (i.appendData(a.data), a.parentNode.removeChild(a))) : (c.setStartBefore(e), c.setEndBefore(e));
          r = u.getParent(e, u.isBlock), u.remove(e), r && u.isEmpty(r) && (n.$(r).empty(), c.setStart(r, 0), c.setEnd(r, 0), Lz(r) || function (e) {
            return !!e.getAttribute("data-mce-fragment");
          }(r) || !(o = function (e) {
            var t = Ds.fromRangeStart(e);
            if (t = rc(n.getBody()).next(t)) return t.toRange();
          }(c)) ? u.add(r, u.create("br", {
            "data-mce-bogus": "1"
          })) : (c = o, u.remove(r))), s.setRng(c);
        }
      }(e, g.get("mce_marker")), function (e) {
        Mn.each(e.getElementsByTagName("*"), function (e) {
          e.removeAttribute("data-mce-fragment");
        });
      }(e.getBody()), function (e, t) {
        k.from(e.getParent(t, "td,th")).map(yt.fromDom).each(Cg);
      }(e.dom, e.selection.getStart()), e.fire("SetContent", s), e.addVisual();
    }
  }

  function sx(e, t) {
    e.getDoc().execCommand(t, !1, null);
  }

  function cx(n) {
    return function (t, e) {
      return k.from(e).map(yt.fromDom).filter(xt).bind(function (e) {
        return function (t, n, e) {
          function r(e) {
            return ye(e, t);
          }

          return ba(yt.fromDom(e), function (e) {
            return r(e).isSome();
          }, function (e) {
            return ze(yt.fromDom(n), e);
          }).bind(r);
        }(n, t, e.dom()).or(function (e, t) {
          return k.from(Xi.DOM.getStyle(t, e, !0));
        }(n, e.dom()));
      }).getOr("");
    };
  }

  function lx(e) {
    return Pc.firstPositionIn(e.getBody()).map(function (e) {
      var t = e.container();
      return Ge.isText(t) ? t.parentNode : t;
    });
  }

  function fx(t) {
    return k.from(t.selection.getRng()).bind(function (e) {
      return function (e, t) {
        return e.startContainer === t && 0 === e.startOffset;
      }(e, t.getBody()) ? k.none() : k.from(t.selection.getStart(!0));
    });
  }

  function dx(e, t) {
    if (/^[0-9\.]+$/.test(t)) {
      var n = parseInt(t, 10);

      if (1 <= n && n <= 7) {
        var r = Cf(e),
            o = wf(e);
        return o ? o[n - 1] || t : r[n - 1] || t;
      }

      return t;
    }

    return t;
  }

  function hx(e, t) {
    var n = dx(e, t);
    e.formatter.toggle("fontname", {
      value: function (e) {
        var t = e.split(/\s*,\s*/);
        return X(t, function (e) {
          return -1 === e.indexOf(" ") || ee(e, '"') || ee(e, "'") ? e : "'" + e + "'";
        }).join(",");
      }(n)
    }), e.nodeChanged();
  }

  var mx = d(ob, Uu.isAbove, -1),
      gx = d(ob, Uu.isBelow, 1),
      px = d(ib, -1, mx),
      vx = d(ib, 1, gx),
      yx = Ge.isContentEditableFalse,
      bx = Wa,
      Cx = d(mb, function (e) {
    return e.bottom;
  }, function (e, t) {
    return e.y < t;
  }),
      wx = d(mb, function (e) {
    return e.top;
  }, function (e, t) {
    return e.y > t;
  }),
      xx = d(yb, mx),
      zx = d(yb, gx),
      Ex = function Ex(e) {
    for (var t = [], n = 1; n < arguments.length; n++) {
      t[n - 1] = arguments[n];
    }

    var r = Array.prototype.slice.call(arguments, 1);
    return function () {
      return e.apply(null, r);
    };
  },
      Nx = function Nx(e, t) {
    return g(Db(e, t), function (e) {
      return e.action();
    });
  },
      Sx = function Sx(t, n) {
    t.on("keydown", function (e) {
      !1 === e.isDefaultPrevented() && function (e, t, n) {
        var r = oe().os;
        Nx([{
          keyCode: Ah.RIGHT,
          action: fb(e, !0)
        }, {
          keyCode: Ah.LEFT,
          action: fb(e, !1)
        }, {
          keyCode: Ah.UP,
          action: db(e, !1)
        }, {
          keyCode: Ah.DOWN,
          action: db(e, !0)
        }, {
          keyCode: Ah.RIGHT,
          action: zb(e, !0)
        }, {
          keyCode: Ah.LEFT,
          action: zb(e, !1)
        }, {
          keyCode: Ah.UP,
          action: Eb(e, !1)
        }, {
          keyCode: Ah.DOWN,
          action: Eb(e, !0)
        }, {
          keyCode: Ah.RIGHT,
          action: nb.move(e, t, !0)
        }, {
          keyCode: Ah.LEFT,
          action: nb.move(e, t, !1)
        }, {
          keyCode: Ah.RIGHT,
          ctrlKey: !r.isOSX(),
          altKey: r.isOSX(),
          action: nb.moveNextWord(e, t)
        }, {
          keyCode: Ah.LEFT,
          ctrlKey: !r.isOSX(),
          altKey: r.isOSX(),
          action: nb.movePrevWord(e, t)
        }, {
          keyCode: Ah.UP,
          action: Rb(e, !1)
        }, {
          keyCode: Ah.DOWN,
          action: Rb(e, !0)
        }], n).each(function (e) {
          n.preventDefault();
        });
      }(t, n, e);
    });
  },
      kx = function kx(e, t) {
    return Bt(e, t) ? ba(t, function (e) {
      return In(e) || Un(e);
    }, function (t) {
      return function (e) {
        return ze(t, yt.fromDom(e.dom().parentNode));
      };
    }(e)) : k.none();
  },
      Tx = function Tx(e) {
    e.dom.isEmpty(e.getBody()) && (e.setContent(""), function (e) {
      var t = e.getBody(),
          n = t.firstChild && e.dom.isBlock(t.firstChild) ? t.firstChild : t;
      e.selection.setCursorLocation(n, 0);
    }(e));
  },
      Ax = function Ax(i, a, u) {
    return Ya(Pc.firstPositionIn(u), Pc.lastPositionIn(u), function (e, t) {
      var n = Ky.normalizePosition(!0, e),
          r = Ky.normalizePosition(!1, t),
          o = Ky.normalizePosition(!1, a);
      return i ? Pc.nextPosition(u, o).map(function (e) {
        return e.isEqual(r) && a.isEqual(n);
      }).getOr(!1) : Pc.prevPosition(u, o).map(function (e) {
        return e.isEqual(n) && a.isEqual(r);
      }).getOr(!1);
    }).getOr(!0);
  },
      Mx = function Mx(e, t, n) {
    return n.collapsed ? Ob(e, t, n) : k.none();
  },
      Rx = function Rx(e, t, n, r) {
    return t ? Ub(e, r, n) : Ub(e, n, r);
  },
      Dx = function Dx(t, n) {
    var r = yt.fromDom(t.getBody()),
        e = Mx(r.dom(), n, t.selection.getRng()).bind(function (e) {
      return Rx(r, n, e.from().block(), e.to().block());
    });
    return e.each(function (e) {
      t.selection.setRng(e.toRange());
    }), e.isSome();
  },
      _x = function _x(e, t) {
    return !e.selection.isCollapsed() && $b(e);
  },
      Bx = d(Kb, !1),
      Ox = d(Kb, !0),
      Hx = jf([{
    remove: ["element"]
  }, {
    moveToElement: ["element"]
  }, {
    moveToPosition: ["position"]
  }]),
      Px = function Px(e, t) {
    for (; t && t !== e;) {
      if (Ge.isContentEditableTrue(t) || Ge.isContentEditableFalse(t)) return t;
      t = t.parentNode;
    }

    return null;
  },
      Lx = function Lx(e, t) {
    return e.selection.isCollapsed() ? eC(e, t) : tC(e, t);
  },
      Vx = function Vx(e) {
    var t,
        n = Px(e.getBody(), e.selection.getNode());
    return Ge.isContentEditableTrue(n) && e.dom.isBlock(n) && e.dom.isEmpty(n) && (t = e.dom.create("br", {
      "data-mce-bogus": "1"
    }), e.dom.setHTML(n, ""), n.appendChild(t), e.selection.setRng(Ds.before(t).toRange())), !0;
  },
      Ix = function Ix(e, t) {
    return function (e, t) {
      var n = e.selection.getRng();
      if (!Ge.isText(n.commonAncestorContainer)) return !1;
      var r = t ? Ms.Forwards : Ms.Backwards,
          o = rc(e.getBody()),
          i = d(Ts, o.next),
          a = d(Ts, o.prev),
          u = t ? i : a,
          s = t ? Ph : Lh,
          c = Ss(r, e.getBody(), n),
          l = Ky.normalizePosition(t, u(c));
      if (!l || !As(c, l)) return !1;
      if (s(l)) return nC(e, n, c.getNode(), r, t, l);
      var f = u(l);
      return !!(f && s(f) && As(l, f)) && nC(e, n, c.getNode(), r, t, f);
    }(e, t);
  },
      Fx = function Fx(e, t, n) {
    if (e.selection.isCollapsed() && function (e) {
      return !1 !== e.settings.inline_boundaries;
    }(e)) {
      var r = Ds.fromRangeStart(e.selection.getRng());
      return iC(e, t, n, r);
    }

    return !1;
  },
      Ux = function Ux(e, t) {
    return !!e.selection.isCollapsed() && sC(e, t);
  },
      jx = jf([{
    removeTable: ["element"]
  }, {
    emptyCells: ["cells"]
  }]),
      qx = function qx(e, t) {
    return hC(t, e).isSome();
  },
      $x = function $x(e, t) {
    return g(fh(t, e), function (e) {
      return "caption" === ie(e);
    });
  },
      Wx = function Wx(e, t) {
    return bg(t), e.selection.setCursorLocation(t.dom(), 0), k.some(!0);
  },
      Kx = function Kx(e, t) {
    var n = yt.fromDom(e.selection.getStart(!0)),
        r = ry(e);
    return e.selection.isCollapsed() && 0 === r.length ? TC(e, t, n) : function (e, t) {
      var n = yt.fromDom(e.getBody()),
          r = e.selection.getRng(),
          o = ry(e);
      return 0 !== o.length ? CC(e, o) : zC(e, n, r, t);
    }(e, n);
  },
      Xx = function Xx(e, t) {
    return !!e.selection.isCollapsed() && function (t, n) {
      var e = Ds.fromRangeStart(t.selection.getRng());
      return Pc.fromPosition(n, t.getBody(), e).filter(function (e) {
        return n ? _h(e) : Bh(e);
      }).bind(function (e) {
        return k.from(ws(n ? 0 : -1, e));
      }).map(function (e) {
        return t.selection.select(e), !0;
      }).getOr(!1);
    }(e, t);
  },
      Yx = function Yx(e) {
    return y(X(e.selection.getSelectedBlocks(), yt.fromDom), function (e) {
      return !DC(e) && !function (e) {
        return Se(e).map(DC).getOr(!1);
      }(e) && function (e) {
        return ba(e, function (e) {
          return Ge.isContentEditableTrue(e.dom()) || Ge.isContentEditableFalse(e.dom());
        }).exists(function (e) {
          return Ge.isContentEditableTrue(e.dom());
        });
      }(e);
    });
  },
      Gx = d(PC, !1),
      Jx = d(PC, !0),
      Qx = d(HC, !1),
      Zx = d(HC, !0),
      ez = function ez(e, t, n) {
    if (e.selection.isCollapsed() && RC(e)) {
      var r = e.dom,
          o = e.selection.getRng(),
          i = Ds.fromRangeStart(o),
          a = r.getParent(o.startContainer, r.isBlock);
      if (null !== a && Gx(yt.fromDom(a), i)) return _C(e, "outdent"), !0;
    }

    return !1;
  },
      tz = function tz(t, n) {
    t.on("keydown", function (e) {
      !1 === e.isDefaultPrevented() && function (e, t, n) {
        Nx([{
          keyCode: Ah.BACKSPACE,
          action: Ex(ez, e, !1)
        }, {
          keyCode: Ah.BACKSPACE,
          action: Ex(Lx, e, !1)
        }, {
          keyCode: Ah.DELETE,
          action: Ex(Lx, e, !0)
        }, {
          keyCode: Ah.BACKSPACE,
          action: Ex(Ix, e, !1)
        }, {
          keyCode: Ah.DELETE,
          action: Ex(Ix, e, !0)
        }, {
          keyCode: Ah.BACKSPACE,
          action: Ex(Fx, e, t, !1)
        }, {
          keyCode: Ah.DELETE,
          action: Ex(Fx, e, t, !0)
        }, {
          keyCode: Ah.BACKSPACE,
          action: Ex(Kx, e, !1)
        }, {
          keyCode: Ah.DELETE,
          action: Ex(Kx, e, !0)
        }, {
          keyCode: Ah.BACKSPACE,
          action: Ex(Xx, e, !1)
        }, {
          keyCode: Ah.DELETE,
          action: Ex(Xx, e, !0)
        }, {
          keyCode: Ah.BACKSPACE,
          action: Ex(_x, e, !1)
        }, {
          keyCode: Ah.DELETE,
          action: Ex(_x, e, !0)
        }, {
          keyCode: Ah.BACKSPACE,
          action: Ex(Dx, e, !1)
        }, {
          keyCode: Ah.DELETE,
          action: Ex(Dx, e, !0)
        }, {
          keyCode: Ah.BACKSPACE,
          action: Ex(Ux, e, !1)
        }, {
          keyCode: Ah.DELETE,
          action: Ex(Ux, e, !0)
        }], n).each(function (e) {
          n.preventDefault();
        });
      }(t, n, e);
    }), t.on("keyup", function (e) {
      !1 === e.isDefaultPrevented() && function (e, t) {
        Nx([{
          keyCode: Ah.BACKSPACE,
          action: Ex(Vx, e)
        }, {
          keyCode: Ah.DELETE,
          action: Ex(Vx, e)
        }], t);
      }(t, e);
    });
  },
      nz = function nz(e, t) {
    var n,
        r,
        o = t,
        i = e.dom,
        a = e.schema.getMoveCaretBeforeOnEnterElements();

    if (t) {
      if (/^(LI|DT|DD)$/.test(t.nodeName)) {
        var u = function (e) {
          for (; e;) {
            if (1 === e.nodeType || 3 === e.nodeType && e.data && /[\r\n\s]/.test(e.data)) return e;
            e = e.nextSibling;
          }
        }(t.firstChild);

        u && /^(UL|OL|DL)$/.test(u.nodeName) && t.insertBefore(i.doc.createTextNode("\xa0"), t.firstChild);
      }

      if (r = i.createRng(), t.normalize(), t.hasChildNodes()) {
        for (var s = new yi(t, t); n = s.current();) {
          if (Ge.isText(n)) {
            r.setStart(n, 0), r.setEnd(n, 0);
            break;
          }

          if (a[n.nodeName.toLowerCase()]) {
            r.setStartBefore(n), r.setEndBefore(n);
            break;
          }

          o = n, n = s.next();
        }

        n || (r.setStart(o, 0), r.setEnd(o, 0));
      } else Ge.isBr(t) ? t.nextSibling && i.isBlock(t.nextSibling) ? (r.setStartBefore(t), r.setEndBefore(t)) : (r.setStartAfter(t), r.setEndAfter(t)) : (r.setStart(t, 0), r.setEnd(t, 0));

      e.selection.setRng(r), e.selection.scrollIntoView(t);
    }
  },
      rz = function rz(e, t) {
    var n,
        r,
        o = e.getRoot();

    for (n = t; n !== o && "false" !== e.getContentEditable(n);) {
      "true" === e.getContentEditable(n) && (r = n), n = n.parentNode;
    }

    return n !== o ? r : o;
  },
      oz = LC,
      iz = function iz(e) {
    return LC(e).fold($(""), function (e) {
      return e.nodeName.toUpperCase();
    });
  },
      az = function az(e) {
    return LC(e).filter(function (e) {
      return Un(yt.fromDom(e));
    }).isSome();
  },
      uz = function uz(e, t, n, r, o) {
    var i = e.dom,
        a = e.selection.getRng();

    if (n !== e.getBody()) {
      !function (e) {
        return IC(e) && IC(e.parentNode);
      }(n) || (o = "LI");
      var u = o ? t(o) : i.create("BR");
      if (UC(n, r, !0) && UC(n, r, !1)) VC(n, "LI") ? i.insertAfter(u, FC(n)) : i.replace(u, n);else if (UC(n, r, !0)) VC(n, "LI") ? (i.insertAfter(u, FC(n)), u.appendChild(i.doc.createTextNode(" ")), u.appendChild(n)) : n.parentNode.insertBefore(u, n);else if (UC(n, r, !1)) i.insertAfter(u, FC(n));else {
        n = FC(n);
        var s = a.cloneRange();
        s.setStartAfter(r), s.setEndAfter(n);
        var c = s.extractContents();
        "LI" === o && function (e, t) {
          return e.firstChild && e.firstChild.nodeName === t;
        }(c, "LI") ? (u = c.firstChild, i.insertAfter(c, n)) : (i.insertAfter(c, n), i.insertAfter(u, n));
      }
      i.remove(r), nz(e, u);
    }
  },
      sz = function sz(a, e) {
    function t(e) {
      var t,
          n,
          r,
          o = s,
          i = b.getTextInlineElements();
      if (e || "TABLE" === m || "HR" === m ? (t = y.create(e || p), XC(a, t)) : t = c.cloneNode(!1), r = t, !1 === yf(a)) y.setAttrib(t, "style", null), y.setAttrib(t, "class", null);else do {
        if (i[o.nodeName]) {
          if (rs(o) || Fc(o)) continue;
          n = o.cloneNode(!1), y.setAttrib(n, "id", ""), t.hasChildNodes() ? n.appendChild(t.firstChild) : r = n, t.appendChild(n);
        }
      } while ((o = o.parentNode) && o !== u);
      return jC(r), t;
    }

    function n(e) {
      var t,
          n,
          r = WC(e, s, i);
      if (Ge.isText(s) && (e ? 0 < r : r < s.nodeValue.length)) return !1;
      if (s.parentNode === c && v && !e) return !0;
      if (e && Ge.isElement(s) && s === c.firstChild) return !0;
      if (qC(s, "TABLE") || qC(s, "HR")) return v && !e || !v && e;
      var o = new yi(s, c);

      for (Ge.isText(s) && (e && 0 === r ? o.prev() : e || r !== s.nodeValue.length || o.next()); t = o.current();) {
        if (Ge.isElement(t)) {
          if (!t.getAttribute("data-mce-bogus") && (n = t.nodeName.toLowerCase(), C[n] && "br" !== n)) return !1;
        } else if (Ge.isText(t) && !/^[ \t\r\n]*$/.test(t.nodeValue)) return !1;

        e ? o.prev() : o.next();
      }

      return !0;
    }

    function r() {
      f = /^(H[1-6]|PRE|FIGURE)$/.test(m) && "HGROUP" !== g ? t(p) : t(), bf(a) && $C(y, h) && y.isEmpty(c) ? f = y.split(h, c) : y.insertAfter(f, c), nz(a, f);
    }

    var o,
        u,
        s,
        i,
        c,
        l,
        f,
        d,
        h,
        m,
        g,
        p,
        v,
        y = a.dom,
        b = a.schema,
        C = b.getNonEmptyElements(),
        w = a.selection.getRng();
    ay(y, w).each(function (e) {
      w.setStart(e.startContainer, e.startOffset), w.setEnd(e.endContainer, e.endOffset);
    }), s = w.startContainer, i = w.startOffset, p = mf(a), l = !(!e || !e.shiftKey);
    var x = !(!e || !e.ctrlKey);
    Ge.isElement(s) && s.hasChildNodes() && (v = i > s.childNodes.length - 1, s = s.childNodes[Math.min(i, s.childNodes.length - 1)] || s, i = v && Ge.isText(s) ? s.nodeValue.length : 0), (u = KC(y, s)) && ((p && !l || !p && l) && (s = function (e, t, n, r, o) {
      var i,
          a,
          u,
          s,
          c,
          l,
          f = t || "P",
          d = e.dom,
          h = KC(d, r);

      if (!(a = d.getParent(r, d.isBlock)) || !$C(d, a)) {
        if (l = (a = a || h) === e.getBody() || function (e) {
          return e && /^(TD|TH|CAPTION)$/.test(e.nodeName);
        }(a) ? a.nodeName.toLowerCase() : a.parentNode.nodeName.toLowerCase(), !a.hasChildNodes()) return i = d.create(f), XC(e, i), a.appendChild(i), n.setStart(i, 0), n.setEnd(i, 0), i;

        for (s = r; s.parentNode !== a;) {
          s = s.parentNode;
        }

        for (; s && !d.isBlock(s);) {
          s = (u = s).previousSibling;
        }

        if (u && e.schema.isValidChild(l, f.toLowerCase())) {
          for (i = d.create(f), XC(e, i), u.parentNode.insertBefore(i, u), s = u; s && !d.isBlock(s);) {
            c = s.nextSibling, i.appendChild(s), s = c;
          }

          n.setStart(r, o), n.setEnd(r, o);
        }
      }

      return r;
    }(a, p, w, s, i)), c = y.getParent(s, y.isBlock), h = c ? y.getParent(c.parentNode, y.isBlock) : null, m = c ? c.nodeName.toUpperCase() : "", "LI" !== (g = h ? h.nodeName.toUpperCase() : "") || x || (h = (c = h).parentNode, m = g), /^(LI|DT|DD)$/.test(m) && y.isEmpty(c) ? uz(a, t, h, c, p) : p && c === a.getBody() || (p = p || "P", Ma(c) ? (f = Pa(c), y.isEmpty(c) && jC(c), nz(a, f)) : n() ? r() : n(!0) ? (f = c.parentNode.insertBefore(t(), c), nz(a, qC(c, "HR") ? f : c)) : ((o = function (e) {
      var t = e.cloneRange();
      return t.setStart(e.startContainer, WC(!0, e.startContainer, e.startOffset)), t.setEnd(e.endContainer, WC(!1, e.endContainer, e.endOffset)), t;
    }(w).cloneRange()).setEndAfter(c), function (e) {
      z(pa(yt.fromDom(e), zt), function (e) {
        var t = e.dom();
        t.nodeValue = lu(t.nodeValue);
      });
    }(d = o.extractContents()), function (e) {
      for (; Ge.isText(e) && (e.nodeValue = e.nodeValue.replace(/^[\r\n]+/, "")), e = e.firstChild;) {
        ;
      }
    }(d), f = d.firstChild, y.insertAfter(d, c), function (e, t, n) {
      var r,
          o = n,
          i = [];

      if (o) {
        for (; o = o.firstChild;) {
          if (e.isBlock(o)) return;
          Ge.isElement(o) && !t[o.nodeName.toLowerCase()] && i.push(o);
        }

        for (r = i.length; r--;) {
          !(o = i[r]).hasChildNodes() || o.firstChild === o.lastChild && "" === o.firstChild.nodeValue ? e.remove(o) : (a = e, (u = o) && "A" === u.nodeName && a.isEmpty(u) && e.remove(o));
        }

        var a, u;
      }
    }(y, C, f), function (e, t) {
      var n;
      t.normalize(), (n = t.lastChild) && !/^(left|right)$/gi.test(e.getStyle(n, "float", !0)) || e.add(t, "br");
    }(y, c), y.isEmpty(c) && jC(c), f.normalize(), y.isEmpty(f) ? (y.remove(f), r()) : nz(a, f)), y.setAttrib(f, "id", ""), a.fire("NewBlock", {
      newBlock: f
    })));
  },
      cz = function cz(e, t) {
    return !!function (e) {
      return Ge.isBr(e.getNode());
    }(Ds.after(t)) || Pc.nextPosition(e, Ds.after(t)).map(function (e) {
      return Ge.isBr(e.getNode());
    }).getOr(!1);
  },
      lz = function lz(e, t) {
    var n = function (e) {
      var t = d(Ky.isInlineTarget, e),
          n = Ds.fromRangeStart(e.selection.getRng());
      return Jy(t, e.getBody(), n).filter(tw);
    }(e);

    n.isSome() ? n.each(d(nw, e)) : JC(e, t);
  },
      fz = function fz(e) {
    return rw(e, pf(e));
  },
      dz = function dz(e) {
    return rw(e, vf(e));
  },
      hz = jf([{
    br: []
  }, {
    block: []
  }, {
    none: []
  }]),
      mz = function mz(e, t) {
    return Xy([hw([ow], hz.none()), hw([uw("summary", !0)], hz.br()), hw([sw(!0), cw(!1), fw], hz.br()), hw([sw(!0), cw(!1)], hz.block()), hw([sw(!0), cw(!0), fw], hz.block()), hw([sw(!0), cw(!0)], hz.br()), hw([aw(!0), fw], hz.br()), hw([aw(!0)], hz.block()), hw([iw(!0), fw, dw], hz.block()), hw([iw(!0)], hz.br()), hw([lw], hz.br()), hw([iw(!1), fw], hz.br()), hw([dw], hz.block())], [e, !(!t || !t.shiftKey)]).getOr(hz.none());
  },
      gz = function gz(e, t) {
    mz(e, t).fold(function () {
      lz(e, t);
    }, function () {
      sz(e, t);
    }, i);
  },
      pz = function pz(t) {
    t.on("keydown", function (e) {
      e.keyCode === Ah.ENTER && function (e, t) {
        t.isDefaultPrevented() || (t.preventDefault(), function (e) {
          e.typing && (e.typing = !1, e.add());
        }(e.undoManager), e.undoManager.transact(function () {
          !1 === e.selection.isCollapsed() && e.execCommand("Delete"), gz(e, t);
        }));
      }(t, e);
    });
  },
      vz = d(mw, "\xa0"),
      yz = d(mw, " "),
      bz = function bz(t) {
    t.on("keydown", function (e) {
      !1 === e.isDefaultPrevented() && function (e, t) {
        Nx([{
          keyCode: Ah.SPACEBAR,
          action: Ex(Aw, e)
        }], t).each(function (e) {
          t.preventDefault();
        });
      }(t, e);
    });
  },
      Cz = function Cz(e) {
    e.on("keyup compositionstart", d(Rw, e));
  },
      wz = oe().browser,
      xz = function xz(t) {
    t.on("keydown", function (e) {
      !1 === e.isDefaultPrevented() && function (e, t) {
        Nx([{
          keyCode: Ah.END,
          action: hb(e, !0)
        }, {
          keyCode: Ah.HOME,
          action: hb(e, !1)
        }], t).each(function (e) {
          t.preventDefault();
        });
      }(t, e);
    });
  },
      zz = function zz(e) {
    var t = nb.setupSelectedState(e);
    Cz(e), Sx(e, t), tz(e, t), pz(e), bz(e), Dw(e), xz(e);
  },
      Ez = Xi.DOM,
      Nz = function Nz(t, e) {
    var n,
        r,
        o = t.settings,
        i = t.getElement(),
        a = t.getDoc();
    o.inline || (t.getElement().style.visibility = t.orgVisibility), e || t.inline || (a.open(), a.write(t.iframeHTML), a.close()), t.inline && (t.on("remove", function () {
      var e = this.getBody();
      Ez.removeClass(e, "mce-content-body"), Ez.removeClass(e, "mce-edit-focus"), Ez.setAttrib(e, "contentEditable", null);
    }), Ez.addClass(i, "mce-content-body"), t.contentDocument = a = j.document, t.contentWindow = j.window, t.bodyElement = i, t.contentAreaContainer = i, o.root_name = i.nodeName.toLowerCase()), (n = t.getBody()).disabled = !0, t.readonly = o.readonly, t.readonly || (t.inline && "static" === Ez.getStyle(n, "position", !0) && (n.style.position = "relative"), n.contentEditable = t.getParam("content_editable_state", !0)), n.disabled = !1, t.editorUpload = th(t), t.schema = pr(o), t.dom = Xi(a, {
      keep_values: !0,
      url_converter: t.convertURL,
      url_converter_scope: t,
      hex_colors: o.force_hex_style_colors,
      update_styles: !0,
      root_element: t.inline ? t.getBody() : null,
      collect: function collect() {
        return t.inline;
      },
      schema: t.schema,
      contentCssCors: Df(t),
      referrerPolicy: _f(t),
      onSetAttrib: function onSetAttrib(e) {
        t.fire("SetAttrib", e);
      }
    }), t.parser = function (u) {
      var e = Np(u.settings, u.schema);
      return e.addAttributeFilter("src,href,style,tabindex", function (e, t) {
        for (var n, r, o, i = e.length, a = u.dom; i--;) {
          if (r = (n = e[i]).attr(t), o = "data-mce-" + t, !n.attr(o)) {
            if (0 === r.indexOf("data:") || 0 === r.indexOf("blob:")) continue;
            "style" === t ? ((r = a.serializeStyle(a.parseStyle(r), n.name)).length || (r = null), n.attr(o, r), n.attr(t, r)) : "tabindex" === t ? (n.attr(o, r), n.attr(t, null)) : n.attr(o, u.convertURL(r, t, n.name));
          }
        }
      }), e.addNodeFilter("script", function (e) {
        for (var t, n, r = e.length; r--;) {
          0 !== (n = (t = e[r]).attr("type") || "no/type").indexOf("mce-") && t.attr("type", "mce-" + n);
        }
      }), e.addNodeFilter("#cdata", function (e) {
        for (var t, n = e.length; n--;) {
          (t = e[n]).type = 8, t.name = "#comment", t.value = "[CDATA[" + t.value + "]]";
        }
      }), e.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div", function (e) {
        for (var t, n = e.length, r = u.schema.getNonEmptyElements(); n--;) {
          (t = e[n]).isEmpty(r) && 0 === t.getAll("br").length && (t.append(new ul("br", 1)).shortEnded = !0);
        }
      }), e;
    }(t), t.serializer = Ap(o, t), t.selection = ly(t.dom, t.getWin(), t.serializer, t), t.annotator = nl(t), t.formatter = Cp(t), t.undoManager = mm(t), t._nodeChangeDispatcher = new ph(t), t._selectionOverrides = om(t), Hw(t), Ow(t), zz(t), dh(t), t.fire("PreInit"), o.browser_spellcheck || o.gecko_spellcheck || (a.body.spellcheck = !1, Ez.setAttrib(n, "spellcheck", "false")), t.quirks = _w(t), t.fire("PostRender");
    var u = Vf(t);
    u !== undefined && (n.dir = u), o.protect && t.on("BeforeSetContent", function (t) {
      Mn.each(o.protect, function (e) {
        t.content = t.content.replace(e, function (e) {
          return "\x3c!--mce:protected " + escape(e) + "--\x3e";
        });
      });
    }), t.on("SetContent", function () {
      t.addVisual(t.getBody());
    }), t.load({
      initial: !0,
      format: "html"
    }), t.startContent = t.getContent({
      format: "raw"
    }), t.on("compositionstart compositionend", function (e) {
      t.composing = "compositionstart" === e.type;
    }), 0 < t.contentStyles.length && (r = "", Mn.each(t.contentStyles, function (e) {
      r += e + "\r\n";
    }), t.dom.addStyle(r)), function (e) {
      return e.inline ? Ez.styleSheetLoader : e.dom.styleSheetLoader;
    }(t).loadAll(t.contentCSS, function (e) {
      Pw(t);
    }, function (e) {
      Pw(t);
    }), o.content_style && function (e, t) {
      var n = yt.fromDom(e.getDoc().head),
          r = yt.fromTag("style");
      Tt(r, "type", "text/css"), Di(r, yt.fromText(t)), Di(n, r);
    }(t, o.content_style);
  },
      Sz = Xi.DOM,
      kz = function kz(e, t) {
    var n = Lw(e, t);
    t.editorContainer && (Sz.get(t.editorContainer).style.display = e.orgDisplay, e.hidden = Sz.isHidden(t.editorContainer)), e.getElement().style.display = "none", Sz.setAttrib(e.id, "aria-hidden", "true"), n || Nz(e);
  },
      Tz = Xi.DOM,
      Az = function Az(t, n, e) {
    var r = jd.get(e),
        o = jd.urls[e] || t.documentBaseUrl.replace(/\/$/, "");

    if (e = Mn.trim(e), r && -1 === Mn.inArray(n, e)) {
      if (Mn.each(jd.dependencies(e), function (e) {
        Az(t, n, e);
      }), t.plugins[e]) return;

      try {
        var i = new r(t, o, t.$);
        (t.plugins[e] = i).init && (i.init(t, o), n.push(e));
      } catch (yN) {
        Fd.pluginInitError(t, e, yN);
      }
    }
  },
      Mz = function Mz(e) {
    e.fire("ScriptsLoaded"), function (n) {
      var e = Mn.trim(n.settings.icons),
          r = n.ui.registry.getAll().icons,
          t = _G(_G({}, {
        "accessibility-check": '<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',
        "action-next": '<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',
        "action-prev": '<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3z"/></svg>',
        "align-center": '<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',
        "align-justify": '<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',
        "align-left": '<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',
        "align-none": '<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 1 1 0-2h9.2zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 0 1 0-2h6.8zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 0 1 0-2h4.4zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 0 1 0-2h2zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',
        "align-right": '<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',
        "arrow-left": '<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8z" fill-rule="evenodd"/></svg>',
        "arrow-right": '<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8z" fill-rule="evenodd"/></svg>',
        bold: '<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',
        bookmark: '<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1z" fill-rule="nonzero"/></svg>',
        "border-width": '<svg width="24" height="24"><path d="M5 14.8h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2zm-.5 3.7h15c.3 0 .5.2.5.5s-.2.5-.5.5h-15a.5.5 0 1 1 0-1zm.5-8.3h14c.6 0 1 .4 1 1v1c0 .5-.4 1-1 1H5a1 1 0 0 1-1-1v-1c0-.6.4-1 1-1zm0-5.7h14c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-2c0-.6.4-1 1-1z" fill-rule="evenodd"/></svg>',
        brightness: '<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0zm-10-7l-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',
        browse: '<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6z" fill-rule="nonzero"/></svg>',
        cancel: '<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8zM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',
        "change-case": '<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 1 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',
        "character-count": '<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',
        "checklist-rtl": '<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',
        checklist: '<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',
        checkmark: '<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',
        "chevron-down": '<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',
        "chevron-left": '<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',
        "chevron-right": '<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',
        "chevron-up": '<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',
        close: '<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5z" fill-rule="evenodd"/></svg>',
        "code-sample": '<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',
        "color-levels": '<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5z" fill-rule="evenodd"/></svg>',
        "color-picker": '<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z" fill-rule="nonzero"/></svg>',
        "color-swatch-remove-color": '<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',
        "color-swatch": '<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',
        "comment-add": '<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2z"/></g></svg>',
        comment: '<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23z"/></svg>',
        contrast: '<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6z" fill-rule="evenodd"/></svg>',
        copy: '<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',
        crop: '<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',
        cut: '<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',
        "document-properties": '<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',
        drag: '<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',
        duplicate: '<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1z"/></g></svg>',
        "edit-block": '<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',
        "edit-image": '<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9zM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',
        "embed-page": '<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2z" fill-rule="nonzero"/></svg>',
        embed: '<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4z" fill-rule="nonzero"/></svg>',
        emoji: '<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13z" fill-rule="nonzero"/></svg>',
        fill: '<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',
        "flip-horizontally": '<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2zm14-2v2h2a2 2 0 0 0-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 0 0 2-2h-2v2z" fill-rule="nonzero"/></svg>',
        "flip-vertically": '<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2zm2 14h-2v2a2 2 0 0 0 2-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',
        "format-painter": '<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',
        fullscreen: '<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',
        gallery: '<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4zM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1z"/></svg>',
        gamma: '<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0z" fill-rule="nonzero"/></svg>',
        help: '<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1zM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',
        "highlight-bg-color": '<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',
        home: '<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',
        "horizontal-rule": '<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',
        "image-options": '<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2z" fill-rule="nonzero"/></svg>',
        image: '<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4z" fill-rule="nonzero"/></svg>',
        indent: '<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6z" fill-rule="evenodd"/></svg>',
        info: '<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',
        "insert-character": '<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',
        "insert-time": '<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',
        invert: '<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',
        italic: '<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',
        line: '<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',
        link: '<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2.1 2a2 2 0 1 0 2.7 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',
        "list-bull-circle": '<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6zM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6zM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',
        "list-bull-default": '<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',
        "list-bull-square": '<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',
        "list-num-default-rtl": '<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',
        "list-num-default": '<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',
        "list-num-lower-alpha-rtl": '<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',
        "list-num-lower-alpha": '<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',
        "list-num-lower-greek-rtl": '<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',
        "list-num-lower-greek": '<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',
        "list-num-lower-roman-rtl": '<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',
        "list-num-lower-roman": '<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',
        "list-num-upper-alpha-rtl": '<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',
        "list-num-upper-alpha": '<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',
        "list-num-upper-roman-rtl": '<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',
        "list-num-upper-roman": '<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',
        lock: '<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7z" fill-rule="evenodd"/></svg>',
        ltr: '<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6z" fill-rule="evenodd"/></svg>',
        "more-drawer": '<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2z" fill-rule="nonzero"/></svg>',
        "new-document": '<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',
        "new-tab": '<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',
        "non-breaking": '<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',
        notice: '<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',
        "ordered-list-rtl": '<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19zm-1 8.8l.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',
        "ordered-list": '<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',
        orientation: '<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1z" fill-rule="nonzero"/></svg>',
        outdent: '<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',
        "page-break": '<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',
        "paste-text": '<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',
        paste: '<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',
        "permanent-pen": '<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',
        plus: '<svg width="24" height="24"><g fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke="#000" stroke-width="2"><path d="M12 5v14M5 12h14"/></g></svg>',
        preferences: '<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" fill-rule="evenodd"/></svg>',
        preview: '<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6z" fill-rule="nonzero"/></svg>',
        print: '<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',
        quote: '<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3z" fill-rule="nonzero"/></svg>',
        redo: '<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',
        reload: '<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1z"/></g></svg>',
        "remove-formatting": '<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8zM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1z" fill-rule="evenodd"/></svg>',
        remove: '<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4z" fill-rule="nonzero"/></svg>',
        "resize-handle": '<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7zM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3z"/></g></svg>',
        resize: '<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5z" fill-rule="evenodd"/></svg>',
        "restore-draft": '<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10z" fill-rule="nonzero"/></g></svg>',
        "rotate-left": '<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10z" fill-rule="nonzero"/></svg>',
        "rotate-right": '<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',
        rtl: '<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',
        save: '<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6z" fill-rule="nonzero"/></svg>',
        search: '<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12z" fill-rule="nonzero"/></svg>',
        "select-all": '<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 0 0-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 0 0 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',
        selected: '<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3z"/></svg>',
        settings: '<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',
        sharpen: '<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',
        sourcecode: '<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',
        "spell-check": '<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',
        "strike-through": '<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2z" fill-rule="nonzero"/></g></svg>',
        subscript: '<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',
        superscript: '<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',
        "table-cell-properties": '<svg width="24" height="24"><path d="M4 5h16v14H4V5zm10 10h-4v3h4v-3zm0-8h-4v3h4V7zM9 7H5v3h4V7zm-4 4v3h4v-3H5zm10 0v3h4v-3h-4zm0-1h4V7h-4v3zM5 15v3h4v-3H5zm10 3h4v-3h-4v3z" fill-rule="evenodd"/></svg>',
        "table-cell-select-all": '<svg width="24" height="24"><path d="M12.5 5.5v6h6v-6h-6zm-1 0h-6v6h6v-6zm1 13h6v-6h-6v6zm-1 0v-6h-6v6h6zm-7-14h15v15h-15v-15z" fill-rule="nonzero"/></svg>',
        "table-cell-select-inner": '<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5.5 5.5v13h13v-13h-13zm-1-1h15v15h-15v-15z" opacity=".2"/><path d="M11.5 11.5v-7h1v7h7v1h-7v7h-1v-7h-7v-1h7z"/></g></svg>',
        "table-delete-column": '<svg width="24" height="24"><path d="M9 11.2l1 1v.2l-1 1v-2.2zm5 1l1-1v2.2l-1-1v-.2zM20 5v14H4V5h16zm-1 2h-4v.8l-.2-.2-.8.8V7h-4v1.4l-.8-.8-.2.2V7H5v11h4v-1.8l.5.5.5-.4V18h4v-1.8l.8.8.2-.3V18h4V7zm-3.9 3.4l-1.8 1.9 1.8 1.9c.4.3.4.9 0 1.2-.3.3-.8.3-1.2 0L12 13.5l-1.8 1.9a.8.8 0 0 1-1.2 0 .9.9 0 0 1 0-1.2l1.8-1.9-1.9-2a.9.9 0 0 1 1.2-1.2l2 2 1.8-1.8c.3-.4.9-.4 1.2 0a.8.8 0 0 1 0 1.1z" fill-rule="evenodd"/></svg>',
        "table-delete-row": '<svg width="24" height="24"><path d="M16.7 8.8l1.1 1.2-2.4 2.5L18 15l-1.2 1.2-2.5-2.5-2.4 2.5-1.3-1.2 2.5-2.5-2.5-2.5 1.2-1.3 2.6 2.6 2.4-2.5zM4 5h16v14H4V5zm15 5V7H5v3h4.8l1 1H5v3h5.8l-1 1H5v3h14v-3h-.4l-1-1H19v-3h-1.3l1-1h.3z" fill-rule="evenodd"/></svg>',
        "table-delete-table": '<svg width="24" height="26"><path d="M4 6h16v14H4V6zm1 2v11h14V8H5zm11.7 8.7l-1.5 1.5L12 15l-3.3 3.2-1.4-1.5 3.2-3.2-3.3-3.2 1.5-1.5L12 12l3.2-3.2 1.5 1.5-3.2 3.2 3.2 3.2z" fill-rule="evenodd"/></svg>',
        "table-insert-column-after": '<svg width="24" height="24"><path d="M14.3 9c.4 0 .7.3.7.6v2.2h2.1c.4 0 .7.3.7.7 0 .4-.3.7-.7.7H15v2.2c0 .3-.3.6-.7.6a.7.7 0 0 1-.6-.6v-2.2h-2.2a.7.7 0 0 1 0-1.4h2.2V9.6c0-.3.3-.6.6-.6zM4 5h16v14H4V5zm5 13v-3H5v3h4zm0-4v-3H5v3h4zm0-4V7H5v3h4zm10 8V7h-9v11h9z" fill-rule="evenodd"/></svg>',
        "table-insert-column-before": '<svg width="24" height="24"><path d="M9.7 16a.7.7 0 0 1-.7-.6v-2.2H6.9a.7.7 0 0 1 0-1.4H9V9.6c0-.3.3-.6.7-.6.3 0 .6.3.6.6v2.2h2.2c.4 0 .8.3.8.7 0 .4-.4.7-.8.7h-2.2v2.2c0 .3-.3.6-.6.6zM4 5h16v14H4V5zm10 13V7H5v11h9zm5 0v-3h-4v3h4zm0-4v-3h-4v3h4zm0-4V7h-4v3h4z" fill-rule="evenodd"/></svg>',
        "table-insert-row-above": '<svg width="24" height="24"><path d="M14.8 10.5c0 .3-.2.5-.5.5h-1.8v1.8c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.6V11H9.7a.5.5 0 0 1 0-1h1.8V8.3c0-.3.2-.6.5-.6s.5.3.5.6V10h1.8c.3 0 .5.2.5.5zM4 5h16v14H4V5zm5 13v-3H5v3h4zm5 0v-3h-4v3h4zm5 0v-3h-4v3h4zm0-4V7H5v7h14z" fill-rule="evenodd"/></svg>',
        "table-insert-row-after": '<svg width="24" height="24"><path d="M9.2 14.5c0-.3.2-.5.5-.5h1.8v-1.8c0-.3.2-.5.5-.5s.5.2.5.6V14h1.8c.3 0 .5.2.5.5s-.2.5-.5.5h-1.8v1.7c0 .3-.2.6-.5.6a.5.5 0 0 1-.5-.6V15H9.7a.5.5 0 0 1-.5-.5zM4 5h16v14H4V5zm6 2v3h4V7h-4zM5 7v3h4V7H5zm14 11v-7H5v7h14zm0-8V7h-4v3h4z" fill-rule="evenodd"/></svg>',
        "table-left-header": '<svg width="24" height="24"><path d="M4 5h16v13H4V5zm10 12v-3h-4v3h4zm0-4v-3h-4v3h4zm0-4V6h-4v3h4zm5 8v-3h-4v3h4zm0-4v-3h-4v3h4zm0-4V6h-4v3h4z" fill-rule="evenodd"/></svg>',
        "table-merge-cells": '<svg width="24" height="24"><path d="M4 5h16v14H4V5zm6 13h9v-7h-9v7zm4-11h-4v3h4V7zM9 7H5v3h4V7zm-4 4v3h4v-3H5zm10-1h4V7h-4v3zM5 15v3h4v-3H5z" fill-rule="evenodd"/></svg>',
        "table-row-properties": '<svg width="24" height="24"><path d="M4 5h16v14H4V5zm10 10h-4v3h4v-3zm0-8h-4v3h4V7zM9 7H5v3h4V7zm6 3h4V7h-4v3zM5 15v3h4v-3H5zm10 3h4v-3h-4v3z" fill-rule="evenodd"/></svg>',
        "table-split-cells": '<svg width="24" height="24"><path d="M4 5h16v14H4V5zm6 2v3h4V7h-4zM9 18v-3H5v3h4zm0-4v-3H5v3h4zm0-4V7H5v3h4zm10 8v-7h-9v7h9zm0-8V7h-4v3h4zm-3.5 4.5l1.5 1.6c.3.2.3.7 0 1-.2.2-.7.2-1 0l-1.5-1.6-1.6 1.5c-.2.3-.7.3-1 0a.7.7 0 0 1 0-1l1.6-1.5-1.5-1.6a.7.7 0 0 1 1-1l1.5 1.6 1.6-1.5c.2-.3.7-.3 1 0 .2.2.2.7 0 1l-1.6 1.5z" fill-rule="evenodd"/></svg>',
        "table-top-header": '<svg width="24" height="24"><path d="M4 5h16v13H4V5zm5 12v-3H5v3h4zm0-4v-3H5v3h4zm5 4v-3h-4v3h4zm0-4v-3h-4v3h4zm5 4v-3h-4v3h4zm0-4v-3h-4v3h4z" fill-rule="evenodd"/></svg>',
        table: '<svg width="24" height="24"><path d="M4 5h16v14H4V5zm6 9h4v-3h-4v3zm4 1h-4v3h4v-3zm0-8h-4v3h4V7zM9 7H5v3h4V7zm-4 4v3h4v-3H5zm10 0v3h4v-3h-4zm0-1h4V7h-4v3zM5 15v3h4v-3H5zm10 3h4v-3h-4v3z" fill-rule="evenodd"/></svg>',
        template: '<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',
        "temporary-placeholder": '<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',
        "text-color": '<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',
        toc: '<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',
        translate: '<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 1 1 2 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',
        underline: '<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',
        undo: '<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',
        unlink: '<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2zM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1zM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19z" fill-rule="nonzero"/></svg>',
        unlock: '<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',
        "unordered-list": '<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',
        unselected: '<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',
        upload: '<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12zM11 6.4L8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4z" fill-rule="nonzero"/></svg>',
        user: '<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',
        visualblocks: '<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 0 1-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 0 1-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 0 1 2 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',
        visualchars: '<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5z" fill-rule="evenodd"/></svg>',
        warning: '<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',
        "zoom-in": '<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8z" fill-rule="nonzero"/></svg>',
        "zoom-out": '<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8z" fill-rule="nonzero"/></svg>'
      }), Ud.get(e).icons);

      ue(t, function (e, t) {
        kt(r, t) || n.ui.registry.addIcon(t, e);
      });
    }(e), function (e) {
      var t = e.settings.theme;

      if (K(t)) {
        e.settings.theme = Iw(t);
        var n = qd.get(t);
        e.theme = new n(e, qd.urls[t]), e.theme.init && e.theme.init(e, qd.urls[t] || e.documentBaseUrl.replace(/\/$/, ""), e.$);
      } else e.theme = {};
    }(e), function (t) {
      var n = [];
      Mn.each(t.settings.plugins.split(/[ ,]/), function (e) {
        Az(t, n, Iw(e));
      });
    }(e);

    var t = function (e) {
      var t = e.getElement();
      return e.orgDisplay = t.style.display, K(e.settings.theme) ? function (e) {
        return e.theme.renderUI();
      }(e) : D(e.settings.theme) ? function (e) {
        var t = e.getElement(),
            n = (0, e.settings.theme)(e, t);
        return n.editorContainer.nodeType && (n.editorContainer.id = n.editorContainer.id || e.id + "_parent"), n.iframeContainer && n.iframeContainer.nodeType && (n.iframeContainer.id = n.iframeContainer.id || e.id + "_iframecontainer"), n.height = n.iframeHeight ? n.iframeHeight : t.offsetHeight, n;
      }(e) : Uw(e);
    }(e);

    return e.editorContainer = t.editorContainer ? t.editorContainer : null, Vw(e), e.inline ? Nz(e) : kz(e, t);
  },
      Rz = Xi.DOM,
      Dz = function Dz(t) {
    var e = t.settings,
        n = t.id;
    ra.setCode(Bf(t));

    var r = function r() {
      Rz.unbind(j.window, "ready", r), t.render();
    };

    if (kr.Event.domLoaded) {
      if (t.getElement() && Nn.contentEditable) {
        e.inline ? t.inline = !0 : (t.orgVisibility = t.getElement().style.visibility, t.getElement().style.visibility = "hidden");
        var o = t.getElement().form || Rz.getParent(n, "form");
        o && (t.formElement = o, e.hidden_input && !Ge.isTextareaOrInput(t.getElement()) && (Rz.insertAfter(Rz.create("input", {
          type: "hidden",
          name: n
        }), n), t.hasHiddenInput = !0), t.formEventDelegate = function (e) {
          t.fire(e.type, e);
        }, Rz.bind(o, "submit reset", t.formEventDelegate), t.on("reset", function () {
          t.resetContent();
        }), !e.submit_patch || o.submit.nodeType || o.submit.length || o._mceOldSubmit || (o._mceOldSubmit = o.submit, o.submit = function () {
          return t.editorManager.triggerSave(), t.setDirty(!1), o._mceOldSubmit(o);
        })), t.windowManager = Bd(t), t.notificationManager = _d(t), "xml" === e.encoding && t.on("GetContent", function (e) {
          e.save && (e.content = Rz.encode(e.content));
        }), e.add_form_submit_trigger && t.on("submit", function () {
          t.initialized && t.save();
        }), e.add_unload_trigger && (t._beforeUnload = function () {
          !t.initialized || t.destroyed || t.isHidden() || t.save({
            format: "raw",
            no_events: !0,
            set_dirty: !1
          });
        }, t.editorManager.on("BeforeUnload", t._beforeUnload)), t.editorManager.add(t), $w(t, t.suffix);
      }
    } else Rz.bind(j.window, "ready", r);
  },
      _z = "data-mce-contenteditable",
      Bz = ["design", "readonly"],
      Oz = function Oz(e, t) {
    var n = t.firstChild,
        r = t.lastChild;
    return n && "meta" === n.name && (n = n.next), r && "mce_marker" === r.attr("id") && (r = r.prev), function (e, t) {
      var n = e.getNonEmptyElements();
      return t && (t.isEmpty(n) || function (e, t) {
        return e.getBlockElements()[t.name] && function (e) {
          return e.firstChild && e.firstChild === e.lastChild;
        }(t) && function (e) {
          return "br" === e.name || "\xa0" === e.value;
        }(t.firstChild);
      }(e, t));
    }(e, r) && (r = r.prev), !(!n || n !== r) && ("ul" === n.name || "ol" === n.name);
  },
      Hz = function Hz(e, o, i, t) {
    function n(e) {
      var t = Ds.fromRangeStart(i),
          n = rc(o.getRoot()),
          r = 1 === e ? n.prev(t) : n.next(t);
      return !r || rx(o, r.getNode()) !== a;
    }

    var r = function (e, t, n) {
      var r = t.serialize(n);
      return function (e) {
        var t = e.firstChild,
            n = e.lastChild;
        return t && "META" === t.nodeName && t.parentNode.removeChild(t), n && "mce_marker" === n.id && n.parentNode.removeChild(n), e;
      }(e.createFragment(r));
    }(o, e, t),
        a = rx(o, i.startContainer),
        u = nx(ex(r.firstChild)),
        s = o.getRoot();

    return n(1) ? ix(a, u, s) : n(2) ? function (e, t, n, r) {
      return r.insertAfter(t.reverse(), e), ox(t[0], n);
    }(a, u, s, o) : function (t, e, n, r) {
      var o = function (e, t) {
        var n = t.cloneRange(),
            r = t.cloneRange();
        return n.setStartBefore(e), r.setEndAfter(e), [n.cloneContents(), r.cloneContents()];
      }(t, r),
          i = t.parentNode;

      return i.insertBefore(o[0], t), Mn.each(e, function (e) {
        i.insertBefore(e, t);
      }), i.insertBefore(o[1], t), i.removeChild(t), ox(e[e.length - 1], n);
    }(a, u, s, i);
  },
      Pz = function Pz(e, t) {
    return !!rx(e, t);
  },
      Lz = Ge.matchNodeNames(["td", "th"]),
      Vz = function Vz(e, t) {
    var n = function (e) {
      var t;
      return "string" != typeof e ? (t = Mn.extend({
        paste: e.paste,
        data: {
          paste: e.paste
        }
      }, e), {
        content: e.content,
        details: t
      }) : {
        content: e,
        details: {}
      };
    }(t);

    ux(e, n.content, n.details);
  },
      Iz = function Iz(e) {
    ez(e, !1) || Lx(e, !1) || Ix(e, !1) || Fx(e, !1) || Dx(e, !1) || Kx(e) || _x(e, !1) || Ux(e, !1) || (sx(e, "Delete"), Tx(e));
  },
      Fz = function Fz(e) {
    Lx(e, !0) || Ix(e, !0) || Fx(e, !0) || Dx(e, !0) || Kx(e) || _x(e, !0) || Ux(e, !0) || sx(e, "ForwardDelete");
  },
      Uz = {
    getFontSize: cx("font-size"),
    getFontFamily: q(function (e) {
      return e.replace(/[\'\"\\]/g, "").replace(/,\s+/g, ",");
    }, cx("font-family")),
    toPt: function toPt(e, t) {
      return /[0-9.]+px$/.test(e) ? function (e, t) {
        var n = Math.pow(10, t);
        return Math.round(e * n) / n;
      }(72 * parseInt(e, 10) / 96, t || 0) + "pt" : e;
    }
  },
      jz = Mn.each,
      qz = Mn.map,
      $z = Mn.inArray,
      Wz = (Kz.prototype.execCommand = function (t, n, r, e) {
    var o,
        i,
        a = !1,
        u = this;

    if (!u.editor.removed) {
      if (/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t) || e && e.skip_focus ? Jf(u.editor) : u.editor.focus(), (e = u.editor.fire("BeforeExecCommand", {
        command: t,
        ui: n,
        value: r
      })).isDefaultPrevented()) return !1;
      if (i = t.toLowerCase(), o = u.commands.exec[i]) return o(i, n, r), u.editor.fire("ExecCommand", {
        command: t,
        ui: n,
        value: r
      }), !0;
      if (jz(this.editor.plugins, function (e) {
        if (e.execCommand && e.execCommand(t, n, r)) return u.editor.fire("ExecCommand", {
          command: t,
          ui: n,
          value: r
        }), !(a = !0);
      }), a) return a;
      if (u.editor.theme && u.editor.theme.execCommand && u.editor.theme.execCommand(t, n, r)) return u.editor.fire("ExecCommand", {
        command: t,
        ui: n,
        value: r
      }), !0;

      try {
        a = u.editor.getDoc().execCommand(t, n, r);
      } catch (s) {}

      return !!a && (u.editor.fire("ExecCommand", {
        command: t,
        ui: n,
        value: r
      }), !0);
    }
  }, Kz.prototype.queryCommandState = function (e) {
    var t;

    if (!this.editor.quirks.isHidden() && !this.editor.removed) {
      if (e = e.toLowerCase(), t = this.commands.state[e]) return t(e);

      try {
        return this.editor.getDoc().queryCommandState(e);
      } catch (n) {}

      return !1;
    }
  }, Kz.prototype.queryCommandValue = function (e) {
    var t;

    if (!this.editor.quirks.isHidden() && !this.editor.removed) {
      if (e = e.toLowerCase(), t = this.commands.value[e]) return t(e);

      try {
        return this.editor.getDoc().queryCommandValue(e);
      } catch (n) {}
    }
  }, Kz.prototype.addCommands = function (e, n) {
    var r = this;
    n = n || "exec", jz(e, function (t, e) {
      jz(e.toLowerCase().split(","), function (e) {
        r.commands[n][e] = t;
      });
    });
  }, Kz.prototype.addCommand = function (e, o, i) {
    var a = this;
    e = e.toLowerCase(), this.commands.exec[e] = function (e, t, n, r) {
      return o.call(i || a.editor, t, n, r);
    };
  }, Kz.prototype.queryCommandSupported = function (e) {
    if (e = e.toLowerCase(), this.commands.exec[e]) return !0;

    try {
      return this.editor.getDoc().queryCommandSupported(e);
    } catch (t) {}

    return !1;
  }, Kz.prototype.addQueryStateHandler = function (e, t, n) {
    var r = this;
    e = e.toLowerCase(), this.commands.state[e] = function () {
      return t.call(n || r.editor);
    };
  }, Kz.prototype.addQueryValueHandler = function (e, t, n) {
    var r = this;
    e = e.toLowerCase(), this.commands.value[e] = function () {
      return t.call(n || r.editor);
    };
  }, Kz.prototype.hasCustomCommand = function (e) {
    return e = e.toLowerCase(), !!this.commands.exec[e];
  }, Kz.prototype.execNativeCommand = function (e, t, n) {
    return t === undefined && (t = !1), n === undefined && (n = null), this.editor.getDoc().execCommand(e, t, n);
  }, Kz.prototype.isFormatMatch = function (e) {
    return this.editor.formatter.match(e);
  }, Kz.prototype.toggleFormat = function (e, t) {
    this.editor.formatter.toggle(e, t ? {
      value: t
    } : undefined), this.editor.nodeChanged();
  }, Kz.prototype.storeSelection = function (e) {
    this.selectionBookmark = this.editor.selection.getBookmark(e);
  }, Kz.prototype.restoreSelection = function () {
    this.editor.selection.moveToBookmark(this.selectionBookmark);
  }, Kz.prototype.setupCommands = function (i) {
    var a = this;

    function e(n) {
      return function () {
        var e = i.selection.isCollapsed() ? [i.dom.getParent(i.selection.getNode(), i.dom.isBlock)] : i.selection.getSelectedBlocks(),
            t = qz(e, function (e) {
          return !!i.formatter.matchNode(e, n);
        });
        return -1 !== $z(t, !0);
      };
    }

    this.addCommands({
      "mceResetDesignMode,mceBeginUndoLevel": function mceResetDesignModeMceBeginUndoLevel() {},
      "mceEndUndoLevel,mceAddUndoLevel": function mceEndUndoLevelMceAddUndoLevel() {
        i.undoManager.add();
      },
      "Cut,Copy,Paste": function CutCopyPaste(e) {
        var t,
            n = i.getDoc();

        try {
          a.execNativeCommand(e);
        } catch (o) {
          t = !0;
        }

        if ("paste" !== e || n.queryCommandEnabled(e) || (t = !0), t || !n.queryCommandSupported(e)) {
          var r = i.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");
          Nn.mac && (r = r.replace(/Ctrl\+/g, "\u2318+")), i.notificationManager.open({
            text: r,
            type: "error"
          });
        }
      },
      unlink: function unlink() {
        if (i.selection.isCollapsed()) {
          var e = i.dom.getParent(i.selection.getStart(), "a");
          e && i.dom.remove(e, !0);
        } else i.formatter.remove("link");
      },
      "JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone": function JustifyLeftJustifyCenterJustifyRightJustifyFullJustifyNone(e) {
        var t = e.substring(7);
        "full" === t && (t = "justify"), jz("left,center,right,justify".split(","), function (e) {
          t !== e && i.formatter.remove("align" + e);
        }), "none" !== t && a.toggleFormat("align" + t);
      },
      "InsertUnorderedList,InsertOrderedList": function InsertUnorderedListInsertOrderedList(e) {
        var t, n;
        a.execNativeCommand(e), (t = i.dom.getParent(i.selection.getNode(), "ol,ul")) && (n = t.parentNode, /^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName) && (a.storeSelection(), i.dom.split(n, t), a.restoreSelection()));
      },
      "Bold,Italic,Underline,Strikethrough,Superscript,Subscript": function BoldItalicUnderlineStrikethroughSuperscriptSubscript(e) {
        a.toggleFormat(e);
      },
      "ForeColor,HiliteColor": function ForeColorHiliteColor(e, t, n) {
        a.toggleFormat(e, n);
      },
      FontName: function FontName(e, t, n) {
        hx(i, n);
      },
      FontSize: function FontSize(e, t, n) {
        !function (e, t) {
          e.formatter.toggle("fontsize", {
            value: dx(e, t)
          }), e.nodeChanged();
        }(i, n);
      },
      RemoveFormat: function RemoveFormat(e) {
        i.formatter.remove(e);
      },
      mceBlockQuote: function mceBlockQuote() {
        a.toggleFormat("blockquote");
      },
      FormatBlock: function FormatBlock(e, t, n) {
        return a.toggleFormat(n || "p");
      },
      mceCleanup: function mceCleanup() {
        var e = i.selection.getBookmark();
        i.setContent(i.getContent()), i.selection.moveToBookmark(e);
      },
      mceRemoveNode: function mceRemoveNode(e, t, n) {
        var r = n || i.selection.getNode();
        r !== i.getBody() && (a.storeSelection(), i.dom.remove(r, !0), a.restoreSelection());
      },
      mceSelectNodeDepth: function mceSelectNodeDepth(e, t, n) {
        var r = 0;
        i.dom.getParent(i.selection.getNode(), function (e) {
          if (1 === e.nodeType && r++ === n) return i.selection.select(e), !1;
        }, i.getBody());
      },
      mceSelectNode: function mceSelectNode(e, t, n) {
        i.selection.select(n);
      },
      mceInsertContent: function mceInsertContent(e, t, n) {
        Vz(i, n);
      },
      mceInsertRawHTML: function mceInsertRawHTML(e, t, n) {
        i.selection.setContent("tiny_mce_marker");
        var r = i.getContent();
        i.setContent(r.replace(/tiny_mce_marker/g, function () {
          return n;
        }));
      },
      mceInsertNewLine: function mceInsertNewLine(e, t, n) {
        gz(i, n);
      },
      mceToggleFormat: function mceToggleFormat(e, t, n) {
        a.toggleFormat(n);
      },
      mceSetContent: function mceSetContent(e, t, n) {
        i.setContent(n);
      },
      "Indent,Outdent": function IndentOutdent(e) {
        _C(i, e);
      },
      mceRepaint: function mceRepaint() {},
      InsertHorizontalRule: function InsertHorizontalRule() {
        i.execCommand("mceInsertContent", !1, "<hr />");
      },
      mceToggleVisualAid: function mceToggleVisualAid() {
        i.hasVisual = !i.hasVisual, i.addVisual();
      },
      mceReplaceContent: function mceReplaceContent(e, t, n) {
        i.execCommand("mceInsertContent", !1, n.replace(/\{\$selection\}/g, i.selection.getContent({
          format: "text"
        })));
      },
      mceInsertLink: function mceInsertLink(e, t, n) {
        var r;
        "string" == typeof n && (n = {
          href: n
        }), r = i.dom.getParent(i.selection.getNode(), "a"), n.href = n.href.replace(/ /g, "%20"), r && n.href || i.formatter.remove("link"), n.href && i.formatter.apply("link", n, r);
      },
      selectAll: function selectAll() {
        var e = i.dom.getParent(i.selection.getStart(), Ge.isContentEditableTrue);

        if (e) {
          var t = i.dom.createRng();
          t.selectNodeContents(e), i.selection.setRng(t);
        }
      },
      "delete": function _delete() {
        Iz(i);
      },
      forwardDelete: function forwardDelete() {
        Fz(i);
      },
      mceNewDocument: function mceNewDocument() {
        i.setContent("");
      },
      InsertLineBreak: function InsertLineBreak(e, t, n) {
        return lz(i, n), !0;
      }
    }), a.addCommands({
      JustifyLeft: e("alignleft"),
      JustifyCenter: e("aligncenter"),
      JustifyRight: e("alignright"),
      JustifyFull: e("alignjustify"),
      "Bold,Italic,Underline,Strikethrough,Superscript,Subscript": function BoldItalicUnderlineStrikethroughSuperscriptSubscript(e) {
        return a.isFormatMatch(e);
      },
      mceBlockQuote: function mceBlockQuote() {
        return a.isFormatMatch("blockquote");
      },
      Outdent: function Outdent() {
        return RC(i);
      },
      "InsertUnorderedList,InsertOrderedList": function InsertUnorderedListInsertOrderedList(e) {
        var t = i.dom.getParent(i.selection.getNode(), "ul,ol");
        return t && ("insertunorderedlist" === e && "UL" === t.tagName || "insertorderedlist" === e && "OL" === t.tagName);
      }
    }, "state"), a.addCommands({
      Undo: function Undo() {
        i.undoManager.undo();
      },
      Redo: function Redo() {
        i.undoManager.redo();
      }
    }), a.addQueryValueHandler("FontName", function () {
      return function (t) {
        return fx(t).fold(function () {
          return lx(t).map(function (e) {
            return Uz.getFontFamily(t.getBody(), e);
          }).getOr("");
        }, function (e) {
          return Uz.getFontFamily(t.getBody(), e);
        });
      }(i);
    }, this), a.addQueryValueHandler("FontSize", function () {
      return function (t) {
        return fx(t).fold(function () {
          return lx(t).map(function (e) {
            return Uz.getFontSize(t.getBody(), e);
          }).getOr("");
        }, function (e) {
          return Uz.getFontSize(t.getBody(), e);
        });
      }(i);
    }, this);
  }, Kz);

  function Kz(e) {
    this.commands = {
      state: {},
      exec: {},
      value: {}
    }, this.editor = e, this.setupCommands(e);
  }

  var Xz = Mn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel", " "),
      Yz = (Gz.isNative = function (e) {
    return !!Xz[e.toLowerCase()];
  }, Gz.prototype.fire = function (e, t) {
    var n, r, o, i;
    if (e = e.toLowerCase(), (t = t || {}).type = e, t.target || (t.target = this.scope), t.preventDefault || (t.preventDefault = function () {
      t.isDefaultPrevented = a;
    }, t.stopPropagation = function () {
      t.isPropagationStopped = a;
    }, t.stopImmediatePropagation = function () {
      t.isImmediatePropagationStopped = a;
    }, t.isDefaultPrevented = c, t.isPropagationStopped = c, t.isImmediatePropagationStopped = c), this.settings.beforeFire && this.settings.beforeFire(t), n = this.bindings[e]) for (r = 0, o = n.length; r < o; r++) {
      if ((i = n[r]).once && this.off(e, i.func), t.isImmediatePropagationStopped()) return t.stopPropagation(), t;
      if (!1 === i.func.call(this.scope, t)) return t.preventDefault(), t;
    }
    return t;
  }, Gz.prototype.on = function (e, t, n, r) {
    var o, i, a;

    if (!1 === t && (t = c), t) {
      var u = {
        func: t
      };

      for (r && Mn.extend(u, r), a = (i = e.toLowerCase().split(" ")).length; a--;) {
        e = i[a], (o = this.bindings[e]) || (o = this.bindings[e] = [], this.toggleEvent(e, !0)), n ? o.unshift(u) : o.push(u);
      }
    }

    return this;
  }, Gz.prototype.off = function (e, t) {
    var n, r, o, i, a;
    if (e) for (n = (i = e.toLowerCase().split(" ")).length; n--;) {
      if (e = i[n], r = this.bindings[e], !e) {
        for (o in this.bindings) {
          this.toggleEvent(o, !1), delete this.bindings[o];
        }

        return this;
      }

      if (r) {
        if (t) for (a = r.length; a--;) {
          r[a].func === t && (r = r.slice(0, a).concat(r.slice(a + 1)), this.bindings[e] = r);
        } else r.length = 0;
        r.length || (this.toggleEvent(e, !1), delete this.bindings[e]);
      }
    } else {
      for (e in this.bindings) {
        this.toggleEvent(e, !1);
      }

      this.bindings = {};
    }
    return this;
  }, Gz.prototype.once = function (e, t, n) {
    return this.on(e, t, n, {
      once: !0
    });
  }, Gz.prototype.has = function (e) {
    return e = e.toLowerCase(), !(!this.bindings[e] || 0 === this.bindings[e].length);
  }, Gz);

  function Gz(e) {
    this.bindings = {}, this.settings = e || {}, this.scope = this.settings.scope || this, this.toggleEvent = this.settings.toggleEvent || c;
  }

  function Jz(n) {
    return n._eventDispatcher || (n._eventDispatcher = new Yz({
      scope: n,
      toggleEvent: function toggleEvent(e, t) {
        Yz.isNative(e) && n.toggleNativeEvent && n.toggleNativeEvent(e, t);
      }
    })), n._eventDispatcher;
  }

  function Qz(e, t) {
    return "selectionchange" === t ? e.getDoc() : !e.inline && /^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t) ? e.getDoc().documentElement : e.settings.event_root ? (e.eventRoot || (e.eventRoot = rE.select(e.settings.event_root)[0]), e.eventRoot) : e.getBody();
  }

  function Zz(e, t, n) {
    !function (e) {
      return !e.hidden && !Gw(e);
    }(e) ? Gw(e) && function (e) {
      var t = e.target;
      !function (e) {
        return "click" === e.type;
      }(e) || "A" !== t.tagName || Ah.metaKeyPressed(e) || e.preventDefault();
    }(n) : e.fire(t, n);
  }

  function eE(i, a) {
    var e, t;
    if (i.delegates || (i.delegates = {}), !i.delegates[a] && !i.removed) if (e = Qz(i, a), i.settings.event_root) {
      if (tE || (tE = {}, i.editorManager.on("removeEditor", function () {
        var e;

        if (!i.editorManager.activeEditor && tE) {
          for (e in tE) {
            i.dom.unbind(Qz(i, e));
          }

          tE = null;
        }
      })), tE[a]) return;
      t = function t(e) {
        for (var t = e.target, n = i.editorManager.get(), r = n.length; r--;) {
          var o = n[r].getBody();
          o !== t && !rE.isChildOf(t, o) || Zz(n[r], a, e);
        }
      }, tE[a] = t, rE.bind(e, a, t);
    } else t = function t(e) {
      Zz(i, a, e);
    }, rE.bind(e, a, t), i.delegates[a] = t;
  }

  var tE,
      nE = {
    fire: function fire(e, t, n) {
      if (this.removed && "remove" !== e && "detach" !== e) return t;
      var r = Jz(this).fire(e, t);
      if (!1 !== n && this.parent) for (var o = this.parent(); o && !r.isPropagationStopped();) {
        o.fire(e, r, !1), o = o.parent();
      }
      return r;
    },
    on: function on(e, t, n) {
      return Jz(this).on(e, t, n);
    },
    off: function off(e, t) {
      return Jz(this).off(e, t);
    },
    once: function once(e, t) {
      return Jz(this).once(e, t);
    },
    hasEventListeners: function hasEventListeners(e) {
      return Jz(this).has(e);
    }
  },
      rE = Xi.DOM,
      oE = _G(_G({}, nE), {
    bindPendingEventDelegates: function bindPendingEventDelegates() {
      var t = this;
      Mn.each(t._pendingNativeEvents, function (e) {
        eE(t, e);
      });
    },
    toggleNativeEvent: function toggleNativeEvent(e, t) {
      var n = this;
      "focus" !== e && "blur" !== e && (t ? n.initialized ? eE(n, e) : n._pendingNativeEvents ? n._pendingNativeEvents.push(e) : n._pendingNativeEvents = [e] : n.initialized && (n.dom.unbind(Qz(n, e), e, n.delegates[e]), delete n.delegates[e]));
    },
    unbindAllNativeEvents: function unbindAllNativeEvents() {
      var e,
          t = this,
          n = t.getBody(),
          r = t.dom;

      if (t.delegates) {
        for (e in t.delegates) {
          t.dom.unbind(Qz(t, e), e, t.delegates[e]);
        }

        delete t.delegates;
      }

      !t.inline && n && r && (n.onload = null, r.unbind(t.getWin()), r.unbind(t.getDoc())), r && (r.unbind(n), r.unbind(t.getContainer()));
    }
  }),
      iE = Mn.each,
      aE = Mn.explode,
      uE = {
    f1: 112,
    f2: 113,
    f3: 114,
    f4: 115,
    f5: 116,
    f6: 117,
    f7: 118,
    f8: 119,
    f9: 120,
    f10: 121,
    f11: 122,
    f12: 123
  },
      sE = Mn.makeMap("alt,ctrl,shift,meta,access"),
      cE = (lE.prototype.add = function (e, n, r, o) {
    var t,
        i = this;
    return "string" == typeof (t = r) ? r = function r() {
      i.editor.execCommand(t, !1, null);
    } : Mn.isArray(t) && (r = function r() {
      i.editor.execCommand(t[0], t[1], t[2]);
    }), iE(aE(Mn.trim(e)), function (e) {
      var t = i.createShortcut(e, n, r, o);
      i.shortcuts[t.id] = t;
    }), !0;
  }, lE.prototype.remove = function (e) {
    var t = this.createShortcut(e);
    return !!this.shortcuts[t.id] && (delete this.shortcuts[t.id], !0);
  }, lE.prototype.parseShortcut = function (e) {
    var t,
        n,
        r = {};

    for (n in iE(aE(e.toLowerCase(), "+"), function (e) {
      e in sE ? r[e] = !0 : /^[0-9]{2,}$/.test(e) ? r.keyCode = parseInt(e, 10) : (r.charCode = e.charCodeAt(0), r.keyCode = uE[e] || e.toUpperCase().charCodeAt(0));
    }), t = [r.keyCode], sE) {
      r[n] ? t.push(n) : r[n] = !1;
    }

    return r.id = t.join(","), r.access && (r.alt = !0, Nn.mac ? r.ctrl = !0 : r.shift = !0), r.meta && (Nn.mac ? r.meta = !0 : (r.ctrl = !0, r.meta = !1)), r;
  }, lE.prototype.createShortcut = function (e, t, n, r) {
    var o;
    return (o = Mn.map(aE(e, ">"), this.parseShortcut))[o.length - 1] = Mn.extend(o[o.length - 1], {
      func: n,
      scope: r || this.editor
    }), Mn.extend(o[0], {
      desc: this.editor.translate(t),
      subpatterns: o.slice(1)
    });
  }, lE.prototype.hasModifier = function (e) {
    return e.altKey || e.ctrlKey || e.metaKey;
  }, lE.prototype.isFunctionKey = function (e) {
    return "keydown" === e.type && 112 <= e.keyCode && e.keyCode <= 123;
  }, lE.prototype.matchShortcut = function (e, t) {
    return !!t && t.ctrl === e.ctrlKey && t.meta === e.metaKey && t.alt === e.altKey && t.shift === e.shiftKey && !!(e.keyCode === t.keyCode || e.charCode && e.charCode === t.charCode) && (e.preventDefault(), !0);
  }, lE.prototype.executeShortcutAction = function (e) {
    return e.func ? e.func.call(e.scope) : null;
  }, lE);

  function lE(e) {
    this.shortcuts = {}, this.pendingPatterns = [], this.editor = e;
    var n = this;
    e.on("keyup keypress keydown", function (t) {
      !n.hasModifier(t) && !n.isFunctionKey(t) || t.isDefaultPrevented() || (iE(n.shortcuts, function (e) {
        if (n.matchShortcut(t, e)) return n.pendingPatterns = e.subpatterns.slice(0), "keydown" === t.type && n.executeShortcutAction(e), !0;
      }), n.matchShortcut(t, n.pendingPatterns[0]) && (1 === n.pendingPatterns.length && "keydown" === t.type && n.executeShortcutAction(n.pendingPatterns[0]), n.pendingPatterns.shift()));
    });
  }

  var fE = Mn.each,
      dE = Mn.trim,
      hE = "source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),
      mE = {
    ftp: 21,
    http: 80,
    https: 443,
    mailto: 25
  },
      gE = (pE.parseDataUri = function (e) {
    var t,
        n = decodeURIComponent(e).split(","),
        r = /data:([^;]+)/.exec(n[0]);
    return r && (t = r[1]), {
      type: t,
      data: n[1]
    };
  }, pE.getDocumentBaseUrl = function (e) {
    var t;
    return t = 0 !== e.protocol.indexOf("http") && "file:" !== e.protocol ? e.href : e.protocol + "//" + e.host + e.pathname, /^[^:]+:\/\/\/?[^\/]+\//.test(t) && (t = t.replace(/[\?#].*$/, "").replace(/[\/\\][^\/]+$/, ""), /[\/\\]$/.test(t) || (t += "/")), t;
  }, pE.prototype.setPath = function (e) {
    var t = /^(.*?)\/?(\w+)?$/.exec(e);
    this.path = t[0], this.directory = t[1], this.file = t[2], this.source = "", this.getURI();
  }, pE.prototype.toRelative = function (e) {
    var t;
    if ("./" === e) return e;
    var n = new pE(e, {
      base_uri: this
    });
    if ("mce_host" !== n.host && this.host !== n.host && n.host || this.port !== n.port || this.protocol !== n.protocol && "" !== n.protocol) return n.getURI();
    var r = this.getURI(),
        o = n.getURI();
    return r === o || "/" === r.charAt(r.length - 1) && r.substr(0, r.length - 1) === o ? r : (t = this.toRelPath(this.path, n.path), n.query && (t += "?" + n.query), n.anchor && (t += "#" + n.anchor), t);
  }, pE.prototype.toAbsolute = function (e, t) {
    var n = new pE(e, {
      base_uri: this
    });
    return n.getURI(t && this.isSameOrigin(n));
  }, pE.prototype.isSameOrigin = function (e) {
    if (this.host == e.host && this.protocol == e.protocol) {
      if (this.port == e.port) return !0;
      var t = mE[this.protocol];
      if (t && (this.port || t) == (e.port || t)) return !0;
    }

    return !1;
  }, pE.prototype.toRelPath = function (e, t) {
    var n,
        r,
        o,
        i = 0,
        a = "",
        u = e.substring(0, e.lastIndexOf("/")).split("/");
    if (n = t.split("/"), u.length >= n.length) for (r = 0, o = u.length; r < o; r++) {
      if (r >= n.length || u[r] !== n[r]) {
        i = r + 1;
        break;
      }
    }
    if (u.length < n.length) for (r = 0, o = n.length; r < o; r++) {
      if (r >= u.length || u[r] !== n[r]) {
        i = r + 1;
        break;
      }
    }
    if (1 === i) return t;

    for (r = 0, o = u.length - (i - 1); r < o; r++) {
      a += "../";
    }

    for (r = i - 1, o = n.length; r < o; r++) {
      a += r !== i - 1 ? "/" + n[r] : n[r];
    }

    return a;
  }, pE.prototype.toAbsPath = function (e, t) {
    var n,
        r,
        o,
        i = 0,
        a = [];
    r = /\/$/.test(t) ? "/" : "";
    var u = e.split("/"),
        s = t.split("/");

    for (fE(u, function (e) {
      e && a.push(e);
    }), u = a, n = s.length - 1, a = []; 0 <= n; n--) {
      0 !== s[n].length && "." !== s[n] && (".." !== s[n] ? 0 < i ? i-- : a.push(s[n]) : i++);
    }

    return 0 !== (o = (n = u.length - i) <= 0 ? a.reverse().join("/") : u.slice(0, n).join("/") + "/" + a.reverse().join("/")).indexOf("/") && (o = "/" + o), r && o.lastIndexOf("/") !== o.length - 1 && (o += r), o;
  }, pE.prototype.getURI = function (e) {
    var t;
    return void 0 === e && (e = !1), this.source && !e || (t = "", e || (this.protocol ? t += this.protocol + "://" : t += "//", this.userInfo && (t += this.userInfo + "@"), this.host && (t += this.host), this.port && (t += ":" + this.port)), this.path && (t += this.path), this.query && (t += "?" + this.query), this.anchor && (t += "#" + this.anchor), this.source = t), this.source;
  }, pE);

  function pE(e, t) {
    e = dE(e), this.settings = t || {};
    var n = this.settings.base_uri,
        r = this;
    if (/^([\w\-]+):([^\/]{2})/i.test(e) || /^\s*#/.test(e)) r.source = e;else {
      var o = 0 === e.indexOf("//");

      if (0 !== e.indexOf("/") || o || (e = (n && n.protocol || "http") + "://mce_host" + e), !/^[\w\-]*:?\/\//.test(e)) {
        var i = this.settings.base_uri ? this.settings.base_uri.path : new pE(j.document.location.href).directory;
        if (this.settings.base_uri && "" == this.settings.base_uri.protocol) e = "//mce_host" + r.toAbsPath(i, e);else {
          var a = /([^#?]*)([#?]?.*)/.exec(e);
          e = (n && n.protocol || "http") + "://mce_host" + r.toAbsPath(i, a[1]) + a[2];
        }
      }

      e = e.replace(/@@/g, "(mce_at)");
      var u = /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);
      fE(hE, function (e, t) {
        var n = u[t];
        n = n && n.replace(/\(mce_at\)/g, "@@"), r[e] = n;
      }), n && (r.protocol || (r.protocol = n.protocol), r.userInfo || (r.userInfo = n.userInfo), r.port || "mce_host" !== r.host || (r.port = n.port), r.host && "mce_host" !== r.host || (r.host = n.host), r.source = ""), o && (r.protocol = "");
    }
  }

  function vE() {
    var e = function () {
      function e(n, r) {
        return function (e, t) {
          return n[e.toLowerCase()] = _G(_G({}, t), {
            type: r
          });
        };
      }

      var t = {},
          n = {},
          r = {},
          o = {},
          i = {},
          a = {},
          u = {};
      return {
        addButton: e(t, "button"),
        addToggleButton: e(t, "togglebutton"),
        addMenuButton: e(t, "menubutton"),
        addSplitButton: e(t, "splitbutton"),
        addMenuItem: e(n, "menuitem"),
        addNestedMenuItem: e(n, "nestedmenuitem"),
        addToggleMenuItem: e(n, "togglemenuitem"),
        addAutocompleter: e(r, "autocompleter"),
        addContextMenu: e(i, "contextmenu"),
        addContextToolbar: e(a, "contexttoolbar"),
        addContextForm: e(a, "contextform"),
        addSidebar: e(u, "sidebar"),
        addIcon: function addIcon(e, t) {
          return o[e.toLowerCase()] = t;
        },
        getAll: function getAll() {
          return {
            buttons: t,
            menuItems: n,
            icons: o,
            popups: r,
            contextMenus: i,
            contextToolbars: a,
            sidebars: u
          };
        }
      };
    }();

    return {
      addAutocompleter: e.addAutocompleter,
      addButton: e.addButton,
      addContextForm: e.addContextForm,
      addContextMenu: e.addContextMenu,
      addContextToolbar: e.addContextToolbar,
      addIcon: e.addIcon,
      addMenuButton: e.addMenuButton,
      addMenuItem: e.addMenuItem,
      addNestedMenuItem: e.addNestedMenuItem,
      addSidebar: e.addSidebar,
      addSplitButton: e.addSplitButton,
      addToggleButton: e.addToggleButton,
      addToggleMenuItem: e.addToggleMenuItem,
      getAll: e.getAll
    };
  }

  var yE = Xi.DOM,
      bE = Mn.extend,
      CE = Mn.each,
      wE = Mn.resolve,
      xE = Nn.ie,
      zE = (EE.prototype.render = function () {
    Dz(this);
  }, EE.prototype.focus = function (e) {
    ad(this, e);
  }, EE.prototype.hasFocus = function () {
    return ud(this);
  }, EE.prototype.execCallback = function (e) {
    for (var t = [], n = 1; n < arguments.length; n++) {
      t[n - 1] = arguments[n];
    }

    var r,
        o = this.settings[e];
    if (o) return this.callbackLookup && (r = this.callbackLookup[e]) && (o = r.func, r = r.scope), "string" == typeof o && (r = (r = o.replace(/\.\w+$/, "")) ? wE(r) : 0, o = wE(o), this.callbackLookup = this.callbackLookup || {}, this.callbackLookup[e] = {
      func: o,
      scope: r
    }), o.apply(r || this, Array.prototype.slice.call(arguments, 1));
  }, EE.prototype.translate = function (e) {
    return ra.translate(e);
  }, EE.prototype.getParam = function (e, t, n) {
    return ef(this, e, t, n);
  }, EE.prototype.nodeChanged = function (e) {
    this._nodeChangeDispatcher.nodeChanged(e);
  }, EE.prototype.addCommand = function (e, t, n) {
    this.editorCommands.addCommand(e, t, n);
  }, EE.prototype.addQueryStateHandler = function (e, t, n) {
    this.editorCommands.addQueryStateHandler(e, t, n);
  }, EE.prototype.addQueryValueHandler = function (e, t, n) {
    this.editorCommands.addQueryValueHandler(e, t, n);
  }, EE.prototype.addShortcut = function (e, t, n, r) {
    this.shortcuts.add(e, t, n, r);
  }, EE.prototype.execCommand = function (e, t, n, r) {
    return this.editorCommands.execCommand(e, t, n, r);
  }, EE.prototype.queryCommandState = function (e) {
    return this.editorCommands.queryCommandState(e);
  }, EE.prototype.queryCommandValue = function (e) {
    return this.editorCommands.queryCommandValue(e);
  }, EE.prototype.queryCommandSupported = function (e) {
    return this.editorCommands.queryCommandSupported(e);
  }, EE.prototype.show = function () {
    this.hidden && (this.hidden = !1, this.inline ? this.getBody().contentEditable = "true" : (yE.show(this.getContainer()), yE.hide(this.id)), this.load(), this.fire("show"));
  }, EE.prototype.hide = function () {
    var e = this,
        t = e.getDoc();
    e.hidden || (xE && t && !e.inline && t.execCommand("SelectAll"), e.save(), e.inline ? (e.getBody().contentEditable = "false", e === e.editorManager.focusedEditor && (e.editorManager.focusedEditor = null)) : (yE.hide(e.getContainer()), yE.setStyle(e.id, "display", e.orgDisplay)), e.hidden = !0, e.fire("hide"));
  }, EE.prototype.isHidden = function () {
    return !!this.hidden;
  }, EE.prototype.setProgressState = function (e, t) {
    this.fire("ProgressState", {
      state: e,
      time: t
    });
  }, EE.prototype.load = function (e) {
    var t,
        n = this.getElement();
    if (this.removed) return "";

    if (n) {
      (e = e || {}).load = !0;
      var r = Ge.isTextareaOrInput(n) ? n.value : n.innerHTML;
      return t = this.setContent(r, e), e.element = n, e.no_events || this.fire("LoadContent", e), e.element = n = null, t;
    }
  }, EE.prototype.save = function (e) {
    var t,
        n,
        r = this,
        o = r.getElement();
    if (o && r.initialized && !r.removed) return (e = e || {}).save = !0, e.element = o, e.content = r.getContent(e), e.no_events || r.fire("SaveContent", e), "raw" === e.format && r.fire("RawSaveContent", e), t = e.content, Ge.isTextareaOrInput(o) ? o.value = t : (!e.is_removing && r.inline || (o.innerHTML = t), (n = yE.getParent(r.id, "form")) && CE(n.elements, function (e) {
      if (e.name === r.id) return e.value = t, !1;
    })), e.element = o = null, !1 !== e.set_dirty && r.setDirty(!1), t;
  }, EE.prototype.setContent = function (e, t) {
    return jl(this, e, t);
  }, EE.prototype.getContent = function (e) {
    return function (t, n) {
      return void 0 === n && (n = {}), k.from(t.getBody()).fold($("tree" === n.format ? new ul("body", 11) : ""), function (e) {
        return ml(t, n, e);
      });
    }(this, e);
  }, EE.prototype.insertContent = function (e, t) {
    t && (e = bE({
      content: e
    }, t)), this.execCommand("mceInsertContent", !1, e);
  }, EE.prototype.resetContent = function (e) {
    e === undefined ? jl(this, this.startContent, {
      format: "raw"
    }) : jl(this, e), this.undoManager.reset(), this.setDirty(!1), this.nodeChanged();
  }, EE.prototype.isDirty = function () {
    return !this.isNotDirty;
  }, EE.prototype.setDirty = function (e) {
    var t = !this.isNotDirty;
    this.isNotDirty = !e, e && e !== t && this.fire("dirty");
  }, EE.prototype.getContainer = function () {
    return this.container || (this.container = yE.get(this.editorContainer || this.id + "_parent")), this.container;
  }, EE.prototype.getContentAreaContainer = function () {
    return this.contentAreaContainer;
  }, EE.prototype.getElement = function () {
    return this.targetElm || (this.targetElm = yE.get(this.id)), this.targetElm;
  }, EE.prototype.getWin = function () {
    var e;
    return this.contentWindow || (e = this.iframeElement) && (this.contentWindow = e.contentWindow), this.contentWindow;
  }, EE.prototype.getDoc = function () {
    var e;
    return this.contentDocument || (e = this.getWin()) && (this.contentDocument = e.document), this.contentDocument;
  }, EE.prototype.getBody = function () {
    var e = this.getDoc();
    return this.bodyElement || (e ? e.body : null);
  }, EE.prototype.convertURL = function (e, t, n) {
    var r = this.settings;
    return r.urlconverter_callback ? this.execCallback("urlconverter_callback", e, n, !0, t) : !r.convert_urls || n && "LINK" === n.nodeName || 0 === e.indexOf("file:") || 0 === e.length ? e : r.relative_urls ? this.documentBaseURI.toRelative(e) : e = this.documentBaseURI.toAbsolute(e, r.remove_script_host);
  }, EE.prototype.addVisual = function (e) {
    var n,
        r = this,
        o = r.settings,
        i = r.dom;
    e = e || r.getBody(), r.hasVisual === undefined && (r.hasVisual = o.visual), CE(i.select("table,a", e), function (e) {
      var t;

      switch (e.nodeName) {
        case "TABLE":
          return n = o.visual_table_class || "mce-item-table", void ((t = i.getAttrib(e, "border")) && "0" !== t || !r.hasVisual ? i.removeClass(e, n) : i.addClass(e, n));

        case "A":
          return void (i.getAttrib(e, "href") || (t = i.getAttrib(e, "name") || e.id, n = o.visual_anchor_class || "mce-item-anchor", t && r.hasVisual ? i.addClass(e, n) : i.removeClass(e, n)));
      }
    }), r.fire("VisualAid", {
      element: e,
      hasVisual: r.hasVisual
    });
  }, EE.prototype.remove = function () {
    $l(this);
  }, EE.prototype.destroy = function (e) {
    Wl(this, e);
  }, EE.prototype.uploadImages = function (e) {
    return this.editorUpload.uploadImages(e);
  }, EE.prototype._scanForImages = function () {
    return this.editorUpload.scanForImages();
  }, EE.prototype.addButton = function () {
    throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead");
  }, EE.prototype.addSidebar = function () {
    throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead");
  }, EE.prototype.addMenuItem = function () {
    throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead");
  }, EE.prototype.addContextToolbar = function () {
    throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead");
  }, EE);

  function EE(e, t, n) {
    var r = this;
    this.plugins = {}, this.contentCSS = [], this.contentStyles = [], this.loadedCSS = {}, this.isNotDirty = !1, this.editorManager = n, this.documentBaseUrl = n.documentBaseURL, bE(this, oE), this.settings = Ql(this, e, this.documentBaseUrl, n.defaultSettings, t), this.settings.suffix && (n.suffix = this.settings.suffix), this.suffix = n.suffix, this.settings.base_url && n._setBaseUrl(this.settings.base_url), this.baseUri = n.baseURI, this.settings.referrer_policy && (Qi.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy), Xi.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)), ga.languageLoad = this.settings.language_load, ga.baseURL = n.baseURL, this.id = e, this.setDirty(!1), this.documentBaseURI = new gE(this.settings.document_base_url, {
      base_uri: this.baseUri
    }), this.baseURI = this.baseUri, this.inline = !!this.settings.inline, this.shortcuts = new cE(this), this.editorCommands = new Wz(this), this.settings.cache_suffix && (Nn.cacheSuffix = this.settings.cache_suffix.replace(/^[\?\&]+/, "")), this.ui = {
      registry: vE()
    };
    var o = Zw(this);
    this.mode = o, this.setMode = o.set, n.fire("SetupEditor", {
      editor: this
    }), this.execCallback("setup", this), this.$ = vi.overrideDefaults(function () {
      return {
        context: r.inline ? r.getBody() : r.getDoc(),
        element: r.getBody()
      };
    });
  }

  function NE(t) {
    var n = t.type;
    DE(VE.get(), function (e) {
      switch (n) {
        case "scroll":
          e.fire("ScrollWindow", t);
          break;

        case "resize":
          e.fire("ResizeWindow", t);
      }
    });
  }

  function SE(e) {
    e !== OE && (e ? vi(window).on("resize scroll", NE) : vi(window).off("resize scroll", NE), OE = e);
  }

  function kE(t) {
    var e = PE;
    delete HE[t.id];

    for (var n = 0; n < HE.length; n++) {
      if (HE[n] === t) {
        HE.splice(n, 1);
        break;
      }
    }

    return PE = y(PE, function (e) {
      return t !== e;
    }), VE.activeEditor === t && (VE.activeEditor = 0 < PE.length ? PE[0] : null), VE.focusedEditor === t && (VE.focusedEditor = null), e.length !== PE.length;
  }

  var TE,
      AE,
      ME = Xi.DOM,
      RE = Mn.explode,
      DE = Mn.each,
      _E = Mn.extend,
      BE = 0,
      OE = !1,
      HE = [],
      PE = [],
      LE = "CSS1Compat" !== j.document.compatMode,
      VE = _G(_G({}, nE), {
    baseURI: null,
    baseURL: null,
    defaultSettings: {},
    documentBaseURL: null,
    suffix: null,
    $: vi,
    majorVersion: "5",
    minorVersion: "1.5",
    releaseDate: "2019-12-19",
    editors: HE,
    i18n: ra,
    activeEditor: null,
    focusedEditor: null,
    settings: {},
    setup: function setup() {
      var e,
          t,
          n = "";
      t = gE.getDocumentBaseUrl(j.document.location), /^[^:]+:\/\/\/?[^\/]+\//.test(t) && (t = t.replace(/[\?#].*$/, "").replace(/[\/\\][^\/]+$/, ""), /[\/\\]$/.test(t) || (t += "/"));
      var r = window.tinymce || window.tinyMCEPreInit;
      if (r) e = r.base || r.baseURL, n = r.suffix;else {
        for (var o = j.document.getElementsByTagName("script"), i = 0; i < o.length; i++) {
          var a;

          if ("" !== (a = o[i].src || "")) {
            var u = a.substring(a.lastIndexOf("/"));

            if (/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(a)) {
              -1 !== u.indexOf(".min") && (n = ".min"), e = a.substring(0, a.lastIndexOf("/"));
              break;
            }
          }
        }

        if (!e && j.document.currentScript) -1 !== (a = j.document.currentScript.src).indexOf(".min") && (n = ".min"), e = a.substring(0, a.lastIndexOf("/"));
      }
      this.baseURL = new gE(t).toAbsolute(e), this.documentBaseURL = t, this.baseURI = new gE(this.baseURL), this.suffix = n, nd(this);
    },
    overrideDefaults: function overrideDefaults(e) {
      var t, n;
      (t = e.base_url) && this._setBaseUrl(t), n = e.suffix, e.suffix && (this.suffix = n);
      var r = (this.defaultSettings = e).plugin_base_urls;

      for (var o in r) {
        ga.PluginManager.urls[o] = r[o];
      }
    },
    init: function init(r) {
      var n,
          u,
          s = this;
      u = Mn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu", " ");

      function c(e) {
        var t = e.id;
        return t || (t = (t = e.name) && !ME.get(t) ? e.name : ME.uniqueId(), e.setAttribute("id", t)), t;
      }

      function l(e, t) {
        return t.constructor === RegExp ? t.test(e.className) : ME.hasClass(e, t);
      }

      var f = function f(e) {
        n = e;
      },
          e = function e() {
        function n(e, t, n) {
          var r = new zE(e, t, s);
          a.push(r), r.on("init", function () {
            ++i === o.length && f(a);
          }), r.targetElm = r.targetElm || n, r.render();
        }

        var o,
            i = 0,
            a = [];
        ME.unbind(window, "ready", e), function (e) {
          var t = r[e];
          if (t) t.apply(s, Array.prototype.slice.call(arguments, 2));
        }("onpageload"), o = vi.unique(function (t) {
          var e,
              n = [];
          if (Nn.browser.isIE() && Nn.browser.version.major < 11) return Fd.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"), [];
          if (LE) return Fd.initError("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."), [];
          if (t.types) return DE(t.types, function (e) {
            n = n.concat(ME.select(e.selector));
          }), n;
          if (t.selector) return ME.select(t.selector);
          if (t.target) return [t.target];

          switch (t.mode) {
            case "exact":
              0 < (e = t.elements || "").length && DE(RE(e), function (t) {
                var e;
                (e = ME.get(t)) ? n.push(e) : DE(j.document.forms, function (e) {
                  DE(e.elements, function (e) {
                    e.name === t && (t = "mce_editor_" + BE++, ME.setAttrib(e, "id", t), n.push(e));
                  });
                });
              });
              break;

            case "textareas":
            case "specific_textareas":
              DE(ME.select("textarea"), function (e) {
                t.editor_deselector && l(e, t.editor_deselector) || t.editor_selector && !l(e, t.editor_selector) || n.push(e);
              });
          }

          return n;
        }(r)), r.types ? DE(r.types, function (t) {
          Mn.each(o, function (e) {
            return !ME.is(e, t.selector) || (n(c(e), _E({}, r, t), e), !1);
          });
        }) : (Mn.each(o, function (e) {
          !function (e) {
            e && e.initialized && !(e.getContainer() || e.getBody()).parentNode && (kE(e), e.unbindAllNativeEvents(), e.destroy(!0), e.removed = !0, e = null);
          }(s.get(e.id));
        }), 0 === (o = Mn.grep(o, function (e) {
          return !s.get(e.id);
        })).length ? f([]) : DE(o, function (e) {
          !function (e, t) {
            return e.inline && t.tagName.toLowerCase() in u;
          }(r, e) ? n(c(e), r, e) : Fd.initError("Could not initialize inline editor on invalid inline target element", e);
        }));
      };

      return s.settings = r, ME.bind(window, "ready", e), new Zt(function (t) {
        n ? t(n) : f = function f(e) {
          t(e);
        };
      });
    },
    get: function get(t) {
      return 0 === arguments.length ? PE.slice(0) : K(t) ? g(PE, function (e) {
        return e.id === t;
      }).getOr(null) : _(t) && PE[t] ? PE[t] : null;
    },
    add: function add(e) {
      var n = this;
      return HE[e.id] === e || (null === n.get(e.id) && (function (e) {
        return "length" !== e;
      }(e.id) && (HE[e.id] = e), HE.push(e), PE.push(e)), SE(!0), n.activeEditor = e, n.fire("AddEditor", {
        editor: e
      }), TE || (TE = function TE(e) {
        var t = n.fire("BeforeUnload");
        if (t.returnValue) return e.preventDefault(), e.returnValue = t.returnValue, t.returnValue;
      }, window.addEventListener("beforeunload", TE))), e;
    },
    createEditor: function createEditor(e, t) {
      return this.add(new zE(e, t, this));
    },
    remove: function remove(e) {
      var t,
          n,
          r = this;

      if (e) {
        if (!K(e)) return n = e, M(r.get(n.id)) ? null : (kE(n) && r.fire("RemoveEditor", {
          editor: n
        }), 0 === PE.length && window.removeEventListener("beforeunload", TE), n.remove(), SE(0 < PE.length), n);
        DE(ME.select(e), function (e) {
          (n = r.get(e.id)) && r.remove(n);
        });
      } else for (t = PE.length - 1; 0 <= t; t--) {
        r.remove(PE[t]);
      }
    },
    execCommand: function execCommand(e, t, n) {
      var r = this.get(n);

      switch (e) {
        case "mceAddEditor":
          return this.get(n) || new zE(n, this.settings, this).render(), !0;

        case "mceRemoveEditor":
          return r && r.remove(), !0;

        case "mceToggleEditor":
          return r ? r.isHidden() ? r.show() : r.hide() : this.execCommand("mceAddEditor", 0, n), !0;
      }

      return !!this.activeEditor && this.activeEditor.execCommand(e, t, n);
    },
    triggerSave: function triggerSave() {
      DE(PE, function (e) {
        e.save();
      });
    },
    addI18n: function addI18n(e, t) {
      ra.add(e, t);
    },
    translate: function translate(e) {
      return ra.translate(e);
    },
    setActive: function setActive(e) {
      var t = this.activeEditor;
      this.activeEditor !== e && (t && t.fire("deactivate", {
        relatedTarget: e
      }), e.fire("activate", {
        relatedTarget: t
      })), this.activeEditor = e;
    },
    _setBaseUrl: function _setBaseUrl(e) {
      this.baseURL = new gE(this.documentBaseURL).toAbsolute(e.replace(/\/+$/, "")), this.baseURI = new gE(this.baseURL);
    }
  });

  function IE(n) {
    return {
      walk: function walk(e, t) {
        return Gc(n, e, t);
      },
      split: Cm,
      normalize: function normalize(t) {
        return ay(n, t).fold($(!1), function (e) {
          return t.setStart(e.startContainer, e.startOffset), t.setEnd(e.endContainer, e.endOffset), !0;
        });
      }
    };
  }

  VE.setup(), (AE = IE = IE || {}).compareRanges = hh, AE.getCaretRangeFromPoint = $v, AE.getSelectedNode = Wa, AE.getNode = Ka;

  function FE(e, t, n) {
    var r, o, i, a, u, s;
    return r = t.x, o = t.y, i = e.w, a = e.h, u = t.w, s = t.h, "b" === (n = (n || "").split(""))[0] && (o += s), "r" === n[1] && (r += u), "c" === n[0] && (o += JE(s / 2)), "c" === n[1] && (r += JE(u / 2)), "b" === n[3] && (o -= a), "r" === n[4] && (r -= i), "c" === n[3] && (o -= JE(a / 2)), "c" === n[4] && (r -= JE(i / 2)), QE(r, o, i, a);
  }

  function UE() {}

  var jE,
      qE,
      _$E,
      WE,
      KE = IE,
      XE = (jE = {}, qE = {}, {
    load: function load(r, o) {
      var i = 'Script at URL "' + o + '" failed to load',
          a = 'Script at URL "' + o + "\" did not call `tinymce.Resource.add('" + r + "', data)` within 1 second";
      if (jE[r] !== undefined) return jE[r];
      var e = new Zt(function (e, t) {
        var n = function (e, t, n) {
          function r(n) {
            return function () {
              for (var e = [], t = 0; t < arguments.length; t++) {
                e[t] = arguments[t];
              }

              o || (o = !0, null !== i && (j.clearTimeout(i), i = null), n.apply(null, e));
            };
          }

          void 0 === n && (n = 1e3);
          var o = !1,
              i = null,
              a = r(e),
              u = r(t);
          return {
            start: function start() {
              for (var e = [], t = 0; t < arguments.length; t++) {
                e[t] = arguments[t];
              }

              o || null !== i || (i = j.setTimeout(function () {
                return u.apply(null, e);
              }, n));
            },
            resolve: a,
            reject: u
          };
        }(e, t);

        qE[r] = n.resolve, Qi.ScriptLoader.loadScript(o, function () {
          return n.start(a);
        }, function () {
          return n.reject(i);
        });
      });
      return jE[r] = e;
    },
    add: function add(e, t) {
      qE[e] !== undefined && (qE[e](t), delete qE[e]), jE[e] = Zt.resolve(t);
    }
  }),
      YE = Math.min,
      GE = Math.max,
      JE = Math.round,
      QE = function QE(e, t, n, r) {
    return {
      x: e,
      y: t,
      w: n,
      h: r
    };
  },
      ZE = {
    inflate: function inflate(e, t, n) {
      return QE(e.x - t, e.y - n, e.w + 2 * t, e.h + 2 * n);
    },
    relativePosition: FE,
    findBestRelativePosition: function findBestRelativePosition(e, t, n, r) {
      var o, i;

      for (i = 0; i < r.length; i++) {
        if ((o = FE(e, t, r[i])).x >= n.x && o.x + o.w <= n.w + n.x && o.y >= n.y && o.y + o.h <= n.h + n.y) return r[i];
      }

      return null;
    },
    intersect: function intersect(e, t) {
      var n, r, o, i;
      return n = GE(e.x, t.x), r = GE(e.y, t.y), o = YE(e.x + e.w, t.x + t.w), i = YE(e.y + e.h, t.y + t.h), o - n < 0 || i - r < 0 ? null : QE(n, r, o - n, i - r);
    },
    clamp: function clamp(e, t, n) {
      var r, o, i, a, u, s, c, l, f, d;
      return u = e.x, s = e.y, c = e.x + e.w, l = e.y + e.h, f = t.x + t.w, d = t.y + t.h, r = GE(0, t.x - u), o = GE(0, t.y - s), i = GE(0, c - f), a = GE(0, l - d), u += r, s += o, n && (c += r, l += o, u -= i, s -= a), QE(u, s, (c -= i) - u, (l -= a) - s);
    },
    create: QE,
    fromClientRect: function fromClientRect(e) {
      return QE(e.left, e.top, e.width, e.height);
    }
  },
      eN = Mn.each,
      tN = Mn.extend;

  UE.extend = _$E = function $E(n) {
    function r() {
      var e, t, n;
      if (!WE && (this.init && this.init.apply(this, arguments), t = this.Mixins)) for (e = t.length; e--;) {
        (n = t[e]).init && n.init.apply(this, arguments);
      }
    }

    function t() {
      return this;
    }

    function e(n, r) {
      return function () {
        var e,
            t = this._super;
        return this._super = u[n], e = r.apply(this, arguments), this._super = t, e;
      };
    }

    var o,
        i,
        a,
        u = this.prototype;

    for (i in WE = !0, o = new this(), WE = !1, n.Mixins && (eN(n.Mixins, function (e) {
      for (var t in e) {
        "init" !== t && (n[t] = e[t]);
      }
    }), u.Mixins && (n.Mixins = u.Mixins.concat(n.Mixins))), n.Methods && eN(n.Methods.split(","), function (e) {
      n[e] = t;
    }), n.Properties && eN(n.Properties.split(","), function (e) {
      var t = "_" + e;

      n[e] = function (e) {
        return e !== undefined ? (this[t] = e, this) : this[t];
      };
    }), n.Statics && eN(n.Statics, function (e, t) {
      r[t] = e;
    }), n.Defaults && u.Defaults && (n.Defaults = tN({}, u.Defaults, n.Defaults)), n) {
      "function" == typeof (a = n[i]) && u[i] ? o[i] = e(i, a) : o[i] = a;
    }

    return r.prototype = o, (r.constructor = r).extend = _$E, r;
  };

  var nN = Math.min,
      rN = Math.max,
      oN = Math.round,
      iN = {
    serialize: function serialize(e) {
      var t = JSON.stringify(e);
      return K(t) ? t.replace(/[\u0080-\uFFFF]/g, function (e) {
        var t = e.charCodeAt(0).toString(16);
        return "\\u" + "0000".substring(t.length) + t;
      }) : t;
    },
    parse: function parse(e) {
      try {
        return JSON.parse(e);
      } catch (t) {}
    }
  },
      aN = {
    callbacks: {},
    count: 0,
    send: function send(t) {
      var n = this,
          r = Xi.DOM,
          o = t.count !== undefined ? t.count : n.count,
          i = "tinymce_jsonp_" + o;
      n.callbacks[o] = function (e) {
        r.remove(i), delete n.callbacks[o], t.callback(e);
      }, r.add(r.doc.body, "script", {
        id: i,
        src: t.url,
        type: "text/javascript"
      }), n.count++;
    }
  },
      uN = _G(_G({}, nE), {
    send: function send(e) {
      var t,
          n = 0,
          r = function r() {
        !e.async || 4 === t.readyState || 1e4 < n++ ? (e.success && n < 1e4 && 200 === t.status ? e.success.call(e.success_scope, "" + t.responseText, t, e) : e.error && e.error.call(e.error_scope, 1e4 < n ? "TIMED_OUT" : "GENERAL", t, e), t = null) : pn.setTimeout(r, 10);
      };

      if (e.scope = e.scope || this, e.success_scope = e.success_scope || e.scope, e.error_scope = e.error_scope || e.scope, e.async = !1 !== e.async, e.data = e.data || "", uN.fire("beforeInitialize", {
        settings: e
      }), t = new j.XMLHttpRequest()) {
        if (t.overrideMimeType && t.overrideMimeType(e.content_type), t.open(e.type || (e.data ? "POST" : "GET"), e.url, e.async), e.crossDomain && (t.withCredentials = !0), e.content_type && t.setRequestHeader("Content-Type", e.content_type), e.requestheaders && Mn.each(e.requestheaders, function (e) {
          t.setRequestHeader(e.key, e.value);
        }), t.setRequestHeader("X-Requested-With", "XMLHttpRequest"), (t = uN.fire("beforeSend", {
          xhr: t,
          settings: e
        }).xhr).send(e.data), !e.async) return r();
        pn.setTimeout(r, 10);
      }
    }
  }),
      sN = Mn.extend,
      cN = (lN.sendRPC = function (e) {
    return new lN().send(e);
  }, lN.prototype.send = function (e) {
    var n = e.error,
        r = e.success,
        o = sN(this.settings, e);
    o.success = function (e, t) {
      void 0 === (e = iN.parse(e)) && (e = {
        error: "JSON Parse error."
      }), e.error ? n.call(o.error_scope || o.scope, e.error, t) : r.call(o.success_scope || o.scope, e.result);
    }, o.error = function (e, t) {
      n && n.call(o.error_scope || o.scope, e, t);
    }, o.data = iN.serialize({
      id: e.id || "c" + this.count++,
      method: e.method,
      params: e.params
    }), o.content_type = "application/json", uN.send(o);
  }, lN);

  function lN(e) {
    this.settings = sN({}, e), this.count = 0;
  }

  var fN, dN, hN, mN;

  try {
    fN = j.window.localStorage;
  } catch (yN) {
    dN = {}, hN = [], mN = {
      getItem: function getItem(e) {
        var t = dN[e];
        return t || null;
      },
      setItem: function setItem(e, t) {
        hN.push(e), dN[e] = String(t);
      },
      key: function key(e) {
        return hN[e];
      },
      removeItem: function removeItem(t) {
        hN = hN.filter(function (e) {
          return e === t;
        }), delete dN[t];
      },
      clear: function clear() {
        hN = [], dN = {};
      },
      length: 0
    }, Object.defineProperty(mN, "length", {
      get: function get() {
        return hN.length;
      },
      configurable: !1,
      enumerable: !1
    }), fN = mN;
  }

  var gN,
      pN = {
    geom: {
      Rect: ZE
    },
    util: {
      Promise: Zt,
      Delay: pn,
      Tools: Mn,
      VK: Ah,
      URI: gE,
      Class: UE,
      EventDispatcher: Yz,
      Observable: nE,
      I18n: ra,
      XHR: uN,
      JSON: iN,
      JSONRequest: cN,
      JSONP: aN,
      LocalStorage: fN,
      Color: function Color(e) {
        function t(e) {
          var t;
          return "object" == _typeof(e) ? "r" in e ? (u = e.r, s = e.g, c = e.b) : "v" in e && function (e, t, n) {
            var r, o, i, a;

            if (e = (parseInt(e, 10) || 0) % 360, t = parseInt(t, 10) / 100, n = parseInt(n, 10) / 100, t = rN(0, nN(t, 1)), n = rN(0, nN(n, 1)), 0 !== t) {
              switch (r = e / 60, i = (o = n * t) * (1 - Math.abs(r % 2 - 1)), a = n - o, Math.floor(r)) {
                case 0:
                  u = o, s = i, c = 0;
                  break;

                case 1:
                  u = i, s = o, c = 0;
                  break;

                case 2:
                  u = 0, s = o, c = i;
                  break;

                case 3:
                  u = 0, s = i, c = o;
                  break;

                case 4:
                  u = i, s = 0, c = o;
                  break;

                case 5:
                  u = o, s = 0, c = i;
                  break;

                default:
                  u = s = c = 0;
              }

              u = oN(255 * (u + a)), s = oN(255 * (s + a)), c = oN(255 * (c + a));
            } else u = s = c = oN(255 * n);
          }(e.h, e.s, e.v) : (t = /rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e)) ? (u = parseInt(t[1], 10), s = parseInt(t[2], 10), c = parseInt(t[3], 10)) : (t = /#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e)) ? (u = parseInt(t[1], 16), s = parseInt(t[2], 16), c = parseInt(t[3], 16)) : (t = /#([0-F])([0-F])([0-F])/gi.exec(e)) && (u = parseInt(t[1] + t[1], 16), s = parseInt(t[2] + t[2], 16), c = parseInt(t[3] + t[3], 16)), u = u < 0 ? 0 : 255 < u ? 255 : u, s = s < 0 ? 0 : 255 < s ? 255 : s, c = c < 0 ? 0 : 255 < c ? 255 : c, n;
        }

        var n = {},
            u = 0,
            s = 0,
            c = 0;
        return e && t(e), n.toRgb = function () {
          return {
            r: u,
            g: s,
            b: c
          };
        }, n.toHsv = function () {
          return function (e, t, n) {
            var r, o, i, a;
            return o = 0, (i = nN(e /= 255, nN(t /= 255, n /= 255))) === (a = rN(e, rN(t, n))) ? {
              h: 0,
              s: 0,
              v: 100 * (o = i)
            } : (r = (a - i) / a, {
              h: oN(60 * ((e === i ? 3 : n === i ? 1 : 5) - (e === i ? t - n : n === i ? e - t : n - e) / ((o = a) - i))),
              s: oN(100 * r),
              v: oN(100 * o)
            });
          }(u, s, c);
        }, n.toHex = function () {
          function e(e) {
            return 1 < (e = parseInt(e, 10).toString(16)).length ? e : "0" + e;
          }

          return "#" + e(u) + e(s) + e(c);
        }, n.parse = t, n;
      }
    },
    dom: {
      EventUtils: kr,
      Sizzle: Ao,
      DomQuery: vi,
      TreeWalker: yi,
      DOMUtils: Xi,
      ScriptLoader: Qi,
      RangeUtils: KE,
      Serializer: Ap,
      ControlSelection: Wp,
      BookmarkManager: Kp,
      Selection: ly,
      Event: kr.Event
    },
    html: {
      Styles: xr,
      Entities: ir,
      Node: ul,
      Schema: pr,
      SaxParser: of,
      DomParser: Np,
      Writer: gl,
      Serializer: pl
    },
    Env: Nn,
    AddOnManager: ga,
    Annotator: nl,
    Formatter: Cp,
    UndoManager: mm,
    EditorCommands: Wz,
    WindowManager: Bd,
    NotificationManager: _d,
    EditorObservable: oE,
    Shortcuts: cE,
    Editor: zE,
    FocusManager: Zf,
    EditorManager: VE,
    DOM: Xi.DOM,
    ScriptLoader: Qi.ScriptLoader,
    PluginManager: ga.PluginManager,
    ThemeManager: ga.ThemeManager,
    IconManager: Ud,
    Resource: XE,
    trim: Mn.trim,
    isArray: Mn.isArray,
    is: Mn.is,
    toArray: Mn.toArray,
    makeMap: Mn.makeMap,
    each: Mn.each,
    map: Mn.map,
    grep: Mn.grep,
    inArray: Mn.inArray,
    extend: Mn.extend,
    create: Mn.create,
    walk: Mn.walk,
    createNS: Mn.createNS,
    resolve: Mn.resolve,
    explode: Mn.explode,
    _addCacheSuffix: Mn._addCacheSuffix,
    isOpera: Nn.opera,
    isWebKit: Nn.webkit,
    isIE: Nn.ie,
    isGecko: Nn.gecko,
    isMac: Nn.mac
  },
      vN = Mn.extend(VE, pN);
  gN = vN, window.tinymce = gN, window.tinyMCE = gN, function (e) {
    if ("object" == ( false ? undefined : _typeof(module))) try {
      module.exports = e;
    } catch (t) {}
  }(vN);
}(window);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../node_modules/webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js"), __webpack_require__(/*! ./../../../../node_modules/webpack/buildin/module.js */ "./node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ 0:
/*!***********************************!*\
  !*** multi ./resources/js/app.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! /Users/matsuotenmei/program/Laravel/lara-blog/resources/js/app.js */"./resources/js/app.js");


/***/ })

/******/ });